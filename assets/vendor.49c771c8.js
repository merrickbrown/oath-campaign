var ya=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function nh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vl(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pe={exports:{}},An={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var rh=Object.getOwnPropertySymbols,t2=Object.prototype.hasOwnProperty,e2=Object.prototype.propertyIsEnumerable;function n2(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r2(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;var s=Object.getOwnPropertyNames(r).map(function(n){return r[n]});if(s.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(n){c[n]=n}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch(n){return!1}}var ah=r2()?Object.assign:function(e,r){for(var t,s=n2(e),c,n=1;n<arguments.length;n++){t=Object(arguments[n]);for(var a in t)t2.call(t,a)&&(s[a]=t[a]);if(rh){c=rh(t);for(var o=0;o<c.length;o++)e2.call(t,c[o])&&(s[c[o]]=t[c[o]])}}return s};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=ah,gi=60103,ih=60106;An.Fragment=60107,An.StrictMode=60108,An.Profiler=60114;var oh=60109,lh=60110,sh=60112;An.Suspense=60113;var uh=60115,ch=60116;if(typeof Symbol=="function"&&Symbol.for){var jr=Symbol.for;gi=jr("react.element"),ih=jr("react.portal"),An.Fragment=jr("react.fragment"),An.StrictMode=jr("react.strict_mode"),An.Profiler=jr("react.profiler"),oh=jr("react.provider"),lh=jr("react.context"),sh=jr("react.forward_ref"),An.Suspense=jr("react.suspense"),uh=jr("react.memo"),ch=jr("react.lazy")}var fh=typeof Symbol=="function"&&Symbol.iterator;function a2(e){return e===null||typeof e!="object"?null:(e=fh&&e[fh]||e["@@iterator"],typeof e=="function"?e:null)}function xo(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)r+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ph={};function yi(e,r,t){this.props=e,this.context=r,this.refs=ph,this.updater=t||dh}yi.prototype.isReactComponent={},yi.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(xo(85));this.updater.enqueueSetState(this,e,r,"setState")},yi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hh(){}hh.prototype=yi.prototype;function rc(e,r,t){this.props=e,this.context=r,this.refs=ph,this.updater=t||dh}var ac=rc.prototype=new hh;ac.constructor=rc,nc(ac,yi.prototype),ac.isPureReactComponent=!0;var ic={current:null},vh=Object.prototype.hasOwnProperty,mh={key:!0,ref:!0,__self:!0,__source:!0};function gh(e,r,t){var s,c={},n=null,a=null;if(r!=null)for(s in r.ref!==void 0&&(a=r.ref),r.key!==void 0&&(n=""+r.key),r)vh.call(r,s)&&!mh.hasOwnProperty(s)&&(c[s]=r[s]);var o=arguments.length-2;if(o===1)c.children=t;else if(1<o){for(var i=Array(o),l=0;l<o;l++)i[l]=arguments[l+2];c.children=i}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)c[s]===void 0&&(c[s]=o[s]);return{$$typeof:gi,type:e,key:n,ref:a,props:c,_owner:ic.current}}function i2(e,r){return{$$typeof:gi,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function oc(e){return typeof e=="object"&&e!==null&&e.$$typeof===gi}function o2(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return r[t]})}var yh=/\/+/g;function lc(e,r){return typeof e=="object"&&e!==null&&e.key!=null?o2(""+e.key):r.toString(36)}function Yl(e,r,t,s,c){var n=typeof e;(n==="undefined"||n==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(n){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case gi:case ih:a=!0}}if(a)return a=e,c=c(a),e=s===""?"."+lc(a,0):s,Array.isArray(c)?(t="",e!=null&&(t=e.replace(yh,"$&/")+"/"),Yl(c,r,t,"",function(l){return l})):c!=null&&(oc(c)&&(c=i2(c,t+(!c.key||a&&a.key===c.key?"":(""+c.key).replace(yh,"$&/")+"/")+e)),r.push(c)),1;if(a=0,s=s===""?".":s+":",Array.isArray(e))for(var o=0;o<e.length;o++){n=e[o];var i=s+lc(n,o);a+=Yl(n,r,t,i,c)}else if(i=a2(e),typeof i=="function")for(e=i.call(e),o=0;!(n=e.next()).done;)n=n.value,i=s+lc(n,o++),a+=Yl(n,r,t,i,c);else if(n==="object")throw r=""+e,Error(xo(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r));return a}function $l(e,r,t){if(e==null)return e;var s=[],c=0;return Yl(e,s,"","",function(n){return r.call(t,n,c++)}),s}function l2(e){if(e._status===-1){var r=e._result;r=r(),e._status=0,e._result=r,r.then(function(t){e._status===0&&(t=t.default,e._status=1,e._result=t)},function(t){e._status===0&&(e._status=2,e._result=t)})}if(e._status===1)return e._result;throw e._result}var xh={current:null};function oa(){var e=xh.current;if(e===null)throw Error(xo(321));return e}var s2={ReactCurrentDispatcher:xh,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:ic,IsSomeRendererActing:{current:!1},assign:nc};An.Children={map:$l,forEach:function(e,r,t){$l(e,function(){r.apply(this,arguments)},t)},count:function(e){var r=0;return $l(e,function(){r++}),r},toArray:function(e){return $l(e,function(r){return r})||[]},only:function(e){if(!oc(e))throw Error(xo(143));return e}},An.Component=yi,An.PureComponent=rc,An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s2,An.cloneElement=function(e,r,t){if(e==null)throw Error(xo(267,e));var s=nc({},e.props),c=e.key,n=e.ref,a=e._owner;if(r!=null){if(r.ref!==void 0&&(n=r.ref,a=ic.current),r.key!==void 0&&(c=""+r.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(i in r)vh.call(r,i)&&!mh.hasOwnProperty(i)&&(s[i]=r[i]===void 0&&o!==void 0?o[i]:r[i])}var i=arguments.length-2;if(i===1)s.children=t;else if(1<i){o=Array(i);for(var l=0;l<i;l++)o[l]=arguments[l+2];s.children=o}return{$$typeof:gi,type:e.type,key:c,ref:n,props:s,_owner:a}},An.createContext=function(e,r){return r===void 0&&(r=null),e={$$typeof:lh,_calculateChangedBits:r,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:oh,_context:e},e.Consumer=e},An.createElement=gh,An.createFactory=function(e){var r=gh.bind(null,e);return r.type=e,r},An.createRef=function(){return{current:null}},An.forwardRef=function(e){return{$$typeof:sh,render:e}},An.isValidElement=oc,An.lazy=function(e){return{$$typeof:ch,_payload:{_status:-1,_result:e},_init:l2}},An.memo=function(e,r){return{$$typeof:uh,type:e,compare:r===void 0?null:r}},An.useCallback=function(e,r){return oa().useCallback(e,r)},An.useContext=function(e,r){return oa().useContext(e,r)},An.useDebugValue=function(){},An.useEffect=function(e,r){return oa().useEffect(e,r)},An.useImperativeHandle=function(e,r,t){return oa().useImperativeHandle(e,r,t)},An.useLayoutEffect=function(e,r){return oa().useLayoutEffect(e,r)},An.useMemo=function(e,r){return oa().useMemo(e,r)},An.useReducer=function(e,r,t){return oa().useReducer(e,r,t)},An.useRef=function(e){return oa().useRef(e)},An.useState=function(e){return oa().useState(e)},An.version="17.0.2",Pe.exports=An;var yn=Pe.exports,sc={exports:{}},Cr={},bh={exports:{}},_h={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var r,t,s,c;if(typeof performance=="object"&&typeof performance.now=="function"){var n=performance;e.unstable_now=function(){return n.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var i=null,l=null,p=function(){if(i!==null)try{var et=e.unstable_now();i(!0,et),i=null}catch(G){throw setTimeout(p,0),G}};r=function(et){i!==null?setTimeout(r,0,et):(i=et,setTimeout(p,0))},t=function(et,G){l=setTimeout(et,G)},s=function(){clearTimeout(l)},e.unstable_shouldYield=function(){return!1},c=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if(typeof console!="undefined"){var u=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof u!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var h=!1,m=null,v=-1,y=5,k=0;e.unstable_shouldYield=function(){return e.unstable_now()>=k},c=function(){},e.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<et?Math.floor(1e3/et):5};var _=new MessageChannel,T=_.port2;_.port1.onmessage=function(){if(m!==null){var et=e.unstable_now();k=et+y;try{m(!0,et)?T.postMessage(null):(h=!1,m=null)}catch(G){throw T.postMessage(null),G}}else h=!1},r=function(et){m=et,h||(h=!0,T.postMessage(null))},t=function(et,G){v=d(function(){et(e.unstable_now())},G)},s=function(){f(v),v=-1}}function b(et,G){var Y=et.length;et.push(G);t:for(;;){var D=Y-1>>>1,U=et[D];if(U!==void 0&&0<A(U,G))et[D]=G,et[Y]=U,Y=D;else break t}}function x(et){return et=et[0],et===void 0?null:et}function O(et){var G=et[0];if(G!==void 0){var Y=et.pop();if(Y!==G){et[0]=Y;t:for(var D=0,U=et.length;D<U;){var $=2*(D+1)-1,Q=et[$],F=$+1,z=et[F];if(Q!==void 0&&0>A(Q,Y))z!==void 0&&0>A(z,Q)?(et[D]=z,et[F]=Y,D=F):(et[D]=Q,et[$]=Y,D=$);else if(z!==void 0&&0>A(z,Y))et[D]=z,et[F]=Y,D=F;else break t}}return G}return null}function A(et,G){var Y=et.sortIndex-G.sortIndex;return Y!==0?Y:et.id-G.id}var C=[],L=[],w=1,E=null,I=3,M=!1,V=!1,j=!1;function W(et){for(var G=x(L);G!==null;){if(G.callback===null)O(L);else if(G.startTime<=et)O(L),G.sortIndex=G.expirationTime,b(C,G);else break;G=x(L)}}function H(et){if(j=!1,W(et),!V)if(x(C)!==null)V=!0,r(B);else{var G=x(L);G!==null&&t(H,G.startTime-et)}}function B(et,G){V=!1,j&&(j=!1,s()),M=!0;var Y=I;try{for(W(G),E=x(C);E!==null&&(!(E.expirationTime>G)||et&&!e.unstable_shouldYield());){var D=E.callback;if(typeof D=="function"){E.callback=null,I=E.priorityLevel;var U=D(E.expirationTime<=G);G=e.unstable_now(),typeof U=="function"?E.callback=U:E===x(C)&&O(C),W(G)}else O(C);E=x(C)}if(E!==null)var $=!0;else{var Q=x(L);Q!==null&&t(H,Q.startTime-G),$=!1}return $}finally{E=null,I=Y,M=!1}}var K=c;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(et){et.callback=null},e.unstable_continueExecution=function(){V||M||(V=!0,r(B))},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return x(C)},e.unstable_next=function(et){switch(I){case 1:case 2:case 3:var G=3;break;default:G=I}var Y=I;I=G;try{return et()}finally{I=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=K,e.unstable_runWithPriority=function(et,G){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var Y=I;I=et;try{return G()}finally{I=Y}},e.unstable_scheduleCallback=function(et,G,Y){var D=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?D+Y:D):Y=D,et){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Y+U,et={id:w++,callback:G,priorityLevel:et,startTime:Y,expirationTime:U,sortIndex:-1},Y>D?(et.sortIndex=Y,b(L,et),x(C)===null&&et===x(L)&&(j?s():j=!0,t(H,Y-D))):(et.sortIndex=U,b(C,et),V||M||(V=!0,r(B))),et},e.unstable_wrapCallback=function(et){var G=I;return function(){var Y=I;I=G;try{return et.apply(this,arguments)}finally{I=Y}}}})(_h),bh.exports=_h;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=Pe.exports,In=ah,Zn=bh.exports;function Ye(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)r+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Gl)throw Error(Ye(227));var wh=new Set,bo={};function Wa(e,r){xi(e,r),xi(e+"Capture",r)}function xi(e,r){for(bo[e]=r,e=0;e<r.length;e++)wh.add(r[e])}var la=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),u2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Th=Object.prototype.hasOwnProperty,kh={},Mh={};function c2(e){return Th.call(Mh,e)?!0:Th.call(kh,e)?!1:u2.test(e)?Mh[e]=!0:(kh[e]=!0,!1)}function f2(e,r,t,s){if(t!==null&&t.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function d2(e,r,t,s){if(r===null||typeof r=="undefined"||f2(e,r,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function vr(e,r,t,s,c,n,a){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=s,this.attributeNamespace=c,this.mustUseProperty=t,this.propertyName=e,this.type=r,this.sanitizeURL=n,this.removeEmptyString=a}var ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ar[e]=new vr(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];ar[r]=new vr(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ar[e]=new vr(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ar[e]=new vr(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ar[e]=new vr(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ar[e]=new vr(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){ar[e]=new vr(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){ar[e]=new vr(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){ar[e]=new vr(e,5,!1,e.toLowerCase(),null,!1,!1)});var uc=/[\-:]([a-z])/g;function cc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(uc,cc);ar[r]=new vr(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(uc,cc);ar[r]=new vr(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(uc,cc);ar[r]=new vr(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){ar[e]=new vr(e,1,!1,e.toLowerCase(),null,!1,!1)}),ar.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){ar[e]=new vr(e,1,!1,e.toLowerCase(),null,!0,!0)});function fc(e,r,t,s){var c=ar.hasOwnProperty(r)?ar[r]:null,n=c!==null?c.type===0:s?!1:!(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N");n||(d2(r,t,c,s)&&(t=null),s||c===null?c2(r)&&(t===null?e.removeAttribute(r):e.setAttribute(r,""+t)):c.mustUseProperty?e[c.propertyName]=t===null?c.type===3?!1:"":t:(r=c.attributeName,s=c.attributeNamespace,t===null?e.removeAttribute(r):(c=c.type,t=c===3||c===4&&t===!0?"":""+t,s?e.setAttributeNS(s,r,t):e.setAttribute(r,t))))}var qa=Gl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_o=60103,Za=60106,xa=60107,dc=60108,wo=60114,pc=60109,hc=60110,Wl=60112,To=60113,ql=60120,Zl=60115,vc=60116,mc=60121,gc=60128,Ah=60129,yc=60130,xc=60131;if(typeof Symbol=="function"&&Symbol.for){var Xn=Symbol.for;_o=Xn("react.element"),Za=Xn("react.portal"),xa=Xn("react.fragment"),dc=Xn("react.strict_mode"),wo=Xn("react.profiler"),pc=Xn("react.provider"),hc=Xn("react.context"),Wl=Xn("react.forward_ref"),To=Xn("react.suspense"),ql=Xn("react.suspense_list"),Zl=Xn("react.memo"),vc=Xn("react.lazy"),mc=Xn("react.block"),Xn("react.scope"),gc=Xn("react.opaque.id"),Ah=Xn("react.debug_trace_mode"),yc=Xn("react.offscreen"),xc=Xn("react.legacy_hidden")}var Sh=typeof Symbol=="function"&&Symbol.iterator;function ko(e){return e===null||typeof e!="object"?null:(e=Sh&&e[Sh]||e["@@iterator"],typeof e=="function"?e:null)}var bc;function Mo(e){if(bc===void 0)try{throw Error()}catch(t){var r=t.stack.trim().match(/\n( *(at )?)/);bc=r&&r[1]||""}return`
`+bc+e}var _c=!1;function Xl(e,r){if(!e||_c)return"";_c=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(i){var s=i}Reflect.construct(e,[],r)}else{try{r.call()}catch(i){s=i}e.call(r.prototype)}else{try{throw Error()}catch(i){s=i}e()}}catch(i){if(i&&s&&typeof i.stack=="string"){for(var c=i.stack.split(`
`),n=s.stack.split(`
`),a=c.length-1,o=n.length-1;1<=a&&0<=o&&c[a]!==n[o];)o--;for(;1<=a&&0<=o;a--,o--)if(c[a]!==n[o]){if(a!==1||o!==1)do if(a--,o--,0>o||c[a]!==n[o])return`
`+c[a].replace(" at new "," at ");while(1<=a&&0<=o);break}}}finally{_c=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?Mo(e):""}function p2(e){switch(e.tag){case 5:return Mo(e.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return e=Xl(e.type,!1),e;case 11:return e=Xl(e.type.render,!1),e;case 22:return e=Xl(e.type._render,!1),e;case 1:return e=Xl(e.type,!0),e;default:return""}}function bi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xa:return"Fragment";case Za:return"Portal";case wo:return"Profiler";case dc:return"StrictMode";case To:return"Suspense";case ql:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hc:return(e.displayName||"Context")+".Consumer";case pc:return(e._context.displayName||"Context")+".Provider";case Wl:var r=e.render;return r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case Zl:return bi(e.type);case mc:return bi(e._render);case vc:r=e._payload,e=e._init;try{return bi(e(r))}catch(t){}}return null}function ba(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ch(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function h2(e){var r=Ch(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),s=""+e[r];if(!e.hasOwnProperty(r)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var c=t.get,n=t.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return c.call(this)},set:function(a){s=""+a,n.call(this,a)}}),Object.defineProperty(e,r,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Jl(e){e._valueTracker||(e._valueTracker=h2(e))}function Oh(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var t=r.getValue(),s="";return e&&(s=Ch(e)?e.checked?"true":"false":e.value),e=s,e!==t?(r.setValue(e),!0):!1}function Kl(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(r){return e.body}}function wc(e,r){var t=r.checked;return In({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:e._wrapperState.initialChecked})}function Lh(e,r){var t=r.defaultValue==null?"":r.defaultValue,s=r.checked!=null?r.checked:r.defaultChecked;t=ba(r.value!=null?r.value:t),e._wrapperState={initialChecked:s,initialValue:t,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Eh(e,r){r=r.checked,r!=null&&fc(e,"checked",r,!1)}function Tc(e,r){Eh(e,r);var t=ba(r.value),s=r.type;if(t!=null)s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?kc(e,r.type,t):r.hasOwnProperty("defaultValue")&&kc(e,r.type,ba(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Dh(e,r,t){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var s=r.type;if(!(s!=="submit"&&s!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,t||r===e.value||(e.value=r),e.defaultValue=r}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function kc(e,r,t){(r!=="number"||Kl(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}function v2(e){var r="";return Gl.Children.forEach(e,function(t){t!=null&&(r+=t)}),r}function Mc(e,r){return e=In({children:void 0},r),(r=v2(r.children))&&(e.children=r),e}function _i(e,r,t,s){if(e=e.options,r){r={};for(var c=0;c<t.length;c++)r["$"+t[c]]=!0;for(t=0;t<e.length;t++)c=r.hasOwnProperty("$"+e[t].value),e[t].selected!==c&&(e[t].selected=c),c&&s&&(e[t].defaultSelected=!0)}else{for(t=""+ba(t),r=null,c=0;c<e.length;c++){if(e[c].value===t){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}r!==null||e[c].disabled||(r=e[c])}r!==null&&(r.selected=!0)}}function Ac(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return In({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ph(e,r){var t=r.value;if(t==null){if(t=r.children,r=r.defaultValue,t!=null){if(r!=null)throw Error(Ye(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(Ye(93));t=t[0]}r=t}r==null&&(r=""),t=r}e._wrapperState={initialValue:ba(t)}}function Nh(e,r){var t=ba(r.value),s=ba(r.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),r.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),s!=null&&(e.defaultValue=""+s)}function Rh(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}var Sc={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ih(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cc(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?Ih(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ql,Fh=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(r,t,s,c){MSApp.execUnsafeLocalFunction(function(){return e(r,t,s,c)})}:e}(function(e,r){if(e.namespaceURI!==Sc.svg||"innerHTML"in e)e.innerHTML=r;else{for(Ql=Ql||document.createElement("div"),Ql.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Ql.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Ao(e,r){if(r){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=r;return}}e.textContent=r}var So={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m2=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(e){m2.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),So[r]=So[e]})});function zh(e,r,t){return r==null||typeof r=="boolean"||r===""?"":t||typeof r!="number"||r===0||So.hasOwnProperty(e)&&So[e]?(""+r).trim():r+"px"}function jh(e,r){e=e.style;for(var t in r)if(r.hasOwnProperty(t)){var s=t.indexOf("--")===0,c=zh(t,r[t],s);t==="float"&&(t="cssFloat"),s?e.setProperty(t,c):e[t]=c}}var g2=In({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oc(e,r){if(r){if(g2[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(Ye(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(Ye(60));if(!(typeof r.dangerouslySetInnerHTML=="object"&&"__html"in r.dangerouslySetInnerHTML))throw Error(Ye(61))}if(r.style!=null&&typeof r.style!="object")throw Error(Ye(62))}}function Lc(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ec(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dc=null,wi=null,Ti=null;function Hh(e){if(e=Go(e)){if(typeof Dc!="function")throw Error(Ye(280));var r=e.stateNode;r&&(r=gs(r),Dc(e.stateNode,e.type,r))}}function Bh(e){wi?Ti?Ti.push(e):Ti=[e]:wi=e}function Uh(){if(wi){var e=wi,r=Ti;if(Ti=wi=null,Hh(e),r)for(e=0;e<r.length;e++)Hh(r[e])}}function Pc(e,r){return e(r)}function Vh(e,r,t,s,c){return e(r,t,s,c)}function Nc(){}var Yh=Pc,Xa=!1,Rc=!1;function Ic(){(wi!==null||Ti!==null)&&(Nc(),Uh())}function y2(e,r,t){if(Rc)return e(r,t);Rc=!0;try{return Yh(e,r,t)}finally{Rc=!1,Ic()}}function Co(e,r){var t=e.stateNode;if(t===null)return null;var s=gs(t);if(s===null)return null;t=s[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break t;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(Ye(231,r,typeof t));return t}var Fc=!1;if(la)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch(e){Fc=!1}function x2(e,r,t,s,c,n,a,o,i){var l=Array.prototype.slice.call(arguments,3);try{r.apply(t,l)}catch(p){this.onError(p)}}var Lo=!1,ts=null,es=!1,zc=null,b2={onError:function(e){Lo=!0,ts=e}};function _2(e,r,t,s,c,n,a,o,i){Lo=!1,ts=null,x2.apply(b2,arguments)}function w2(e,r,t,s,c,n,a,o,i){if(_2.apply(this,arguments),Lo){if(Lo){var l=ts;Lo=!1,ts=null}else throw Error(Ye(198));es||(es=!0,zc=l)}}function Ja(e){var r=e,t=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&1026)!=0&&(t=r.return),e=r.return;while(e)}return r.tag===3?t:null}function $h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function Gh(e){if(Ja(e)!==e)throw Error(Ye(188))}function T2(e){var r=e.alternate;if(!r){if(r=Ja(e),r===null)throw Error(Ye(188));return r!==e?null:e}for(var t=e,s=r;;){var c=t.return;if(c===null)break;var n=c.alternate;if(n===null){if(s=c.return,s!==null){t=s;continue}break}if(c.child===n.child){for(n=c.child;n;){if(n===t)return Gh(c),e;if(n===s)return Gh(c),r;n=n.sibling}throw Error(Ye(188))}if(t.return!==s.return)t=c,s=n;else{for(var a=!1,o=c.child;o;){if(o===t){a=!0,t=c,s=n;break}if(o===s){a=!0,s=c,t=n;break}o=o.sibling}if(!a){for(o=n.child;o;){if(o===t){a=!0,t=n,s=c;break}if(o===s){a=!0,s=n,t=c;break}o=o.sibling}if(!a)throw Error(Ye(189))}}if(t.alternate!==s)throw Error(Ye(190))}if(t.tag!==3)throw Error(Ye(188));return t.stateNode.current===t?e:r}function Wh(e){if(e=T2(e),!e)return null;for(var r=e;;){if(r.tag===5||r.tag===6)return r;if(r.child)r.child.return=r,r=r.child;else{if(r===e)break;for(;!r.sibling;){if(!r.return||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}}return null}function qh(e,r){for(var t=e.alternate;r!==null;){if(r===e||r===t)return!0;r=r.return}return!1}var Zh,jc,Xh,Jh,Hc=!1,Gr=[],_a=null,wa=null,Ta=null,Eo=new Map,Do=new Map,Po=[],Kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bc(e,r,t,s,c){return{blockedOn:e,domEventName:r,eventSystemFlags:t|16,nativeEvent:c,targetContainers:[s]}}function Qh(e,r){switch(e){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":Eo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(r.pointerId)}}function No(e,r,t,s,c,n){return e===null||e.nativeEvent!==n?(e=Bc(r,t,s,c,n),r!==null&&(r=Go(r),r!==null&&jc(r)),e):(e.eventSystemFlags|=s,r=e.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),e)}function k2(e,r,t,s,c){switch(r){case"focusin":return _a=No(_a,e,r,t,s,c),!0;case"dragenter":return wa=No(wa,e,r,t,s,c),!0;case"mouseover":return Ta=No(Ta,e,r,t,s,c),!0;case"pointerover":var n=c.pointerId;return Eo.set(n,No(Eo.get(n)||null,e,r,t,s,c)),!0;case"gotpointercapture":return n=c.pointerId,Do.set(n,No(Do.get(n)||null,e,r,t,s,c)),!0}return!1}function M2(e){var r=Ka(e.target);if(r!==null){var t=Ja(r);if(t!==null){if(r=t.tag,r===13){if(r=$h(t),r!==null){e.blockedOn=r,Jh(e.lanePriority,function(){Zn.unstable_runWithPriority(e.priority,function(){Xh(t)})});return}}else if(r===3&&t.stateNode.hydrate){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ns(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var t=Wc(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(t!==null)return r=Go(t),r!==null&&jc(r),e.blockedOn=t,!1;r.shift()}return!0}function t0(e,r,t){ns(e)&&t.delete(r)}function A2(){for(Hc=!1;0<Gr.length;){var e=Gr[0];if(e.blockedOn!==null){e=Go(e.blockedOn),e!==null&&Zh(e);break}for(var r=e.targetContainers;0<r.length;){var t=Wc(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(t!==null){e.blockedOn=t;break}r.shift()}e.blockedOn===null&&Gr.shift()}_a!==null&&ns(_a)&&(_a=null),wa!==null&&ns(wa)&&(wa=null),Ta!==null&&ns(Ta)&&(Ta=null),Eo.forEach(t0),Do.forEach(t0)}function Ro(e,r){e.blockedOn===r&&(e.blockedOn=null,Hc||(Hc=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,A2)))}function e0(e){function r(c){return Ro(c,e)}if(0<Gr.length){Ro(Gr[0],e);for(var t=1;t<Gr.length;t++){var s=Gr[t];s.blockedOn===e&&(s.blockedOn=null)}}for(_a!==null&&Ro(_a,e),wa!==null&&Ro(wa,e),Ta!==null&&Ro(Ta,e),Eo.forEach(r),Do.forEach(r),t=0;t<Po.length;t++)s=Po[t],s.blockedOn===e&&(s.blockedOn=null);for(;0<Po.length&&(t=Po[0],t.blockedOn===null);)M2(t),t.blockedOn===null&&Po.shift()}function rs(e,r){var t={};return t[e.toLowerCase()]=r.toLowerCase(),t["Webkit"+e]="webkit"+r,t["Moz"+e]="moz"+r,t}var ki={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},Uc={},n0={};la&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);function as(e){if(Uc[e])return Uc[e];if(!ki[e])return e;var r=ki[e],t;for(t in r)if(r.hasOwnProperty(t)&&t in n0)return Uc[e]=r[t];return e}var r0=as("animationend"),a0=as("animationiteration"),i0=as("animationstart"),o0=as("transitionend"),l0=new Map,Vc=new Map,S2=["abort","abort",r0,"animationEnd",a0,"animationIteration",i0,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",o0,"transitionEnd","waiting","waiting"];function Yc(e,r){for(var t=0;t<e.length;t+=2){var s=e[t],c=e[t+1];c="on"+(c[0].toUpperCase()+c.slice(1)),Vc.set(s,r),l0.set(s,c),Wa(c,[s])}}var C2=Zn.unstable_now;C2();var Dn=8;function Mi(e){if((1&e)!=0)return Dn=15,1;if((2&e)!=0)return Dn=14,2;if((4&e)!=0)return Dn=13,4;var r=24&e;return r!==0?(Dn=12,r):(e&32)!=0?(Dn=11,32):(r=192&e,r!==0?(Dn=10,r):(e&256)!=0?(Dn=9,256):(r=3584&e,r!==0?(Dn=8,r):(e&4096)!=0?(Dn=7,4096):(r=4186112&e,r!==0?(Dn=6,r):(r=62914560&e,r!==0?(Dn=5,r):e&67108864?(Dn=4,67108864):(e&134217728)!=0?(Dn=3,134217728):(r=805306368&e,r!==0?(Dn=2,r):(1073741824&e)!=0?(Dn=1,1073741824):(Dn=8,e))))))}function O2(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function L2(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Ye(358,e))}}function Io(e,r){var t=e.pendingLanes;if(t===0)return Dn=0;var s=0,c=0,n=e.expiredLanes,a=e.suspendedLanes,o=e.pingedLanes;if(n!==0)s=n,c=Dn=15;else if(n=t&134217727,n!==0){var i=n&~a;i!==0?(s=Mi(i),c=Dn):(o&=n,o!==0&&(s=Mi(o),c=Dn))}else n=t&~a,n!==0?(s=Mi(n),c=Dn):o!==0&&(s=Mi(o),c=Dn);if(s===0)return 0;if(s=31-ka(s),s=t&((0>s?0:1<<s)<<1)-1,r!==0&&r!==s&&(r&a)==0){if(Mi(r),c<=Dn)return r;Dn=c}if(r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=s;0<r;)t=31-ka(r),c=1<<t,s|=e[t],r&=~c;return s}function s0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function is(e,r){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Ai(24&~r),e===0?is(10,r):e;case 10:return e=Ai(192&~r),e===0?is(8,r):e;case 8:return e=Ai(3584&~r),e===0&&(e=Ai(4186112&~r),e===0&&(e=512)),e;case 2:return r=Ai(805306368&~r),r===0&&(r=268435456),r}throw Error(Ye(358,e))}function Ai(e){return e&-e}function $c(e){for(var r=[],t=0;31>t;t++)r.push(e);return r}function os(e,r,t){e.pendingLanes|=r;var s=r-1;e.suspendedLanes&=s,e.pingedLanes&=s,e=e.eventTimes,r=31-ka(r),e[r]=t}var ka=Math.clz32?Math.clz32:P2,E2=Math.log,D2=Math.LN2;function P2(e){return e===0?32:31-(E2(e)/D2|0)|0}var N2=Zn.unstable_UserBlockingPriority,R2=Zn.unstable_runWithPriority,ls=!0;function I2(e,r,t,s){Xa||Nc();var c=Gc,n=Xa;Xa=!0;try{Vh(c,e,r,t,s)}finally{(Xa=n)||Ic()}}function F2(e,r,t,s){R2(N2,Gc.bind(null,e,r,t,s))}function Gc(e,r,t,s){if(ls){var c;if((c=(r&4)==0)&&0<Gr.length&&-1<Kh.indexOf(e))e=Bc(null,e,r,t,s),Gr.push(e);else{var n=Wc(e,r,t,s);if(n===null)c&&Qh(e,s);else{if(c){if(-1<Kh.indexOf(e)){e=Bc(n,e,r,t,s),Gr.push(e);return}if(k2(n,e,r,t,s))return;Qh(e,s)}z0(e,r,s,null,t)}}}}function Wc(e,r,t,s){var c=Ec(s);if(c=Ka(c),c!==null){var n=Ja(c);if(n===null)c=null;else{var a=n.tag;if(a===13){if(c=$h(n),c!==null)return c;c=null}else if(a===3){if(n.stateNode.hydrate)return n.tag===3?n.stateNode.containerInfo:null;c=null}else n!==c&&(c=null)}}return z0(e,r,s,c,t),null}var Ma=null,qc=null,ss=null;function u0(){if(ss)return ss;var e,r=qc,t=r.length,s,c="value"in Ma?Ma.value:Ma.textContent,n=c.length;for(e=0;e<t&&r[e]===c[e];e++);var a=t-e;for(s=1;s<=a&&r[t-s]===c[n-s];s++);return ss=c.slice(e,1<s?1-s:void 0)}function us(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function cs(){return!0}function c0(){return!1}function Tr(e){function r(t,s,c,n,a){this._reactName=t,this._targetInst=c,this.type=s,this.nativeEvent=n,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(n):n[o]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?cs:c0,this.isPropagationStopped=c0,this}return In(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),r}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zc=Tr(Si),Fo=In({},Si,{view:0,detail:0}),z2=Tr(Fo),Xc,Jc,zo,fs=In({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zo&&(zo&&e.type==="mousemove"?(Xc=e.screenX-zo.screenX,Jc=e.screenY-zo.screenY):Jc=Xc=0,zo=e),Xc)},movementY:function(e){return"movementY"in e?e.movementY:Jc}}),f0=Tr(fs),j2=In({},fs,{dataTransfer:0}),H2=Tr(j2),B2=In({},Fo,{relatedTarget:0}),Kc=Tr(B2),U2=In({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),V2=Tr(U2),Y2=In({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$2=Tr(Y2),G2=In({},Si,{data:0}),d0=Tr(G2),W2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X2(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Z2[e])?!!r[e]:!1}function Qc(){return X2}var J2=In({},Fo,{key:function(e){if(e.key){var r=W2[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?q2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(e){return e.type==="keypress"?us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),K2=Tr(J2),Q2=In({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p0=Tr(Q2),tx=In({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),ex=Tr(tx),nx=In({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),rx=Tr(nx),ax=In({},fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ix=Tr(ax),ox=[9,13,27,32],tf=la&&"CompositionEvent"in window,jo=null;la&&"documentMode"in document&&(jo=document.documentMode);var lx=la&&"TextEvent"in window&&!jo,h0=la&&(!tf||jo&&8<jo&&11>=jo),v0=String.fromCharCode(32),m0=!1;function g0(e,r){switch(e){case"keyup":return ox.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ci=!1;function sx(e,r){switch(e){case"compositionend":return y0(r);case"keypress":return r.which!==32?null:(m0=!0,v0);case"textInput":return e=r.data,e===v0&&m0?null:e;default:return null}}function ux(e,r){if(Ci)return e==="compositionend"||!tf&&g0(e,r)?(e=u0(),ss=qc=Ma=null,Ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return h0&&r.locale!=="ko"?null:r.data;default:return null}}var cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x0(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!cx[e.type]:r==="textarea"}function b0(e,r,t,s){Bh(s),r=ps(r,"onChange"),0<r.length&&(t=new Zc("onChange","change",null,t,s),e.push({event:t,listeners:r}))}var Ho=null,Bo=null;function fx(e){P0(e,0)}function ds(e){var r=Pi(e);if(Oh(r))return e}function dx(e,r){if(e==="change")return r}var _0=!1;if(la){var ef;if(la){var nf="oninput"in document;if(!nf){var w0=document.createElement("div");w0.setAttribute("oninput","return;"),nf=typeof w0.oninput=="function"}ef=nf}else ef=!1;_0=ef&&(!document.documentMode||9<document.documentMode)}function T0(){Ho&&(Ho.detachEvent("onpropertychange",k0),Bo=Ho=null)}function k0(e){if(e.propertyName==="value"&&ds(Bo)){var r=[];if(b0(r,Bo,e,Ec(e)),e=fx,Xa)e(r);else{Xa=!0;try{Pc(e,r)}finally{Xa=!1,Ic()}}}}function px(e,r,t){e==="focusin"?(T0(),Ho=r,Bo=t,Ho.attachEvent("onpropertychange",k0)):e==="focusout"&&T0()}function hx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ds(Bo)}function vx(e,r){if(e==="click")return ds(r)}function mx(e,r){if(e==="input"||e==="change")return ds(r)}function gx(e,r){return e===r&&(e!==0||1/e==1/r)||e!==e&&r!==r}var Or=typeof Object.is=="function"?Object.is:gx,yx=Object.prototype.hasOwnProperty;function Uo(e,r){if(Or(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),s=Object.keys(r);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++)if(!yx.call(r,t[s])||!Or(e[t[s]],r[t[s]]))return!1;return!0}function M0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function A0(e,r){var t=M0(e);e=0;for(var s;t;){if(t.nodeType===3){if(s=e+t.textContent.length,e<=r&&s>=r)return{node:t,offset:r-e};e=s}t:{for(;t;){if(t.nextSibling){t=t.nextSibling;break t}t=t.parentNode}t=void 0}t=M0(t)}}function S0(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?S0(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function C0(){for(var e=window,r=Kl();r instanceof e.HTMLIFrameElement;){try{var t=typeof r.contentWindow.location.href=="string"}catch(s){t=!1}if(t)e=r.contentWindow;else break;r=Kl(e.document)}return r}function rf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var xx=la&&"documentMode"in document&&11>=document.documentMode,Oi=null,af=null,Vo=null,of=!1;function O0(e,r,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;of||Oi==null||Oi!==Kl(s)||(s=Oi,"selectionStart"in s&&rf(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Vo&&Uo(Vo,s)||(Vo=s,s=ps(af,"onSelect"),0<s.length&&(r=new Zc("onSelect","select",null,r,t),e.push({event:r,listeners:s}),r.target=Oi)))}Yc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Yc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Yc(S2,2);for(var L0="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),lf=0;lf<L0.length;lf++)Vc.set(L0[lf],0);xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function D0(e,r,t){var s=e.type||"unknown-event";e.currentTarget=t,w2(s,r,void 0,e),e.currentTarget=null}function P0(e,r){r=(r&4)!=0;for(var t=0;t<e.length;t++){var s=e[t],c=s.event;s=s.listeners;t:{var n=void 0;if(r)for(var a=s.length-1;0<=a;a--){var o=s[a],i=o.instance,l=o.currentTarget;if(o=o.listener,i!==n&&c.isPropagationStopped())break t;D0(c,o,l),n=i}else for(a=0;a<s.length;a++){if(o=s[a],i=o.instance,l=o.currentTarget,o=o.listener,i!==n&&c.isPropagationStopped())break t;D0(c,o,l),n=i}}}if(es)throw e=zc,es=!1,zc=null,e}function Pn(e,r){var t=Y0(r),s=e+"__bubble";t.has(s)||(F0(r,e,2,!1),t.add(s))}var N0="_reactListening"+Math.random().toString(36).slice(2);function R0(e){e[N0]||(e[N0]=!0,wh.forEach(function(r){E0.has(r)||I0(r,!1,e,null),I0(r,!0,e,null)}))}function I0(e,r,t,s){var c=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,n=t;if(e==="selectionchange"&&t.nodeType!==9&&(n=t.ownerDocument),s!==null&&!r&&E0.has(e)){if(e!=="scroll")return;c|=2,n=s}var a=Y0(n),o=e+"__"+(r?"capture":"bubble");a.has(o)||(r&&(c|=4),F0(n,e,c,r),a.add(o))}function F0(e,r,t,s){var c=Vc.get(r);switch(c===void 0?2:c){case 0:c=I2;break;case 1:c=F2;break;default:c=Gc}t=c.bind(null,r,t,e),c=void 0,!Fc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(r,t,{capture:!0,passive:c}):e.addEventListener(r,t,!0):c!==void 0?e.addEventListener(r,t,{passive:c}):e.addEventListener(r,t,!1)}function z0(e,r,t,s,c){var n=s;if((r&1)==0&&(r&2)==0&&s!==null)t:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===c||o.nodeType===8&&o.parentNode===c)break;if(a===4)for(a=s.return;a!==null;){var i=a.tag;if((i===3||i===4)&&(i=a.stateNode.containerInfo,i===c||i.nodeType===8&&i.parentNode===c))return;a=a.return}for(;o!==null;){if(a=Ka(o),a===null)return;if(i=a.tag,i===5||i===6){s=n=a;continue t}o=o.parentNode}}s=s.return}y2(function(){var l=n,p=Ec(t),d=[];t:{var f=l0.get(e);if(f!==void 0){var u=Zc,h=e;switch(e){case"keypress":if(us(t)===0)break t;case"keydown":case"keyup":u=K2;break;case"focusin":h="focus",u=Kc;break;case"focusout":h="blur",u=Kc;break;case"beforeblur":case"afterblur":u=Kc;break;case"click":if(t.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=f0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=H2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=ex;break;case r0:case a0:case i0:u=V2;break;case o0:u=rx;break;case"scroll":u=z2;break;case"wheel":u=ix;break;case"copy":case"cut":case"paste":u=$2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=p0}var m=(r&4)!=0,v=!m&&e==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var k=l,_;k!==null;){_=k;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,y!==null&&(T=Co(k,y),T!=null&&m.push($o(k,T,_)))),v)break;k=k.return}0<m.length&&(f=new u(f,h,null,t,p),d.push({event:f,listeners:m}))}}if((r&7)==0){t:{if(f=e==="mouseover"||e==="pointerover",u=e==="mouseout"||e==="pointerout",f&&(r&16)==0&&(h=t.relatedTarget||t.fromElement)&&(Ka(h)||h[Di]))break t;if((u||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,u?(h=t.relatedTarget||t.toElement,u=l,h=h?Ka(h):null,h!==null&&(v=Ja(h),h!==v||h.tag!==5&&h.tag!==6)&&(h=null)):(u=null,h=l),u!==h)){if(m=f0,T="onMouseLeave",y="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(m=p0,T="onPointerLeave",y="onPointerEnter",k="pointer"),v=u==null?f:Pi(u),_=h==null?f:Pi(h),f=new m(T,k+"leave",u,t,p),f.target=v,f.relatedTarget=_,T=null,Ka(p)===l&&(m=new m(y,k+"enter",h,t,p),m.target=_,m.relatedTarget=v,T=m),v=T,u&&h)e:{for(m=u,y=h,k=0,_=m;_;_=Li(_))k++;for(_=0,T=y;T;T=Li(T))_++;for(;0<k-_;)m=Li(m),k--;for(;0<_-k;)y=Li(y),_--;for(;k--;){if(m===y||y!==null&&m===y.alternate)break e;m=Li(m),y=Li(y)}m=null}else m=null;u!==null&&j0(d,f,u,m,!1),h!==null&&v!==null&&j0(d,v,h,m,!0)}}t:{if(f=l?Pi(l):window,u=f.nodeName&&f.nodeName.toLowerCase(),u==="select"||u==="input"&&f.type==="file")var b=dx;else if(x0(f))if(_0)b=mx;else{b=hx;var x=px}else(u=f.nodeName)&&u.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=vx);if(b&&(b=b(e,l))){b0(d,b,t,p);break t}x&&x(e,f,l),e==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&kc(f,"number",f.value)}switch(x=l?Pi(l):window,e){case"focusin":(x0(x)||x.contentEditable==="true")&&(Oi=x,af=l,Vo=null);break;case"focusout":Vo=af=Oi=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,O0(d,t,p);break;case"selectionchange":if(xx)break;case"keydown":case"keyup":O0(d,t,p)}var O;if(tf)t:{switch(e){case"compositionstart":var A="onCompositionStart";break t;case"compositionend":A="onCompositionEnd";break t;case"compositionupdate":A="onCompositionUpdate";break t}A=void 0}else Ci?g0(e,t)&&(A="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(A="onCompositionStart");A&&(h0&&t.locale!=="ko"&&(Ci||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ci&&(O=u0()):(Ma=p,qc="value"in Ma?Ma.value:Ma.textContent,Ci=!0)),x=ps(l,A),0<x.length&&(A=new d0(A,e,null,t,p),d.push({event:A,listeners:x}),O?A.data=O:(O=y0(t),O!==null&&(A.data=O)))),(O=lx?sx(e,t):ux(e,t))&&(l=ps(l,"onBeforeInput"),0<l.length&&(p=new d0("onBeforeInput","beforeinput",null,t,p),d.push({event:p,listeners:l}),p.data=O))}P0(d,r)})}function $o(e,r,t){return{instance:e,listener:r,currentTarget:t}}function ps(e,r){for(var t=r+"Capture",s=[];e!==null;){var c=e,n=c.stateNode;c.tag===5&&n!==null&&(c=n,n=Co(e,t),n!=null&&s.unshift($o(e,n,c)),n=Co(e,r),n!=null&&s.push($o(e,n,c))),e=e.return}return s}function Li(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function j0(e,r,t,s,c){for(var n=r._reactName,a=[];t!==null&&t!==s;){var o=t,i=o.alternate,l=o.stateNode;if(i!==null&&i===s)break;o.tag===5&&l!==null&&(o=l,c?(i=Co(t,n),i!=null&&a.unshift($o(t,i,o))):c||(i=Co(t,n),i!=null&&a.push($o(t,i,o)))),t=t.return}a.length!==0&&e.push({event:r,listeners:a})}function hs(){}var sf=null,uf=null;function H0(e,r){switch(e){case"button":case"input":case"select":case"textarea":return!!r.autoFocus}return!1}function cf(e,r){return e==="textarea"||e==="option"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var B0=typeof setTimeout=="function"?setTimeout:void 0,bx=typeof clearTimeout=="function"?clearTimeout:void 0;function ff(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Ei(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break}return e}function U0(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(r===0)return e;r--}else t==="/$"&&r++}e=e.previousSibling}return null}var df=0;function _x(e){return{$$typeof:gc,toString:e,valueOf:e}}var vs=Math.random().toString(36).slice(2),Aa="__reactFiber$"+vs,ms="__reactProps$"+vs,Di="__reactContainer$"+vs,V0="__reactEvents$"+vs;function Ka(e){var r=e[Aa];if(r)return r;for(var t=e.parentNode;t;){if(r=t[Di]||t[Aa]){if(t=r.alternate,r.child!==null||t!==null&&t.child!==null)for(e=U0(e);e!==null;){if(t=e[Aa])return t;e=U0(e)}return r}e=t,t=e.parentNode}return null}function Go(e){return e=e[Aa]||e[Di],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ye(33))}function gs(e){return e[ms]||null}function Y0(e){var r=e[V0];return r===void 0&&(r=e[V0]=new Set),r}var pf=[],Ni=-1;function Sa(e){return{current:e}}function Nn(e){0>Ni||(e.current=pf[Ni],pf[Ni]=null,Ni--)}function jn(e,r){Ni++,pf[Ni]=e.current,e.current=r}var Ca={},ur=Sa(Ca),yr=Sa(!1),Qa=Ca;function Ri(e,r){var t=e.type.contextTypes;if(!t)return Ca;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===r)return s.__reactInternalMemoizedMaskedChildContext;var c={},n;for(n in t)c[n]=r[n];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=c),c}function xr(e){return e=e.childContextTypes,e!=null}function ys(){Nn(yr),Nn(ur)}function $0(e,r,t){if(ur.current!==Ca)throw Error(Ye(168));jn(ur,r),jn(yr,t)}function G0(e,r,t){var s=e.stateNode;if(e=r.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var c in s)if(!(c in e))throw Error(Ye(108,bi(r)||"Unknown",c));return In({},t,s)}function xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Qa=ur.current,jn(ur,e),jn(yr,yr.current),!0}function W0(e,r,t){var s=e.stateNode;if(!s)throw Error(Ye(169));t?(e=G0(e,r,Qa),s.__reactInternalMemoizedMergedChildContext=e,Nn(yr),Nn(ur),jn(ur,e)):Nn(yr),jn(yr,t)}var hf=null,ti=null,wx=Zn.unstable_runWithPriority,vf=Zn.unstable_scheduleCallback,mf=Zn.unstable_cancelCallback,Tx=Zn.unstable_shouldYield,q0=Zn.unstable_requestPaint,gf=Zn.unstable_now,kx=Zn.unstable_getCurrentPriorityLevel,bs=Zn.unstable_ImmediatePriority,Z0=Zn.unstable_UserBlockingPriority,X0=Zn.unstable_NormalPriority,J0=Zn.unstable_LowPriority,K0=Zn.unstable_IdlePriority,yf={},Mx=q0!==void 0?q0:function(){},sa=null,_s=null,xf=!1,Q0=gf(),cr=1e4>Q0?gf:function(){return gf()-Q0};function Ii(){switch(kx()){case bs:return 99;case Z0:return 98;case X0:return 97;case J0:return 96;case K0:return 95;default:throw Error(Ye(332))}}function tv(e){switch(e){case 99:return bs;case 98:return Z0;case 97:return X0;case 96:return J0;case 95:return K0;default:throw Error(Ye(332))}}function ei(e,r){return e=tv(e),wx(e,r)}function Wo(e,r,t){return e=tv(e),vf(e,r,t)}function Wr(){if(_s!==null){var e=_s;_s=null,mf(e)}ev()}function ev(){if(!xf&&sa!==null){xf=!0;var e=0;try{var r=sa;ei(99,function(){for(;e<r.length;e++){var t=r[e];do t=t(!0);while(t!==null)}}),sa=null}catch(t){throw sa!==null&&(sa=sa.slice(e+1)),vf(bs,Wr),t}finally{xf=!1}}}var Ax=qa.ReactCurrentBatchConfig;function Hr(e,r){if(e&&e.defaultProps){r=In({},r),e=e.defaultProps;for(var t in e)r[t]===void 0&&(r[t]=e[t]);return r}return r}var ws=Sa(null),Ts=null,Fi=null,ks=null;function bf(){ks=Fi=Ts=null}function _f(e){var r=ws.current;Nn(ws),e.type._context._currentValue=r}function nv(e,r){for(;e!==null;){var t=e.alternate;if((e.childLanes&r)===r){if(t===null||(t.childLanes&r)===r)break;t.childLanes|=r}else e.childLanes|=r,t!==null&&(t.childLanes|=r);e=e.return}}function zi(e,r){Ts=e,ks=Fi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!=0&&(Br=!0),e.firstContext=null)}function Lr(e,r){if(ks!==e&&r!==!1&&r!==0)if((typeof r!="number"||r===1073741823)&&(ks=e,r=1073741823),r={context:e,observedBits:r,next:null},Fi===null){if(Ts===null)throw Error(Ye(308));Fi=r,Ts.dependencies={lanes:0,firstContext:r,responders:null}}else Fi=Fi.next=r;return e._currentValue}var Oa=!1;function wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function rv(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Ea(e,r){if(e=e.updateQueue,e!==null){e=e.shared;var t=e.pending;t===null?r.next=r:(r.next=t.next,t.next=r),e.pending=r}}function av(e,r){var t=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var c=null,n=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};n===null?c=n=a:n=n.next=a,t=t.next}while(t!==null);n===null?c=n=r:n=n.next=r}else c=n=r;t={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:n,shared:s.shared,effects:s.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=r:e.next=r,t.lastBaseUpdate=r}function qo(e,r,t,s){var c=e.updateQueue;Oa=!1;var n=c.firstBaseUpdate,a=c.lastBaseUpdate,o=c.shared.pending;if(o!==null){c.shared.pending=null;var i=o,l=i.next;i.next=null,a===null?n=l:a.next=l,a=i;var p=e.alternate;if(p!==null){p=p.updateQueue;var d=p.lastBaseUpdate;d!==a&&(d===null?p.firstBaseUpdate=l:d.next=l,p.lastBaseUpdate=i)}}if(n!==null){d=c.baseState,a=0,p=l=i=null;do{o=n.lane;var f=n.eventTime;if((s&o)===o){p!==null&&(p=p.next={eventTime:f,lane:0,tag:n.tag,payload:n.payload,callback:n.callback,next:null});t:{var u=e,h=n;switch(o=r,f=t,h.tag){case 1:if(u=h.payload,typeof u=="function"){d=u.call(f,d,o);break t}d=u;break t;case 3:u.flags=u.flags&-4097|64;case 0:if(u=h.payload,o=typeof u=="function"?u.call(f,d,o):u,o==null)break t;d=In({},d,o);break t;case 2:Oa=!0}}n.callback!==null&&(e.flags|=32,o=c.effects,o===null?c.effects=[n]:o.push(n))}else f={eventTime:f,lane:o,tag:n.tag,payload:n.payload,callback:n.callback,next:null},p===null?(l=p=f,i=d):p=p.next=f,a|=o;if(n=n.next,n===null){if(o=c.shared.pending,o===null)break;n=o.next,o.next=null,c.lastBaseUpdate=o,c.shared.pending=null}}while(1);p===null&&(i=d),c.baseState=i,c.firstBaseUpdate=l,c.lastBaseUpdate=p,ol|=a,e.lanes=a,e.memoizedState=d}}function iv(e,r,t){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var s=e[r],c=s.callback;if(c!==null){if(s.callback=null,s=t,typeof c!="function")throw Error(Ye(191,c));c.call(s)}}}var ov=new Gl.Component().refs;function Ms(e,r,t,s){r=e.memoizedState,t=t(s,r),t=t==null?r:In({},r,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var As={isMounted:function(e){return(e=e._reactInternals)?Ja(e)===e:!1},enqueueSetState:function(e,r,t){e=e._reactInternals;var s=kr(),c=Na(e),n=La(s,c);n.payload=r,t!=null&&(n.callback=t),Ea(e,n),Ra(e,c,s)},enqueueReplaceState:function(e,r,t){e=e._reactInternals;var s=kr(),c=Na(e),n=La(s,c);n.tag=1,n.payload=r,t!=null&&(n.callback=t),Ea(e,n),Ra(e,c,s)},enqueueForceUpdate:function(e,r){e=e._reactInternals;var t=kr(),s=Na(e),c=La(t,s);c.tag=2,r!=null&&(c.callback=r),Ea(e,c),Ra(e,s,t)}};function lv(e,r,t,s,c,n,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,n,a):r.prototype&&r.prototype.isPureReactComponent?!Uo(t,s)||!Uo(c,n):!0}function sv(e,r,t){var s=!1,c=Ca,n=r.contextType;return typeof n=="object"&&n!==null?n=Lr(n):(c=xr(r)?Qa:ur.current,s=r.contextTypes,n=(s=s!=null)?Ri(e,c):Ca),r=new r(t,n),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=As,e.stateNode=r,r._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=n),r}function uv(e,r,t,s){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(t,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(t,s),r.state!==e&&As.enqueueReplaceState(r,r.state,null)}function Tf(e,r,t,s){var c=e.stateNode;c.props=t,c.state=e.memoizedState,c.refs=ov,wf(e);var n=r.contextType;typeof n=="object"&&n!==null?c.context=Lr(n):(n=xr(r)?Qa:ur.current,c.context=Ri(e,n)),qo(e,t,c,s),c.state=e.memoizedState,n=r.getDerivedStateFromProps,typeof n=="function"&&(Ms(e,r,n,t),c.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(r=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),r!==c.state&&As.enqueueReplaceState(c,c.state,null),qo(e,t,c,s),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4)}var Ss=Array.isArray;function Zo(e,r,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ye(309));var s=t.stateNode}if(!s)throw Error(Ye(147,e));var c=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===c?r.ref:(r=function(n){var a=s.refs;a===ov&&(a=s.refs={}),n===null?delete a[c]:a[c]=n},r._stringRef=c,r)}if(typeof e!="string")throw Error(Ye(284));if(!t._owner)throw Error(Ye(290,e))}return e}function Cs(e,r){if(e.type!=="textarea")throw Error(Ye(31,Object.prototype.toString.call(r)==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":r))}function cv(e){function r(v,y){if(e){var k=v.lastEffect;k!==null?(k.nextEffect=y,v.lastEffect=y):v.firstEffect=v.lastEffect=y,y.nextEffect=null,y.flags=8}}function t(v,y){if(!e)return null;for(;y!==null;)r(v,y),y=y.sibling;return null}function s(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function c(v,y){return v=za(v,y),v.index=0,v.sibling=null,v}function n(v,y,k){return v.index=k,e?(k=v.alternate,k!==null?(k=k.index,k<y?(v.flags=2,y):k):(v.flags=2,y)):y}function a(v){return e&&v.alternate===null&&(v.flags=2),v}function o(v,y,k,_){return y===null||y.tag!==6?(y=id(k,v.mode,_),y.return=v,y):(y=c(y,k),y.return=v,y)}function i(v,y,k,_){return y!==null&&y.elementType===k.type?(_=c(y,k.props),_.ref=Zo(v,y,k),_.return=v,_):(_=Gs(k.type,k.key,k.props,null,v.mode,_),_.ref=Zo(v,y,k),_.return=v,_)}function l(v,y,k,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==k.containerInfo||y.stateNode.implementation!==k.implementation?(y=od(k,v.mode,_),y.return=v,y):(y=c(y,k.children||[]),y.return=v,y)}function p(v,y,k,_,T){return y===null||y.tag!==7?(y=Gi(k,v.mode,_,T),y.return=v,y):(y=c(y,k),y.return=v,y)}function d(v,y,k){if(typeof y=="string"||typeof y=="number")return y=id(""+y,v.mode,k),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _o:return k=Gs(y.type,y.key,y.props,null,v.mode,k),k.ref=Zo(v,null,y),k.return=v,k;case Za:return y=od(y,v.mode,k),y.return=v,y}if(Ss(y)||ko(y))return y=Gi(y,v.mode,k,null),y.return=v,y;Cs(v,y)}return null}function f(v,y,k,_){var T=y!==null?y.key:null;if(typeof k=="string"||typeof k=="number")return T!==null?null:o(v,y,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _o:return k.key===T?k.type===xa?p(v,y,k.props.children,_,T):i(v,y,k,_):null;case Za:return k.key===T?l(v,y,k,_):null}if(Ss(k)||ko(k))return T!==null?null:p(v,y,k,_,null);Cs(v,k)}return null}function u(v,y,k,_,T){if(typeof _=="string"||typeof _=="number")return v=v.get(k)||null,o(y,v,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _o:return v=v.get(_.key===null?k:_.key)||null,_.type===xa?p(y,v,_.props.children,T,_.key):i(y,v,_,T);case Za:return v=v.get(_.key===null?k:_.key)||null,l(y,v,_,T)}if(Ss(_)||ko(_))return v=v.get(k)||null,p(y,v,_,T,null);Cs(y,_)}return null}function h(v,y,k,_){for(var T=null,b=null,x=y,O=y=0,A=null;x!==null&&O<k.length;O++){x.index>O?(A=x,x=null):A=x.sibling;var C=f(v,x,k[O],_);if(C===null){x===null&&(x=A);break}e&&x&&C.alternate===null&&r(v,x),y=n(C,y,O),b===null?T=C:b.sibling=C,b=C,x=A}if(O===k.length)return t(v,x),T;if(x===null){for(;O<k.length;O++)x=d(v,k[O],_),x!==null&&(y=n(x,y,O),b===null?T=x:b.sibling=x,b=x);return T}for(x=s(v,x);O<k.length;O++)A=u(x,v,O,k[O],_),A!==null&&(e&&A.alternate!==null&&x.delete(A.key===null?O:A.key),y=n(A,y,O),b===null?T=A:b.sibling=A,b=A);return e&&x.forEach(function(L){return r(v,L)}),T}function m(v,y,k,_){var T=ko(k);if(typeof T!="function")throw Error(Ye(150));if(k=T.call(k),k==null)throw Error(Ye(151));for(var b=T=null,x=y,O=y=0,A=null,C=k.next();x!==null&&!C.done;O++,C=k.next()){x.index>O?(A=x,x=null):A=x.sibling;var L=f(v,x,C.value,_);if(L===null){x===null&&(x=A);break}e&&x&&L.alternate===null&&r(v,x),y=n(L,y,O),b===null?T=L:b.sibling=L,b=L,x=A}if(C.done)return t(v,x),T;if(x===null){for(;!C.done;O++,C=k.next())C=d(v,C.value,_),C!==null&&(y=n(C,y,O),b===null?T=C:b.sibling=C,b=C);return T}for(x=s(v,x);!C.done;O++,C=k.next())C=u(x,v,O,C.value,_),C!==null&&(e&&C.alternate!==null&&x.delete(C.key===null?O:C.key),y=n(C,y,O),b===null?T=C:b.sibling=C,b=C);return e&&x.forEach(function(w){return r(v,w)}),T}return function(v,y,k,_){var T=typeof k=="object"&&k!==null&&k.type===xa&&k.key===null;T&&(k=k.props.children);var b=typeof k=="object"&&k!==null;if(b)switch(k.$$typeof){case _o:t:{for(b=k.key,T=y;T!==null;){if(T.key===b){switch(T.tag){case 7:if(k.type===xa){t(v,T.sibling),y=c(T,k.props.children),y.return=v,v=y;break t}break;default:if(T.elementType===k.type){t(v,T.sibling),y=c(T,k.props),y.ref=Zo(v,T,k),y.return=v,v=y;break t}}t(v,T);break}else r(v,T);T=T.sibling}k.type===xa?(y=Gi(k.props.children,v.mode,_,k.key),y.return=v,v=y):(_=Gs(k.type,k.key,k.props,null,v.mode,_),_.ref=Zo(v,y,k),_.return=v,v=_)}return a(v);case Za:t:{for(T=k.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===k.containerInfo&&y.stateNode.implementation===k.implementation){t(v,y.sibling),y=c(y,k.children||[]),y.return=v,v=y;break t}else{t(v,y);break}else r(v,y);y=y.sibling}y=od(k,v.mode,_),y.return=v,v=y}return a(v)}if(typeof k=="string"||typeof k=="number")return k=""+k,y!==null&&y.tag===6?(t(v,y.sibling),y=c(y,k),y.return=v,v=y):(t(v,y),y=id(k,v.mode,_),y.return=v,v=y),a(v);if(Ss(k))return h(v,y,k,_);if(ko(k))return m(v,y,k,_);if(b&&Cs(v,k),typeof k=="undefined"&&!T)switch(v.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Ye(152,bi(v.type)||"Component"))}return t(v,y)}}var Os=cv(!0),fv=cv(!1),Xo={},qr=Sa(Xo),Jo=Sa(Xo),Ko=Sa(Xo);function ni(e){if(e===Xo)throw Error(Ye(174));return e}function kf(e,r){switch(jn(Ko,r),jn(Jo,e),jn(qr,Xo),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Cc(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Cc(r,e)}Nn(qr),jn(qr,r)}function ji(){Nn(qr),Nn(Jo),Nn(Ko)}function dv(e){ni(Ko.current);var r=ni(qr.current),t=Cc(r,e.type);r!==t&&(jn(Jo,e),jn(qr,t))}function Mf(e){Jo.current===e&&(Nn(qr),Nn(Jo))}var Hn=Sa(0);function Ls(e){for(var r=e;r!==null;){if(r.tag===13){var t=r.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&64)!=0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ua=null,Da=null,Zr=!1;function pv(e,r){var t=Pr(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=r,t.return=e,t.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t}function hv(e,r){switch(e.tag){case 5:var t=e.type;return r=r.nodeType!==1||t.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,!0):!1;case 13:return!1;default:return!1}}function Af(e){if(Zr){var r=Da;if(r){var t=r;if(!hv(e,r)){if(r=Ei(t.nextSibling),!r||!hv(e,r)){e.flags=e.flags&-1025|2,Zr=!1,ua=e;return}pv(ua,t)}ua=e,Da=Ei(r.firstChild)}else e.flags=e.flags&-1025|2,Zr=!1,ua=e}}function vv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ua=e}function Es(e){if(e!==ua)return!1;if(!Zr)return vv(e),Zr=!0,!1;var r=e.type;if(e.tag!==5||r!=="head"&&r!=="body"&&!cf(r,e.memoizedProps))for(r=Da;r;)pv(e,r),r=Ei(r.nextSibling);if(vv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ye(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(r===0){Da=Ei(e.nextSibling);break t}r--}else t!=="$"&&t!=="$!"&&t!=="$?"||r++}e=e.nextSibling}Da=null}}else Da=ua?Ei(e.stateNode.nextSibling):null;return!0}function Sf(){Da=ua=null,Zr=!1}var Hi=[];function Cf(){for(var e=0;e<Hi.length;e++)Hi[e]._workInProgressVersionPrimary=null;Hi.length=0}var Qo=qa.ReactCurrentDispatcher,Er=qa.ReactCurrentBatchConfig,tl=0,Un=null,fr=null,ir=null,Ds=!1,el=!1;function br(){throw Error(Ye(321))}function Of(e,r){if(r===null)return!1;for(var t=0;t<r.length&&t<e.length;t++)if(!Or(e[t],r[t]))return!1;return!0}function Lf(e,r,t,s,c,n){if(tl=n,Un=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Qo.current=e===null||e.memoizedState===null?Cx:Ox,e=t(s,c),el){n=0;do{if(el=!1,!(25>n))throw Error(Ye(301));n+=1,ir=fr=null,r.updateQueue=null,Qo.current=Lx,e=t(s,c)}while(el)}if(Qo.current=Is,r=fr!==null&&fr.next!==null,tl=0,ir=fr=Un=null,Ds=!1,r)throw Error(Ye(300));return e}function ri(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?Un.memoizedState=ir=e:ir=ir.next=e,ir}function ai(){if(fr===null){var e=Un.alternate;e=e!==null?e.memoizedState:null}else e=fr.next;var r=ir===null?Un.memoizedState:ir.next;if(r!==null)ir=r,fr=e;else{if(e===null)throw Error(Ye(310));fr=e,e={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},ir===null?Un.memoizedState=ir=e:ir=ir.next=e}return ir}function Xr(e,r){return typeof r=="function"?r(e):r}function nl(e){var r=ai(),t=r.queue;if(t===null)throw Error(Ye(311));t.lastRenderedReducer=e;var s=fr,c=s.baseQueue,n=t.pending;if(n!==null){if(c!==null){var a=c.next;c.next=n.next,n.next=a}s.baseQueue=c=n,t.pending=null}if(c!==null){c=c.next,s=s.baseState;var o=a=n=null,i=c;do{var l=i.lane;if((tl&l)===l)o!==null&&(o=o.next={lane:0,action:i.action,eagerReducer:i.eagerReducer,eagerState:i.eagerState,next:null}),s=i.eagerReducer===e?i.eagerState:e(s,i.action);else{var p={lane:l,action:i.action,eagerReducer:i.eagerReducer,eagerState:i.eagerState,next:null};o===null?(a=o=p,n=s):o=o.next=p,Un.lanes|=l,ol|=l}i=i.next}while(i!==null&&i!==c);o===null?n=s:o.next=a,Or(s,r.memoizedState)||(Br=!0),r.memoizedState=s,r.baseState=n,r.baseQueue=o,t.lastRenderedState=s}return[r.memoizedState,t.dispatch]}function rl(e){var r=ai(),t=r.queue;if(t===null)throw Error(Ye(311));t.lastRenderedReducer=e;var s=t.dispatch,c=t.pending,n=r.memoizedState;if(c!==null){t.pending=null;var a=c=c.next;do n=e(n,a.action),a=a.next;while(a!==c);Or(n,r.memoizedState)||(Br=!0),r.memoizedState=n,r.baseQueue===null&&(r.baseState=n),t.lastRenderedState=n}return[n,s]}function mv(e,r,t){var s=r._getVersion;s=s(r._source);var c=r._workInProgressVersionPrimary;if(c!==null?e=c===s:(e=e.mutableReadLanes,(e=(tl&e)===e)&&(r._workInProgressVersionPrimary=s,Hi.push(r))),e)return t(r._source);throw Hi.push(r),Error(Ye(350))}function gv(e,r,t,s){var c=mr;if(c===null)throw Error(Ye(349));var n=r._getVersion,a=n(r._source),o=Qo.current,i=o.useState(function(){return mv(c,r,t)}),l=i[1],p=i[0];i=ir;var d=e.memoizedState,f=d.refs,u=f.getSnapshot,h=d.source;d=d.subscribe;var m=Un;return e.memoizedState={refs:f,source:r,subscribe:s},o.useEffect(function(){f.getSnapshot=t,f.setSnapshot=l;var v=n(r._source);if(!Or(a,v)){v=t(r._source),Or(p,v)||(l(v),v=Na(m),c.mutableReadLanes|=v&c.pendingLanes),v=c.mutableReadLanes,c.entangledLanes|=v;for(var y=c.entanglements,k=v;0<k;){var _=31-ka(k),T=1<<_;y[_]|=v,k&=~T}}},[t,r,s]),o.useEffect(function(){return s(r._source,function(){var v=f.getSnapshot,y=f.setSnapshot;try{y(v(r._source));var k=Na(m);c.mutableReadLanes|=k&c.pendingLanes}catch(_){y(function(){throw _})}})},[r,s]),Or(u,t)&&Or(h,r)&&Or(d,s)||(e={pending:null,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:p},e.dispatch=l=Nf.bind(null,Un,e),i.queue=e,i.baseQueue=null,p=mv(c,r,t),i.memoizedState=i.baseState=p),p}function yv(e,r,t){var s=ai();return gv(s,e,r,t)}function al(e){var r=ri();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:e},e=e.dispatch=Nf.bind(null,Un,e),[r.memoizedState,e]}function Ps(e,r,t,s){return e={tag:e,create:r,destroy:t,deps:s,next:null},r=Un.updateQueue,r===null?(r={lastEffect:null},Un.updateQueue=r,r.lastEffect=e.next=e):(t=r.lastEffect,t===null?r.lastEffect=e.next=e:(s=t.next,t.next=e,e.next=s,r.lastEffect=e)),e}function xv(e){var r=ri();return e={current:e},r.memoizedState=e}function Ns(){return ai().memoizedState}function Ef(e,r,t,s){var c=ri();Un.flags|=e,c.memoizedState=Ps(1|r,t,void 0,s===void 0?null:s)}function Df(e,r,t,s){var c=ai();s=s===void 0?null:s;var n=void 0;if(fr!==null){var a=fr.memoizedState;if(n=a.destroy,s!==null&&Of(s,a.deps)){Ps(r,t,n,s);return}}Un.flags|=e,c.memoizedState=Ps(1|r,t,n,s)}function bv(e,r){return Ef(516,4,e,r)}function Rs(e,r){return Df(516,4,e,r)}function _v(e,r){return Df(4,2,e,r)}function wv(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Tv(e,r,t){return t=t!=null?t.concat([e]):null,Df(4,2,wv.bind(null,r,e),t)}function Pf(){}function kv(e,r){var t=ai();r=r===void 0?null:r;var s=t.memoizedState;return s!==null&&r!==null&&Of(r,s[1])?s[0]:(t.memoizedState=[e,r],e)}function Mv(e,r){var t=ai();r=r===void 0?null:r;var s=t.memoizedState;return s!==null&&r!==null&&Of(r,s[1])?s[0]:(e=e(),t.memoizedState=[e,r],e)}function Sx(e,r){var t=Ii();ei(98>t?98:t,function(){e(!0)}),ei(97<t?97:t,function(){var s=Er.transition;Er.transition=1;try{e(!1),r()}finally{Er.transition=s}})}function Nf(e,r,t){var s=kr(),c=Na(e),n={lane:c,action:t,eagerReducer:null,eagerState:null,next:null},a=r.pending;if(a===null?n.next=n:(n.next=a.next,a.next=n),r.pending=n,a=e.alternate,e===Un||a!==null&&a===Un)el=Ds=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=r.lastRenderedReducer,a!==null))try{var o=r.lastRenderedState,i=a(o,t);if(n.eagerReducer=a,n.eagerState=i,Or(i,o))return}catch(l){}finally{}Ra(e,c,s)}}var Is={readContext:Lr,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useOpaqueIdentifier:br,unstable_isNewReconciler:!1},Cx={readContext:Lr,useCallback:function(e,r){return ri().memoizedState=[e,r===void 0?null:r],e},useContext:Lr,useEffect:bv,useImperativeHandle:function(e,r,t){return t=t!=null?t.concat([e]):null,Ef(4,2,wv.bind(null,r,e),t)},useLayoutEffect:function(e,r){return Ef(4,2,e,r)},useMemo:function(e,r){var t=ri();return r=r===void 0?null:r,e=e(),t.memoizedState=[e,r],e},useReducer:function(e,r,t){var s=ri();return r=t!==void 0?t(r):r,s.memoizedState=s.baseState=r,e=s.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},e=e.dispatch=Nf.bind(null,Un,e),[s.memoizedState,e]},useRef:xv,useState:al,useDebugValue:Pf,useDeferredValue:function(e){var r=al(e),t=r[0],s=r[1];return bv(function(){var c=Er.transition;Er.transition=1;try{s(e)}finally{Er.transition=c}},[e]),t},useTransition:function(){var e=al(!1),r=e[0];return e=Sx.bind(null,e[1]),xv(e),[e,r]},useMutableSource:function(e,r,t){var s=ri();return s.memoizedState={refs:{getSnapshot:r,setSnapshot:null},source:e,subscribe:t},gv(s,e,r,t)},useOpaqueIdentifier:function(){if(Zr){var e=!1,r=_x(function(){throw e||(e=!0,t("r:"+(df++).toString(36))),Error(Ye(355))}),t=al(r)[1];return(Un.mode&2)==0&&(Un.flags|=516,Ps(5,function(){t("r:"+(df++).toString(36))},void 0,null)),r}return r="r:"+(df++).toString(36),al(r),r},unstable_isNewReconciler:!1},Ox={readContext:Lr,useCallback:kv,useContext:Lr,useEffect:Rs,useImperativeHandle:Tv,useLayoutEffect:_v,useMemo:Mv,useReducer:nl,useRef:Ns,useState:function(){return nl(Xr)},useDebugValue:Pf,useDeferredValue:function(e){var r=nl(Xr),t=r[0],s=r[1];return Rs(function(){var c=Er.transition;Er.transition=1;try{s(e)}finally{Er.transition=c}},[e]),t},useTransition:function(){var e=nl(Xr)[0];return[Ns().current,e]},useMutableSource:yv,useOpaqueIdentifier:function(){return nl(Xr)[0]},unstable_isNewReconciler:!1},Lx={readContext:Lr,useCallback:kv,useContext:Lr,useEffect:Rs,useImperativeHandle:Tv,useLayoutEffect:_v,useMemo:Mv,useReducer:rl,useRef:Ns,useState:function(){return rl(Xr)},useDebugValue:Pf,useDeferredValue:function(e){var r=rl(Xr),t=r[0],s=r[1];return Rs(function(){var c=Er.transition;Er.transition=1;try{s(e)}finally{Er.transition=c}},[e]),t},useTransition:function(){var e=rl(Xr)[0];return[Ns().current,e]},useMutableSource:yv,useOpaqueIdentifier:function(){return rl(Xr)[0]},unstable_isNewReconciler:!1},Ex=qa.ReactCurrentOwner,Br=!1;function _r(e,r,t,s){r.child=e===null?fv(r,null,t,s):Os(r,e.child,t,s)}function Av(e,r,t,s,c){t=t.render;var n=r.ref;return zi(r,c),s=Lf(e,r,t,s,n,c),e!==null&&!Br?(r.updateQueue=e.updateQueue,r.flags&=-517,e.lanes&=~c,ca(e,r,c)):(r.flags|=1,_r(e,r,s,c),r.child)}function Sv(e,r,t,s,c,n){if(e===null){var a=t.type;return typeof a=="function"&&!rd(a)&&a.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(r.tag=15,r.type=a,Cv(e,r,a,s,c,n)):(e=Gs(t.type,null,s,r,r.mode,n),e.ref=r.ref,e.return=r,r.child=e)}return a=e.child,(c&n)==0&&(c=a.memoizedProps,t=t.compare,t=t!==null?t:Uo,t(c,s)&&e.ref===r.ref)?ca(e,r,n):(r.flags|=1,e=za(a,s),e.ref=r.ref,e.return=r,r.child=e)}function Cv(e,r,t,s,c,n){if(e!==null&&Uo(e.memoizedProps,s)&&e.ref===r.ref)if(Br=!1,(n&c)!=0)(e.flags&16384)!=0&&(Br=!0);else return r.lanes=e.lanes,ca(e,r,n);return If(e,r,t,s,n)}function Rf(e,r,t){var s=r.pendingProps,c=s.children,n=e!==null?e.memoizedState:null;if(s.mode==="hidden"||s.mode==="unstable-defer-without-hiding")if((r.mode&4)==0)r.memoizedState={baseLanes:0},$s(r,t);else if((t&1073741824)!=0)r.memoizedState={baseLanes:0},$s(r,n!==null?n.baseLanes:t);else return e=n!==null?n.baseLanes|t:t,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e},$s(r,e),null;else n!==null?(s=n.baseLanes|t,r.memoizedState=null):s=t,$s(r,s);return _r(e,r,c,t),r.child}function Ov(e,r){var t=r.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(r.flags|=128)}function If(e,r,t,s,c){var n=xr(t)?Qa:ur.current;return n=Ri(r,n),zi(r,c),t=Lf(e,r,t,s,n,c),e!==null&&!Br?(r.updateQueue=e.updateQueue,r.flags&=-517,e.lanes&=~c,ca(e,r,c)):(r.flags|=1,_r(e,r,t,c),r.child)}function Lv(e,r,t,s,c){if(xr(t)){var n=!0;xs(r)}else n=!1;if(zi(r,c),r.stateNode===null)e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2),sv(r,t,s),Tf(r,t,s,c),s=!0;else if(e===null){var a=r.stateNode,o=r.memoizedProps;a.props=o;var i=a.context,l=t.contextType;typeof l=="object"&&l!==null?l=Lr(l):(l=xr(t)?Qa:ur.current,l=Ri(r,l));var p=t.getDerivedStateFromProps,d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==s||i!==l)&&uv(r,a,s,l),Oa=!1;var f=r.memoizedState;a.state=f,qo(r,s,a,c),i=r.memoizedState,o!==s||f!==i||yr.current||Oa?(typeof p=="function"&&(Ms(r,t,p,s),i=r.memoizedState),(o=Oa||lv(r,t,o,s,f,i,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(r.flags|=4)):(typeof a.componentDidMount=="function"&&(r.flags|=4),r.memoizedProps=s,r.memoizedState=i),a.props=s,a.state=i,a.context=l,s=o):(typeof a.componentDidMount=="function"&&(r.flags|=4),s=!1)}else{a=r.stateNode,rv(e,r),o=r.memoizedProps,l=r.type===r.elementType?o:Hr(r.type,o),a.props=l,d=r.pendingProps,f=a.context,i=t.contextType,typeof i=="object"&&i!==null?i=Lr(i):(i=xr(t)?Qa:ur.current,i=Ri(r,i));var u=t.getDerivedStateFromProps;(p=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==i)&&uv(r,a,s,i),Oa=!1,f=r.memoizedState,a.state=f,qo(r,s,a,c);var h=r.memoizedState;o!==d||f!==h||yr.current||Oa?(typeof u=="function"&&(Ms(r,t,u,s),h=r.memoizedState),(l=Oa||lv(r,t,l,s,f,h,i))?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,h,i),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,h,i)),typeof a.componentDidUpdate=="function"&&(r.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(r.flags|=256)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(r.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(r.flags|=256),r.memoizedProps=s,r.memoizedState=h),a.props=s,a.state=h,a.context=i,s=l):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(r.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(r.flags|=256),s=!1)}return Ff(e,r,t,s,n,c)}function Ff(e,r,t,s,c,n){Ov(e,r);var a=(r.flags&64)!=0;if(!s&&!a)return c&&W0(r,t,!1),ca(e,r,n);s=r.stateNode,Ex.current=r;var o=a&&typeof t.getDerivedStateFromError!="function"?null:s.render();return r.flags|=1,e!==null&&a?(r.child=Os(r,e.child,null,n),r.child=Os(r,null,o,n)):_r(e,r,o,n),r.memoizedState=s.state,c&&W0(r,t,!0),r.child}function Ev(e){var r=e.stateNode;r.pendingContext?$0(e,r.pendingContext,r.pendingContext!==r.context):r.context&&$0(e,r.context,!1),kf(e,r.containerInfo)}var Fs={dehydrated:null,retryLane:0};function Dv(e,r,t){var s=r.pendingProps,c=Hn.current,n=!1,a;return(a=(r.flags&64)!=0)||(a=e!==null&&e.memoizedState===null?!1:(c&2)!=0),a?(n=!0,r.flags&=-65):e!==null&&e.memoizedState===null||s.fallback===void 0||s.unstable_avoidThisFallback===!0||(c|=1),jn(Hn,c&1),e===null?(s.fallback!==void 0&&Af(r),e=s.children,c=s.fallback,n?(e=Pv(r,e,c,t),r.child.memoizedState={baseLanes:t},r.memoizedState=Fs,e):typeof s.unstable_expectedLoadTime=="number"?(e=Pv(r,e,c,t),r.child.memoizedState={baseLanes:t},r.memoizedState=Fs,r.lanes=33554432,e):(t=ad({mode:"visible",children:e},r.mode,t,null),t.return=r,r.child=t)):e.memoizedState!==null?n?(s=Rv(e,r,s.children,s.fallback,t),n=r.child,c=e.child.memoizedState,n.memoizedState=c===null?{baseLanes:t}:{baseLanes:c.baseLanes|t},n.childLanes=e.childLanes&~t,r.memoizedState=Fs,s):(t=Nv(e,r,s.children,t),r.memoizedState=null,t):n?(s=Rv(e,r,s.children,s.fallback,t),n=r.child,c=e.child.memoizedState,n.memoizedState=c===null?{baseLanes:t}:{baseLanes:c.baseLanes|t},n.childLanes=e.childLanes&~t,r.memoizedState=Fs,s):(t=Nv(e,r,s.children,t),r.memoizedState=null,t)}function Pv(e,r,t,s){var c=e.mode,n=e.child;return r={mode:"hidden",children:r},(c&2)==0&&n!==null?(n.childLanes=0,n.pendingProps=r):n=ad(r,c,0,null),t=Gi(t,c,s,null),n.return=e,t.return=e,n.sibling=t,e.child=n,t}function Nv(e,r,t,s){var c=e.child;return e=c.sibling,t=za(c,{mode:"visible",children:t}),(r.mode&2)==0&&(t.lanes=s),t.return=r,t.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,r.firstEffect=r.lastEffect=e),r.child=t}function Rv(e,r,t,s,c){var n=r.mode,a=e.child;e=a.sibling;var o={mode:"hidden",children:t};return(n&2)==0&&r.child!==a?(t=r.child,t.childLanes=0,t.pendingProps=o,a=t.lastEffect,a!==null?(r.firstEffect=t.firstEffect,r.lastEffect=a,a.nextEffect=null):r.firstEffect=r.lastEffect=null):t=za(a,o),e!==null?s=za(e,s):(s=Gi(s,n,c,null),s.flags|=2),s.return=r,t.return=r,t.sibling=s,r.child=t,s}function Iv(e,r){e.lanes|=r;var t=e.alternate;t!==null&&(t.lanes|=r),nv(e.return,r)}function zf(e,r,t,s,c,n){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:c,lastEffect:n}:(a.isBackwards=r,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=t,a.tailMode=c,a.lastEffect=n)}function Fv(e,r,t){var s=r.pendingProps,c=s.revealOrder,n=s.tail;if(_r(e,r,s.children,t),s=Hn.current,(s&2)!=0)s=s&1|2,r.flags|=64;else{if(e!==null&&(e.flags&64)!=0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Iv(e,t);else if(e.tag===19)Iv(e,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(jn(Hn,s),(r.mode&2)==0)r.memoizedState=null;else switch(c){case"forwards":for(t=r.child,c=null;t!==null;)e=t.alternate,e!==null&&Ls(e)===null&&(c=t),t=t.sibling;t=c,t===null?(c=r.child,r.child=null):(c=t.sibling,t.sibling=null),zf(r,!1,c,t,n,r.lastEffect);break;case"backwards":for(t=null,c=r.child,r.child=null;c!==null;){if(e=c.alternate,e!==null&&Ls(e)===null){r.child=c;break}e=c.sibling,c.sibling=t,t=c,c=e}zf(r,!0,t,null,n,r.lastEffect);break;case"together":zf(r,!1,null,null,void 0,r.lastEffect);break;default:r.memoizedState=null}return r.child}function ca(e,r,t){if(e!==null&&(r.dependencies=e.dependencies),ol|=r.lanes,(t&r.childLanes)!=0){if(e!==null&&r.child!==e.child)throw Error(Ye(153));if(r.child!==null){for(e=r.child,t=za(e,e.pendingProps),r.child=t,t.return=r;e.sibling!==null;)e=e.sibling,t=t.sibling=za(e,e.pendingProps),t.return=r;t.sibling=null}return r.child}return null}var zv,jf,jv,Hv;zv=function(e,r){for(var t=r.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},jf=function(){},jv=function(e,r,t,s){var c=e.memoizedProps;if(c!==s){e=r.stateNode,ni(qr.current);var n=null;switch(t){case"input":c=wc(e,c),s=wc(e,s),n=[];break;case"option":c=Mc(e,c),s=Mc(e,s),n=[];break;case"select":c=In({},c,{value:void 0}),s=In({},s,{value:void 0}),n=[];break;case"textarea":c=Ac(e,c),s=Ac(e,s),n=[];break;default:typeof c.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=hs)}Oc(t,s);var a;t=null;for(l in c)if(!s.hasOwnProperty(l)&&c.hasOwnProperty(l)&&c[l]!=null)if(l==="style"){var o=c[l];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(bo.hasOwnProperty(l)?n||(n=[]):(n=n||[]).push(l,null));for(l in s){var i=s[l];if(o=c!=null?c[l]:void 0,s.hasOwnProperty(l)&&i!==o&&(i!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||i&&i.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in i)i.hasOwnProperty(a)&&o[a]!==i[a]&&(t||(t={}),t[a]=i[a])}else t||(n||(n=[]),n.push(l,t)),t=i;else l==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,o=o?o.__html:void 0,i!=null&&o!==i&&(n=n||[]).push(l,i)):l==="children"?typeof i!="string"&&typeof i!="number"||(n=n||[]).push(l,""+i):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(bo.hasOwnProperty(l)?(i!=null&&l==="onScroll"&&Pn("scroll",e),n||o===i||(n=[])):typeof i=="object"&&i!==null&&i.$$typeof===gc?i.toString():(n=n||[]).push(l,i))}t&&(n=n||[]).push("style",t);var l=n;(r.updateQueue=l)&&(r.flags|=4)}},Hv=function(e,r,t,s){t!==s&&(r.flags|=4)};function il(e,r){if(!Zr)switch(e.tailMode){case"hidden":r=e.tail;for(var t=null;r!==null;)r.alternate!==null&&(t=r),r=r.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Dx(e,r,t){var s=r.pendingProps;switch(r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return xr(r.type)&&ys(),null;case 3:return ji(),Nn(yr),Nn(ur),Cf(),s=r.stateNode,s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Es(r)?r.flags|=4:s.hydrate||(r.flags|=256)),jf(r),null;case 5:Mf(r);var c=ni(Ko.current);if(t=r.type,e!==null&&r.stateNode!=null)jv(e,r,t,s,c),e.ref!==r.ref&&(r.flags|=128);else{if(!s){if(r.stateNode===null)throw Error(Ye(166));return null}if(e=ni(qr.current),Es(r)){s=r.stateNode,t=r.type;var n=r.memoizedProps;switch(s[Aa]=r,s[ms]=n,t){case"dialog":Pn("cancel",s),Pn("close",s);break;case"iframe":case"object":case"embed":Pn("load",s);break;case"video":case"audio":for(e=0;e<Yo.length;e++)Pn(Yo[e],s);break;case"source":Pn("error",s);break;case"img":case"image":case"link":Pn("error",s),Pn("load",s);break;case"details":Pn("toggle",s);break;case"input":Lh(s,n),Pn("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!n.multiple},Pn("invalid",s);break;case"textarea":Ph(s,n),Pn("invalid",s)}Oc(t,n),e=null;for(var a in n)n.hasOwnProperty(a)&&(c=n[a],a==="children"?typeof c=="string"?s.textContent!==c&&(e=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(e=["children",""+c]):bo.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Pn("scroll",s));switch(t){case"input":Jl(s),Dh(s,n,!0);break;case"textarea":Jl(s),Rh(s);break;case"select":case"option":break;default:typeof n.onClick=="function"&&(s.onclick=hs)}s=e,r.updateQueue=s,s!==null&&(r.flags|=4)}else{switch(a=c.nodeType===9?c:c.ownerDocument,e===Sc.html&&(e=Ih(t)),e===Sc.html?t==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(t,{is:s.is}):(e=a.createElement(t),t==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,t),e[Aa]=r,e[ms]=s,zv(e,r,!1,!1),r.stateNode=e,a=Lc(t,s),t){case"dialog":Pn("cancel",e),Pn("close",e),c=s;break;case"iframe":case"object":case"embed":Pn("load",e),c=s;break;case"video":case"audio":for(c=0;c<Yo.length;c++)Pn(Yo[c],e);c=s;break;case"source":Pn("error",e),c=s;break;case"img":case"image":case"link":Pn("error",e),Pn("load",e),c=s;break;case"details":Pn("toggle",e),c=s;break;case"input":Lh(e,s),c=wc(e,s),Pn("invalid",e);break;case"option":c=Mc(e,s);break;case"select":e._wrapperState={wasMultiple:!!s.multiple},c=In({},s,{value:void 0}),Pn("invalid",e);break;case"textarea":Ph(e,s),c=Ac(e,s),Pn("invalid",e);break;default:c=s}Oc(t,c);var o=c;for(n in o)if(o.hasOwnProperty(n)){var i=o[n];n==="style"?jh(e,i):n==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&Fh(e,i)):n==="children"?typeof i=="string"?(t!=="textarea"||i!=="")&&Ao(e,i):typeof i=="number"&&Ao(e,""+i):n!=="suppressContentEditableWarning"&&n!=="suppressHydrationWarning"&&n!=="autoFocus"&&(bo.hasOwnProperty(n)?i!=null&&n==="onScroll"&&Pn("scroll",e):i!=null&&fc(e,n,i,a))}switch(t){case"input":Jl(e),Dh(e,s,!1);break;case"textarea":Jl(e),Rh(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ba(s.value));break;case"select":e.multiple=!!s.multiple,n=s.value,n!=null?_i(e,!!s.multiple,n,!1):s.defaultValue!=null&&_i(e,!!s.multiple,s.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=hs)}H0(t,s)&&(r.flags|=4)}r.ref!==null&&(r.flags|=128)}return null;case 6:if(e&&r.stateNode!=null)Hv(e,r,e.memoizedProps,s);else{if(typeof s!="string"&&r.stateNode===null)throw Error(Ye(166));t=ni(Ko.current),ni(qr.current),Es(r)?(s=r.stateNode,t=r.memoizedProps,s[Aa]=r,s.nodeValue!==t&&(r.flags|=4)):(s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[Aa]=r,r.stateNode=s)}return null;case 13:return Nn(Hn),s=r.memoizedState,(r.flags&64)!=0?(r.lanes=t,r):(s=s!==null,t=!1,e===null?r.memoizedProps.fallback!==void 0&&Es(r):t=e.memoizedState!==null,s&&!t&&(r.mode&2)!=0&&(e===null&&r.memoizedProps.unstable_avoidThisFallback!==!0||(Hn.current&1)!=0?or===0&&(or=3):((or===0||or===3)&&(or=4),mr===null||(ol&134217727)==0&&(Ui&134217727)==0||Yi(mr,dr))),(s||t)&&(r.flags|=4),null);case 4:return ji(),jf(r),e===null&&R0(r.stateNode.containerInfo),null;case 10:return _f(r),null;case 17:return xr(r.type)&&ys(),null;case 19:if(Nn(Hn),s=r.memoizedState,s===null)return null;if(n=(r.flags&64)!=0,a=s.rendering,a===null)if(n)il(s,!1);else{if(or!==0||e!==null&&(e.flags&64)!=0)for(e=r.child;e!==null;){if(a=Ls(e),a!==null){for(r.flags|=64,il(s,!1),n=a.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),s.lastEffect===null&&(r.firstEffect=null),r.lastEffect=s.lastEffect,s=t,t=r.child;t!==null;)n=t,e=s,n.flags&=2,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null,a=n.alternate,a===null?(n.childLanes=0,n.lanes=e,n.child=null,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,e=a.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return jn(Hn,Hn.current&1|2),r.child}e=e.sibling}s.tail!==null&&cr()>Xf&&(r.flags|=64,n=!0,il(s,!1),r.lanes=33554432)}else{if(!n)if(e=Ls(a),e!==null){if(r.flags|=64,n=!0,t=e.updateQueue,t!==null&&(r.updateQueue=t,r.flags|=4),il(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Zr)return r=r.lastEffect=s.lastEffect,r!==null&&(r.nextEffect=null),null}else 2*cr()-s.renderingStartTime>Xf&&t!==1073741824&&(r.flags|=64,n=!0,il(s,!1),r.lanes=33554432);s.isBackwards?(a.sibling=r.child,r.child=a):(t=s.last,t!==null?t.sibling=a:r.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.lastEffect=r.lastEffect,s.renderingStartTime=cr(),t.sibling=null,r=Hn.current,jn(Hn,n?r&1|2:r&1),t):null;case 23:case 24:return nd(),e!==null&&e.memoizedState!==null!=(r.memoizedState!==null)&&s.mode!=="unstable-defer-without-hiding"&&(r.flags|=4),null}throw Error(Ye(156,r.tag))}function Px(e){switch(e.tag){case 1:xr(e.type)&&ys();var r=e.flags;return r&4096?(e.flags=r&-4097|64,e):null;case 3:if(ji(),Nn(yr),Nn(ur),Cf(),r=e.flags,(r&64)!=0)throw Error(Ye(285));return e.flags=r&-4097|64,e;case 5:return Mf(e),null;case 13:return Nn(Hn),r=e.flags,r&4096?(e.flags=r&-4097|64,e):null;case 19:return Nn(Hn),null;case 4:return ji(),null;case 10:return _f(e),null;case 23:case 24:return nd(),null;default:return null}}function Hf(e,r){try{var t="",s=r;do t+=p2(s),s=s.return;while(s);var c=t}catch(n){c=`
Error generating stack: `+n.message+`
`+n.stack}return{value:e,source:r,stack:c}}function Bf(e,r){try{console.error(r.value)}catch(t){setTimeout(function(){throw t})}}var Nx=typeof WeakMap=="function"?WeakMap:Map;function Bv(e,r,t){t=La(-1,t),t.tag=3,t.payload={element:null};var s=r.value;return t.callback=function(){Hs||(Hs=!0,Jf=s),Bf(e,r)},t}function Uv(e,r,t){t=La(-1,t),t.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var c=r.value;t.payload=function(){return Bf(e,r),s(c)}}var n=e.stateNode;return n!==null&&typeof n.componentDidCatch=="function"&&(t.callback=function(){typeof s!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this),Bf(e,r));var a=r.stack;this.componentDidCatch(r.value,{componentStack:a!==null?a:""})}),t}var Rx=typeof WeakSet=="function"?WeakSet:Set;function Vv(e){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(t){Fa(e,t)}else r.current=null}function Ix(e,r){switch(r.tag){case 0:case 11:case 15:case 22:return;case 1:if(r.flags&256&&e!==null){var t=e.memoizedProps,s=e.memoizedState;e=r.stateNode,r=e.getSnapshotBeforeUpdate(r.elementType===r.type?t:Hr(r.type,t),s),e.__reactInternalSnapshotBeforeUpdate=r}return;case 3:r.flags&256&&ff(r.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Ye(163))}function Fx(e,r,t){switch(t.tag){case 0:case 11:case 15:case 22:if(r=t.updateQueue,r=r!==null?r.lastEffect:null,r!==null){e=r=r.next;do{if((e.tag&3)==3){var s=e.create;e.destroy=s()}e=e.next}while(e!==r)}if(r=t.updateQueue,r=r!==null?r.lastEffect:null,r!==null){e=r=r.next;do{var c=e;s=c.next,c=c.tag,(c&4)!=0&&(c&1)!=0&&(am(t,e),$x(t,e)),e=s}while(e!==r)}return;case 1:e=t.stateNode,t.flags&4&&(r===null?e.componentDidMount():(s=t.elementType===t.type?r.memoizedProps:Hr(t.type,r.memoizedProps),e.componentDidUpdate(s,r.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),r=t.updateQueue,r!==null&&iv(t,r,e);return;case 3:if(r=t.updateQueue,r!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}iv(t,r,e)}return;case 5:e=t.stateNode,r===null&&t.flags&4&&H0(t.type,t.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&e0(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Ye(163))}function Yv(e,r){for(var t=e;;){if(t.tag===5){var s=t.stateNode;if(r)s=s.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{s=t.stateNode;var c=t.memoizedProps.style;c=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=zh("display",c)}}else if(t.tag===6)t.stateNode.nodeValue=r?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function $v(e,r){if(ti&&typeof ti.onCommitFiberUnmount=="function")try{ti.onCommitFiberUnmount(hf,r)}catch(n){}switch(r.tag){case 0:case 11:case 14:case 15:case 22:if(e=r.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var t=e=e.next;do{var s=t,c=s.destroy;if(s=s.tag,c!==void 0)if((s&4)!=0)am(r,t);else{s=r;try{c()}catch(n){Fa(s,n)}}t=t.next}while(t!==e)}break;case 1:if(Vv(r),e=r.stateNode,typeof e.componentWillUnmount=="function")try{e.props=r.memoizedProps,e.state=r.memoizedState,e.componentWillUnmount()}catch(n){Fa(r,n)}break;case 5:Vv(r);break;case 4:Zv(e,r)}}function Gv(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Wv(e){return e.tag===5||e.tag===3||e.tag===4}function qv(e){t:{for(var r=e.return;r!==null;){if(Wv(r))break t;r=r.return}throw Error(Ye(160))}var t=r;switch(r=t.stateNode,t.tag){case 5:var s=!1;break;case 3:r=r.containerInfo,s=!0;break;case 4:r=r.containerInfo,s=!0;break;default:throw Error(Ye(161))}t.flags&16&&(Ao(r,""),t.flags&=-17);t:e:for(t=e;;){for(;t.sibling===null;){if(t.return===null||Wv(t.return)){t=null;break t}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break t}}s?Uf(e,t,r):Vf(e,t,r)}function Uf(e,r,t){var s=e.tag,c=s===5||s===6;if(c)e=c?e.stateNode:e.stateNode.instance,r?t.nodeType===8?t.parentNode.insertBefore(e,r):t.insertBefore(e,r):(t.nodeType===8?(r=t.parentNode,r.insertBefore(e,t)):(r=t,r.appendChild(e)),t=t._reactRootContainer,t!=null||r.onclick!==null||(r.onclick=hs));else if(s!==4&&(e=e.child,e!==null))for(Uf(e,r,t),e=e.sibling;e!==null;)Uf(e,r,t),e=e.sibling}function Vf(e,r,t){var s=e.tag,c=s===5||s===6;if(c)e=c?e.stateNode:e.stateNode.instance,r?t.insertBefore(e,r):t.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Vf(e,r,t),e=e.sibling;e!==null;)Vf(e,r,t),e=e.sibling}function Zv(e,r){for(var t=r,s=!1,c,n;;){if(!s){s=t.return;t:for(;;){if(s===null)throw Error(Ye(160));switch(c=s.stateNode,s.tag){case 5:n=!1;break t;case 3:c=c.containerInfo,n=!0;break t;case 4:c=c.containerInfo,n=!0;break t}s=s.return}s=!0}if(t.tag===5||t.tag===6){t:for(var a=e,o=t,i=o;;)if($v(a,i),i.child!==null&&i.tag!==4)i.child.return=i,i=i.child;else{if(i===o)break t;for(;i.sibling===null;){if(i.return===null||i.return===o)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}n?(a=c,o=t.stateNode,a.nodeType===8?a.parentNode.removeChild(o):a.removeChild(o)):c.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){c=t.stateNode.containerInfo,n=!0,t.child.return=t,t=t.child;continue}}else if($v(e,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return;t=t.return,t.tag===4&&(s=!1)}t.sibling.return=t.return,t=t.sibling}}function Yf(e,r){switch(r.tag){case 0:case 11:case 14:case 15:case 22:var t=r.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do(s.tag&3)==3&&(e=s.destroy,s.destroy=void 0,e!==void 0&&e()),s=s.next;while(s!==t)}return;case 1:return;case 5:if(t=r.stateNode,t!=null){s=r.memoizedProps;var c=e!==null?e.memoizedProps:s;e=r.type;var n=r.updateQueue;if(r.updateQueue=null,n!==null){for(t[ms]=s,e==="input"&&s.type==="radio"&&s.name!=null&&Eh(t,s),Lc(e,c),r=Lc(e,s),c=0;c<n.length;c+=2){var a=n[c],o=n[c+1];a==="style"?jh(t,o):a==="dangerouslySetInnerHTML"?Fh(t,o):a==="children"?Ao(t,o):fc(t,a,o,r)}switch(e){case"input":Tc(t,s);break;case"textarea":Nh(t,s);break;case"select":e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!s.multiple,n=s.value,n!=null?_i(t,!!s.multiple,n,!1):e!==!!s.multiple&&(s.defaultValue!=null?_i(t,!!s.multiple,s.defaultValue,!0):_i(t,!!s.multiple,s.multiple?[]:"",!1))}}}return;case 6:if(r.stateNode===null)throw Error(Ye(162));r.stateNode.nodeValue=r.memoizedProps;return;case 3:t=r.stateNode,t.hydrate&&(t.hydrate=!1,e0(t.containerInfo));return;case 12:return;case 13:r.memoizedState!==null&&(Zf=cr(),Yv(r.child,!0)),Xv(r);return;case 19:Xv(r);return;case 17:return;case 23:case 24:Yv(r,r.memoizedState!==null);return}throw Error(Ye(163))}function Xv(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new Rx),r.forEach(function(s){var c=qx.bind(null,e,s);t.has(s)||(t.add(s),s.then(c,c))})}}function zx(e,r){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(r=r.memoizedState,r!==null&&r.dehydrated===null):!1}var jx=Math.ceil,zs=qa.ReactCurrentDispatcher,$f=qa.ReactCurrentOwner,xn=0,mr=null,$n=null,dr=0,ii=0,Gf=Sa(0),or=0,js=null,Bi=0,ol=0,Ui=0,Wf=0,qf=null,Zf=0,Xf=1/0;function Vi(){Xf=cr()+500}var nn=null,Hs=!1,Jf=null,Jr=null,Pa=!1,ll=null,sl=90,Kf=[],Qf=[],fa=null,ul=0,td=null,Bs=-1,da=0,Us=0,cl=null,Vs=!1;function kr(){return(xn&48)!=0?cr():Bs!==-1?Bs:Bs=cr()}function Na(e){if(e=e.mode,(e&2)==0)return 1;if((e&4)==0)return Ii()===99?1:2;if(da===0&&(da=Bi),Ax.transition!==0){Us!==0&&(Us=qf!==null?qf.pendingLanes:0),e=da;var r=4186112&~Us;return r&=-r,r===0&&(e=4186112&~e,r=e&-e,r===0&&(r=8192)),r}return e=Ii(),(xn&4)!=0&&e===98?e=is(12,da):(e=O2(e),e=is(e,da)),e}function Ra(e,r,t){if(50<ul)throw ul=0,td=null,Error(Ye(185));if(e=Ys(e,r),e===null)return null;os(e,r,t),e===mr&&(Ui|=r,or===4&&Yi(e,dr));var s=Ii();r===1?(xn&8)!=0&&(xn&48)==0?ed(e):(Dr(e,t),xn===0&&(Vi(),Wr())):((xn&4)==0||s!==98&&s!==99||(fa===null?fa=new Set([e]):fa.add(e)),Dr(e,t)),qf=e}function Ys(e,r){e.lanes|=r;var t=e.alternate;for(t!==null&&(t.lanes|=r),t=e,e=e.return;e!==null;)e.childLanes|=r,t=e.alternate,t!==null&&(t.childLanes|=r),t=e,e=e.return;return t.tag===3?t.stateNode:null}function Dr(e,r){for(var t=e.callbackNode,s=e.suspendedLanes,c=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ka(a),i=1<<o,l=n[o];if(l===-1){if((i&s)==0||(i&c)!=0){l=r,Mi(i);var p=Dn;n[o]=10<=p?l+250:6<=p?l+5e3:-1}}else l<=r&&(e.expiredLanes|=i);a&=~i}if(s=Io(e,e===mr?dr:0),r=Dn,s===0)t!==null&&(t!==yf&&mf(t),e.callbackNode=null,e.callbackPriority=0);else{if(t!==null){if(e.callbackPriority===r)return;t!==yf&&mf(t)}r===15?(t=ed.bind(null,e),sa===null?(sa=[t],_s=vf(bs,ev)):sa.push(t),t=yf):r===14?t=Wo(99,ed.bind(null,e)):(t=L2(r),t=Wo(t,Jv.bind(null,e))),e.callbackPriority=r,e.callbackNode=t}}function Jv(e){if(Bs=-1,Us=da=0,(xn&48)!=0)throw Error(Ye(327));var r=e.callbackNode;if(Ia()&&e.callbackNode!==r)return null;var t=Io(e,e===mr?dr:0);if(t===0)return null;var s=t,c=xn;xn|=16;var n=em();(mr!==e||dr!==s)&&(Vi(),$i(e,s));do try{Ux();break}catch(o){tm(e,o)}while(1);if(bf(),zs.current=n,xn=c,$n!==null?s=0:(mr=null,dr=0,s=or),(Bi&Ui)!=0)$i(e,0);else if(s!==0){if(s===2&&(xn|=64,e.hydrate&&(e.hydrate=!1,ff(e.containerInfo)),t=s0(e),t!==0&&(s=fl(e,t))),s===1)throw r=js,$i(e,0),Yi(e,t),Dr(e,cr()),r;switch(e.finishedWork=e.current.alternate,e.finishedLanes=t,s){case 0:case 1:throw Error(Ye(345));case 2:oi(e);break;case 3:if(Yi(e,t),(t&62914560)===t&&(s=Zf+500-cr(),10<s)){if(Io(e,0)!==0)break;if(c=e.suspendedLanes,(c&t)!==t){kr(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=B0(oi.bind(null,e),s);break}oi(e);break;case 4:if(Yi(e,t),(t&4186112)===t)break;for(s=e.eventTimes,c=-1;0<t;){var a=31-ka(t);n=1<<a,a=s[a],a>c&&(c=a),t&=~n}if(t=c,t=cr()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*jx(t/1960))-t,10<t){e.timeoutHandle=B0(oi.bind(null,e),t);break}oi(e);break;case 5:oi(e);break;default:throw Error(Ye(329))}}return Dr(e,cr()),e.callbackNode===r?Jv.bind(null,e):null}function Yi(e,r){for(r&=~Wf,r&=~Ui,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var t=31-ka(r),s=1<<t;e[t]=-1,r&=~s}}function ed(e){if((xn&48)!=0)throw Error(Ye(327));if(Ia(),e===mr&&(e.expiredLanes&dr)!=0){var r=dr,t=fl(e,r);(Bi&Ui)!=0&&(r=Io(e,r),t=fl(e,r))}else r=Io(e,0),t=fl(e,r);if(e.tag!==0&&t===2&&(xn|=64,e.hydrate&&(e.hydrate=!1,ff(e.containerInfo)),r=s0(e),r!==0&&(t=fl(e,r))),t===1)throw t=js,$i(e,0),Yi(e,r),Dr(e,cr()),t;return e.finishedWork=e.current.alternate,e.finishedLanes=r,oi(e),Dr(e,cr()),null}function Hx(){if(fa!==null){var e=fa;fa=null,e.forEach(function(r){r.expiredLanes|=24&r.pendingLanes,Dr(r,cr())})}Wr()}function Kv(e,r){var t=xn;xn|=1;try{return e(r)}finally{xn=t,xn===0&&(Vi(),Wr())}}function Qv(e,r){var t=xn;xn&=-2,xn|=8;try{return e(r)}finally{xn=t,xn===0&&(Vi(),Wr())}}function $s(e,r){jn(Gf,ii),ii|=r,Bi|=r}function nd(){ii=Gf.current,Nn(Gf)}function $i(e,r){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,bx(t)),$n!==null)for(t=$n.return;t!==null;){var s=t;switch(s.tag){case 1:s=s.type.childContextTypes,s!=null&&ys();break;case 3:ji(),Nn(yr),Nn(ur),Cf();break;case 5:Mf(s);break;case 4:ji();break;case 13:Nn(Hn);break;case 19:Nn(Hn);break;case 10:_f(s);break;case 23:case 24:nd()}t=t.return}mr=e,$n=za(e.current,null),dr=ii=Bi=r,or=0,js=null,Wf=Ui=ol=0}function tm(e,r){do{var t=$n;try{if(bf(),Qo.current=Is,Ds){for(var s=Un.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}Ds=!1}if(tl=0,ir=fr=Un=null,el=!1,$f.current=null,t===null||t.return===null){or=1,js=r,$n=null;break}t:{var n=e,a=t.return,o=t,i=r;if(r=dr,o.flags|=2048,o.firstEffect=o.lastEffect=null,i!==null&&typeof i=="object"&&typeof i.then=="function"){var l=i;if((o.mode&2)==0){var p=o.alternate;p?(o.updateQueue=p.updateQueue,o.memoizedState=p.memoizedState,o.lanes=p.lanes):(o.updateQueue=null,o.memoizedState=null)}var d=(Hn.current&1)!=0,f=a;do{var u;if(u=f.tag===13){var h=f.memoizedState;if(h!==null)u=h.dehydrated!==null;else{var m=f.memoizedProps;u=m.fallback===void 0?!1:m.unstable_avoidThisFallback!==!0?!0:!d}}if(u){var v=f.updateQueue;if(v===null){var y=new Set;y.add(l),f.updateQueue=y}else v.add(l);if((f.mode&2)==0){if(f.flags|=64,o.flags|=16384,o.flags&=-2981,o.tag===1)if(o.alternate===null)o.tag=17;else{var k=La(-1,1);k.tag=2,Ea(o,k)}o.lanes|=1;break t}i=void 0,o=r;var _=n.pingCache;if(_===null?(_=n.pingCache=new Nx,i=new Set,_.set(l,i)):(i=_.get(l),i===void 0&&(i=new Set,_.set(l,i))),!i.has(o)){i.add(o);var T=Wx.bind(null,n,l,o);l.then(T,T)}f.flags|=4096,f.lanes=r;break t}f=f.return}while(f!==null);i=Error((bi(o.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}or!==5&&(or=2),i=Hf(i,o),f=a;do{switch(f.tag){case 3:n=i,f.flags|=4096,r&=-r,f.lanes|=r;var b=Bv(f,n,r);av(f,b);break t;case 1:n=i;var x=f.type,O=f.stateNode;if((f.flags&64)==0&&(typeof x.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Jr===null||!Jr.has(O)))){f.flags|=4096,r&=-r,f.lanes|=r;var A=Uv(f,n,r);av(f,A);break t}}f=f.return}while(f!==null)}rm(t)}catch(C){r=C,$n===t&&t!==null&&($n=t=t.return);continue}break}while(1)}function em(){var e=zs.current;return zs.current=Is,e===null?Is:e}function fl(e,r){var t=xn;xn|=16;var s=em();mr===e&&dr===r||$i(e,r);do try{Bx();break}catch(c){tm(e,c)}while(1);if(bf(),xn=t,zs.current=s,$n!==null)throw Error(Ye(261));return mr=null,dr=0,or}function Bx(){for(;$n!==null;)nm($n)}function Ux(){for(;$n!==null&&!Tx();)nm($n)}function nm(e){var r=om(e.alternate,e,ii);e.memoizedProps=e.pendingProps,r===null?rm(e):$n=r,$f.current=null}function rm(e){var r=e;do{var t=r.alternate;if(e=r.return,(r.flags&2048)==0){if(t=Dx(t,r,ii),t!==null){$n=t;return}if(t=r,t.tag!==24&&t.tag!==23||t.memoizedState===null||(ii&1073741824)!=0||(t.mode&4)==0){for(var s=0,c=t.child;c!==null;)s|=c.lanes|c.childLanes,c=c.sibling;t.childLanes=s}e!==null&&(e.flags&2048)==0&&(e.firstEffect===null&&(e.firstEffect=r.firstEffect),r.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=r.firstEffect),e.lastEffect=r.lastEffect),1<r.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=r:e.firstEffect=r,e.lastEffect=r))}else{if(t=Px(r),t!==null){t.flags&=2047,$n=t;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(r=r.sibling,r!==null){$n=r;return}$n=r=e}while(r!==null);or===0&&(or=5)}function oi(e){var r=Ii();return ei(99,Vx.bind(null,e,r)),null}function Vx(e,r){do Ia();while(ll!==null);if((xn&48)!=0)throw Error(Ye(327));var t=e.finishedWork;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(Ye(177));e.callbackNode=null;var s=t.lanes|t.childLanes,c=s,n=e.pendingLanes&~c;e.pendingLanes=c,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=c,e.mutableReadLanes&=c,e.entangledLanes&=c,c=e.entanglements;for(var a=e.eventTimes,o=e.expirationTimes;0<n;){var i=31-ka(n),l=1<<i;c[i]=0,a[i]=-1,o[i]=-1,n&=~l}if(fa!==null&&(s&24)==0&&fa.has(e)&&fa.delete(e),e===mr&&($n=mr=null,dr=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,s=t.firstEffect):s=t:s=t.firstEffect,s!==null){if(c=xn,xn|=32,$f.current=null,sf=ls,a=C0(),rf(a)){if("selectionStart"in a)o={start:a.selectionStart,end:a.selectionEnd};else t:if(o=(o=a.ownerDocument)&&o.defaultView||window,(l=o.getSelection&&o.getSelection())&&l.rangeCount!==0){o=l.anchorNode,n=l.anchorOffset,i=l.focusNode,l=l.focusOffset;try{o.nodeType,i.nodeType}catch(C){o=null;break t}var p=0,d=-1,f=-1,u=0,h=0,m=a,v=null;e:for(;;){for(var y;m!==o||n!==0&&m.nodeType!==3||(d=p+n),m!==i||l!==0&&m.nodeType!==3||(f=p+l),m.nodeType===3&&(p+=m.nodeValue.length),(y=m.firstChild)!==null;)v=m,m=y;for(;;){if(m===a)break e;if(v===o&&++u===n&&(d=p),v===i&&++h===l&&(f=p),(y=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=y}o=d===-1||f===-1?null:{start:d,end:f}}else o=null;o=o||{start:0,end:0}}else o=null;uf={focusedElem:a,selectionRange:o},ls=!1,cl=null,Vs=!1,nn=s;do try{Yx()}catch(C){if(nn===null)throw Error(Ye(330));Fa(nn,C),nn=nn.nextEffect}while(nn!==null);cl=null,nn=s;do try{for(a=e;nn!==null;){var k=nn.flags;if(k&16&&Ao(nn.stateNode,""),k&128){var _=nn.alternate;if(_!==null){var T=_.ref;T!==null&&(typeof T=="function"?T(null):T.current=null)}}switch(k&1038){case 2:qv(nn),nn.flags&=-3;break;case 6:qv(nn),nn.flags&=-3,Yf(nn.alternate,nn);break;case 1024:nn.flags&=-1025;break;case 1028:nn.flags&=-1025,Yf(nn.alternate,nn);break;case 4:Yf(nn.alternate,nn);break;case 8:o=nn,Zv(a,o);var b=o.alternate;Gv(o),b!==null&&Gv(b)}nn=nn.nextEffect}}catch(C){if(nn===null)throw Error(Ye(330));Fa(nn,C),nn=nn.nextEffect}while(nn!==null);if(T=uf,_=C0(),k=T.focusedElem,a=T.selectionRange,_!==k&&k&&k.ownerDocument&&S0(k.ownerDocument.documentElement,k)){for(a!==null&&rf(k)&&(_=a.start,T=a.end,T===void 0&&(T=_),"selectionStart"in k?(k.selectionStart=_,k.selectionEnd=Math.min(T,k.value.length)):(T=(_=k.ownerDocument||document)&&_.defaultView||window,T.getSelection&&(T=T.getSelection(),o=k.textContent.length,b=Math.min(a.start,o),a=a.end===void 0?b:Math.min(a.end,o),!T.extend&&b>a&&(o=a,a=b,b=o),o=A0(k,b),n=A0(k,a),o&&n&&(T.rangeCount!==1||T.anchorNode!==o.node||T.anchorOffset!==o.offset||T.focusNode!==n.node||T.focusOffset!==n.offset)&&(_=_.createRange(),_.setStart(o.node,o.offset),T.removeAllRanges(),b>a?(T.addRange(_),T.extend(n.node,n.offset)):(_.setEnd(n.node,n.offset),T.addRange(_)))))),_=[],T=k;T=T.parentNode;)T.nodeType===1&&_.push({element:T,left:T.scrollLeft,top:T.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<_.length;k++)T=_[k],T.element.scrollLeft=T.left,T.element.scrollTop=T.top}ls=!!sf,uf=sf=null,e.current=t,nn=s;do try{for(k=e;nn!==null;){var x=nn.flags;if(x&36&&Fx(k,nn.alternate,nn),x&128){_=void 0;var O=nn.ref;if(O!==null){var A=nn.stateNode;switch(nn.tag){case 5:_=A;break;default:_=A}typeof O=="function"?O(_):O.current=_}}nn=nn.nextEffect}}catch(C){if(nn===null)throw Error(Ye(330));Fa(nn,C),nn=nn.nextEffect}while(nn!==null);nn=null,Mx(),xn=c}else e.current=t;if(Pa)Pa=!1,ll=e,sl=r;else for(nn=s;nn!==null;)r=nn.nextEffect,nn.nextEffect=null,nn.flags&8&&(x=nn,x.sibling=null,x.stateNode=null),nn=r;if(s=e.pendingLanes,s===0&&(Jr=null),s===1?e===td?ul++:(ul=0,td=e):ul=0,t=t.stateNode,ti&&typeof ti.onCommitFiberRoot=="function")try{ti.onCommitFiberRoot(hf,t,void 0,(t.current.flags&64)==64)}catch(C){}if(Dr(e,cr()),Hs)throw Hs=!1,e=Jf,Jf=null,e;return(xn&8)!=0||Wr(),null}function Yx(){for(;nn!==null;){var e=nn.alternate;Vs||cl===null||((nn.flags&8)!=0?qh(nn,cl)&&(Vs=!0):nn.tag===13&&zx(e,nn)&&qh(nn,cl)&&(Vs=!0));var r=nn.flags;(r&256)!=0&&Ix(e,nn),(r&512)==0||Pa||(Pa=!0,Wo(97,function(){return Ia(),null})),nn=nn.nextEffect}}function Ia(){if(sl!==90){var e=97<sl?97:sl;return sl=90,ei(e,Gx)}return!1}function $x(e,r){Kf.push(r,e),Pa||(Pa=!0,Wo(97,function(){return Ia(),null}))}function am(e,r){Qf.push(r,e),Pa||(Pa=!0,Wo(97,function(){return Ia(),null}))}function Gx(){if(ll===null)return!1;var e=ll;if(ll=null,(xn&48)!=0)throw Error(Ye(331));var r=xn;xn|=32;var t=Qf;Qf=[];for(var s=0;s<t.length;s+=2){var c=t[s],n=t[s+1],a=c.destroy;if(c.destroy=void 0,typeof a=="function")try{a()}catch(i){if(n===null)throw Error(Ye(330));Fa(n,i)}}for(t=Kf,Kf=[],s=0;s<t.length;s+=2){c=t[s],n=t[s+1];try{var o=c.create;c.destroy=o()}catch(i){if(n===null)throw Error(Ye(330));Fa(n,i)}}for(o=e.current.firstEffect;o!==null;)e=o.nextEffect,o.nextEffect=null,o.flags&8&&(o.sibling=null,o.stateNode=null),o=e;return xn=r,Wr(),!0}function im(e,r,t){r=Hf(t,r),r=Bv(e,r,1),Ea(e,r),r=kr(),e=Ys(e,1),e!==null&&(os(e,1,r),Dr(e,r))}function Fa(e,r){if(e.tag===3)im(e,e,r);else for(var t=e.return;t!==null;){if(t.tag===3){im(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Jr===null||!Jr.has(s))){e=Hf(r,e);var c=Uv(t,e,1);if(Ea(t,c),c=kr(),t=Ys(t,1),t!==null)os(t,1,c),Dr(t,c);else if(typeof s.componentDidCatch=="function"&&(Jr===null||!Jr.has(s)))try{s.componentDidCatch(r,e)}catch(n){}break}}t=t.return}}function Wx(e,r,t){var s=e.pingCache;s!==null&&s.delete(r),r=kr(),e.pingedLanes|=e.suspendedLanes&t,mr===e&&(dr&t)===t&&(or===4||or===3&&(dr&62914560)===dr&&500>cr()-Zf?$i(e,0):Wf|=t),Dr(e,r)}function qx(e,r){var t=e.stateNode;t!==null&&t.delete(r),r=0,r===0&&(r=e.mode,(r&2)==0?r=1:(r&4)==0?r=Ii()===99?1:2:(da===0&&(da=Bi),r=Ai(62914560&~da),r===0&&(r=4194304))),t=kr(),e=Ys(e,r),e!==null&&(os(e,r,t),Dr(e,t))}var om;om=function(e,r,t){var s=r.lanes;if(e!==null)if(e.memoizedProps!==r.pendingProps||yr.current)Br=!0;else if((t&s)!=0)Br=(e.flags&16384)!=0;else{switch(Br=!1,r.tag){case 3:Ev(r),Sf();break;case 5:dv(r);break;case 1:xr(r.type)&&xs(r);break;case 4:kf(r,r.stateNode.containerInfo);break;case 10:s=r.memoizedProps.value;var c=r.type._context;jn(ws,c._currentValue),c._currentValue=s;break;case 13:if(r.memoizedState!==null)return(t&r.child.childLanes)!=0?Dv(e,r,t):(jn(Hn,Hn.current&1),r=ca(e,r,t),r!==null?r.sibling:null);jn(Hn,Hn.current&1);break;case 19:if(s=(t&r.childLanes)!=0,(e.flags&64)!=0){if(s)return Fv(e,r,t);r.flags|=64}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),jn(Hn,Hn.current),s)break;return null;case 23:case 24:return r.lanes=0,Rf(e,r,t)}return ca(e,r,t)}else Br=!1;switch(r.lanes=0,r.tag){case 2:if(s=r.type,e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2),e=r.pendingProps,c=Ri(r,ur.current),zi(r,t),c=Lf(null,r,s,e,c,t),r.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0){if(r.tag=1,r.memoizedState=null,r.updateQueue=null,xr(s)){var n=!0;xs(r)}else n=!1;r.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,wf(r);var a=s.getDerivedStateFromProps;typeof a=="function"&&Ms(r,s,a,e),c.updater=As,r.stateNode=c,c._reactInternals=r,Tf(r,s,e,t),r=Ff(null,r,s,!0,n,t)}else r.tag=0,_r(null,r,c,t),r=r.child;return r;case 16:c=r.elementType;t:{switch(e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2),e=r.pendingProps,n=c._init,c=n(c._payload),r.type=c,n=r.tag=Xx(c),e=Hr(c,e),n){case 0:r=If(null,r,c,e,t);break t;case 1:r=Lv(null,r,c,e,t);break t;case 11:r=Av(null,r,c,e,t);break t;case 14:r=Sv(null,r,c,Hr(c.type,e),s,t);break t}throw Error(Ye(306,c,""))}return r;case 0:return s=r.type,c=r.pendingProps,c=r.elementType===s?c:Hr(s,c),If(e,r,s,c,t);case 1:return s=r.type,c=r.pendingProps,c=r.elementType===s?c:Hr(s,c),Lv(e,r,s,c,t);case 3:if(Ev(r),s=r.updateQueue,e===null||s===null)throw Error(Ye(282));if(s=r.pendingProps,c=r.memoizedState,c=c!==null?c.element:null,rv(e,r),qo(r,s,null,t),s=r.memoizedState.element,s===c)Sf(),r=ca(e,r,t);else{if(c=r.stateNode,(n=c.hydrate)&&(Da=Ei(r.stateNode.containerInfo.firstChild),ua=r,n=Zr=!0),n){if(e=c.mutableSourceEagerHydrationData,e!=null)for(c=0;c<e.length;c+=2)n=e[c],n._workInProgressVersionPrimary=e[c+1],Hi.push(n);for(t=fv(r,null,s,t),r.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else _r(e,r,s,t),Sf();r=r.child}return r;case 5:return dv(r),e===null&&Af(r),s=r.type,c=r.pendingProps,n=e!==null?e.memoizedProps:null,a=c.children,cf(s,c)?a=null:n!==null&&cf(s,n)&&(r.flags|=16),Ov(e,r),_r(e,r,a,t),r.child;case 6:return e===null&&Af(r),null;case 13:return Dv(e,r,t);case 4:return kf(r,r.stateNode.containerInfo),s=r.pendingProps,e===null?r.child=Os(r,null,s,t):_r(e,r,s,t),r.child;case 11:return s=r.type,c=r.pendingProps,c=r.elementType===s?c:Hr(s,c),Av(e,r,s,c,t);case 7:return _r(e,r,r.pendingProps,t),r.child;case 8:return _r(e,r,r.pendingProps.children,t),r.child;case 12:return _r(e,r,r.pendingProps.children,t),r.child;case 10:t:{s=r.type._context,c=r.pendingProps,a=r.memoizedProps,n=c.value;var o=r.type._context;if(jn(ws,o._currentValue),o._currentValue=n,a!==null)if(o=a.value,n=Or(o,n)?0:(typeof s._calculateChangedBits=="function"?s._calculateChangedBits(o,n):1073741823)|0,n===0){if(a.children===c.children&&!yr.current){r=ca(e,r,t);break t}}else for(o=r.child,o!==null&&(o.return=r);o!==null;){var i=o.dependencies;if(i!==null){a=o.child;for(var l=i.firstContext;l!==null;){if(l.context===s&&(l.observedBits&n)!=0){o.tag===1&&(l=La(-1,t&-t),l.tag=2,Ea(o,l)),o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),nv(o.return,t),i.lanes|=t;break}l=l.next}}else a=o.tag===10&&o.type===r.type?null:o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===r){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}_r(e,r,c.children,t),r=r.child}return r;case 9:return c=r.type,n=r.pendingProps,s=n.children,zi(r,t),c=Lr(c,n.unstable_observedBits),s=s(c),r.flags|=1,_r(e,r,s,t),r.child;case 14:return c=r.type,n=Hr(c,r.pendingProps),n=Hr(c.type,n),Sv(e,r,c,n,s,t);case 15:return Cv(e,r,r.type,r.pendingProps,s,t);case 17:return s=r.type,c=r.pendingProps,c=r.elementType===s?c:Hr(s,c),e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2),r.tag=1,xr(s)?(e=!0,xs(r)):e=!1,zi(r,t),sv(r,s,c),Tf(r,s,c,t),Ff(null,r,s,!0,e,t);case 19:return Fv(e,r,t);case 23:return Rf(e,r,t);case 24:return Rf(e,r,t)}throw Error(Ye(156,r.tag))};function Zx(e,r,t,s){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(e,r,t,s){return new Zx(e,r,t,s)}function rd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xx(e){if(typeof e=="function")return rd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wl)return 11;if(e===Zl)return 14}return 2}function za(e,r){var t=e.alternate;return t===null?(t=Pr(e.tag,r,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=r,t.type=e.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,r=e.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Gs(e,r,t,s,c,n){var a=2;if(s=e,typeof e=="function")rd(e)&&(a=1);else if(typeof e=="string")a=5;else t:switch(e){case xa:return Gi(t.children,c,n,r);case Ah:a=8,c|=16;break;case dc:a=8,c|=1;break;case wo:return e=Pr(12,t,r,c|8),e.elementType=wo,e.type=wo,e.lanes=n,e;case To:return e=Pr(13,t,r,c),e.type=To,e.elementType=To,e.lanes=n,e;case ql:return e=Pr(19,t,r,c),e.elementType=ql,e.lanes=n,e;case yc:return ad(t,c,n,r);case xc:return e=Pr(24,t,r,c),e.elementType=xc,e.lanes=n,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pc:a=10;break t;case hc:a=9;break t;case Wl:a=11;break t;case Zl:a=14;break t;case vc:a=16,s=null;break t;case mc:a=22;break t}throw Error(Ye(130,e==null?e:typeof e,""))}return r=Pr(a,t,r,c),r.elementType=e,r.type=s,r.lanes=n,r}function Gi(e,r,t,s){return e=Pr(7,e,s,r),e.lanes=t,e}function ad(e,r,t,s){return e=Pr(23,e,s,r),e.elementType=yc,e.lanes=t,e}function id(e,r,t){return e=Pr(6,e,null,r),e.lanes=t,e}function od(e,r,t){return r=Pr(4,e.children!==null?e.children:[],e.key,r),r.lanes=t,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Jx(e,r,t){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=$c(0),this.expirationTimes=$c(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$c(0),this.mutableSourceEagerHydrationData=null}function Kx(e,r,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Za,key:s==null?null:""+s,children:e,containerInfo:r,implementation:t}}function Ws(e,r,t,s){var c=r.current,n=kr(),a=Na(c);t:if(t){t=t._reactInternals;e:{if(Ja(t)!==t||t.tag!==1)throw Error(Ye(170));var o=t;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(xr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(Ye(171))}if(t.tag===1){var i=t.type;if(xr(i)){t=G0(t,i,o);break t}}t=o}else t=Ca;return r.context===null?r.context=t:r.pendingContext=t,r=La(n,a),r.payload={element:e},s=s===void 0?null:s,s!==null&&(r.callback=s),Ea(c,r),Ra(c,a,n),a}function ld(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lm(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<r?t:r}}function sd(e,r){lm(e,r),(e=e.alternate)&&lm(e,r)}function Qx(){return null}function ud(e,r,t){var s=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new Jx(e,r,t!=null&&t.hydrate===!0),r=Pr(3,null,null,r===2?7:r===1?3:0),t.current=r,r.stateNode=t,wf(r),e[Di]=t.current,R0(e.nodeType===8?e.parentNode:e),s)for(e=0;e<s.length;e++){r=s[e];var c=r._getVersion;c=c(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,c]:t.mutableSourceEagerHydrationData.push(r,c)}this._internalRoot=t}ud.prototype.render=function(e){Ws(e,this._internalRoot,null,null)},ud.prototype.unmount=function(){var e=this._internalRoot,r=e.containerInfo;Ws(null,e,null,function(){r[Di]=null})};function dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function t3(e,r){if(r||(r=e?e.nodeType===9?e.documentElement:e.firstChild:null,r=!(!r||r.nodeType!==1||!r.hasAttribute("data-reactroot"))),!r)for(var t;t=e.lastChild;)e.removeChild(t);return new ud(e,0,r?{hydrate:!0}:void 0)}function qs(e,r,t,s,c){var n=t._reactRootContainer;if(n){var a=n._internalRoot;if(typeof c=="function"){var o=c;c=function(){var l=ld(a);o.call(l)}}Ws(r,a,e,c)}else{if(n=t._reactRootContainer=t3(t,s),a=n._internalRoot,typeof c=="function"){var i=c;c=function(){var l=ld(a);i.call(l)}}Qv(function(){Ws(r,a,e,c)})}return ld(a)}Zh=function(e){if(e.tag===13){var r=kr();Ra(e,4,r),sd(e,4)}},jc=function(e){if(e.tag===13){var r=kr();Ra(e,67108864,r),sd(e,67108864)}},Xh=function(e){if(e.tag===13){var r=kr(),t=Na(e);Ra(e,t,r),sd(e,t)}},Jh=function(e,r){return r()},Dc=function(e,r,t){switch(r){case"input":if(Tc(e,t),r=t.name,t.type==="radio"&&r!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<t.length;r++){var s=t[r];if(s!==e&&s.form===e.form){var c=gs(s);if(!c)throw Error(Ye(90));Oh(s),Tc(s,c)}}}break;case"textarea":Nh(e,t);break;case"select":r=t.value,r!=null&&_i(e,!!t.multiple,r,!1)}},Pc=Kv,Vh=function(e,r,t,s,c){var n=xn;xn|=4;try{return ei(98,e.bind(null,r,t,s,c))}finally{xn=n,xn===0&&(Vi(),Wr())}},Nc=function(){(xn&49)==0&&(Hx(),Ia())},Yh=function(e,r){var t=xn;xn|=2;try{return e(r)}finally{xn=t,xn===0&&(Vi(),Wr())}};function sm(e,r){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dl(r))throw Error(Ye(200));return Kx(e,r,null,t)}var e3={Events:[Go,Pi,gs,Bh,Uh,Ia,{current:!1}]},pl={findFiberByHostInstance:Ka,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},n3={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wh(e),e===null?null:e.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||Qx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zs.isDisabled&&Zs.supportsFiber)try{hf=Zs.inject(n3),ti=Zs}catch(e){}}Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e3,Cr.createPortal=sm,Cr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(Ye(188)):Error(Ye(268,Object.keys(e)));return e=Wh(r),e=e===null?null:e.stateNode,e},Cr.flushSync=function(e,r){var t=xn;if((t&48)!=0)return e(r);xn|=1;try{if(e)return ei(99,e.bind(null,r))}finally{xn=t,Wr()}},Cr.hydrate=function(e,r,t){if(!dl(r))throw Error(Ye(200));return qs(null,e,r,!0,t)},Cr.render=function(e,r,t){if(!dl(r))throw Error(Ye(200));return qs(null,e,r,!1,t)},Cr.unmountComponentAtNode=function(e){if(!dl(e))throw Error(Ye(40));return e._reactRootContainer?(Qv(function(){qs(null,null,e,!1,function(){e._reactRootContainer=null,e[Di]=null})}),!0):!1},Cr.unstable_batchedUpdates=Kv,Cr.unstable_createPortal=function(e,r){return sm(e,r,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)},Cr.unstable_renderSubtreeIntoContainer=function(e,r,t,s){if(!dl(t))throw Error(Ye(200));if(e==null||e._reactInternals===void 0)throw Error(Ye(38));return qs(e,r,t,!1,s)},Cr.version="17.0.2";function um(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(um)}catch(e){console.error(e)}}um(),sc.exports=Cr;var Wi=sc.exports;const r3="popstate",cd="pushState",fd="replaceState",cm=[r3,cd,fd];var a3=({base:e=""}={})=>{const[{path:r,search:t},s]=Pe.exports.useState(()=>({path:fm(e),search:location.search})),c=Pe.exports.useRef(r+t);Pe.exports.useEffect(()=>{const a=()=>{const o=fm(e),i=location.search,l=o+i;c.current!==l&&(c.current=l,s({path:o,search:i}))};return cm.forEach(o=>addEventListener(o,a)),a(),()=>cm.forEach(o=>removeEventListener(o,a))},[e]);const n=Pe.exports.useCallback((a,{replace:o=!1}={})=>history[o?fd:cd](null,"",a[0]==="~"?a.slice(1):e+a),[e]);return[r,n]};if(typeof history!="undefined")for(const e of[cd,fd]){const r=history[e];history[e]=function(){const t=r.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),t}}const fm=(e,r=location.pathname)=>r.toLowerCase().indexOf(e.toLowerCase())?"~"+r:r.slice(e.length)||"/";function i3(e=l3){let r={};const t=s=>r[s]||(r[s]=e(s));return(s,c)=>{const{regexp:n,keys:a}=t(s||""),o=n.exec(c);if(!o)return[!1,null];const i=a.reduce((l,p,d)=>(l[p.name]=o[d+1],l),{});return[!0,i]}}const dm=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),o3=(e,r,t)=>{let s=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return r&&t&&(s="(?:\\/"+s+")"),s+(r?"?":"")},l3=e=>{const r=/:([A-Za-z0-9_]+)([?+*]?)/g;let t=null,s=0,c=[],n="";for(;(t=r.exec(e))!==null;){const[a,o,i]=t,l=i==="+"||i==="*",p=i==="?"||i==="*",d=p&&e[t.index-1]==="/"?1:0,f=e.substring(s,t.index-d);c.push({name:o}),s=r.lastIndex,n+=dm(f)+o3(l,p,d)}return n+=dm(e.substring(s)),{keys:c,regexp:new RegExp("^"+n+"(?:\\/)?$","i")}},pm=Pe.exports.createContext({}),hm=({hook:e=a3,base:r="",matcher:t=i3()}={})=>({hook:e,base:r,matcher:t}),dd=()=>{const e=Pe.exports.useContext(pm);return e.v||(e.v=hm())},vm=()=>{const e=dd();return e.hook(e)},s3=e=>{const[r]=vm();return dd().matcher(e,r)},u3=e=>{const r=Pe.exports.useRef(),t=r.current||(r.current={v:hm(e)});return Pe.exports.createElement(pm.Provider,{value:t,children:e.children})},c3=({path:e,match:r,component:t,children:s})=>{const c=s3(e),[n,a]=r||c;return n?t?Pe.exports.createElement(t,{params:a}):typeof s=="function"?s(a):s:null},pd=e=>Array.isArray(e)?[].concat(...e.map(r=>r&&r.type===Pe.exports.Fragment?pd(r.props.children):pd(r))):[e],f3=({children:e,location:r})=>{const{matcher:t}=dd(),[s]=vm();for(const c of pd(e)){let n=0;if(Pe.exports.isValidElement(c)&&(n=c.props.path?t(c.props.path,r||s):[!0,{}])[0])return Pe.exports.cloneElement(c,{match:n})}return null};var mm={exports:{}};(function(e,r){(function(t){e.exports=t()})(function(){return function t(s,c,n){function a(l,p){if(!c[l]){if(!s[l]){var d=typeof Vl=="function"&&Vl;if(!p&&d)return d(l,!0);if(o)return o(l,!0);var f=new Error("Cannot find module '"+l+"'");throw f.code="MODULE_NOT_FOUND",f}var u=c[l]={exports:{}};s[l][0].call(u.exports,function(h){return a(s[l][1][h]||h)},u,u.exports,t,s,c,n)}return c[l].exports}for(var o=typeof Vl=="function"&&Vl,i=0;i<n.length;i++)a(n[i]);return a}({1:[function(t,s,c){var n=t("../src/lib"),a={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:#fff;","X .select-outline-2":"stroke:#000;stroke-dasharray:2px 2px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in a){var i=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");n.addStyleRule(i,a[o])}},{"../src/lib":232}],2:[function(t,s,c){s.exports=t("../src/transforms/aggregate")},{"../src/transforms/aggregate":384}],3:[function(t,s,c){s.exports=t("../src/traces/bar")},{"../src/traces/bar":334}],4:[function(t,s,c){s.exports=t("../src/components/calendars")},{"../src/components/calendars":100}],5:[function(t,s,c){s.exports=t("../src/core")},{"../src/core":214}],6:[function(t,s,c){s.exports=t("../src/transforms/filter")},{"../src/transforms/filter":385}],7:[function(t,s,c){s.exports=t("../src/transforms/groupby")},{"../src/transforms/groupby":386}],8:[function(t,s,c){var n=t("./core");n.register([t("./bar"),t("./pie"),t("./aggregate"),t("./filter"),t("./groupby"),t("./sort"),t("./calendars")]),s.exports=n},{"./aggregate":2,"./bar":3,"./calendars":4,"./core":5,"./filter":6,"./groupby":7,"./pie":9,"./sort":10}],9:[function(t,s,c){s.exports=t("../src/traces/pie")},{"../src/traces/pie":349}],10:[function(t,s,c){s.exports=t("../src/transforms/sort")},{"../src/transforms/sort":388}],11:[function(t,s,c){(function(){var n={version:"3.8.0"},a=[].slice,o=function(g){return a.call(g)},i=self.document;function l(g){return g&&(g.ownerDocument||g.document||g).documentElement}function p(g){return g&&(g.ownerDocument&&g.ownerDocument.defaultView||g.document&&g||g.defaultView)}if(i)try{o(i.documentElement.childNodes)[0].nodeType}catch(g){o=function(S){for(var N=S.length,X=new Array(N);N--;)X[N]=S[N];return X}}if(Date.now||(Date.now=function(){return+new Date}),i)try{i.createElement("DIV").style.setProperty("opacity",0,"")}catch(g){var d=this.Element.prototype,f=d.setAttribute,u=d.setAttributeNS,h=this.CSSStyleDeclaration.prototype,m=h.setProperty;d.setAttribute=function(S,N){f.call(this,S,N+"")},d.setAttributeNS=function(S,N,X){u.call(this,S,N,X+"")},h.setProperty=function(S,N,X){m.call(this,S,N+"",X)}}function v(g,S){return g<S?-1:g>S?1:g>=S?0:NaN}function y(g){return g===null?NaN:+g}function k(g){return!isNaN(g)}function _(g){return{left:function(S,N,X,J){for(arguments.length<3&&(X=0),arguments.length<4&&(J=S.length);X<J;){var at=X+J>>>1;g(S[at],N)<0?X=at+1:J=at}return X},right:function(S,N,X,J){for(arguments.length<3&&(X=0),arguments.length<4&&(J=S.length);X<J;){var at=X+J>>>1;g(S[at],N)>0?J=at:X=at+1}return X}}}n.ascending=v,n.descending=function(g,S){return S<g?-1:S>g?1:S>=g?0:NaN},n.min=function(g,S){var N,X,J=-1,at=g.length;if(arguments.length===1){for(;++J<at;)if((X=g[J])!=null&&X>=X){N=X;break}for(;++J<at;)(X=g[J])!=null&&N>X&&(N=X)}else{for(;++J<at;)if((X=S.call(g,g[J],J))!=null&&X>=X){N=X;break}for(;++J<at;)(X=S.call(g,g[J],J))!=null&&N>X&&(N=X)}return N},n.max=function(g,S){var N,X,J=-1,at=g.length;if(arguments.length===1){for(;++J<at;)if((X=g[J])!=null&&X>=X){N=X;break}for(;++J<at;)(X=g[J])!=null&&X>N&&(N=X)}else{for(;++J<at;)if((X=S.call(g,g[J],J))!=null&&X>=X){N=X;break}for(;++J<at;)(X=S.call(g,g[J],J))!=null&&X>N&&(N=X)}return N},n.extent=function(g,S){var N,X,J,at=-1,lt=g.length;if(arguments.length===1){for(;++at<lt;)if((X=g[at])!=null&&X>=X){N=J=X;break}for(;++at<lt;)(X=g[at])!=null&&(N>X&&(N=X),J<X&&(J=X))}else{for(;++at<lt;)if((X=S.call(g,g[at],at))!=null&&X>=X){N=J=X;break}for(;++at<lt;)(X=S.call(g,g[at],at))!=null&&(N>X&&(N=X),J<X&&(J=X))}return[N,J]},n.sum=function(g,S){var N,X=0,J=g.length,at=-1;if(arguments.length===1)for(;++at<J;)k(N=+g[at])&&(X+=N);else for(;++at<J;)k(N=+S.call(g,g[at],at))&&(X+=N);return X},n.mean=function(g,S){var N,X=0,J=g.length,at=-1,lt=J;if(arguments.length===1)for(;++at<J;)k(N=y(g[at]))?X+=N:--lt;else for(;++at<J;)k(N=y(S.call(g,g[at],at)))?X+=N:--lt;if(lt)return X/lt},n.quantile=function(g,S){var N=(g.length-1)*S+1,X=Math.floor(N),J=+g[X-1],at=N-X;return at?J+at*(g[X]-J):J},n.median=function(g,S){var N,X=[],J=g.length,at=-1;if(arguments.length===1)for(;++at<J;)k(N=y(g[at]))&&X.push(N);else for(;++at<J;)k(N=y(S.call(g,g[at],at)))&&X.push(N);if(X.length)return n.quantile(X.sort(v),.5)},n.variance=function(g,S){var N,X,J=g.length,at=0,lt=0,ht=-1,pt=0;if(arguments.length===1)for(;++ht<J;)k(N=y(g[ht]))&&(lt+=(X=N-at)*(N-(at+=X/++pt)));else for(;++ht<J;)k(N=y(S.call(g,g[ht],ht)))&&(lt+=(X=N-at)*(N-(at+=X/++pt)));if(pt>1)return lt/(pt-1)},n.deviation=function(){var g=n.variance.apply(this,arguments);return g&&Math.sqrt(g)};var T=_(v);function b(g){return g.length}n.bisectLeft=T.left,n.bisect=n.bisectRight=T.right,n.bisector=function(g){return _(g.length===1?function(S,N){return v(g(S),N)}:g)},n.shuffle=function(g,S,N){(at=arguments.length)<3&&(N=g.length,at<2&&(S=0));for(var X,J,at=N-S;at;)J=Math.random()*at--|0,X=g[at+S],g[at+S]=g[J+S],g[J+S]=X;return g},n.permute=function(g,S){for(var N=S.length,X=new Array(N);N--;)X[N]=g[S[N]];return X},n.pairs=function(g){for(var S=0,N=g.length-1,X=g[0],J=new Array(N<0?0:N);S<N;)J[S]=[X,X=g[++S]];return J},n.transpose=function(g){if(!(J=g.length))return[];for(var S=-1,N=n.min(g,b),X=new Array(N);++S<N;)for(var J,at=-1,lt=X[S]=new Array(J);++at<J;)lt[at]=g[at][S];return X},n.zip=function(){return n.transpose(arguments)},n.keys=function(g){var S=[];for(var N in g)S.push(N);return S},n.values=function(g){var S=[];for(var N in g)S.push(g[N]);return S},n.entries=function(g){var S=[];for(var N in g)S.push({key:N,value:g[N]});return S},n.merge=function(g){for(var S,N,X,J=g.length,at=-1,lt=0;++at<J;)lt+=g[at].length;for(N=new Array(lt);--J>=0;)for(S=(X=g[J]).length;--S>=0;)N[--lt]=X[S];return N};var x=Math.abs;function O(g){for(var S=1;g*S%1;)S*=10;return S}function A(g,S){for(var N in S)Object.defineProperty(g.prototype,N,{value:S[N],enumerable:!1})}function C(){this._=Object.create(null)}n.range=function(g,S,N){if(arguments.length<3&&(N=1,arguments.length<2&&(S=g,g=0)),(S-g)/N==1/0)throw new Error("infinite range");var X,J=[],at=O(x(N)),lt=-1;if(g*=at,S*=at,(N*=at)<0)for(;(X=g+N*++lt)>S;)J.push(X/at);else for(;(X=g+N*++lt)<S;)J.push(X/at);return J},n.map=function(g,S){var N=new C;if(g instanceof C)g.forEach(function(ht,pt){N.set(ht,pt)});else if(Array.isArray(g)){var X,J=-1,at=g.length;if(arguments.length===1)for(;++J<at;)N.set(J,g[J]);else for(;++J<at;)N.set(S.call(g,X=g[J],J),X)}else for(var lt in g)N.set(lt,g[lt]);return N};function L(g){return(g+="")=="__proto__"||g[0]==="\0"?"\0"+g:g}function w(g){return(g+="")[0]==="\0"?g.slice(1):g}function E(g){return L(g)in this._}function I(g){return(g=L(g))in this._&&delete this._[g]}function M(){var g=[];for(var S in this._)g.push(w(S));return g}function V(){var g=0;for(var S in this._)++g;return g}function j(){for(var g in this._)return!1;return!0}function W(){this._=Object.create(null)}function H(g){return g}function B(g,S,N){return function(){var X=N.apply(S,arguments);return X===S?g:X}}function K(g,S){if(S in g)return S;S=S.charAt(0).toUpperCase()+S.slice(1);for(var N=0,X=et.length;N<X;++N){var J=et[N]+S;if(J in g)return J}}A(C,{has:E,get:function(g){return this._[L(g)]},set:function(g,S){return this._[L(g)]=S},remove:I,keys:M,values:function(){var g=[];for(var S in this._)g.push(this._[S]);return g},entries:function(){var g=[];for(var S in this._)g.push({key:w(S),value:this._[S]});return g},size:V,empty:j,forEach:function(g){for(var S in this._)g.call(this,w(S),this._[S])}}),n.nest=function(){var g,S,N={},X=[],J=[];function at(lt,ht,pt){if(pt>=X.length)return S?S.call(N,ht):g?ht.sort(g):ht;for(var vt,_t,Ft,jt,Xt=-1,ne=ht.length,Gt=X[pt++],Kt=new C;++Xt<ne;)(jt=Kt.get(vt=Gt(_t=ht[Xt])))?jt.push(_t):Kt.set(vt,[_t]);return lt?(_t=lt(),Ft=function(Ut,oe){_t.set(Ut,at(lt,oe,pt))}):(_t={},Ft=function(Ut,oe){_t[Ut]=at(lt,oe,pt)}),Kt.forEach(Ft),_t}return N.map=function(lt,ht){return at(ht,lt,0)},N.entries=function(lt){return function ht(pt,vt){if(vt>=X.length)return pt;var _t=[],Ft=J[vt++];return pt.forEach(function(jt,Xt){_t.push({key:jt,values:ht(Xt,vt)})}),Ft?_t.sort(function(jt,Xt){return Ft(jt.key,Xt.key)}):_t}(at(n.map,lt,0),0)},N.key=function(lt){return X.push(lt),N},N.sortKeys=function(lt){return J[X.length-1]=lt,N},N.sortValues=function(lt){return g=lt,N},N.rollup=function(lt){return S=lt,N},N},n.set=function(g){var S=new W;if(g)for(var N=0,X=g.length;N<X;++N)S.add(g[N]);return S},A(W,{has:E,add:function(g){return this._[L(g+="")]=!0,g},remove:I,values:M,size:V,empty:j,forEach:function(g){for(var S in this._)g.call(this,w(S))}}),n.behavior={},n.rebind=function(g,S){for(var N,X=1,J=arguments.length;++X<J;)g[N=arguments[X]]=B(g,S,S[N]);return g};var et=["webkit","ms","moz","Moz","o","O"];function G(){}function Y(){}function D(g){var S=[],N=new C;function X(){for(var J,at=S,lt=-1,ht=at.length;++lt<ht;)(J=at[lt].on)&&J.apply(this,arguments);return g}return X.on=function(J,at){var lt,ht=N.get(J);return arguments.length<2?ht&&ht.on:(ht&&(ht.on=null,S=S.slice(0,lt=S.indexOf(ht)).concat(S.slice(lt+1)),N.remove(J)),at&&S.push(N.set(J,{on:at})),g)},X}function U(){n.event.preventDefault()}function $(){for(var g,S=n.event;g=S.sourceEvent;)S=g;return S}function Q(g){for(var S=new Y,N=0,X=arguments.length;++N<X;)S[arguments[N]]=D(S);return S.of=function(J,at){return function(lt){try{var ht=lt.sourceEvent=n.event;lt.target=g,n.event=lt,S[lt.type].apply(J,at)}finally{n.event=ht}}},S}n.dispatch=function(){for(var g=new Y,S=-1,N=arguments.length;++S<N;)g[arguments[S]]=D(g);return g},Y.prototype.on=function(g,S){var N=g.indexOf("."),X="";if(N>=0&&(X=g.slice(N+1),g=g.slice(0,N)),g)return arguments.length<2?this[g].on(X):this[g].on(X,S);if(arguments.length===2){if(S==null)for(g in this)this.hasOwnProperty(g)&&this[g].on(X,null);return this}},n.event=null,n.requote=function(g){return g.replace(F,"\\$&")};var F=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,z=function(g,S){for(var N in S)g[N]=S[N]};function P(g){return z(g,tt),g}var Z=function(g,S){return S.querySelector(g)},R=function(g,S){return S.querySelectorAll(g)},q=function(g,S){var N=g.matches||g[K(g,"matchesSelector")];return(q=function(X,J){return N.call(X,J)})(g,S)};typeof Sizzle=="function"&&(Z=function(g,S){return Sizzle(g,S)[0]||null},R=Sizzle,q=Sizzle.matchesSelector),n.selection=function(){return n.select(i.documentElement)};var tt=n.selection.prototype=[];function rt(g){return typeof g=="function"?g:function(){return Z(g,this)}}function nt(g){return typeof g=="function"?g:function(){return R(g,this)}}tt.select=function(g){var S,N,X,J,at=[];g=rt(g);for(var lt=-1,ht=this.length;++lt<ht;){at.push(S=[]),S.parentNode=(X=this[lt]).parentNode;for(var pt=-1,vt=X.length;++pt<vt;)(J=X[pt])?(S.push(N=g.call(J,J.__data__,pt,lt)),N&&"__data__"in J&&(N.__data__=J.__data__)):S.push(null)}return P(at)},tt.selectAll=function(g){var S,N,X=[];g=nt(g);for(var J=-1,at=this.length;++J<at;)for(var lt=this[J],ht=-1,pt=lt.length;++ht<pt;)(N=lt[ht])&&(X.push(S=o(g.call(N,N.__data__,ht,J))),S.parentNode=N);return P(X)};var ct="http://www.w3.org/1999/xhtml",st={svg:"http://www.w3.org/2000/svg",xhtml:ct,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gt(g,S){return g=n.ns.qualify(g),S==null?g.local?function(){this.removeAttributeNS(g.space,g.local)}:function(){this.removeAttribute(g)}:typeof S=="function"?g.local?function(){var N=S.apply(this,arguments);N==null?this.removeAttributeNS(g.space,g.local):this.setAttributeNS(g.space,g.local,N)}:function(){var N=S.apply(this,arguments);N==null?this.removeAttribute(g):this.setAttribute(g,N)}:g.local?function(){this.setAttributeNS(g.space,g.local,S)}:function(){this.setAttribute(g,S)}}function wt(g){return g.trim().replace(/\s+/g," ")}function Ot(g){return new RegExp("(?:^|\\s+)"+n.requote(g)+"(?:\\s+|$)","g")}function bt(g){return(g+"").trim().split(/^|\s+/)}function Ht(g,S){var N=(g=bt(g).map(Dt)).length;return typeof S=="function"?function(){for(var X=-1,J=S.apply(this,arguments);++X<N;)g[X](this,J)}:function(){for(var X=-1;++X<N;)g[X](this,S)}}function Dt(g){var S=Ot(g);return function(N,X){if(J=N.classList)return X?J.add(g):J.remove(g);var J=N.getAttribute("class")||"";X?(S.lastIndex=0,S.test(J)||N.setAttribute("class",wt(J+" "+g))):N.setAttribute("class",wt(J.replace(S," ")))}}function yt(g,S,N){return S==null?function(){this.style.removeProperty(g)}:typeof S=="function"?function(){var X=S.apply(this,arguments);X==null?this.style.removeProperty(g):this.style.setProperty(g,X,N)}:function(){this.style.setProperty(g,S,N)}}function ut(g,S){return S==null?function(){delete this[g]}:typeof S=="function"?function(){var N=S.apply(this,arguments);N==null?delete this[g]:this[g]=N}:function(){this[g]=S}}function it(g){return typeof g=="function"?g:(g=n.ns.qualify(g)).local?function(){return this.ownerDocument.createElementNS(g.space,g.local)}:function(){var S=this.ownerDocument,N=this.namespaceURI;return N===ct&&S.documentElement.namespaceURI===ct?S.createElement(g):S.createElementNS(N,g)}}function dt(){var g=this.parentNode;g&&g.removeChild(this)}function mt(g){return{__data__:g}}function Et(g){return function(){return q(this,g)}}function Mt(g){return arguments.length||(g=v),function(S,N){return S&&N?g(S.__data__,N.__data__):!S-!N}}function Tt(g,S){for(var N=0,X=g.length;N<X;N++)for(var J,at=g[N],lt=0,ht=at.length;lt<ht;lt++)(J=at[lt])&&S(J,lt,N);return g}function Nt(g){return z(g,zt),g}n.ns={prefix:st,qualify:function(g){var S=g.indexOf(":"),N=g;return S>=0&&(N=g.slice(0,S))!=="xmlns"&&(g=g.slice(S+1)),st.hasOwnProperty(N)?{space:st[N],local:g}:g}},tt.attr=function(g,S){if(arguments.length<2){if(typeof g=="string"){var N=this.node();return(g=n.ns.qualify(g)).local?N.getAttributeNS(g.space,g.local):N.getAttribute(g)}for(S in g)this.each(gt(S,g[S]));return this}return this.each(gt(g,S))},tt.classed=function(g,S){if(arguments.length<2){if(typeof g=="string"){var N=this.node(),X=(g=bt(g)).length,J=-1;if(S=N.classList){for(;++J<X;)if(!S.contains(g[J]))return!1}else for(S=N.getAttribute("class");++J<X;)if(!Ot(g[J]).test(S))return!1;return!0}for(S in g)this.each(Ht(S,g[S]));return this}return this.each(Ht(g,S))},tt.style=function(g,S,N){var X=arguments.length;if(X<3){if(typeof g!="string"){for(N in X<2&&(S=""),g)this.each(yt(N,g[N],S));return this}if(X<2){var J=this.node();return p(J).getComputedStyle(J,null).getPropertyValue(g)}N=""}return this.each(yt(g,S,N))},tt.property=function(g,S){if(arguments.length<2){if(typeof g=="string")return this.node()[g];for(S in g)this.each(ut(S,g[S]));return this}return this.each(ut(g,S))},tt.text=function(g){return arguments.length?this.each(typeof g=="function"?function(){var S=g.apply(this,arguments);this.textContent=S==null?"":S}:g==null?function(){this.textContent=""}:function(){this.textContent=g}):this.node().textContent},tt.html=function(g){return arguments.length?this.each(typeof g=="function"?function(){var S=g.apply(this,arguments);this.innerHTML=S==null?"":S}:g==null?function(){this.innerHTML=""}:function(){this.innerHTML=g}):this.node().innerHTML},tt.append=function(g){return g=it(g),this.select(function(){return this.appendChild(g.apply(this,arguments))})},tt.insert=function(g,S){return g=it(g),S=rt(S),this.select(function(){return this.insertBefore(g.apply(this,arguments),S.apply(this,arguments)||null)})},tt.remove=function(){return this.each(dt)},tt.data=function(g,S){var N,X,J=-1,at=this.length;if(!arguments.length){for(g=new Array(at=(N=this[0]).length);++J<at;)(X=N[J])&&(g[J]=X.__data__);return g}function lt(_t,Ft){var jt,Xt,ne,Gt=_t.length,Kt=Ft.length,Ut=Math.min(Gt,Kt),oe=new Array(Kt),te=new Array(Kt),Wt=new Array(Gt);if(S){var ge,xe=new C,Ie=new Array(Gt);for(jt=-1;++jt<Gt;)(Xt=_t[jt])&&(xe.has(ge=S.call(Xt,Xt.__data__,jt))?Wt[jt]=Xt:xe.set(ge,Xt),Ie[jt]=ge);for(jt=-1;++jt<Kt;)(Xt=xe.get(ge=S.call(Ft,ne=Ft[jt],jt)))?Xt!==!0&&(oe[jt]=Xt,Xt.__data__=ne):te[jt]=mt(ne),xe.set(ge,!0);for(jt=-1;++jt<Gt;)jt in Ie&&xe.get(Ie[jt])!==!0&&(Wt[jt]=_t[jt])}else{for(jt=-1;++jt<Ut;)Xt=_t[jt],ne=Ft[jt],Xt?(Xt.__data__=ne,oe[jt]=Xt):te[jt]=mt(ne);for(;jt<Kt;++jt)te[jt]=mt(Ft[jt]);for(;jt<Gt;++jt)Wt[jt]=_t[jt]}te.update=oe,te.parentNode=oe.parentNode=Wt.parentNode=_t.parentNode,ht.push(te),pt.push(oe),vt.push(Wt)}var ht=Nt([]),pt=P([]),vt=P([]);if(typeof g=="function")for(;++J<at;)lt(N=this[J],g.call(N,N.parentNode.__data__,J));else for(;++J<at;)lt(N=this[J],g);return pt.enter=function(){return ht},pt.exit=function(){return vt},pt},tt.datum=function(g){return arguments.length?this.property("__data__",g):this.property("__data__")},tt.filter=function(g){var S,N,X,J=[];typeof g!="function"&&(g=Et(g));for(var at=0,lt=this.length;at<lt;at++){J.push(S=[]),S.parentNode=(N=this[at]).parentNode;for(var ht=0,pt=N.length;ht<pt;ht++)(X=N[ht])&&g.call(X,X.__data__,ht,at)&&S.push(X)}return P(J)},tt.order=function(){for(var g=-1,S=this.length;++g<S;)for(var N,X=this[g],J=X.length-1,at=X[J];--J>=0;)(N=X[J])&&(at&&at!==N.nextSibling&&at.parentNode.insertBefore(N,at),at=N);return this},tt.sort=function(g){g=Mt.apply(this,arguments);for(var S=-1,N=this.length;++S<N;)this[S].sort(g);return this.order()},tt.each=function(g){return Tt(this,function(S,N,X){g.call(S,S.__data__,N,X)})},tt.call=function(g){var S=o(arguments);return g.apply(S[0]=this,S),this},tt.empty=function(){return!this.node()},tt.node=function(){for(var g=0,S=this.length;g<S;g++)for(var N=this[g],X=0,J=N.length;X<J;X++){var at=N[X];if(at)return at}return null},tt.size=function(){var g=0;return Tt(this,function(){++g}),g};var zt=[];function At(g){var S,N;return function(X,J,at){var lt,ht=g[at].update,pt=ht.length;for(at!=N&&(N=at,S=0),J>=S&&(S=J+1);!(lt=ht[S])&&++S<pt;);return lt}}function Ct(g,S,N){var X="__on"+g,J=g.indexOf("."),at=St;J>0&&(g=g.slice(0,J));var lt=qt.get(g);function ht(){var pt=this[X];pt&&(this.removeEventListener(g,pt,pt.$),delete this[X])}return lt&&(g=lt,at=$t),J?S?function(){var pt=at(S,o(arguments));ht.call(this),this.addEventListener(g,this[X]=pt,pt.$=N),pt._=S}:ht:S?G:function(){var pt,vt=new RegExp("^__on([^.]+)"+n.requote(g)+"$");for(var _t in this)if(pt=_t.match(vt)){var Ft=this[_t];this.removeEventListener(pt[1],Ft,Ft.$),delete this[_t]}}}n.selection.enter=Nt,n.selection.enter.prototype=zt,zt.append=tt.append,zt.empty=tt.empty,zt.node=tt.node,zt.call=tt.call,zt.size=tt.size,zt.select=function(g){for(var S,N,X,J,at,lt=[],ht=-1,pt=this.length;++ht<pt;){X=(J=this[ht]).update,lt.push(S=[]),S.parentNode=J.parentNode;for(var vt=-1,_t=J.length;++vt<_t;)(at=J[vt])?(S.push(X[vt]=N=g.call(J.parentNode,at.__data__,vt,ht)),N.__data__=at.__data__):S.push(null)}return P(lt)},zt.insert=function(g,S){return arguments.length<2&&(S=At(this)),tt.insert.call(this,g,S)},n.select=function(g){var S;return typeof g=="string"?(S=[Z(g,i)]).parentNode=i.documentElement:(S=[g]).parentNode=l(g),P([S])},n.selectAll=function(g){var S;return typeof g=="string"?(S=o(R(g,i))).parentNode=i.documentElement:(S=o(g)).parentNode=null,P([S])},tt.on=function(g,S,N){var X=arguments.length;if(X<3){if(typeof g!="string"){for(N in X<2&&(S=!1),g)this.each(Ct(N,g[N],S));return this}if(X<2)return(X=this.node()["__on"+g])&&X._;N=!1}return this.each(Ct(g,S,N))};var qt=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});function St(g,S){return function(N){var X=n.event;n.event=N,S[0]=this.__data__;try{g.apply(this,S)}finally{n.event=X}}}function $t(g,S){var N=St(g,S);return function(X){var J=X.relatedTarget;J&&(J===this||8&J.compareDocumentPosition(this))||N.call(this,X)}}i&&qt.forEach(function(g){"on"+g in i&&qt.remove(g)});var Zt,Yt=0;function re(g){var S=".dragsuppress-"+ ++Yt,N="click"+S,X=n.select(p(g)).on("touchmove"+S,U).on("dragstart"+S,U).on("selectstart"+S,U);if(Zt==null&&(Zt=!("onselectstart"in g)&&K(g.style,"userSelect")),Zt){var J=l(g).style,at=J[Zt];J[Zt]="none"}return function(lt){if(X.on(S,null),Zt&&(J[Zt]=at),lt){var ht=function(){X.on(N,null)};X.on(N,function(){U(),ht()},!0),setTimeout(ht,0)}}}n.mouse=function(g){return xt(g,$())};var Qt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function xt(g,S){S.changedTouches&&(S=S.changedTouches[0]);var N=g.ownerSVGElement||g;if(N.createSVGPoint){var X=N.createSVGPoint();if(Qt<0){var J=p(g);if(J.scrollX||J.scrollY){var at=(N=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Qt=!(at.f||at.e),N.remove()}}return Qt?(X.x=S.pageX,X.y=S.pageY):(X.x=S.clientX,X.y=S.clientY),[(X=X.matrixTransform(g.getScreenCTM().inverse())).x,X.y]}var lt=g.getBoundingClientRect();return[S.clientX-lt.left-g.clientLeft,S.clientY-lt.top-g.clientTop]}function kt(){return n.event.changedTouches[0].identifier}n.touch=function(g,S,N){if(arguments.length<3&&(N=S,S=$().changedTouches),S){for(var X,J=0,at=S.length;J<at;++J)if((X=S[J]).identifier===N)return xt(g,X)}},n.behavior.drag=function(){var g=Q(J,"drag","dragstart","dragend"),S=null,N=at(G,n.mouse,p,"mousemove","mouseup"),X=at(kt,n.touch,H,"touchmove","touchend");function J(){this.on("mousedown.drag",N).on("touchstart.drag",X)}function at(lt,ht,pt,vt,_t){return function(){var Ft,jt=this,Xt=n.event.target.correspondingElement||n.event.target,ne=jt.parentNode,Gt=g.of(jt,arguments),Kt=0,Ut=lt(),oe=".drag"+(Ut==null?"":"-"+Ut),te=n.select(pt(Xt)).on(vt+oe,xe).on(_t+oe,Ie),Wt=re(Xt),ge=ht(ne,Ut);function xe(){var ze,qe,Ze=ht(ne,Ut);Ze&&(ze=Ze[0]-ge[0],qe=Ze[1]-ge[1],Kt|=ze|qe,ge=Ze,Gt({type:"drag",x:Ze[0]+Ft[0],y:Ze[1]+Ft[1],dx:ze,dy:qe}))}function Ie(){ht(ne,Ut)&&(te.on(vt+oe,null).on(_t+oe,null),Wt(Kt),Gt({type:"dragend"}))}Ft=S?[(Ft=S.apply(jt,arguments)).x-ge[0],Ft.y-ge[1]]:[0,0],Gt({type:"dragstart"})}}return J.origin=function(lt){return arguments.length?(S=lt,J):S},n.rebind(J,g,"on")},n.touches=function(g,S){return arguments.length<2&&(S=$().touches),S?o(S).map(function(N){var X=xt(g,N);return X.identifier=N.identifier,X}):[]};var Bt=1e-6,ie=Math.PI,ye=2*ie,ot=ye-Bt,ft=ie/2,Lt=ie/180,Pt=180/ie;function It(g){return g>1?ft:g<-1?-ft:Math.asin(g)}function Rt(g){return((g=Math.exp(g))+1/g)/2}var Vt=Math.SQRT2;n.interpolateZoom=function(g,S){var N,X,J=g[0],at=g[1],lt=g[2],ht=S[0],pt=S[1],vt=S[2],_t=ht-J,Ft=pt-at,jt=_t*_t+Ft*Ft;if(jt<1e-12)X=Math.log(vt/lt)/Vt,N=function(oe){return[J+oe*_t,at+oe*Ft,lt*Math.exp(Vt*oe*X)]};else{var Xt=Math.sqrt(jt),ne=(vt*vt-lt*lt+4*jt)/(2*lt*2*Xt),Gt=(vt*vt-lt*lt-4*jt)/(2*vt*2*Xt),Kt=Math.log(Math.sqrt(ne*ne+1)-ne),Ut=Math.log(Math.sqrt(Gt*Gt+1)-Gt);X=(Ut-Kt)/Vt,N=function(oe){var te,Wt=oe*X,ge=Rt(Kt),xe=lt/(2*Xt)*(ge*(te=Vt*Wt+Kt,((te=Math.exp(2*te))-1)/(te+1))-function(Ie){return((Ie=Math.exp(Ie))-1/Ie)/2}(Kt));return[J+xe*_t,at+xe*Ft,lt*ge/Rt(Vt*Wt+Kt)]}}return N.duration=1e3*X,N},n.behavior.zoom=function(){var g,S,N,X,J,at,lt,ht,pt,vt={x:0,y:0,k:1},_t=[960,500],Ft=ce,jt=250,Xt=0,ne="mousedown.zoom",Gt="mousemove.zoom",Kt="mouseup.zoom",Ut="touchstart.zoom",oe=Q(te,"zoomstart","zoom","zoomend");function te(Ne){Ne.on(ne,Ke).on(ae+".zoom",Ln).on("dblclick.zoom",zn).on(Ut,bn)}function Wt(Ne){return[(Ne[0]-vt.x)/vt.k,(Ne[1]-vt.y)/vt.k]}function ge(Ne){vt.k=Math.max(Ft[0],Math.min(Ft[1],Ne))}function xe(Ne,Qe){Qe=function(gn){return[gn[0]*vt.k+vt.x,gn[1]*vt.k+vt.y]}(Qe),vt.x+=Ne[0]-Qe[0],vt.y+=Ne[1]-Qe[1]}function Ie(Ne,Qe,gn,hn){Ne.__chart__={x:vt.x,y:vt.y,k:vt.k},ge(Math.pow(2,hn)),xe(S=Qe,gn),Ne=n.select(Ne),jt>0&&(Ne=Ne.transition().duration(jt)),Ne.call(te.event)}function ze(){lt&&lt.domain(at.range().map(function(Ne){return(Ne-vt.x)/vt.k}).map(at.invert)),pt&&pt.domain(ht.range().map(function(Ne){return(Ne-vt.y)/vt.k}).map(ht.invert))}function qe(Ne){Xt++||Ne({type:"zoomstart"})}function Ze(Ne){ze(),Ne({type:"zoom",scale:vt.k,translate:[vt.x,vt.y]})}function vn(Ne){--Xt||(Ne({type:"zoomend"}),S=null)}function Ke(){var Ne=this,Qe=oe.of(Ne,arguments),gn=0,hn=n.select(p(Ne)).on(Gt,En).on(Kt,Vn),Tn=Wt(n.mouse(Ne)),kn=re(Ne);function En(){gn=1,xe(n.mouse(Ne),Tn),Ze(Qe)}function Vn(){hn.on(Gt,null).on(Kt,null),kn(gn),vn(Qe)}jl.call(Ne),qe(Qe)}function bn(){var Ne,Qe=this,gn=oe.of(Qe,arguments),hn={},Tn=0,kn=".zoom-"+n.event.changedTouches[0].identifier,En="touchmove"+kn,Vn="touchend"+kn,er=[],nr=n.select(Qe),Sr=re(Qe);function lr(){var sr=n.touches(Qe);return Ne=vt.k,sr.forEach(function(rr){rr.identifier in hn&&(hn[rr.identifier]=Wt(rr))}),sr}function hr(){var sr=n.event.target;n.select(sr).on(En,$r).on(Vn,$a),er.push(sr);for(var rr=n.event.changedTouches,wr=0,ia=rr.length;wr<ia;++wr)hn[rr[wr].identifier]=null;var ma=lr(),mi=Date.now();if(ma.length===1){if(mi-J<500){var Ga=ma[0];Ie(Qe,Ga,hn[Ga.identifier],Math.floor(Math.log(vt.k)/Math.LN2)+1),U()}J=mi}else if(ma.length>1){Ga=ma[0];var ga=ma[1],Ul=Ga[0]-ga[0],eh=Ga[1]-ga[1];Tn=Ul*Ul+eh*eh}}function $r(){var sr,rr,wr,ia,ma=n.touches(Qe);jl.call(Qe);for(var mi=0,Ga=ma.length;mi<Ga;++mi,ia=null)if(wr=ma[mi],ia=hn[wr.identifier]){if(rr)break;sr=wr,rr=ia}if(ia){var ga=(ga=wr[0]-sr[0])*ga+(ga=wr[1]-sr[1])*ga,Ul=Tn&&Math.sqrt(ga/Tn);sr=[(sr[0]+wr[0])/2,(sr[1]+wr[1])/2],rr=[(rr[0]+ia[0])/2,(rr[1]+ia[1])/2],ge(Ul*Ne)}J=null,xe(sr,rr),Ze(gn)}function $a(){if(n.event.touches.length){for(var sr=n.event.changedTouches,rr=0,wr=sr.length;rr<wr;++rr)delete hn[sr[rr].identifier];for(var ia in hn)return void lr()}n.selectAll(er).on(kn,null),nr.on(ne,Ke).on(Ut,bn),Sr(),vn(gn)}hr(),qe(gn),nr.on(ne,null).on(Ut,hr)}function Ln(){var Ne=oe.of(this,arguments);X?clearTimeout(X):(jl.call(this),g=Wt(S=N||n.mouse(this)),qe(Ne)),X=setTimeout(function(){X=null,vn(Ne)},50),U(),ge(Math.pow(2,.002*Jt())*vt.k),xe(S,g),Ze(Ne)}function zn(){var Ne=n.mouse(this),Qe=Math.log(vt.k)/Math.LN2;Ie(this,Ne,Wt(Ne),n.event.shiftKey?Math.ceil(Qe)-1:Math.floor(Qe)+1)}return ae||(ae="onwheel"in i?(Jt=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in i?(Jt=function(){return n.event.wheelDelta},"mousewheel"):(Jt=function(){return-n.event.detail},"MozMousePixelScroll")),te.event=function(Ne){Ne.each(function(){var Qe=oe.of(this,arguments),gn=vt;Ya?n.select(this).transition().each("start.zoom",function(){vt=this.__chart__||{x:0,y:0,k:1},qe(Qe)}).tween("zoom:zoom",function(){var hn=_t[0],Tn=_t[1],kn=S?S[0]:hn/2,En=S?S[1]:Tn/2,Vn=n.interpolateZoom([(kn-vt.x)/vt.k,(En-vt.y)/vt.k,hn/vt.k],[(kn-gn.x)/gn.k,(En-gn.y)/gn.k,hn/gn.k]);return function(er){var nr=Vn(er),Sr=hn/nr[2];this.__chart__=vt={x:kn-nr[0]*Sr,y:En-nr[1]*Sr,k:Sr},Ze(Qe)}}).each("interrupt.zoom",function(){vn(Qe)}).each("end.zoom",function(){vn(Qe)}):(this.__chart__=vt,qe(Qe),Ze(Qe),vn(Qe))})},te.translate=function(Ne){return arguments.length?(vt={x:+Ne[0],y:+Ne[1],k:vt.k},ze(),te):[vt.x,vt.y]},te.scale=function(Ne){return arguments.length?(vt={x:vt.x,y:vt.y,k:null},ge(+Ne),ze(),te):vt.k},te.scaleExtent=function(Ne){return arguments.length?(Ft=Ne==null?ce:[+Ne[0],+Ne[1]],te):Ft},te.center=function(Ne){return arguments.length?(N=Ne&&[+Ne[0],+Ne[1]],te):N},te.size=function(Ne){return arguments.length?(_t=Ne&&[+Ne[0],+Ne[1]],te):_t},te.duration=function(Ne){return arguments.length?(jt=+Ne,te):jt},te.x=function(Ne){return arguments.length?(lt=Ne,at=Ne.copy(),vt={x:0,y:0,k:1},te):lt},te.y=function(Ne){return arguments.length?(pt=Ne,ht=Ne.copy(),vt={x:0,y:0,k:1},te):pt},n.rebind(te,oe,"on")};var Jt,ae,ce=[0,1/0];function le(){}function se(g,S,N){return this instanceof se?(this.h=+g,this.s=+S,void(this.l=+N)):arguments.length<2?g instanceof se?new se(g.h,g.s,g.l):Je(""+g,en,se):new se(g,S,N)}n.color=le,le.prototype.toString=function(){return this.rgb()+""},n.hsl=se;var pe=se.prototype=new le;function we(g,S,N){var X,J;function at(lt){return Math.round(255*function(ht){return ht>360?ht-=360:ht<0&&(ht+=360),ht<60?X+(J-X)*ht/60:ht<180?J:ht<240?X+(J-X)*(240-ht)/60:X}(lt))}return g=isNaN(g)?0:(g%=360)<0?g+360:g,S=isNaN(S)||S<0?0:S>1?1:S,X=2*(N=N<0?0:N>1?1:N)-(J=N<=.5?N*(1+S):N+S-N*S),new de(at(g+120),at(g),at(g-120))}function me(g,S,N){return this instanceof me?(this.h=+g,this.c=+S,void(this.l=+N)):arguments.length<2?g instanceof me?new me(g.h,g.c,g.l):_e(g instanceof Te?g.l:(g=be((g=n.rgb(g)).r,g.g,g.b)).l,g.a,g.b):new me(g,S,N)}pe.brighter=function(g){return g=Math.pow(.7,arguments.length?g:1),new se(this.h,this.s,this.l/g)},pe.darker=function(g){return g=Math.pow(.7,arguments.length?g:1),new se(this.h,this.s,g*this.l)},pe.rgb=function(){return we(this.h,this.s,this.l)},n.hcl=me;var ee=me.prototype=new le;function ue(g,S,N){return isNaN(g)&&(g=0),isNaN(S)&&(S=0),new Te(N,Math.cos(g*=Lt)*S,Math.sin(g)*S)}function Te(g,S,N){return this instanceof Te?(this.l=+g,this.a=+S,void(this.b=+N)):arguments.length<2?g instanceof Te?new Te(g.l,g.a,g.b):g instanceof me?ue(g.h,g.c,g.l):be((g=de(g)).r,g.g,g.b):new Te(g,S,N)}ee.brighter=function(g){return new me(this.h,this.c,Math.min(100,this.l+Me*(arguments.length?g:1)))},ee.darker=function(g){return new me(this.h,this.c,Math.max(0,this.l-Me*(arguments.length?g:1)))},ee.rgb=function(){return ue(this.h,this.c,this.l).rgb()},n.lab=Te;var Me=18,Ce=Te.prototype=new le;function fe(g,S,N){var X=(g+16)/116,J=X+S/500,at=X-N/200;return new de(Se(3.2404542*(J=.95047*Le(J))-1.5371385*(X=1*Le(X))-.4985314*(at=1.08883*Le(at))),Se(-.969266*J+1.8760108*X+.041556*at),Se(.0556434*J-.2040259*X+1.0572252*at))}function _e(g,S,N){return g>0?new me(Math.atan2(N,S)*Pt,Math.sqrt(S*S+N*N),g):new me(NaN,NaN,g)}function Le(g){return g>.206893034?g*g*g:(g-4/29)/7.787037}function he(g){return g>.008856?Math.pow(g,1/3):7.787037*g+4/29}function Se(g){return Math.round(255*(g<=.00304?12.92*g:1.055*Math.pow(g,1/2.4)-.055))}function de(g,S,N){return this instanceof de?(this.r=~~g,this.g=~~S,void(this.b=~~N)):arguments.length<2?g instanceof de?new de(g.r,g.g,g.b):Je(""+g,de,we):new de(g,S,N)}function Re(g){return new de(g>>16,g>>8&255,255&g)}function Ee(g){return Re(g)+""}Ce.brighter=function(g){return new Te(Math.min(100,this.l+Me*(arguments.length?g:1)),this.a,this.b)},Ce.darker=function(g){return new Te(Math.max(0,this.l-Me*(arguments.length?g:1)),this.a,this.b)},Ce.rgb=function(){return fe(this.l,this.a,this.b)},n.rgb=de;var De=de.prototype=new le;function je(g){return g<16?"0"+Math.max(0,g).toString(16):Math.min(255,g).toString(16)}function Je(g,S,N){var X,J,at,lt=0,ht=0,pt=0;if(X=/([a-z]+)\((.*)\)/.exec(g=g.toLowerCase()))switch(J=X[2].split(","),X[1]){case"hsl":return N(parseFloat(J[0]),parseFloat(J[1])/100,parseFloat(J[2])/100);case"rgb":return S(Oe(J[0]),Oe(J[1]),Oe(J[2]))}return(at=Fe.get(g))?S(at.r,at.g,at.b):(g==null||g.charAt(0)!=="#"||isNaN(at=parseInt(g.slice(1),16))||(g.length===4?(lt=(3840&at)>>4,lt|=lt>>4,ht=240&at,ht|=ht>>4,pt=15&at,pt|=pt<<4):g.length===7&&(lt=(16711680&at)>>16,ht=(65280&at)>>8,pt=255&at)),S(lt,ht,pt))}function en(g,S,N){var X,J,at=Math.min(g/=255,S/=255,N/=255),lt=Math.max(g,S,N),ht=lt-at,pt=(lt+at)/2;return ht?(J=pt<.5?ht/(lt+at):ht/(2-lt-at),X=g==lt?(S-N)/ht+(S<N?6:0):S==lt?(N-g)/ht+2:(g-S)/ht+4,X*=60):(X=NaN,J=pt>0&&pt<1?0:X),new se(X,J,pt)}function be(g,S,N){var X=he((.4124564*(g=Ae(g))+.3575761*(S=Ae(S))+.1804375*(N=Ae(N)))/.95047),J=he((.2126729*g+.7151522*S+.072175*N)/1);return Te(116*J-16,500*(X-J),200*(J-he((.0193339*g+.119192*S+.9503041*N)/1.08883)))}function Ae(g){return(g/=255)<=.04045?g/12.92:Math.pow((g+.055)/1.055,2.4)}function Oe(g){var S=parseFloat(g);return g.charAt(g.length-1)==="%"?Math.round(2.55*S):S}De.brighter=function(g){g=Math.pow(.7,arguments.length?g:1);var S=this.r,N=this.g,X=this.b,J=30;return S||N||X?(S&&S<J&&(S=J),N&&N<J&&(N=J),X&&X<J&&(X=J),new de(Math.min(255,S/g),Math.min(255,N/g),Math.min(255,X/g))):new de(J,J,J)},De.darker=function(g){return new de((g=Math.pow(.7,arguments.length?g:1))*this.r,g*this.g,g*this.b)},De.hsl=function(){return en(this.r,this.g,this.b)},De.toString=function(){return"#"+je(this.r)+je(this.g)+je(this.b)};var Fe=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ve(g){return typeof g=="function"?g:function(){return g}}function Ve(g){return function(S,N,X){return arguments.length===2&&typeof N=="function"&&(X=N,N=null),We(S,N,g,X)}}function We(g,S,N,X){var J={},at=n.dispatch("beforesend","progress","load","error"),lt={},ht=new XMLHttpRequest,pt=null;function vt(){var _t,Ft=ht.status;if(!Ft&&function(jt){var Xt=jt.responseType;return Xt&&Xt!=="text"?jt.response:jt.responseText}(ht)||Ft>=200&&Ft<300||Ft===304){try{_t=N.call(J,ht)}catch(jt){return void at.error.call(J,jt)}at.load.call(J,_t)}else at.error.call(J,ht)}return self.XDomainRequest&&!("withCredentials"in ht)&&/^(http(s)?:)?\/\//.test(g)&&(ht=new XDomainRequest),"onload"in ht?ht.onload=ht.onerror=vt:ht.onreadystatechange=function(){ht.readyState>3&&vt()},ht.onprogress=function(_t){var Ft=n.event;n.event=_t;try{at.progress.call(J,ht)}finally{n.event=Ft}},J.header=function(_t,Ft){return _t=(_t+"").toLowerCase(),arguments.length<2?lt[_t]:(Ft==null?delete lt[_t]:lt[_t]=Ft+"",J)},J.mimeType=function(_t){return arguments.length?(S=_t==null?null:_t+"",J):S},J.responseType=function(_t){return arguments.length?(pt=_t,J):pt},J.response=function(_t){return N=_t,J},["get","post"].forEach(function(_t){J[_t]=function(){return J.send.apply(J,[_t].concat(o(arguments)))}}),J.send=function(_t,Ft,jt){if(arguments.length===2&&typeof Ft=="function"&&(jt=Ft,Ft=null),ht.open(_t,g,!0),S==null||"accept"in lt||(lt.accept=S+",*/*"),ht.setRequestHeader)for(var Xt in lt)ht.setRequestHeader(Xt,lt[Xt]);return S!=null&&ht.overrideMimeType&&ht.overrideMimeType(S),pt!=null&&(ht.responseType=pt),jt!=null&&J.on("error",jt).on("load",function(ne){jt(null,ne)}),at.beforesend.call(J,ht),ht.send(Ft==null?null:Ft),J},J.abort=function(){return ht.abort(),J},n.rebind(J,at,"on"),X==null?J:J.get(function(_t){return _t.length===1?function(Ft,jt){_t(Ft==null?jt:null)}:_t}(X))}Fe.forEach(function(g,S){Fe.set(g,Re(S))}),n.functor=ve,n.xhr=Ve(H),n.dsv=function(g,S){var N=new RegExp('["'+g+`
]`),X=g.charCodeAt(0);function J(vt,_t,Ft){arguments.length<3&&(Ft=_t,_t=null);var jt=We(vt,S,_t==null?at:lt(_t),Ft);return jt.row=function(Xt){return arguments.length?jt.response((_t=Xt)==null?at:lt(Xt)):_t},jt}function at(vt){return J.parse(vt.responseText)}function lt(vt){return function(_t){return J.parse(_t.responseText,vt)}}function ht(vt){return vt.map(pt).join(g)}function pt(vt){return N.test(vt)?'"'+vt.replace(/\"/g,'""')+'"':vt}return J.parse=function(vt,_t){var Ft;return J.parseRows(vt,function(jt,Xt){if(Ft)return Ft(jt,Xt-1);var ne=function(Gt){for(var Kt={},Ut=jt.length,oe=0;oe<Ut;++oe)Kt[jt[oe]]=Gt[oe];return Kt};Ft=_t?function(Gt,Kt){return _t(ne(Gt),Kt)}:ne})},J.parseRows=function(vt,_t){var Ft,jt,Xt={},ne={},Gt=[],Kt=vt.length,Ut=0,oe=0;function te(){if(Ut>=Kt)return ne;if(jt)return jt=!1,Xt;var ge=Ut;if(vt.charCodeAt(ge)===34){for(var xe=ge;xe++<Kt;)if(vt.charCodeAt(xe)===34){if(vt.charCodeAt(xe+1)!==34)break;++xe}return Ut=xe+2,(Ie=vt.charCodeAt(xe+1))===13?(jt=!0,vt.charCodeAt(xe+2)===10&&++Ut):Ie===10&&(jt=!0),vt.slice(ge+1,xe).replace(/""/g,'"')}for(;Ut<Kt;){var Ie,ze=1;if((Ie=vt.charCodeAt(Ut++))===10)jt=!0;else if(Ie===13)jt=!0,vt.charCodeAt(Ut)===10&&(++Ut,++ze);else if(Ie!==X)continue;return vt.slice(ge,Ut-ze)}return vt.slice(ge)}for(;(Ft=te())!==ne;){for(var Wt=[];Ft!==Xt&&Ft!==ne;)Wt.push(Ft),Ft=te();_t&&(Wt=_t(Wt,oe++))==null||Gt.push(Wt)}return Gt},J.format=function(vt){if(Array.isArray(vt[0]))return J.formatRows(vt);var _t=new W,Ft=[];return vt.forEach(function(jt){for(var Xt in jt)_t.has(Xt)||Ft.push(_t.add(Xt))}),[Ft.map(pt).join(g)].concat(vt.map(function(jt){return Ft.map(function(Xt){return pt(jt[Xt])}).join(g)})).join(`
`)},J.formatRows=function(vt){return vt.map(ht).join(`
`)},J},n.csv=n.dsv(",","text/csv"),n.tsv=n.dsv("	","text/tab-separated-values");var ln,on,sn,un,cn=this[K(this,"requestAnimationFrame")]||function(g){setTimeout(g,17)};function $e(g,S,N){var X=arguments.length;X<2&&(S=0),X<3&&(N=Date.now());var J=N+S,at={c:g,t:J,n:null};return on?on.n=at:ln=at,on=at,sn||(un=clearTimeout(un),sn=1,cn(ke)),at}function ke(){var g=Ge(),S=He()-g;S>24?(isFinite(S)&&(clearTimeout(un),un=setTimeout(ke,S)),sn=0):(sn=1,cn(ke))}function Ge(){for(var g=Date.now(),S=ln;S;)g>=S.t&&S.c(g-S.t)&&(S.c=null),S=S.n;return g}function He(){for(var g,S=ln,N=1/0;S;)S.c?(S.t<N&&(N=S.t),S=(g=S).n):S=g?g.n=S.n:ln=S.n;return on=g,N}function Ue(g){return g[0]}function Be(g){return g[1]}function tn(g){for(var S,N,X,J=g.length,at=[0,1],lt=2,ht=2;ht<J;ht++){for(;lt>1&&(S=g[at[lt-2]],N=g[at[lt-1]],X=g[ht],(N[0]-S[0])*(X[1]-S[1])-(N[1]-S[1])*(X[0]-S[0])<=0);)--lt;at[lt++]=ht}return at.slice(0,lt)}function rn(g,S){return g[0]-S[0]||g[1]-S[1]}n.timer=function(){$e.apply(this,arguments)},n.timer.flush=function(){Ge(),He()},n.round=function(g,S){return S?Math.round(g*(S=Math.pow(10,S)))/S:Math.round(g)},n.geom={},n.geom.hull=function(g){var S=Ue,N=Be;if(arguments.length)return X(g);function X(J){if(J.length<3)return[];var at,lt=ve(S),ht=ve(N),pt=J.length,vt=[],_t=[];for(at=0;at<pt;at++)vt.push([+lt.call(this,J[at],at),+ht.call(this,J[at],at),at]);for(vt.sort(rn),at=0;at<pt;at++)_t.push([vt[at][0],-vt[at][1]]);var Ft=tn(vt),jt=tn(_t),Xt=jt[0]===Ft[0],ne=jt[jt.length-1]===Ft[Ft.length-1],Gt=[];for(at=Ft.length-1;at>=0;--at)Gt.push(J[vt[Ft[at]][2]]);for(at=+Xt;at<jt.length-ne;++at)Gt.push(J[vt[jt[at]][2]]);return Gt}return X.x=function(J){return arguments.length?(S=J,X):S},X.y=function(J){return arguments.length?(N=J,X):N},X},n.geom.polygon=function(g){return z(g,dn),g};var dn=n.geom.polygon.prototype=[];function Xe(g,S,N){return(N[0]-S[0])*(g[1]-S[1])<(N[1]-S[1])*(g[0]-S[0])}function an(g,S,N,X){var J=g[0],at=N[0],lt=S[0]-J,ht=X[0]-at,pt=g[1],vt=N[1],_t=S[1]-pt,Ft=X[1]-vt,jt=(ht*(pt-vt)-Ft*(J-at))/(Ft*lt-ht*_t);return[J+jt*lt,pt+jt*_t]}function Cn(g){var S=g[0],N=g[g.length-1];return!(S[0]-N[0]||S[1]-N[1])}dn.area=function(){for(var g,S=-1,N=this.length,X=this[N-1],J=0;++S<N;)g=X,X=this[S],J+=g[1]*X[0]-g[0]*X[1];return .5*J},dn.centroid=function(g){var S,N,X=-1,J=this.length,at=0,lt=0,ht=this[J-1];for(arguments.length||(g=-1/(6*this.area()));++X<J;)S=ht,ht=this[X],N=S[0]*ht[1]-ht[0]*S[1],at+=(S[0]+ht[0])*N,lt+=(S[1]+ht[1])*N;return[at*g,lt*g]},dn.clip=function(g){for(var S,N,X,J,at,lt,ht=Cn(g),pt=-1,vt=this.length-Cn(this),_t=this[vt-1];++pt<vt;){for(S=g.slice(),g.length=0,J=this[pt],at=S[(X=S.length-ht)-1],N=-1;++N<X;)Xe(lt=S[N],_t,J)?(Xe(at,_t,J)||g.push(an(at,lt,_t,J)),g.push(lt)):Xe(at,_t,J)&&g.push(an(at,lt,_t,J)),at=lt;ht&&g.push(g[0]),_t=J}return g};var Fn,Gn,Yn,tr,pr,co=[],Tl=[];function Fr(){Cl(this),this.edge=this.site=this.circle=null}function Ba(g){var S=co.pop()||new Fr;return S.site=g,S}function na(g){hi(g),Yn.remove(g),co.push(g),Cl(g)}function Ua(g){var S=g.circle,N=S.x,X=S.cy,J={x:N,y:X},at=g.P,lt=g.N,ht=[g];na(g);for(var pt=at;pt.circle&&x(N-pt.circle.x)<Bt&&x(X-pt.circle.cy)<Bt;)at=pt.P,ht.unshift(pt),na(pt),pt=at;ht.unshift(pt),hi(pt);for(var vt=lt;vt.circle&&x(N-vt.circle.x)<Bt&&x(X-vt.circle.cy)<Bt;)lt=vt.N,ht.push(vt),na(vt),vt=lt;ht.push(vt),hi(vt);var _t,Ft=ht.length;for(_t=1;_t<Ft;++_t)vt=ht[_t],pt=ht[_t-1],Al(vt.edge,pt.site,vt.site,J);pt=ht[0],(vt=ht[Ft-1]).edge=fo(pt.site,vt.site,null,J),qn(pt),qn(vt)}function kl(g){for(var S,N,X,J,at=g.x,lt=g.y,ht=Yn._;ht;)if((X=pi(ht,lt)-at)>Bt)ht=ht.L;else{if(!((J=at-Ml(ht,lt))>Bt)){X>-Bt?(S=ht.P,N=ht):J>-Bt?(S=ht,N=ht.N):S=N=ht;break}if(!ht.R){S=ht;break}ht=ht.R}var pt=Ba(g);if(Yn.insert(S,pt),S||N){if(S===N)return hi(S),N=Ba(S.site),Yn.insert(pt,N),pt.edge=N.edge=fo(S.site,pt.site),qn(S),void qn(N);if(N){hi(S),hi(N);var vt=S.site,_t=vt.x,Ft=vt.y,jt=g.x-_t,Xt=g.y-Ft,ne=N.site,Gt=ne.x-_t,Kt=ne.y-Ft,Ut=2*(jt*Kt-Xt*Gt),oe=jt*jt+Xt*Xt,te=Gt*Gt+Kt*Kt,Wt={x:(Kt*oe-Xt*te)/Ut+_t,y:(jt*te-Gt*oe)/Ut+Ft};Al(N.edge,vt,ne,Wt),pt.edge=fo(vt,g,null,Wt),N.edge=fo(g,ne,null,Wt),qn(S),qn(N)}else pt.edge=fo(S.site,pt.site)}}function pi(g,S){var N=g.site,X=N.x,J=N.y,at=J-S;if(!at)return X;var lt=g.P;if(!lt)return-1/0;var ht=(N=lt.site).x,pt=N.y,vt=pt-S;if(!vt)return ht;var _t=ht-X,Ft=1/at-1/vt,jt=_t/vt;return Ft?(-jt+Math.sqrt(jt*jt-2*Ft*(_t*_t/(-2*vt)-pt+vt/2+J-at/2)))/Ft+X:(X+ht)/2}function Ml(g,S){var N=g.N;if(N)return pi(N,S);var X=g.site;return X.y===S?X.x:1/0}function Sn(g){this.site=g,this.edges=[]}function Wn(g,S){return S.angle-g.angle}function ra(){Cl(this),this.x=this.y=this.arc=this.site=this.cy=null}function qn(g){var S=g.P,N=g.N;if(S&&N){var X=S.site,J=g.site,at=N.site;if(X!==at){var lt=J.x,ht=J.y,pt=X.x-lt,vt=X.y-ht,_t=at.x-lt,Ft=2*(pt*(Kt=at.y-ht)-vt*_t);if(!(Ft>=-1e-12)){var jt=pt*pt+vt*vt,Xt=_t*_t+Kt*Kt,ne=(Kt*jt-vt*Xt)/Ft,Gt=(pt*Xt-_t*jt)/Ft,Kt=Gt+ht,Ut=Tl.pop()||new ra;Ut.arc=g,Ut.site=J,Ut.x=ne+lt,Ut.y=Kt+Math.sqrt(ne*ne+Gt*Gt),Ut.cy=Kt,g.circle=Ut;for(var oe=null,te=pr._;te;)if(Ut.y<te.y||Ut.y===te.y&&Ut.x<=te.x){if(!te.L){oe=te.P;break}te=te.L}else{if(!te.R){oe=te;break}te=te.R}pr.insert(oe,Ut),oe||(tr=Ut)}}}}function hi(g){var S=g.circle;S&&(S.P||(tr=S.N),pr.remove(S),Tl.push(S),Cl(S),g.circle=null)}function jg(g,S){var N=g.b;if(N)return!0;var X,J,at=g.a,lt=S[0][0],ht=S[1][0],pt=S[0][1],vt=S[1][1],_t=g.l,Ft=g.r,jt=_t.x,Xt=_t.y,ne=Ft.x,Gt=Ft.y,Kt=(jt+ne)/2,Ut=(Xt+Gt)/2;if(Gt===Xt){if(Kt<lt||Kt>=ht)return;if(jt>ne){if(at){if(at.y>=vt)return}else at={x:Kt,y:pt};N={x:Kt,y:vt}}else{if(at){if(at.y<pt)return}else at={x:Kt,y:vt};N={x:Kt,y:pt}}}else if(J=Ut-(X=(jt-ne)/(Gt-Xt))*Kt,X<-1||X>1)if(jt>ne){if(at){if(at.y>=vt)return}else at={x:(pt-J)/X,y:pt};N={x:(vt-J)/X,y:vt}}else{if(at){if(at.y<pt)return}else at={x:(vt-J)/X,y:vt};N={x:(pt-J)/X,y:pt}}else if(Xt<Gt){if(at){if(at.x>=ht)return}else at={x:lt,y:X*lt+J};N={x:ht,y:X*ht+J}}else{if(at){if(at.x<lt)return}else at={x:ht,y:X*ht+J};N={x:lt,y:X*lt+J}}return g.a=at,g.b=N,!0}function dp(g,S){this.l=g,this.r=S,this.a=this.b=null}function fo(g,S,N,X){var J=new dp(g,S);return Fn.push(J),N&&Al(J,g,S,N),X&&Al(J,S,g,X),Gn[g.i].edges.push(new Sl(J,g,S)),Gn[S.i].edges.push(new Sl(J,S,g)),J}function Hg(g,S,N){var X=new dp(g,null);return X.a=S,X.b=N,Fn.push(X),X}function Al(g,S,N,X){g.a||g.b?g.l===N?g.b=X:g.a=X:(g.a=X,g.l=S,g.r=N)}function Sl(g,S,N){var X=g.a,J=g.b;this.edge=g,this.site=S,this.angle=N?Math.atan2(N.y-S.y,N.x-S.x):g.l===S?Math.atan2(J.x-X.x,X.y-J.y):Math.atan2(X.x-J.x,J.y-X.y)}function Pu(){this._=null}function Cl(g){g.U=g.C=g.L=g.R=g.P=g.N=null}function po(g,S){var N=S,X=S.R,J=N.U;J?J.L===N?J.L=X:J.R=X:g._=X,X.U=J,N.U=X,N.R=X.L,N.R&&(N.R.U=N),X.L=N}function ho(g,S){var N=S,X=S.L,J=N.U;J?J.L===N?J.L=X:J.R=X:g._=X,X.U=J,N.U=X,N.L=X.R,N.L&&(N.L.U=N),X.R=N}function pp(g){for(;g.L;)g=g.L;return g}function Nu(g,S){var N,X,J,at=g.sort(Bg).pop();for(Fn=[],Gn=new Array(g.length),Yn=new Pu,pr=new Pu;;)if(J=tr,at&&(!J||at.y<J.y||at.y===J.y&&at.x<J.x))at.x===N&&at.y===X||(Gn[at.i]=new Sn(at),kl(at),N=at.x,X=at.y),at=g.pop();else{if(!J)break;Ua(J.arc)}S&&(function(ht){for(var pt,vt,_t,Ft,jt,Xt=Fn,ne=(vt=ht[0][0],_t=ht[0][1],Ft=ht[1][0],jt=ht[1][1],function(Kt){var Ut,oe=Kt.a,te=Kt.b,Wt=oe.x,ge=oe.y,xe=0,Ie=1,ze=te.x-Wt,qe=te.y-ge;if(Ut=vt-Wt,ze||!(Ut>0)){if(Ut/=ze,ze<0){if(Ut<xe)return;Ut<Ie&&(Ie=Ut)}else if(ze>0){if(Ut>Ie)return;Ut>xe&&(xe=Ut)}if(Ut=Ft-Wt,ze||!(Ut<0)){if(Ut/=ze,ze<0){if(Ut>Ie)return;Ut>xe&&(xe=Ut)}else if(ze>0){if(Ut<xe)return;Ut<Ie&&(Ie=Ut)}if(Ut=_t-ge,qe||!(Ut>0)){if(Ut/=qe,qe<0){if(Ut<xe)return;Ut<Ie&&(Ie=Ut)}else if(qe>0){if(Ut>Ie)return;Ut>xe&&(xe=Ut)}if(Ut=jt-ge,qe||!(Ut<0)){if(Ut/=qe,qe<0){if(Ut>Ie)return;Ut>xe&&(xe=Ut)}else if(qe>0){if(Ut<xe)return;Ut<Ie&&(Ie=Ut)}return xe>0&&(Kt.a={x:Wt+xe*ze,y:ge+xe*qe}),Ie<1&&(Kt.b={x:Wt+Ie*ze,y:ge+Ie*qe}),Kt}}}}}),Gt=Xt.length;Gt--;)(!jg(pt=Xt[Gt],ht)||!ne(pt)||x(pt.a.x-pt.b.x)<Bt&&x(pt.a.y-pt.b.y)<Bt)&&(pt.a=pt.b=null,Xt.splice(Gt,1))}(S),function(ht){for(var pt,vt,_t,Ft,jt,Xt,ne,Gt,Kt,Ut,oe=ht[0][0],te=ht[1][0],Wt=ht[0][1],ge=ht[1][1],xe=Gn,Ie=xe.length;Ie--;)if((jt=xe[Ie])&&jt.prepare())for(Gt=(ne=jt.edges).length,Xt=0;Xt<Gt;)_t=(Ut=ne[Xt].end()).x,Ft=Ut.y,pt=(Kt=ne[++Xt%Gt].start()).x,vt=Kt.y,(x(_t-pt)>Bt||x(Ft-vt)>Bt)&&(ne.splice(Xt,0,new Sl(Hg(jt.site,Ut,x(_t-oe)<Bt&&ge-Ft>Bt?{x:oe,y:x(pt-oe)<Bt?vt:ge}:x(Ft-ge)<Bt&&te-_t>Bt?{x:x(vt-ge)<Bt?pt:te,y:ge}:x(_t-te)<Bt&&Ft-Wt>Bt?{x:te,y:x(pt-te)<Bt?vt:Wt}:x(Ft-Wt)<Bt&&_t-oe>Bt?{x:x(vt-Wt)<Bt?pt:oe,y:Wt}:null),jt.site,null)),++Gt)}(S));var lt={cells:Gn,edges:Fn};return Yn=pr=Fn=Gn=null,lt}function Bg(g,S){return S.y-g.y||S.x-g.x}Sn.prototype.prepare=function(){for(var g,S=this.edges,N=S.length;N--;)(g=S[N].edge).b&&g.a||S.splice(N,1);return S.sort(Wn),S.length},Sl.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Pu.prototype={insert:function(g,S){var N,X,J;if(g){if(S.P=g,S.N=g.N,g.N&&(g.N.P=S),g.N=S,g.R){for(g=g.R;g.L;)g=g.L;g.L=S}else g.R=S;N=g}else this._?(g=pp(this._),S.P=null,S.N=g,g.P=g.L=S,N=g):(S.P=S.N=null,this._=S,N=null);for(S.L=S.R=null,S.U=N,S.C=!0,g=S;N&&N.C;)N===(X=N.U).L?(J=X.R)&&J.C?(N.C=J.C=!1,X.C=!0,g=X):(g===N.R&&(po(this,N),N=(g=N).U),N.C=!1,X.C=!0,ho(this,X)):(J=X.L)&&J.C?(N.C=J.C=!1,X.C=!0,g=X):(g===N.L&&(ho(this,N),N=(g=N).U),N.C=!1,X.C=!0,po(this,X)),N=g.U;this._.C=!1},remove:function(g){g.N&&(g.N.P=g.P),g.P&&(g.P.N=g.N),g.N=g.P=null;var S,N,X,J=g.U,at=g.L,lt=g.R;if(N=at?lt?pp(lt):at:lt,J?J.L===g?J.L=N:J.R=N:this._=N,at&&lt?(X=N.C,N.C=g.C,N.L=at,at.U=N,N!==lt?(J=N.U,N.U=g.U,g=N.R,J.L=g,N.R=lt,lt.U=N):(N.U=J,J=N,g=N.R)):(X=g.C,g=N),g&&(g.U=J),!X)if(g&&g.C)g.C=!1;else{do{if(g===this._)break;if(g===J.L){if((S=J.R).C&&(S.C=!1,J.C=!0,po(this,J),S=J.R),S.L&&S.L.C||S.R&&S.R.C){S.R&&S.R.C||(S.L.C=!1,S.C=!0,ho(this,S),S=J.R),S.C=J.C,J.C=S.R.C=!1,po(this,J),g=this._;break}}else if((S=J.L).C&&(S.C=!1,J.C=!0,ho(this,J),S=J.L),S.L&&S.L.C||S.R&&S.R.C){S.L&&S.L.C||(S.R.C=!1,S.C=!0,po(this,S),S=J.L),S.C=J.C,J.C=S.L.C=!1,ho(this,J),g=this._;break}S.C=!0,g=J,J=J.U}while(!g.C);g&&(g.C=!1)}}},n.geom.voronoi=function(g){var S=Ue,N=Be,X=S,J=N,at=Ol;if(g)return lt(g);function lt(pt){var vt=new Array(pt.length),_t=at[0][0],Ft=at[0][1],jt=at[1][0],Xt=at[1][1];return Nu(ht(pt),at).cells.forEach(function(ne,Gt){var Kt=ne.edges,Ut=ne.site;(vt[Gt]=Kt.length?Kt.map(function(oe){var te=oe.start();return[te.x,te.y]}):Ut.x>=_t&&Ut.x<=jt&&Ut.y>=Ft&&Ut.y<=Xt?[[_t,Xt],[jt,Xt],[jt,Ft],[_t,Ft]]:[]).point=pt[Gt]}),vt}function ht(pt){return pt.map(function(vt,_t){return{x:Math.round(X(vt,_t)/Bt)*Bt,y:Math.round(J(vt,_t)/Bt)*Bt,i:_t}})}return lt.links=function(pt){return Nu(ht(pt)).edges.filter(function(vt){return vt.l&&vt.r}).map(function(vt){return{source:pt[vt.l.i],target:pt[vt.r.i]}})},lt.triangles=function(pt){var vt=[];return Nu(ht(pt)).cells.forEach(function(_t,Ft){for(var jt,Xt,ne,Gt,Kt=_t.site,Ut=_t.edges.sort(Wn),oe=-1,te=Ut.length,Wt=Ut[te-1].edge,ge=Wt.l===Kt?Wt.r:Wt.l;++oe<te;)jt=ge,ge=(Wt=Ut[oe].edge).l===Kt?Wt.r:Wt.l,Ft<jt.i&&Ft<ge.i&&(ne=jt,Gt=ge,((Xt=Kt).x-Gt.x)*(ne.y-Xt.y)-(Xt.x-ne.x)*(Gt.y-Xt.y)<0)&&vt.push([pt[Ft],pt[jt.i],pt[ge.i]])}),vt},lt.x=function(pt){return arguments.length?(X=ve(S=pt),lt):S},lt.y=function(pt){return arguments.length?(J=ve(N=pt),lt):N},lt.clipExtent=function(pt){return arguments.length?(at=pt==null?Ol:pt,lt):at===Ol?null:at},lt.size=function(pt){return arguments.length?lt.clipExtent(pt&&[[0,0],pt]):at===Ol?null:at&&at[1]},lt};var Ol=[[-1e6,-1e6],[1e6,1e6]];function Ug(g){return g.x}function Vg(g){return g.y}function vo(g,S,N,X,J,at){if(!g(S,N,X,J,at)){var lt=.5*(N+J),ht=.5*(X+at),pt=S.nodes;pt[0]&&vo(g,pt[0],N,X,lt,ht),pt[1]&&vo(g,pt[1],lt,X,J,ht),pt[2]&&vo(g,pt[2],N,ht,lt,at),pt[3]&&vo(g,pt[3],lt,ht,J,at)}}function Yg(g,S,N,X,J,at,lt){var ht,pt=1/0;return function vt(_t,Ft,jt,Xt,ne){if(!(Ft>at||jt>lt||Xt<X||ne<J)){if(Gt=_t.point){var Gt,Kt=S-_t.x,Ut=N-_t.y,oe=Kt*Kt+Ut*Ut;if(oe<pt){var te=Math.sqrt(pt=oe);X=S-te,J=N-te,at=S+te,lt=N+te,ht=Gt}}for(var Wt=_t.nodes,ge=.5*(Ft+Xt),xe=.5*(jt+ne),Ie=(N>=xe)<<1|S>=ge,ze=Ie+4;Ie<ze;++Ie)if(_t=Wt[3&Ie])switch(3&Ie){case 0:vt(_t,Ft,jt,ge,xe);break;case 1:vt(_t,ge,jt,Xt,xe);break;case 2:vt(_t,Ft,xe,ge,ne);break;case 3:vt(_t,ge,xe,Xt,ne)}}}(g,X,J,at,lt),ht}function Ru(g,S){g=n.rgb(g),S=n.rgb(S);var N=g.r,X=g.g,J=g.b,at=S.r-N,lt=S.g-X,ht=S.b-J;return function(pt){return"#"+je(Math.round(N+at*pt))+je(Math.round(X+lt*pt))+je(Math.round(J+ht*pt))}}function hp(g,S){var N,X={},J={};for(N in g)N in S?X[N]=Va(g[N],S[N]):J[N]=g[N];for(N in S)N in g||(J[N]=S[N]);return function(at){for(N in X)J[N]=X[N](at);return J}}function aa(g,S){return g=+g,S=+S,function(N){return g*(1-N)+S*N}}function vp(g,S){var N,X,J,at=Iu.lastIndex=Fu.lastIndex=0,lt=-1,ht=[],pt=[];for(g+="",S+="";(N=Iu.exec(g))&&(X=Fu.exec(S));)(J=X.index)>at&&(J=S.slice(at,J),ht[lt]?ht[lt]+=J:ht[++lt]=J),(N=N[0])===(X=X[0])?ht[lt]?ht[lt]+=X:ht[++lt]=X:(ht[++lt]=null,pt.push({i:lt,x:aa(N,X)})),at=Fu.lastIndex;return at<S.length&&(J=S.slice(at),ht[lt]?ht[lt]+=J:ht[++lt]=J),ht.length<2?pt[0]?(S=pt[0].x,function(vt){return S(vt)+""}):function(){return S}:(S=pt.length,function(vt){for(var _t,Ft=0;Ft<S;++Ft)ht[(_t=pt[Ft]).i]=_t.x(vt);return ht.join("")})}n.geom.delaunay=function(g){return n.geom.voronoi().triangles(g)},n.geom.quadtree=function(g,S,N,X,J){var at,lt=Ue,ht=Be;if(at=arguments.length)return lt=Ug,ht=Vg,at===3&&(J=N,X=S,N=S=0),pt(g);function pt(vt){var _t,Ft,jt,Xt,ne,Gt,Kt,Ut,oe,te=ve(lt),Wt=ve(ht);if(S!=null)Gt=S,Kt=N,Ut=X,oe=J;else if(Ut=oe=-(Gt=Kt=1/0),Ft=[],jt=[],ne=vt.length,at)for(Xt=0;Xt<ne;++Xt)(_t=vt[Xt]).x<Gt&&(Gt=_t.x),_t.y<Kt&&(Kt=_t.y),_t.x>Ut&&(Ut=_t.x),_t.y>oe&&(oe=_t.y),Ft.push(_t.x),jt.push(_t.y);else for(Xt=0;Xt<ne;++Xt){var ge=+te(_t=vt[Xt],Xt),xe=+Wt(_t,Xt);ge<Gt&&(Gt=ge),xe<Kt&&(Kt=xe),ge>Ut&&(Ut=ge),xe>oe&&(oe=xe),Ft.push(ge),jt.push(xe)}var Ie=Ut-Gt,ze=oe-Kt;function qe(Ke,bn,Ln,zn,Ne,Qe,gn,hn){if(!isNaN(Ln)&&!isNaN(zn))if(Ke.leaf){var Tn=Ke.x,kn=Ke.y;if(Tn!=null)if(x(Tn-Ln)+x(kn-zn)<.01)Ze(Ke,bn,Ln,zn,Ne,Qe,gn,hn);else{var En=Ke.point;Ke.x=Ke.y=Ke.point=null,Ze(Ke,En,Tn,kn,Ne,Qe,gn,hn),Ze(Ke,bn,Ln,zn,Ne,Qe,gn,hn)}else Ke.x=Ln,Ke.y=zn,Ke.point=bn}else Ze(Ke,bn,Ln,zn,Ne,Qe,gn,hn)}function Ze(Ke,bn,Ln,zn,Ne,Qe,gn,hn){var Tn=.5*(Ne+gn),kn=.5*(Qe+hn),En=Ln>=Tn,Vn=zn>=kn,er=Vn<<1|En;Ke.leaf=!1,En?Ne=Tn:gn=Tn,Vn?Qe=kn:hn=kn,qe(Ke=Ke.nodes[er]||(Ke.nodes[er]={leaf:!0,nodes:[],point:null,x:null,y:null}),bn,Ln,zn,Ne,Qe,gn,hn)}Ie>ze?oe=Kt+Ie:Ut=Gt+ze;var vn={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Ke){qe(vn,Ke,+te(Ke,++Xt),+Wt(Ke,Xt),Gt,Kt,Ut,oe)},visit:function(Ke){vo(Ke,vn,Gt,Kt,Ut,oe)},find:function(Ke){return Yg(vn,Ke[0],Ke[1],Gt,Kt,Ut,oe)}};if(Xt=-1,S==null){for(;++Xt<ne;)qe(vn,vt[Xt],Ft[Xt],jt[Xt],Gt,Kt,Ut,oe);--Xt}else vt.forEach(vn.add);return Ft=jt=vt=_t=null,vn}return pt.x=function(vt){return arguments.length?(lt=vt,pt):lt},pt.y=function(vt){return arguments.length?(ht=vt,pt):ht},pt.extent=function(vt){return arguments.length?(vt==null?S=N=X=J=null:(S=+vt[0][0],N=+vt[0][1],X=+vt[1][0],J=+vt[1][1]),pt):S==null?null:[[S,N],[X,J]]},pt.size=function(vt){return arguments.length?(vt==null?S=N=X=J=null:(S=N=0,X=+vt[0],J=+vt[1]),pt):S==null?null:[X-S,J-N]},pt},n.interpolateRgb=Ru,n.interpolateObject=hp,n.interpolateNumber=aa,n.interpolateString=vp;var Iu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fu=new RegExp(Iu.source,"g");function Va(g,S){for(var N,X=n.interpolators.length;--X>=0&&!(N=n.interpolators[X](g,S)););return N}function Ll(g,S){var N,X=[],J=[],at=g.length,lt=S.length,ht=Math.min(g.length,S.length);for(N=0;N<ht;++N)X.push(Va(g[N],S[N]));for(;N<at;++N)J[N]=g[N];for(;N<lt;++N)J[N]=S[N];return function(pt){for(N=0;N<ht;++N)J[N]=X[N](pt);return J}}n.interpolate=Va,n.interpolators=[function(g,S){var N=typeof S;return(N==="string"?Fe.has(S.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(S)?Ru:vp:S instanceof le?Ru:Array.isArray(S)?Ll:N==="object"&&isNaN(S)?hp:aa)(g,S)}],n.interpolateArray=Ll;var mp=function(){return H},$g=n.map({linear:mp,poly:function(g){return function(S){return Math.pow(S,g)}},quad:function(){return qg},cubic:function(){return Zg},sin:function(){return Jg},exp:function(){return Kg},circle:function(){return Qg},elastic:function(g,S){var N;return arguments.length<2&&(S=.45),arguments.length?N=S/ye*Math.asin(1/g):(g=1,N=S/4),function(X){return 1+g*Math.pow(2,-10*X)*Math.sin((X-N)*ye/S)}},back:function(g){return g||(g=1.70158),function(S){return S*S*((g+1)*S-g)}},bounce:function(){return ty}}),Gg=n.map({in:H,out:gp,"in-out":yp,"out-in":function(g){return yp(gp(g))}});function Wg(g){return function(S){return S<=0?0:S>=1?1:g(S)}}function gp(g){return function(S){return 1-g(1-S)}}function yp(g){return function(S){return .5*(S<.5?g(2*S):2-g(2-2*S))}}function qg(g){return g*g}function Zg(g){return g*g*g}function Xg(g){if(g<=0)return 0;if(g>=1)return 1;var S=g*g,N=S*g;return 4*(g<.5?N:3*(g-S)+N-.75)}function Jg(g){return 1-Math.cos(g*ft)}function Kg(g){return Math.pow(2,10*(g-1))}function Qg(g){return 1-Math.sqrt(1-g*g)}function ty(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+.9375:7.5625*(g-=2.625/2.75)*g+.984375}function xp(g,S){return S-=g,function(N){return Math.round(g+S*N)}}function bp(g){var S,N,X,J=[g.a,g.b],at=[g.c,g.d],lt=wp(J),ht=_p(J,at),pt=wp(((S=at)[0]+=(X=-ht)*(N=J)[0],S[1]+=X*N[1],S))||0;J[0]*at[1]<at[0]*J[1]&&(J[0]*=-1,J[1]*=-1,lt*=-1,ht*=-1),this.rotate=(lt?Math.atan2(J[1],J[0]):Math.atan2(-at[0],at[1]))*Pt,this.translate=[g.e,g.f],this.scale=[lt,pt],this.skew=pt?Math.atan2(ht,pt)*Pt:0}function _p(g,S){return g[0]*S[0]+g[1]*S[1]}function wp(g){var S=Math.sqrt(_p(g,g));return S&&(g[0]/=S,g[1]/=S),S}n.ease=function(g){var S=g.indexOf("-"),N=S>=0?g.slice(0,S):g,X=S>=0?g.slice(S+1):"in";return N=$g.get(N)||mp,Wg((X=Gg.get(X)||H)(N.apply(null,a.call(arguments,1))))},n.interpolateHcl=function(g,S){g=n.hcl(g),S=n.hcl(S);var N=g.h,X=g.c,J=g.l,at=S.h-N,lt=S.c-X,ht=S.l-J;return isNaN(lt)&&(lt=0,X=isNaN(X)?S.c:X),isNaN(at)?(at=0,N=isNaN(N)?S.h:N):at>180?at-=360:at<-180&&(at+=360),function(pt){return ue(N+at*pt,X+lt*pt,J+ht*pt)+""}},n.interpolateHsl=function(g,S){g=n.hsl(g),S=n.hsl(S);var N=g.h,X=g.s,J=g.l,at=S.h-N,lt=S.s-X,ht=S.l-J;return isNaN(lt)&&(lt=0,X=isNaN(X)?S.s:X),isNaN(at)?(at=0,N=isNaN(N)?S.h:N):at>180?at-=360:at<-180&&(at+=360),function(pt){return we(N+at*pt,X+lt*pt,J+ht*pt)+""}},n.interpolateLab=function(g,S){g=n.lab(g),S=n.lab(S);var N=g.l,X=g.a,J=g.b,at=S.l-N,lt=S.a-X,ht=S.b-J;return function(pt){return fe(N+at*pt,X+lt*pt,J+ht*pt)+""}},n.interpolateRound=xp,n.transform=function(g){var S=i.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(N){if(N!=null){S.setAttribute("transform",N);var X=S.transform.baseVal.consolidate()}return new bp(X?X.matrix:ey)})(g)},bp.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ey={a:1,b:0,c:0,d:1,e:0,f:0};function vi(g){return g.length?g.pop()+",":""}function Tp(g,S){var N=[],X=[];return g=n.transform(g),S=n.transform(S),function(J,at,lt,ht){if(J[0]!==at[0]||J[1]!==at[1]){var pt=lt.push("translate(",null,",",null,")");ht.push({i:pt-4,x:aa(J[0],at[0])},{i:pt-2,x:aa(J[1],at[1])})}else(at[0]||at[1])&&lt.push("translate("+at+")")}(g.translate,S.translate,N,X),function(J,at,lt,ht){J!==at?(J-at>180?at+=360:at-J>180&&(J+=360),ht.push({i:lt.push(vi(lt)+"rotate(",null,")")-2,x:aa(J,at)})):at&&lt.push(vi(lt)+"rotate("+at+")")}(g.rotate,S.rotate,N,X),function(J,at,lt,ht){J!==at?ht.push({i:lt.push(vi(lt)+"skewX(",null,")")-2,x:aa(J,at)}):at&&lt.push(vi(lt)+"skewX("+at+")")}(g.skew,S.skew,N,X),function(J,at,lt,ht){if(J[0]!==at[0]||J[1]!==at[1]){var pt=lt.push(vi(lt)+"scale(",null,",",null,")");ht.push({i:pt-4,x:aa(J[0],at[0])},{i:pt-2,x:aa(J[1],at[1])})}else at[0]===1&&at[1]===1||lt.push(vi(lt)+"scale("+at+")")}(g.scale,S.scale,N,X),g=S=null,function(J){for(var at,lt=-1,ht=X.length;++lt<ht;)N[(at=X[lt]).i]=at.x(J);return N.join("")}}function ny(g,S){return S=(S-=g=+g)||1/S,function(N){return(N-g)/S}}function ry(g,S){return S=(S-=g=+g)||1/S,function(N){return Math.max(0,Math.min(1,(N-g)/S))}}function ay(g){for(var S=g.source,N=g.target,X=function(lt,ht){if(lt===ht)return lt;for(var pt=kp(lt),vt=kp(ht),_t=pt.pop(),Ft=vt.pop(),jt=null;_t===Ft;)jt=_t,_t=pt.pop(),Ft=vt.pop();return jt}(S,N),J=[S];S!==X;)S=S.parent,J.push(S);for(var at=J.length;N!==X;)J.splice(at,0,N),N=N.parent;return J}function kp(g){for(var S=[],N=g.parent;N!=null;)S.push(g),g=N,N=N.parent;return S.push(g),S}function iy(g){g.fixed|=2}function oy(g){g.fixed&=-7}function ly(g){g.fixed|=4,g.px=g.x,g.py=g.y}function sy(g){g.fixed&=-5}n.interpolateTransform=Tp,n.layout={},n.layout.bundle=function(){return function(g){for(var S=[],N=-1,X=g.length;++N<X;)S.push(ay(g[N]));return S}},n.layout.chord=function(){var g,S,N,X,J,at,lt,ht={},pt=0;function vt(){var Ft,jt,Xt,ne,Gt,Kt={},Ut=[],oe=n.range(X),te=[];for(g=[],S=[],Ft=0,ne=-1;++ne<X;){for(jt=0,Gt=-1;++Gt<X;)jt+=N[ne][Gt];Ut.push(jt),te.push(n.range(X)),Ft+=jt}for(J&&oe.sort(function(vn,Ke){return J(Ut[vn],Ut[Ke])}),at&&te.forEach(function(vn,Ke){vn.sort(function(bn,Ln){return at(N[Ke][bn],N[Ke][Ln])})}),Ft=(ye-pt*X)/Ft,jt=0,ne=-1;++ne<X;){for(Xt=jt,Gt=-1;++Gt<X;){var Wt=oe[ne],ge=te[Wt][Gt],xe=N[Wt][ge],Ie=jt,ze=jt+=xe*Ft;Kt[Wt+"-"+ge]={index:Wt,subindex:ge,startAngle:Ie,endAngle:ze,value:xe}}S[Wt]={index:Wt,startAngle:Xt,endAngle:jt,value:Ut[Wt]},jt+=pt}for(ne=-1;++ne<X;)for(Gt=ne-1;++Gt<X;){var qe=Kt[ne+"-"+Gt],Ze=Kt[Gt+"-"+ne];(qe.value||Ze.value)&&g.push(qe.value<Ze.value?{source:Ze,target:qe}:{source:qe,target:Ze})}lt&&_t()}function _t(){g.sort(function(Ft,jt){return lt((Ft.source.value+Ft.target.value)/2,(jt.source.value+jt.target.value)/2)})}return ht.matrix=function(Ft){return arguments.length?(X=(N=Ft)&&N.length,g=S=null,ht):N},ht.padding=function(Ft){return arguments.length?(pt=Ft,g=S=null,ht):pt},ht.sortGroups=function(Ft){return arguments.length?(J=Ft,g=S=null,ht):J},ht.sortSubgroups=function(Ft){return arguments.length?(at=Ft,g=null,ht):at},ht.sortChords=function(Ft){return arguments.length?(lt=Ft,g&&_t(),ht):lt},ht.chords=function(){return g||vt(),g},ht.groups=function(){return S||vt(),S},ht},n.layout.force=function(){var g,S,N,X,J,at,lt={},ht=n.dispatch("start","tick","end"),pt=[1,1],vt=.9,_t=uy,Ft=cy,jt=-30,Xt=fy,ne=.1,Gt=.64,Kt=[],Ut=[];function oe(Wt){return function(ge,xe,Ie,ze){if(ge.point!==Wt){var qe=ge.cx-Wt.x,Ze=ge.cy-Wt.y,vn=ze-xe,Ke=qe*qe+Ze*Ze;if(vn*vn/Gt<Ke){if(Ke<Xt){var bn=ge.charge/Ke;Wt.px-=qe*bn,Wt.py-=Ze*bn}return!0}ge.point&&Ke&&Ke<Xt&&(bn=ge.pointCharge/Ke,Wt.px-=qe*bn,Wt.py-=Ze*bn)}return!ge.charge}}function te(Wt){Wt.px=n.event.x,Wt.py=n.event.y,lt.resume()}return lt.tick=function(){if((N*=.99)<.005)return g=null,ht.end({type:"end",alpha:N=0}),!0;var Wt,ge,xe,Ie,ze,qe,Ze,vn,Ke,bn=Kt.length,Ln=Ut.length;for(ge=0;ge<Ln;++ge)Ie=(xe=Ut[ge]).source,(qe=(vn=(ze=xe.target).x-Ie.x)*vn+(Ke=ze.y-Ie.y)*Ke)&&(vn*=qe=N*J[ge]*((qe=Math.sqrt(qe))-X[ge])/qe,Ke*=qe,ze.x-=vn*(Ze=Ie.weight+ze.weight?Ie.weight/(Ie.weight+ze.weight):.5),ze.y-=Ke*Ze,Ie.x+=vn*(Ze=1-Ze),Ie.y+=Ke*Ze);if((Ze=N*ne)&&(vn=pt[0]/2,Ke=pt[1]/2,ge=-1,Ze))for(;++ge<bn;)(xe=Kt[ge]).x+=(vn-xe.x)*Ze,xe.y+=(Ke-xe.y)*Ze;if(jt)for(function zn(Ne,Qe,gn){var hn=0,Tn=0;if(Ne.charge=0,!Ne.leaf)for(var kn,En=Ne.nodes,Vn=En.length,er=-1;++er<Vn;)(kn=En[er])!=null&&(zn(kn,Qe,gn),Ne.charge+=kn.charge,hn+=kn.charge*kn.cx,Tn+=kn.charge*kn.cy);if(Ne.point){Ne.leaf||(Ne.point.x+=Math.random()-.5,Ne.point.y+=Math.random()-.5);var nr=Qe*gn[Ne.point.index];Ne.charge+=Ne.pointCharge=nr,hn+=nr*Ne.point.x,Tn+=nr*Ne.point.y}Ne.cx=hn/Ne.charge,Ne.cy=Tn/Ne.charge}(Wt=n.geom.quadtree(Kt),N,at),ge=-1;++ge<bn;)(xe=Kt[ge]).fixed||Wt.visit(oe(xe));for(ge=-1;++ge<bn;)(xe=Kt[ge]).fixed?(xe.x=xe.px,xe.y=xe.py):(xe.x-=(xe.px-(xe.px=xe.x))*vt,xe.y-=(xe.py-(xe.py=xe.y))*vt);ht.tick({type:"tick",alpha:N})},lt.nodes=function(Wt){return arguments.length?(Kt=Wt,lt):Kt},lt.links=function(Wt){return arguments.length?(Ut=Wt,lt):Ut},lt.size=function(Wt){return arguments.length?(pt=Wt,lt):pt},lt.linkDistance=function(Wt){return arguments.length?(_t=typeof Wt=="function"?Wt:+Wt,lt):_t},lt.distance=lt.linkDistance,lt.linkStrength=function(Wt){return arguments.length?(Ft=typeof Wt=="function"?Wt:+Wt,lt):Ft},lt.friction=function(Wt){return arguments.length?(vt=+Wt,lt):vt},lt.charge=function(Wt){return arguments.length?(jt=typeof Wt=="function"?Wt:+Wt,lt):jt},lt.chargeDistance=function(Wt){return arguments.length?(Xt=Wt*Wt,lt):Math.sqrt(Xt)},lt.gravity=function(Wt){return arguments.length?(ne=+Wt,lt):ne},lt.theta=function(Wt){return arguments.length?(Gt=Wt*Wt,lt):Math.sqrt(Gt)},lt.alpha=function(Wt){return arguments.length?(Wt=+Wt,N?Wt>0?N=Wt:(g.c=null,g.t=NaN,g=null,ht.end({type:"end",alpha:N=0})):Wt>0&&(ht.start({type:"start",alpha:N=Wt}),g=$e(lt.tick)),lt):N},lt.start=function(){var Wt,ge,xe,Ie=Kt.length,ze=Ut.length,qe=pt[0],Ze=pt[1];for(Wt=0;Wt<Ie;++Wt)(xe=Kt[Wt]).index=Wt,xe.weight=0;for(Wt=0;Wt<ze;++Wt)typeof(xe=Ut[Wt]).source=="number"&&(xe.source=Kt[xe.source]),typeof xe.target=="number"&&(xe.target=Kt[xe.target]),++xe.source.weight,++xe.target.weight;for(Wt=0;Wt<Ie;++Wt)xe=Kt[Wt],isNaN(xe.x)&&(xe.x=vn("x",qe)),isNaN(xe.y)&&(xe.y=vn("y",Ze)),isNaN(xe.px)&&(xe.px=xe.x),isNaN(xe.py)&&(xe.py=xe.y);if(X=[],typeof _t=="function")for(Wt=0;Wt<ze;++Wt)X[Wt]=+_t.call(this,Ut[Wt],Wt);else for(Wt=0;Wt<ze;++Wt)X[Wt]=_t;if(J=[],typeof Ft=="function")for(Wt=0;Wt<ze;++Wt)J[Wt]=+Ft.call(this,Ut[Wt],Wt);else for(Wt=0;Wt<ze;++Wt)J[Wt]=Ft;if(at=[],typeof jt=="function")for(Wt=0;Wt<Ie;++Wt)at[Wt]=+jt.call(this,Kt[Wt],Wt);else for(Wt=0;Wt<Ie;++Wt)at[Wt]=jt;function vn(Ke,bn){if(!ge){for(ge=new Array(Ie),Qe=0;Qe<Ie;++Qe)ge[Qe]=[];for(Qe=0;Qe<ze;++Qe){var Ln=Ut[Qe];ge[Ln.source.index].push(Ln.target),ge[Ln.target.index].push(Ln.source)}}for(var zn,Ne=ge[Wt],Qe=-1,gn=Ne.length;++Qe<gn;)if(!isNaN(zn=Ne[Qe][Ke]))return zn;return Math.random()*bn}return lt.resume()},lt.resume=function(){return lt.alpha(.1)},lt.stop=function(){return lt.alpha(0)},lt.drag=function(){if(S||(S=n.behavior.drag().origin(H).on("dragstart.force",iy).on("drag.force",te).on("dragend.force",oy)),!arguments.length)return S;this.on("mouseover.force",ly).on("mouseout.force",sy).call(S)},n.rebind(lt,ht,"on")};var uy=20,cy=1,fy=1/0;function mo(g,S){return n.rebind(g,S,"sort","children","value"),g.nodes=g,g.links=vy,g}function go(g,S){for(var N=[g];(g=N.pop())!=null;)if(S(g),(J=g.children)&&(X=J.length))for(var X,J;--X>=0;)N.push(J[X])}function Yr(g,S){for(var N=[g],X=[];(g=N.pop())!=null;)if(X.push(g),(at=g.children)&&(J=at.length))for(var J,at,lt=-1;++lt<J;)N.push(at[lt]);for(;(g=X.pop())!=null;)S(g)}function dy(g){return g.children}function py(g){return g.value}function hy(g,S){return S.value-g.value}function vy(g){return n.merge(g.map(function(S){return(S.children||[]).map(function(N){return{source:S,target:N}})}))}n.layout.hierarchy=function(){var g=hy,S=dy,N=py;function X(J){var at,lt=[J],ht=[];for(J.depth=0;(at=lt.pop())!=null;)if(ht.push(at),(vt=S.call(X,at,at.depth))&&(pt=vt.length)){for(var pt,vt,_t;--pt>=0;)lt.push(_t=vt[pt]),_t.parent=at,_t.depth=at.depth+1;N&&(at.value=0),at.children=vt}else N&&(at.value=+N.call(X,at,at.depth)||0),delete at.children;return Yr(J,function(Ft){var jt,Xt;g&&(jt=Ft.children)&&jt.sort(g),N&&(Xt=Ft.parent)&&(Xt.value+=Ft.value)}),ht}return X.sort=function(J){return arguments.length?(g=J,X):g},X.children=function(J){return arguments.length?(S=J,X):S},X.value=function(J){return arguments.length?(N=J,X):N},X.revalue=function(J){return N&&(go(J,function(at){at.children&&(at.value=0)}),Yr(J,function(at){var lt;at.children||(at.value=+N.call(X,at,at.depth)||0),(lt=at.parent)&&(lt.value+=at.value)})),J},X},n.layout.partition=function(){var g=n.layout.hierarchy(),S=[1,1];function N(X,J){var at=g.call(this,X,J);return function lt(ht,pt,vt,_t){var Ft=ht.children;if(ht.x=pt,ht.y=ht.depth*_t,ht.dx=vt,ht.dy=_t,Ft&&(jt=Ft.length)){var jt,Xt,ne,Gt=-1;for(vt=ht.value?vt/ht.value:0;++Gt<jt;)lt(Xt=Ft[Gt],pt,ne=Xt.value*vt,_t),pt+=ne}}(at[0],0,S[0],S[1]/function lt(ht){var pt=ht.children,vt=0;if(pt&&(_t=pt.length))for(var _t,Ft=-1;++Ft<_t;)vt=Math.max(vt,lt(pt[Ft]));return 1+vt}(at[0])),at}return N.size=function(X){return arguments.length?(S=X,N):S},mo(N,g)},n.layout.pie=function(){var g=Number,S=Mp,N=0,X=ye,J=0;function at(lt){var ht,pt=lt.length,vt=lt.map(function(oe,te){return+g.call(at,oe,te)}),_t=+(typeof N=="function"?N.apply(this,arguments):N),Ft=(typeof X=="function"?X.apply(this,arguments):X)-_t,jt=Math.min(Math.abs(Ft)/pt,+(typeof J=="function"?J.apply(this,arguments):J)),Xt=jt*(Ft<0?-1:1),ne=n.sum(vt),Gt=ne?(Ft-pt*Xt)/ne:0,Kt=n.range(pt),Ut=[];return S!=null&&Kt.sort(S===Mp?function(oe,te){return vt[te]-vt[oe]}:function(oe,te){return S(lt[oe],lt[te])}),Kt.forEach(function(oe){Ut[oe]={data:lt[oe],value:ht=vt[oe],startAngle:_t,endAngle:_t+=ht*Gt+Xt,padAngle:jt}}),Ut}return at.value=function(lt){return arguments.length?(g=lt,at):g},at.sort=function(lt){return arguments.length?(S=lt,at):S},at.startAngle=function(lt){return arguments.length?(N=lt,at):N},at.endAngle=function(lt){return arguments.length?(X=lt,at):X},at.padAngle=function(lt){return arguments.length?(J=lt,at):J},at};var Mp={};function my(g){return g.x}function gy(g){return g.y}function yy(g,S,N){g.y0=S,g.y=N}n.layout.stack=function(){var g=H,S=zu,N=ju,X=yy,J=my,at=gy;function lt(ht,pt){if(!(jt=ht.length))return ht;var vt=ht.map(function(oe,te){return g.call(lt,oe,te)}),_t=vt.map(function(oe){return oe.map(function(te,Wt){return[J.call(lt,te,Wt),at.call(lt,te,Wt)]})}),Ft=S.call(lt,_t,pt);vt=n.permute(vt,Ft),_t=n.permute(_t,Ft);var jt,Xt,ne,Gt,Kt=N.call(lt,_t,pt),Ut=vt[0].length;for(ne=0;ne<Ut;++ne)for(X.call(lt,vt[0][ne],Gt=Kt[ne],_t[0][ne][1]),Xt=1;Xt<jt;++Xt)X.call(lt,vt[Xt][ne],Gt+=_t[Xt-1][ne][1],_t[Xt][ne][1]);return ht}return lt.values=function(ht){return arguments.length?(g=ht,lt):g},lt.order=function(ht){return arguments.length?(S=typeof ht=="function"?ht:xy.get(ht)||zu,lt):S},lt.offset=function(ht){return arguments.length?(N=typeof ht=="function"?ht:by.get(ht)||ju,lt):N},lt.x=function(ht){return arguments.length?(J=ht,lt):J},lt.y=function(ht){return arguments.length?(at=ht,lt):at},lt.out=function(ht){return arguments.length?(X=ht,lt):X},lt};var xy=n.map({"inside-out":function(g){var S,N,X=g.length,J=g.map(_y),at=g.map(wy),lt=n.range(X).sort(function(Ft,jt){return J[Ft]-J[jt]}),ht=0,pt=0,vt=[],_t=[];for(S=0;S<X;++S)N=lt[S],ht<pt?(ht+=at[N],vt.push(N)):(pt+=at[N],_t.push(N));return _t.reverse().concat(vt)},reverse:function(g){return n.range(g.length).reverse()},default:zu}),by=n.map({silhouette:function(g){var S,N,X,J=g.length,at=g[0].length,lt=[],ht=0,pt=[];for(N=0;N<at;++N){for(S=0,X=0;S<J;S++)X+=g[S][N][1];X>ht&&(ht=X),lt.push(X)}for(N=0;N<at;++N)pt[N]=(ht-lt[N])/2;return pt},wiggle:function(g){var S,N,X,J,at,lt,ht,pt,vt,_t=g.length,Ft=g[0],jt=Ft.length,Xt=[];for(Xt[0]=pt=vt=0,N=1;N<jt;++N){for(S=0,J=0;S<_t;++S)J+=g[S][N][1];for(S=0,at=0,ht=Ft[N][0]-Ft[N-1][0];S<_t;++S){for(X=0,lt=(g[S][N][1]-g[S][N-1][1])/(2*ht);X<S;++X)lt+=(g[X][N][1]-g[X][N-1][1])/ht;at+=lt*g[S][N][1]}Xt[N]=pt-=J?at/J*ht:0,pt<vt&&(vt=pt)}for(N=0;N<jt;++N)Xt[N]-=vt;return Xt},expand:function(g){var S,N,X,J=g.length,at=g[0].length,lt=1/J,ht=[];for(N=0;N<at;++N){for(S=0,X=0;S<J;S++)X+=g[S][N][1];if(X)for(S=0;S<J;S++)g[S][N][1]/=X;else for(S=0;S<J;S++)g[S][N][1]=lt}for(N=0;N<at;++N)ht[N]=0;return ht},zero:ju});function zu(g){return n.range(g.length)}function ju(g){for(var S=-1,N=g[0].length,X=[];++S<N;)X[S]=0;return X}function _y(g){for(var S,N=1,X=0,J=g[0][1],at=g.length;N<at;++N)(S=g[N][1])>J&&(X=N,J=S);return X}function wy(g){return g.reduce(Ty,0)}function Ty(g,S){return g+S[1]}function ky(g,S){return Ap(g,Math.ceil(Math.log(S.length)/Math.LN2+1))}function Ap(g,S){for(var N=-1,X=+g[0],J=(g[1]-X)/S,at=[];++N<=S;)at[N]=J*N+X;return at}function My(g){return[n.min(g),n.max(g)]}function Ay(g,S){return g.value-S.value}function Hu(g,S){var N=g._pack_next;g._pack_next=S,S._pack_prev=g,S._pack_next=N,N._pack_prev=S}function Sp(g,S){g._pack_next=S,S._pack_prev=g}function Cp(g,S){var N=S.x-g.x,X=S.y-g.y,J=g.r+S.r;return .999*J*J>N*N+X*X}function Op(g){if((S=g.children)&&(pt=S.length)){var S,N,X,J,at,lt,ht,pt,vt=1/0,_t=-1/0,Ft=1/0,jt=-1/0;if(S.forEach(Sy),(N=S[0]).x=-N.r,N.y=0,te(N),pt>1&&((X=S[1]).x=X.r,X.y=0,te(X),pt>2))for(Lp(N,X,J=S[2]),te(J),Hu(N,J),N._pack_prev=J,Hu(J,X),X=N._pack_next,at=3;at<pt;at++){Lp(N,X,J=S[at]);var Xt=0,ne=1,Gt=1;for(lt=X._pack_next;lt!==X;lt=lt._pack_next,ne++)if(Cp(lt,J)){Xt=1;break}if(Xt==1)for(ht=N._pack_prev;ht!==lt._pack_prev&&!Cp(ht,J);ht=ht._pack_prev,Gt++);Xt?(ne<Gt||ne==Gt&&X.r<N.r?Sp(N,X=lt):Sp(N=ht,X),at--):(Hu(N,J),X=J,te(J))}var Kt=(vt+_t)/2,Ut=(Ft+jt)/2,oe=0;for(at=0;at<pt;at++)(J=S[at]).x-=Kt,J.y-=Ut,oe=Math.max(oe,J.r+Math.sqrt(J.x*J.x+J.y*J.y));g.r=oe,S.forEach(Cy)}function te(Wt){vt=Math.min(Wt.x-Wt.r,vt),_t=Math.max(Wt.x+Wt.r,_t),Ft=Math.min(Wt.y-Wt.r,Ft),jt=Math.max(Wt.y+Wt.r,jt)}}function Sy(g){g._pack_next=g._pack_prev=g}function Cy(g){delete g._pack_next,delete g._pack_prev}function Lp(g,S,N){var X=g.r+N.r,J=S.x-g.x,at=S.y-g.y;if(X&&(J||at)){var lt=S.r+N.r,ht=J*J+at*at,pt=.5+((X*=X)-(lt*=lt))/(2*ht),vt=Math.sqrt(Math.max(0,2*lt*(X+ht)-(X-=ht)*X-lt*lt))/(2*ht);N.x=g.x+pt*J+vt*at,N.y=g.y+pt*at-vt*J}else N.x=g.x+X,N.y=g.y}function Ep(g,S){return g.parent==S.parent?1:2}function Bu(g){var S=g.children;return S.length?S[0]:g.t}function Uu(g){var S,N=g.children;return(S=N.length)?N[S-1]:g.t}function Oy(g,S,N){var X=N/(S.i-g.i);S.c-=X,S.s+=N,g.c+=X,S.z+=N,S.m+=N}function Ly(g,S,N){return g.a.parent===S.parent?g.a:N}function Vu(g){return{x:g.x,y:g.y,dx:g.dx,dy:g.dy}}function Dp(g,S){var N=g.x+S[3],X=g.y+S[0],J=g.dx-S[1]-S[3],at=g.dy-S[0]-S[2];return J<0&&(N+=J/2,J=0),at<0&&(X+=at/2,at=0),{x:N,y:X,dx:J,dy:at}}function El(g){var S=g[0],N=g[g.length-1];return S<N?[S,N]:[N,S]}function Dl(g){return g.rangeExtent?g.rangeExtent():El(g.range())}function Ey(g,S,N,X){var J=N(g[0],g[1]),at=X(S[0],S[1]);return function(lt){return at(J(lt))}}function Yu(g,S){var N,X=0,J=g.length-1,at=g[X],lt=g[J];return lt<at&&(N=X,X=J,J=N,N=at,at=lt,lt=N),g[X]=S.floor(at),g[J]=S.ceil(lt),g}function Pp(g){return g?{floor:function(S){return Math.floor(S/g)*g},ceil:function(S){return Math.ceil(S/g)*g}}:Dy}n.layout.histogram=function(){var g=!0,S=Number,N=My,X=ky;function J(at,lt){for(var ht,pt,vt=[],_t=at.map(S,this),Ft=N.call(this,_t,lt),jt=X.call(this,Ft,_t,lt),Xt=(lt=-1,_t.length),ne=jt.length-1,Gt=g?1:1/Xt;++lt<ne;)(ht=vt[lt]=[]).dx=jt[lt+1]-(ht.x=jt[lt]),ht.y=0;if(ne>0)for(lt=-1;++lt<Xt;)(pt=_t[lt])>=Ft[0]&&pt<=Ft[1]&&((ht=vt[n.bisect(jt,pt,1,ne)-1]).y+=Gt,ht.push(at[lt]));return vt}return J.value=function(at){return arguments.length?(S=at,J):S},J.range=function(at){return arguments.length?(N=ve(at),J):N},J.bins=function(at){return arguments.length?(X=typeof at=="number"?function(lt){return Ap(lt,at)}:ve(at),J):X},J.frequency=function(at){return arguments.length?(g=!!at,J):g},J},n.layout.pack=function(){var g,S=n.layout.hierarchy().sort(Ay),N=0,X=[1,1];function J(at,lt){var ht=S.call(this,at,lt),pt=ht[0],vt=X[0],_t=X[1],Ft=g==null?Math.sqrt:typeof g=="function"?g:function(){return g};if(pt.x=pt.y=0,Yr(pt,function(Xt){Xt.r=+Ft(Xt.value)}),Yr(pt,Op),N){var jt=N*(g?1:Math.max(2*pt.r/vt,2*pt.r/_t))/2;Yr(pt,function(Xt){Xt.r+=jt}),Yr(pt,Op),Yr(pt,function(Xt){Xt.r-=jt})}return function Xt(ne,Gt,Kt,Ut){var oe=ne.children;if(ne.x=Gt+=Ut*ne.x,ne.y=Kt+=Ut*ne.y,ne.r*=Ut,oe)for(var te=-1,Wt=oe.length;++te<Wt;)Xt(oe[te],Gt,Kt,Ut)}(pt,vt/2,_t/2,g?1:1/Math.max(2*pt.r/vt,2*pt.r/_t)),ht}return J.size=function(at){return arguments.length?(X=at,J):X},J.radius=function(at){return arguments.length?(g=at==null||typeof at=="function"?at:+at,J):g},J.padding=function(at){return arguments.length?(N=+at,J):N},mo(J,S)},n.layout.tree=function(){var g=n.layout.hierarchy().sort(null).value(null),S=Ep,N=[1,1],X=null;function J(pt,vt){var _t=g.call(this,pt,vt),Ft=_t[0],jt=function(te){for(var Wt,ge={A:null,children:[te]},xe=[ge];(Wt=xe.pop())!=null;)for(var Ie,ze=Wt.children,qe=0,Ze=ze.length;qe<Ze;++qe)xe.push((ze[qe]=Ie={_:ze[qe],parent:Wt,children:(Ie=ze[qe].children)&&Ie.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:qe}).a=Ie);return ge.children[0]}(Ft);if(Yr(jt,at),jt.parent.m=-jt.z,go(jt,lt),X)go(Ft,ht);else{var Xt=Ft,ne=Ft,Gt=Ft;go(Ft,function(te){te.x<Xt.x&&(Xt=te),te.x>ne.x&&(ne=te),te.depth>Gt.depth&&(Gt=te)});var Kt=S(Xt,ne)/2-Xt.x,Ut=N[0]/(ne.x+S(ne,Xt)/2+Kt),oe=N[1]/(Gt.depth||1);go(Ft,function(te){te.x=(te.x+Kt)*Ut,te.y=te.depth*oe})}return _t}function at(pt){var vt=pt.children,_t=pt.parent.children,Ft=pt.i?_t[pt.i-1]:null;if(vt.length){(function(Xt){for(var ne,Gt=0,Kt=0,Ut=Xt.children,oe=Ut.length;--oe>=0;)(ne=Ut[oe]).z+=Gt,ne.m+=Gt,Gt+=ne.s+(Kt+=ne.c)})(pt);var jt=(vt[0].z+vt[vt.length-1].z)/2;Ft?(pt.z=Ft.z+S(pt._,Ft._),pt.m=pt.z-jt):pt.z=jt}else Ft&&(pt.z=Ft.z+S(pt._,Ft._));pt.parent.A=function(Xt,ne,Gt){if(ne){for(var Kt,Ut=Xt,oe=Xt,te=ne,Wt=Ut.parent.children[0],ge=Ut.m,xe=oe.m,Ie=te.m,ze=Wt.m;te=Uu(te),Ut=Bu(Ut),te&&Ut;)Wt=Bu(Wt),(oe=Uu(oe)).a=Xt,(Kt=te.z+Ie-Ut.z-ge+S(te._,Ut._))>0&&(Oy(Ly(te,Xt,Gt),Xt,Kt),ge+=Kt,xe+=Kt),Ie+=te.m,ge+=Ut.m,ze+=Wt.m,xe+=oe.m;te&&!Uu(oe)&&(oe.t=te,oe.m+=Ie-xe),Ut&&!Bu(Wt)&&(Wt.t=Ut,Wt.m+=ge-ze,Gt=Xt)}return Gt}(pt,Ft,pt.parent.A||_t[0])}function lt(pt){pt._.x=pt.z+pt.parent.m,pt.m+=pt.parent.m}function ht(pt){pt.x*=N[0],pt.y=pt.depth*N[1]}return J.separation=function(pt){return arguments.length?(S=pt,J):S},J.size=function(pt){return arguments.length?(X=(N=pt)==null?ht:null,J):X?null:N},J.nodeSize=function(pt){return arguments.length?(X=(N=pt)==null?null:ht,J):X?N:null},mo(J,g)},n.layout.cluster=function(){var g=n.layout.hierarchy().sort(null).value(null),S=Ep,N=[1,1],X=!1;function J(at,lt){var ht,pt=g.call(this,at,lt),vt=pt[0],_t=0;Yr(vt,function(Gt){var Kt=Gt.children;Kt&&Kt.length?(Gt.x=function(Ut){return Ut.reduce(function(oe,te){return oe+te.x},0)/Ut.length}(Kt),Gt.y=function(Ut){return 1+n.max(Ut,function(oe){return oe.y})}(Kt)):(Gt.x=ht?_t+=S(Gt,ht):0,Gt.y=0,ht=Gt)});var Ft=function Gt(Kt){var Ut=Kt.children;return Ut&&Ut.length?Gt(Ut[0]):Kt}(vt),jt=function Gt(Kt){var Ut,oe=Kt.children;return oe&&(Ut=oe.length)?Gt(oe[Ut-1]):Kt}(vt),Xt=Ft.x-S(Ft,jt)/2,ne=jt.x+S(jt,Ft)/2;return Yr(vt,X?function(Gt){Gt.x=(Gt.x-vt.x)*N[0],Gt.y=(vt.y-Gt.y)*N[1]}:function(Gt){Gt.x=(Gt.x-Xt)/(ne-Xt)*N[0],Gt.y=(1-(vt.y?Gt.y/vt.y:1))*N[1]}),pt}return J.separation=function(at){return arguments.length?(S=at,J):S},J.size=function(at){return arguments.length?(X=(N=at)==null,J):X?null:N},J.nodeSize=function(at){return arguments.length?(X=(N=at)!=null,J):X?N:null},mo(J,g)},n.layout.treemap=function(){var g,S=n.layout.hierarchy(),N=Math.round,X=[1,1],J=null,at=Vu,lt=!1,ht="squarify",pt=.5*(1+Math.sqrt(5));function vt(Gt,Kt){for(var Ut,oe,te=-1,Wt=Gt.length;++te<Wt;)oe=(Ut=Gt[te]).value*(Kt<0?0:Kt),Ut.area=isNaN(oe)||oe<=0?0:oe}function _t(Gt){var Kt=Gt.children;if(Kt&&Kt.length){var Ut,oe,te,Wt=at(Gt),ge=[],xe=Kt.slice(),Ie=1/0,ze=ht==="slice"?Wt.dx:ht==="dice"?Wt.dy:ht==="slice-dice"?1&Gt.depth?Wt.dy:Wt.dx:Math.min(Wt.dx,Wt.dy);for(vt(xe,Wt.dx*Wt.dy/Gt.value),ge.area=0;(te=xe.length)>0;)ge.push(Ut=xe[te-1]),ge.area+=Ut.area,ht!=="squarify"||(oe=jt(ge,ze))<=Ie?(xe.pop(),Ie=oe):(ge.area-=ge.pop().area,Xt(ge,ze,Wt,!1),ze=Math.min(Wt.dx,Wt.dy),ge.length=ge.area=0,Ie=1/0);ge.length&&(Xt(ge,ze,Wt,!0),ge.length=ge.area=0),Kt.forEach(_t)}}function Ft(Gt){var Kt=Gt.children;if(Kt&&Kt.length){var Ut,oe=at(Gt),te=Kt.slice(),Wt=[];for(vt(te,oe.dx*oe.dy/Gt.value),Wt.area=0;Ut=te.pop();)Wt.push(Ut),Wt.area+=Ut.area,Ut.z!=null&&(Xt(Wt,Ut.z?oe.dx:oe.dy,oe,!te.length),Wt.length=Wt.area=0);Kt.forEach(Ft)}}function jt(Gt,Kt){for(var Ut,oe=Gt.area,te=0,Wt=1/0,ge=-1,xe=Gt.length;++ge<xe;)(Ut=Gt[ge].area)&&(Ut<Wt&&(Wt=Ut),Ut>te&&(te=Ut));return Kt*=Kt,(oe*=oe)?Math.max(Kt*te*pt/oe,oe/(Kt*Wt*pt)):1/0}function Xt(Gt,Kt,Ut,oe){var te,Wt=-1,ge=Gt.length,xe=Ut.x,Ie=Ut.y,ze=Kt?N(Gt.area/Kt):0;if(Kt==Ut.dx){for((oe||ze>Ut.dy)&&(ze=Ut.dy);++Wt<ge;)(te=Gt[Wt]).x=xe,te.y=Ie,te.dy=ze,xe+=te.dx=Math.min(Ut.x+Ut.dx-xe,ze?N(te.area/ze):0);te.z=!0,te.dx+=Ut.x+Ut.dx-xe,Ut.y+=ze,Ut.dy-=ze}else{for((oe||ze>Ut.dx)&&(ze=Ut.dx);++Wt<ge;)(te=Gt[Wt]).x=xe,te.y=Ie,te.dx=ze,Ie+=te.dy=Math.min(Ut.y+Ut.dy-Ie,ze?N(te.area/ze):0);te.z=!1,te.dy+=Ut.y+Ut.dy-Ie,Ut.x+=ze,Ut.dx-=ze}}function ne(Gt){var Kt=g||S(Gt),Ut=Kt[0];return Ut.x=Ut.y=0,Ut.value?(Ut.dx=X[0],Ut.dy=X[1]):Ut.dx=Ut.dy=0,g&&S.revalue(Ut),vt([Ut],Ut.dx*Ut.dy/Ut.value),(g?Ft:_t)(Ut),lt&&(g=Kt),Kt}return ne.size=function(Gt){return arguments.length?(X=Gt,ne):X},ne.padding=function(Gt){if(!arguments.length)return J;function Kt(te){var Wt=Gt.call(ne,te,te.depth);return Wt==null?Vu(te):Dp(te,typeof Wt=="number"?[Wt,Wt,Wt,Wt]:Wt)}function Ut(te){return Dp(te,Gt)}var oe;return at=(J=Gt)==null?Vu:(oe=typeof Gt)=="function"?Kt:(oe==="number"&&(Gt=[Gt,Gt,Gt,Gt]),Ut),ne},ne.round=function(Gt){return arguments.length?(N=Gt?Math.round:Number,ne):N!=Number},ne.sticky=function(Gt){return arguments.length?(lt=Gt,g=null,ne):lt},ne.ratio=function(Gt){return arguments.length?(pt=Gt,ne):pt},ne.mode=function(Gt){return arguments.length?(ht=Gt+"",ne):ht},mo(ne,S)},n.random={normal:function(g,S){var N=arguments.length;return N<2&&(S=1),N<1&&(g=0),function(){var X,J,at;do at=(X=2*Math.random()-1)*X+(J=2*Math.random()-1)*J;while(!at||at>1);return g+S*X*Math.sqrt(-2*Math.log(at)/at)}},logNormal:function(){var g=n.random.normal.apply(n,arguments);return function(){return Math.exp(g())}},bates:function(g){var S=n.random.irwinHall(g);return function(){return S()/g}},irwinHall:function(g){return function(){for(var S=0,N=0;N<g;N++)S+=Math.random();return S}}},n.scale={};var Dy={floor:H,ceil:H};function Py(g,S,N,X){var J=[],at=[],lt=0,ht=Math.min(g.length,S.length)-1;for(g[ht]<g[0]&&(g=g.slice().reverse(),S=S.slice().reverse());++lt<=ht;)J.push(N(g[lt-1],g[lt])),at.push(X(S[lt-1],S[lt]));return function(pt){var vt=n.bisect(g,pt,1,ht)-1;return at[vt](J[vt](pt))}}function Np(g,S){return n.rebind(g,S,"range","rangeRound","interpolate","clamp")}function Rp(g,S){return Yu(g,Pp($u(g,S)[2])),Yu(g,Pp($u(g,S)[2])),g}function $u(g,S){S==null&&(S=10);var N=El(g),X=N[1]-N[0],J=Math.pow(10,Math.floor(Math.log(X/S)/Math.LN10)),at=S/X*J;return at<=.15?J*=10:at<=.35?J*=5:at<=.75&&(J*=2),N[0]=Math.ceil(N[0]/J)*J,N[1]=Math.floor(N[1]/J)*J+.5*J,N[2]=J,N}function Gu(g,S){return n.range.apply(n,$u(g,S))}n.scale.linear=function(){return function g(S,N,X,J){var at,lt;function ht(){var vt=Math.min(S.length,N.length)>2?Py:Ey,_t=J?ry:ny;return at=vt(S,N,_t,X),lt=vt(N,S,_t,Va),pt}function pt(vt){return at(vt)}return pt.invert=function(vt){return lt(vt)},pt.domain=function(vt){return arguments.length?(S=vt.map(Number),ht()):S},pt.range=function(vt){return arguments.length?(N=vt,ht()):N},pt.rangeRound=function(vt){return pt.range(vt).interpolate(xp)},pt.clamp=function(vt){return arguments.length?(J=vt,ht()):J},pt.interpolate=function(vt){return arguments.length?(X=vt,ht()):X},pt.ticks=function(vt){return Gu(S,vt)},pt.tickFormat=function(vt,_t){return d3_scale_linearTickFormat(S,vt,_t)},pt.nice=function(vt){return Rp(S,vt),ht()},pt.copy=function(){return g(S,N,X,J)},ht()}([0,1],[0,1],Va,!1)},n.scale.log=function(){return function g(S,N,X,J){function at(pt){return(X?Math.log(pt<0?0:pt):-Math.log(pt>0?0:-pt))/Math.log(N)}function lt(pt){return X?Math.pow(N,pt):-Math.pow(N,-pt)}function ht(pt){return S(at(pt))}return ht.invert=function(pt){return lt(S.invert(pt))},ht.domain=function(pt){return arguments.length?(X=pt[0]>=0,S.domain((J=pt.map(Number)).map(at)),ht):J},ht.base=function(pt){return arguments.length?(N=+pt,S.domain(J.map(at)),ht):N},ht.nice=function(){var pt=Yu(J.map(at),X?Math:Ny);return S.domain(pt),J=pt.map(lt),ht},ht.ticks=function(){var pt=El(J),vt=[],_t=pt[0],Ft=pt[1],jt=Math.floor(at(_t)),Xt=Math.ceil(at(Ft)),ne=N%1?2:N;if(isFinite(Xt-jt)){if(X){for(;jt<Xt;jt++)for(var Gt=1;Gt<ne;Gt++)vt.push(lt(jt)*Gt);vt.push(lt(jt))}else for(vt.push(lt(jt));jt++<Xt;)for(Gt=ne-1;Gt>0;Gt--)vt.push(lt(jt)*Gt);for(jt=0;vt[jt]<_t;jt++);for(Xt=vt.length;vt[Xt-1]>Ft;Xt--);vt=vt.slice(jt,Xt)}return vt},ht.copy=function(){return g(S.copy(),N,X,J)},Np(ht,S)}(n.scale.linear().domain([0,1]),10,!0,[1,10])};var Ny={floor:function(g){return-Math.ceil(-g)},ceil:function(g){return-Math.floor(-g)}};function Pl(g){return function(S){return S<0?-Math.pow(-S,g):Math.pow(S,g)}}n.scale.pow=function(){return function g(S,N,X){var J=Pl(N),at=Pl(1/N);function lt(ht){return S(J(ht))}return lt.invert=function(ht){return at(S.invert(ht))},lt.domain=function(ht){return arguments.length?(S.domain((X=ht.map(Number)).map(J)),lt):X},lt.ticks=function(ht){return Gu(X,ht)},lt.tickFormat=function(ht,pt){return d3_scale_linearTickFormat(X,ht,pt)},lt.nice=function(ht){return lt.domain(Rp(X,ht))},lt.exponent=function(ht){return arguments.length?(J=Pl(N=ht),at=Pl(1/N),S.domain(X.map(J)),lt):N},lt.copy=function(){return g(S.copy(),N,X)},Np(lt,S)}(n.scale.linear(),1,[0,1])},n.scale.sqrt=function(){return n.scale.pow().exponent(.5)},n.scale.ordinal=function(){return function g(S,N){var X,J,at;function lt(pt){return J[((X.get(pt)||(N.t==="range"?X.set(pt,S.push(pt)):NaN))-1)%J.length]}function ht(pt,vt){return n.range(S.length).map(function(_t){return pt+vt*_t})}return lt.domain=function(pt){if(!arguments.length)return S;S=[],X=new C;for(var vt,_t=-1,Ft=pt.length;++_t<Ft;)X.has(vt=pt[_t])||X.set(vt,S.push(vt));return lt[N.t].apply(lt,N.a)},lt.range=function(pt){return arguments.length?(J=pt,at=0,N={t:"range",a:arguments},lt):J},lt.rangePoints=function(pt,vt){arguments.length<2&&(vt=0);var _t=pt[0],Ft=pt[1],jt=S.length<2?(_t=(_t+Ft)/2,0):(Ft-_t)/(S.length-1+vt);return J=ht(_t+jt*vt/2,jt),at=0,N={t:"rangePoints",a:arguments},lt},lt.rangeRoundPoints=function(pt,vt){arguments.length<2&&(vt=0);var _t=pt[0],Ft=pt[1],jt=S.length<2?(_t=Ft=Math.round((_t+Ft)/2),0):(Ft-_t)/(S.length-1+vt)|0;return J=ht(_t+Math.round(jt*vt/2+(Ft-_t-(S.length-1+vt)*jt)/2),jt),at=0,N={t:"rangeRoundPoints",a:arguments},lt},lt.rangeBands=function(pt,vt,_t){arguments.length<2&&(vt=0),arguments.length<3&&(_t=vt);var Ft=pt[1]<pt[0],jt=pt[Ft-0],Xt=pt[1-Ft],ne=(Xt-jt)/(S.length-vt+2*_t);return J=ht(jt+ne*_t,ne),Ft&&J.reverse(),at=ne*(1-vt),N={t:"rangeBands",a:arguments},lt},lt.rangeRoundBands=function(pt,vt,_t){arguments.length<2&&(vt=0),arguments.length<3&&(_t=vt);var Ft=pt[1]<pt[0],jt=pt[Ft-0],Xt=pt[1-Ft],ne=Math.floor((Xt-jt)/(S.length-vt+2*_t));return J=ht(jt+Math.round((Xt-jt-(S.length-vt)*ne)/2),ne),Ft&&J.reverse(),at=Math.round(ne*(1-vt)),N={t:"rangeRoundBands",a:arguments},lt},lt.rangeBand=function(){return at},lt.rangeExtent=function(){return El(N.a[0])},lt.copy=function(){return g(S,N)},lt.domain(S)}([],{t:"range",a:[[]]})},n.scale.category10=function(){return n.scale.ordinal().range(Ry)},n.scale.category20=function(){return n.scale.ordinal().range(Iy)},n.scale.category20b=function(){return n.scale.ordinal().range(Fy)},n.scale.category20c=function(){return n.scale.ordinal().range(zy)};var Ry=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ee),Iy=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ee),Fy=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ee),zy=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ee);function jy(){return 0}n.scale.quantile=function(){return function g(S,N){var X;function J(){var lt=0,ht=N.length;for(X=[];++lt<ht;)X[lt-1]=n.quantile(S,lt/ht);return at}function at(lt){if(!isNaN(lt=+lt))return N[n.bisect(X,lt)]}return at.domain=function(lt){return arguments.length?(S=lt.map(y).filter(k).sort(v),J()):S},at.range=function(lt){return arguments.length?(N=lt,J()):N},at.quantiles=function(){return X},at.invertExtent=function(lt){return(lt=N.indexOf(lt))<0?[NaN,NaN]:[lt>0?X[lt-1]:S[0],lt<X.length?X[lt]:S[S.length-1]]},at.copy=function(){return g(S,N)},J()}([],[])},n.scale.quantize=function(){return function g(S,N,X){var J,at;function lt(pt){return X[Math.max(0,Math.min(at,Math.floor(J*(pt-S))))]}function ht(){return J=X.length/(N-S),at=X.length-1,lt}return lt.domain=function(pt){return arguments.length?(S=+pt[0],N=+pt[pt.length-1],ht()):[S,N]},lt.range=function(pt){return arguments.length?(X=pt,ht()):X},lt.invertExtent=function(pt){return[pt=(pt=X.indexOf(pt))<0?NaN:pt/J+S,pt+1/J]},lt.copy=function(){return g(S,N,X)},ht()}(0,1,[0,1])},n.scale.threshold=function(){return function g(S,N){function X(J){if(J<=J)return N[n.bisect(S,J)]}return X.domain=function(J){return arguments.length?(S=J,X):S},X.range=function(J){return arguments.length?(N=J,X):N},X.invertExtent=function(J){return J=N.indexOf(J),[S[J-1],S[J]]},X.copy=function(){return g(S,N)},X}([.5],[0,1])},n.scale.identity=function(){return function g(S){function N(X){return+X}return N.invert=N,N.domain=N.range=function(X){return arguments.length?(S=X.map(N),N):S},N.ticks=function(X){return Gu(S,X)},N.tickFormat=function(X,J){return d3_scale_linearTickFormat(S,X,J)},N.copy=function(){return g(S)},N}([0,1])},n.svg={},n.svg.arc=function(){var g=Hy,S=By,N=jy,X=Nl,J=Ip,at=Fp,lt=Uy;function ht(){var vt=Math.max(0,+g.apply(this,arguments)),_t=Math.max(0,+S.apply(this,arguments)),Ft=J.apply(this,arguments)-ft,jt=at.apply(this,arguments)-ft,Xt=Math.abs(jt-Ft),ne=Ft>jt?0:1;if(_t<vt&&(Gt=_t,_t=vt,vt=Gt),Xt>=ot)return pt(_t,ne)+(vt?pt(vt,1-ne):"")+"Z";var Gt,Kt,Ut,oe,te,Wt,ge,xe,Ie,ze,qe,Ze,vn=0,Ke=0,bn=[];if((oe=(+lt.apply(this,arguments)||0)/2)&&(Ut=X===Nl?Math.sqrt(vt*vt+_t*_t):+X.apply(this,arguments),ne||(Ke*=-1),_t&&(Ke=It(Ut/_t*Math.sin(oe))),vt&&(vn=It(Ut/vt*Math.sin(oe)))),_t){te=_t*Math.cos(Ft+Ke),Wt=_t*Math.sin(Ft+Ke),ge=_t*Math.cos(jt-Ke),xe=_t*Math.sin(jt-Ke);var Ln=Math.abs(jt-Ft-2*Ke)<=ie?0:1;if(Ke&&Rl(te,Wt,ge,xe)===ne^Ln){var zn=(Ft+jt)/2;te=_t*Math.cos(zn),Wt=_t*Math.sin(zn),ge=xe=null}}else te=Wt=0;if(vt){Ie=vt*Math.cos(jt-vn),ze=vt*Math.sin(jt-vn),qe=vt*Math.cos(Ft+vn),Ze=vt*Math.sin(Ft+vn);var Ne=Math.abs(Ft-jt+2*vn)<=ie?0:1;if(vn&&Rl(Ie,ze,qe,Ze)===1-ne^Ne){var Qe=(Ft+jt)/2;Ie=vt*Math.cos(Qe),ze=vt*Math.sin(Qe),qe=Ze=null}}else Ie=ze=0;if(Xt>Bt&&(Gt=Math.min(Math.abs(_t-vt)/2,+N.apply(this,arguments)))>.001){Kt=vt<_t^ne?0:1;var gn=Gt,hn=Gt;if(Xt<ie){var Tn=qe==null?[Ie,ze]:ge==null?[te,Wt]:an([te,Wt],[qe,Ze],[ge,xe],[Ie,ze]),kn=te-Tn[0],En=Wt-Tn[1],Vn=ge-Tn[0],er=xe-Tn[1],nr=1/Math.sin(Math.acos((kn*Vn+En*er)/(Math.sqrt(kn*kn+En*En)*Math.sqrt(Vn*Vn+er*er)))/2),Sr=Math.sqrt(Tn[0]*Tn[0]+Tn[1]*Tn[1]);hn=Math.min(Gt,(vt-Sr)/(nr-1)),gn=Math.min(Gt,(_t-Sr)/(nr+1))}if(ge!=null){var lr=Il(qe==null?[Ie,ze]:[qe,Ze],[te,Wt],_t,gn,ne),hr=Il([ge,xe],[Ie,ze],_t,gn,ne);Gt===gn?bn.push("M",lr[0],"A",gn,",",gn," 0 0,",Kt," ",lr[1],"A",_t,",",_t," 0 ",1-ne^Rl(lr[1][0],lr[1][1],hr[1][0],hr[1][1]),",",ne," ",hr[1],"A",gn,",",gn," 0 0,",Kt," ",hr[0]):bn.push("M",lr[0],"A",gn,",",gn," 0 1,",Kt," ",hr[0])}else bn.push("M",te,",",Wt);if(qe!=null){var $r=Il([te,Wt],[qe,Ze],vt,-hn,ne),$a=Il([Ie,ze],ge==null?[te,Wt]:[ge,xe],vt,-hn,ne);Gt===hn?bn.push("L",$a[0],"A",hn,",",hn," 0 0,",Kt," ",$a[1],"A",vt,",",vt," 0 ",ne^Rl($a[1][0],$a[1][1],$r[1][0],$r[1][1]),",",1-ne," ",$r[1],"A",hn,",",hn," 0 0,",Kt," ",$r[0]):bn.push("L",$a[0],"A",hn,",",hn," 0 0,",Kt," ",$r[0])}else bn.push("L",Ie,",",ze)}else bn.push("M",te,",",Wt),ge!=null&&bn.push("A",_t,",",_t," 0 ",Ln,",",ne," ",ge,",",xe),bn.push("L",Ie,",",ze),qe!=null&&bn.push("A",vt,",",vt," 0 ",Ne,",",1-ne," ",qe,",",Ze);return bn.push("Z"),bn.join("")}function pt(vt,_t){return"M0,"+vt+"A"+vt+","+vt+" 0 1,"+_t+" 0,"+-vt+"A"+vt+","+vt+" 0 1,"+_t+" 0,"+vt}return ht.innerRadius=function(vt){return arguments.length?(g=ve(vt),ht):g},ht.outerRadius=function(vt){return arguments.length?(S=ve(vt),ht):S},ht.cornerRadius=function(vt){return arguments.length?(N=ve(vt),ht):N},ht.padRadius=function(vt){return arguments.length?(X=vt==Nl?Nl:ve(vt),ht):X},ht.startAngle=function(vt){return arguments.length?(J=ve(vt),ht):J},ht.endAngle=function(vt){return arguments.length?(at=ve(vt),ht):at},ht.padAngle=function(vt){return arguments.length?(lt=ve(vt),ht):lt},ht.centroid=function(){var vt=(+g.apply(this,arguments)+ +S.apply(this,arguments))/2,_t=(+J.apply(this,arguments)+ +at.apply(this,arguments))/2-ft;return[Math.cos(_t)*vt,Math.sin(_t)*vt]},ht};var Nl="auto";function Hy(g){return g.innerRadius}function By(g){return g.outerRadius}function Ip(g){return g.startAngle}function Fp(g){return g.endAngle}function Uy(g){return g&&g.padAngle}function Rl(g,S,N,X){return(g-N)*S-(S-X)*g>0?0:1}function Il(g,S,N,X,J){var at=g[0]-S[0],lt=g[1]-S[1],ht=(J?X:-X)/Math.sqrt(at*at+lt*lt),pt=ht*lt,vt=-ht*at,_t=g[0]+pt,Ft=g[1]+vt,jt=S[0]+pt,Xt=S[1]+vt,ne=(_t+jt)/2,Gt=(Ft+Xt)/2,Kt=jt-_t,Ut=Xt-Ft,oe=Kt*Kt+Ut*Ut,te=N-X,Wt=_t*Xt-jt*Ft,ge=(Ut<0?-1:1)*Math.sqrt(Math.max(0,te*te*oe-Wt*Wt)),xe=(Wt*Ut-Kt*ge)/oe,Ie=(-Wt*Kt-Ut*ge)/oe,ze=(Wt*Ut+Kt*ge)/oe,qe=(-Wt*Kt+Ut*ge)/oe,Ze=xe-ne,vn=Ie-Gt,Ke=ze-ne,bn=qe-Gt;return Ze*Ze+vn*vn>Ke*Ke+bn*bn&&(xe=ze,Ie=qe),[[xe-pt,Ie-vt],[xe*N/te,Ie*N/te]]}function zp(){return!0}function jp(g){var S=Ue,N=Be,X=zp,J=zr,at=J.key,lt=.7;function ht(pt){var vt,_t=[],Ft=[],jt=-1,Xt=pt.length,ne=ve(S),Gt=ve(N);function Kt(){_t.push("M",J(g(Ft),lt))}for(;++jt<Xt;)X.call(this,vt=pt[jt],jt)?Ft.push([+ne.call(this,vt,jt),+Gt.call(this,vt,jt)]):Ft.length&&(Kt(),Ft=[]);return Ft.length&&Kt(),_t.length?_t.join(""):null}return ht.x=function(pt){return arguments.length?(S=pt,ht):S},ht.y=function(pt){return arguments.length?(N=pt,ht):N},ht.defined=function(pt){return arguments.length?(X=pt,ht):X},ht.interpolate=function(pt){return arguments.length?(at=typeof pt=="function"?J=pt:(J=Wu.get(pt)||zr).key,ht):at},ht.tension=function(pt){return arguments.length?(lt=pt,ht):lt},ht}n.svg.line=function(){return jp(H)};var Wu=n.map({linear:zr,"linear-closed":Hp,step:function(g){for(var S=0,N=g.length,X=g[0],J=[X[0],",",X[1]];++S<N;)J.push("H",(X[0]+(X=g[S])[0])/2,"V",X[1]);return N>1&&J.push("H",X[0]),J.join("")},"step-before":qu,"step-after":Zu,basis:Bp,"basis-open":function(g){if(g.length<4)return zr(g);for(var S,N=[],X=-1,J=g.length,at=[0],lt=[0];++X<3;)S=g[X],at.push(S[0]),lt.push(S[1]);for(N.push(Ar(va,at)+","+Ar(va,lt)),--X;++X<J;)S=g[X],at.shift(),at.push(S[0]),lt.shift(),lt.push(S[1]),Ju(N,at,lt);return N.join("")},"basis-closed":function(g){for(var S,N,X=-1,J=g.length,at=J+4,lt=[],ht=[];++X<4;)N=g[X%J],lt.push(N[0]),ht.push(N[1]);for(S=[Ar(va,lt),",",Ar(va,ht)],--X;++X<at;)N=g[X%J],lt.shift(),lt.push(N[0]),ht.shift(),ht.push(N[1]),Ju(S,lt,ht);return S.join("")},bundle:function(g,S){var N=g.length-1;if(N)for(var X,J,at=g[0][0],lt=g[0][1],ht=g[N][0]-at,pt=g[N][1]-lt,vt=-1;++vt<=N;)X=g[vt],J=vt/N,X[0]=S*X[0]+(1-S)*(at+J*ht),X[1]=S*X[1]+(1-S)*(lt+J*pt);return Bp(g)},cardinal:function(g,S){return g.length<3?zr(g):g[0]+Fl(g,Xu(g,S))},"cardinal-open":function(g,S){return g.length<4?zr(g):g[1]+Fl(g.slice(1,-1),Xu(g,S))},"cardinal-closed":function(g,S){return g.length<3?Hp(g):g[0]+Fl((g.push(g[0]),g),Xu([g[g.length-2]].concat(g,[g[1]]),S))},monotone:function(g){return g.length<3?zr(g):g[0]+Fl(g,function(S){for(var N,X,J,at,lt=[],ht=function(_t){for(var Ft=0,jt=_t.length-1,Xt=[],ne=_t[0],Gt=_t[1],Kt=Xt[0]=Ku(ne,Gt);++Ft<jt;)Xt[Ft]=(Kt+(Kt=Ku(ne=Gt,Gt=_t[Ft+1])))/2;return Xt[Ft]=Kt,Xt}(S),pt=-1,vt=S.length-1;++pt<vt;)N=Ku(S[pt],S[pt+1]),x(N)<Bt?ht[pt]=ht[pt+1]=0:(X=ht[pt]/N,J=ht[pt+1]/N,(at=X*X+J*J)>9&&(at=3*N/Math.sqrt(at),ht[pt]=at*X,ht[pt+1]=at*J));for(pt=-1;++pt<=vt;)at=(S[Math.min(vt,pt+1)][0]-S[Math.max(0,pt-1)][0])/(6*(1+ht[pt]*ht[pt])),lt.push([at||0,ht[pt]*at||0]);return lt}(g))}});function zr(g){return g.length>1?g.join("L"):g+"Z"}function Hp(g){return g.join("L")+"Z"}function qu(g){for(var S=0,N=g.length,X=g[0],J=[X[0],",",X[1]];++S<N;)J.push("V",(X=g[S])[1],"H",X[0]);return J.join("")}function Zu(g){for(var S=0,N=g.length,X=g[0],J=[X[0],",",X[1]];++S<N;)J.push("H",(X=g[S])[0],"V",X[1]);return J.join("")}function Fl(g,S){if(S.length<1||g.length!=S.length&&g.length!=S.length+2)return zr(g);var N=g.length!=S.length,X="",J=g[0],at=g[1],lt=S[0],ht=lt,pt=1;if(N&&(X+="Q"+(at[0]-2*lt[0]/3)+","+(at[1]-2*lt[1]/3)+","+at[0]+","+at[1],J=g[1],pt=2),S.length>1){ht=S[1],at=g[pt],pt++,X+="C"+(J[0]+lt[0])+","+(J[1]+lt[1])+","+(at[0]-ht[0])+","+(at[1]-ht[1])+","+at[0]+","+at[1];for(var vt=2;vt<S.length;vt++,pt++)at=g[pt],ht=S[vt],X+="S"+(at[0]-ht[0])+","+(at[1]-ht[1])+","+at[0]+","+at[1]}if(N){var _t=g[pt];X+="Q"+(at[0]+2*ht[0]/3)+","+(at[1]+2*ht[1]/3)+","+_t[0]+","+_t[1]}return X}function Xu(g,S){for(var N,X=[],J=(1-S)/2,at=g[0],lt=g[1],ht=1,pt=g.length;++ht<pt;)N=at,at=lt,lt=g[ht],X.push([J*(lt[0]-N[0]),J*(lt[1]-N[1])]);return X}function Bp(g){if(g.length<3)return zr(g);var S=1,N=g.length,X=g[0],J=X[0],at=X[1],lt=[J,J,J,(X=g[1])[0]],ht=[at,at,at,X[1]],pt=[J,",",at,"L",Ar(va,lt),",",Ar(va,ht)];for(g.push(g[N-1]);++S<=N;)X=g[S],lt.shift(),lt.push(X[0]),ht.shift(),ht.push(X[1]),Ju(pt,lt,ht);return g.pop(),pt.push("L",X),pt.join("")}function Ar(g,S){return g[0]*S[0]+g[1]*S[1]+g[2]*S[2]+g[3]*S[3]}Wu.forEach(function(g,S){S.key=g,S.closed=/-closed$/.test(g)});var Up=[0,2/3,1/3,0],Vp=[0,1/3,2/3,0],va=[0,1/6,2/3,1/6];function Ju(g,S,N){g.push("C",Ar(Up,S),",",Ar(Up,N),",",Ar(Vp,S),",",Ar(Vp,N),",",Ar(va,S),",",Ar(va,N))}function Ku(g,S){return(S[1]-g[1])/(S[0]-g[0])}function Yp(g){for(var S,N,X,J=-1,at=g.length;++J<at;)N=(S=g[J])[0],X=S[1]-ft,S[0]=N*Math.cos(X),S[1]=N*Math.sin(X);return g}function $p(g){var S=Ue,N=Ue,X=0,J=Be,at=zp,lt=zr,ht=lt.key,pt=lt,vt="L",_t=.7;function Ft(jt){var Xt,ne,Gt,Kt=[],Ut=[],oe=[],te=-1,Wt=jt.length,ge=ve(S),xe=ve(X),Ie=S===N?function(){return ne}:ve(N),ze=X===J?function(){return Gt}:ve(J);function qe(){Kt.push("M",lt(g(oe),_t),vt,pt(g(Ut.reverse()),_t),"Z")}for(;++te<Wt;)at.call(this,Xt=jt[te],te)?(Ut.push([ne=+ge.call(this,Xt,te),Gt=+xe.call(this,Xt,te)]),oe.push([+Ie.call(this,Xt,te),+ze.call(this,Xt,te)])):Ut.length&&(qe(),Ut=[],oe=[]);return Ut.length&&qe(),Kt.length?Kt.join(""):null}return Ft.x=function(jt){return arguments.length?(S=N=jt,Ft):N},Ft.x0=function(jt){return arguments.length?(S=jt,Ft):S},Ft.x1=function(jt){return arguments.length?(N=jt,Ft):N},Ft.y=function(jt){return arguments.length?(X=J=jt,Ft):J},Ft.y0=function(jt){return arguments.length?(X=jt,Ft):X},Ft.y1=function(jt){return arguments.length?(J=jt,Ft):J},Ft.defined=function(jt){return arguments.length?(at=jt,Ft):at},Ft.interpolate=function(jt){return arguments.length?(ht=typeof jt=="function"?lt=jt:(lt=Wu.get(jt)||zr).key,pt=lt.reverse||lt,vt=lt.closed?"M":"L",Ft):ht},Ft.tension=function(jt){return arguments.length?(_t=jt,Ft):_t},Ft}function Gp(g){return g.source}function Wp(g){return g.target}function Vy(g){return g.radius}function qp(g){return[g.x,g.y]}function Yy(g){return function(){var S=g.apply(this,arguments),N=S[0],X=S[1]-ft;return[N*Math.cos(X),N*Math.sin(X)]}}function $y(){return 64}function Gy(){return"circle"}function Zp(g){var S=Math.sqrt(g/ie);return"M0,"+S+"A"+S+","+S+" 0 1,1 0,"+-S+"A"+S+","+S+" 0 1,1 0,"+S+"Z"}n.svg.line.radial=function(){var g=jp(Yp);return g.radius=g.x,delete g.x,g.angle=g.y,delete g.y,g},qu.reverse=Zu,Zu.reverse=qu,n.svg.area=function(){return $p(H)},n.svg.area.radial=function(){var g=$p(Yp);return g.radius=g.x,delete g.x,g.innerRadius=g.x0,delete g.x0,g.outerRadius=g.x1,delete g.x1,g.angle=g.y,delete g.y,g.startAngle=g.y0,delete g.y0,g.endAngle=g.y1,delete g.y1,g},n.svg.chord=function(){var g=Gp,S=Wp,N=Vy,X=Ip,J=Fp;function at(vt,_t){var Ft,jt,Xt=lt(this,g,vt,_t),ne=lt(this,S,vt,_t);return"M"+Xt.p0+ht(Xt.r,Xt.p1,Xt.a1-Xt.a0)+(jt=ne,((Ft=Xt).a0==jt.a0&&Ft.a1==jt.a1?pt(Xt.r,Xt.p1,Xt.r,Xt.p0):pt(Xt.r,Xt.p1,ne.r,ne.p0)+ht(ne.r,ne.p1,ne.a1-ne.a0)+pt(ne.r,ne.p1,Xt.r,Xt.p0))+"Z")}function lt(vt,_t,Ft,jt){var Xt=_t.call(vt,Ft,jt),ne=N.call(vt,Xt,jt),Gt=X.call(vt,Xt,jt)-ft,Kt=J.call(vt,Xt,jt)-ft;return{r:ne,a0:Gt,a1:Kt,p0:[ne*Math.cos(Gt),ne*Math.sin(Gt)],p1:[ne*Math.cos(Kt),ne*Math.sin(Kt)]}}function ht(vt,_t,Ft){return"A"+vt+","+vt+" 0 "+ +(Ft>ie)+",1 "+_t}function pt(vt,_t,Ft,jt){return"Q 0,0 "+jt}return at.radius=function(vt){return arguments.length?(N=ve(vt),at):N},at.source=function(vt){return arguments.length?(g=ve(vt),at):g},at.target=function(vt){return arguments.length?(S=ve(vt),at):S},at.startAngle=function(vt){return arguments.length?(X=ve(vt),at):X},at.endAngle=function(vt){return arguments.length?(J=ve(vt),at):J},at},n.svg.diagonal=function(){var g=Gp,S=Wp,N=qp;function X(J,at){var lt=g.call(this,J,at),ht=S.call(this,J,at),pt=(lt.y+ht.y)/2,vt=[lt,{x:lt.x,y:pt},{x:ht.x,y:pt},ht];return"M"+(vt=vt.map(N))[0]+"C"+vt[1]+" "+vt[2]+" "+vt[3]}return X.source=function(J){return arguments.length?(g=ve(J),X):g},X.target=function(J){return arguments.length?(S=ve(J),X):S},X.projection=function(J){return arguments.length?(N=J,X):N},X},n.svg.diagonal.radial=function(){var g=n.svg.diagonal(),S=qp,N=g.projection;return g.projection=function(X){return arguments.length?N(Yy(S=X)):S},g},n.svg.symbol=function(){var g=Gy,S=$y;function N(X,J){return(Xp.get(g.call(this,X,J))||Zp)(S.call(this,X,J))}return N.type=function(X){return arguments.length?(g=ve(X),N):g},N.size=function(X){return arguments.length?(S=ve(X),N):S},N};var Xp=n.map({circle:Zp,cross:function(g){var S=Math.sqrt(g/5)/2;return"M"+-3*S+","+-S+"H"+-S+"V"+-3*S+"H"+S+"V"+-S+"H"+3*S+"V"+S+"H"+S+"V"+3*S+"H"+-S+"V"+S+"H"+-3*S+"Z"},diamond:function(g){var S=Math.sqrt(g/(2*Jp)),N=S*Jp;return"M0,"+-S+"L"+N+",0 0,"+S+" "+-N+",0Z"},square:function(g){var S=Math.sqrt(g)/2;return"M"+-S+","+-S+"L"+S+","+-S+" "+S+","+S+" "+-S+","+S+"Z"},"triangle-down":function(g){var S=Math.sqrt(g/zl),N=S*zl/2;return"M0,"+N+"L"+S+","+-N+" "+-S+","+-N+"Z"},"triangle-up":function(g){var S=Math.sqrt(g/zl),N=S*zl/2;return"M0,"+-N+"L"+S+","+N+" "+-S+","+N+"Z"}});n.svg.symbolTypes=Xp.keys();var zl=Math.sqrt(3),Jp=Math.tan(30*Lt);tt.transition=function(g){for(var S,N,X=Ya||++Qp,J=tc(g),at=[],lt=Hl||{time:Date.now(),ease:Xg,delay:0,duration:250},ht=-1,pt=this.length;++ht<pt;){at.push(S=[]);for(var vt=this[ht],_t=-1,Ft=vt.length;++_t<Ft;)(N=vt[_t])&&Bl(N,_t,J,X,lt),S.push(N)}return yo(at,J,X)},tt.interrupt=function(g){return this.each(g==null?jl:Kp(tc(g)))};var jl=Kp(tc());function Kp(g){return function(){var S,N,X;(S=this[g])&&(X=S[N=S.active])&&(X.timer.c=null,X.timer.t=NaN,--S.count?delete S[N]:delete this[g],S.active+=.5,X.event&&X.event.interrupt.call(this,this.__data__,X.index))}}function yo(g,S,N){return z(g,Bn),g.namespace=S,g.id=N,g}var Ya,Hl,Bn=[],Qp=0;function Qu(g,S,N,X){var J=g.id,at=g.namespace;return Tt(g,typeof N=="function"?function(lt,ht,pt){lt[at][J].tween.set(S,X(N.call(lt,lt.__data__,ht,pt)))}:(N=X(N),function(lt){lt[at][J].tween.set(S,N)}))}function Wy(g){return g==null&&(g=""),function(){this.textContent=g}}function tc(g){return g==null?"__transition__":"__transition_"+g+"__"}function Bl(g,S,N,X,J){var at,lt,ht,pt,vt,_t=g[N]||(g[N]={active:0,count:0}),Ft=_t[X];function jt(ne){var Gt=_t.active,Kt=_t[Gt];for(var Ut in Kt&&(Kt.timer.c=null,Kt.timer.t=NaN,--_t.count,delete _t[Gt],Kt.event&&Kt.event.interrupt.call(g,g.__data__,Kt.index)),_t)if(+Ut<X){var oe=_t[Ut];oe.timer.c=null,oe.timer.t=NaN,--_t.count,delete _t[Ut]}lt.c=Xt,$e(function(){return lt.c&&Xt(ne||1)&&(lt.c=null,lt.t=NaN),1},0,at),_t.active=X,Ft.event&&Ft.event.start.call(g,g.__data__,S),vt=[],Ft.tween.forEach(function(te,Wt){(Wt=Wt.call(g,g.__data__,S))&&vt.push(Wt)}),pt=Ft.ease,ht=Ft.duration}function Xt(ne){for(var Gt=ne/ht,Kt=pt(Gt),Ut=vt.length;Ut>0;)vt[--Ut].call(g,Kt);if(Gt>=1)return Ft.event&&Ft.event.end.call(g,g.__data__,S),--_t.count?delete _t[X]:delete g[N],1}Ft||(at=J.time,lt=$e(function(ne){var Gt=Ft.delay;if(lt.t=Gt+at,Gt<=ne)return jt(ne-Gt);lt.c=jt},0,at),Ft=_t[X]={tween:new C,time:at,timer:lt,delay:J.delay,duration:J.duration,ease:J.ease,index:S},J=null,++_t.count)}Bn.call=tt.call,Bn.empty=tt.empty,Bn.node=tt.node,Bn.size=tt.size,n.transition=function(g,S){return g&&g.transition?Ya?g.transition(S):g:n.selection().transition(g)},n.transition.prototype=Bn,Bn.select=function(g){var S,N,X,J=this.id,at=this.namespace,lt=[];g=rt(g);for(var ht=-1,pt=this.length;++ht<pt;){lt.push(S=[]);for(var vt=this[ht],_t=-1,Ft=vt.length;++_t<Ft;)(X=vt[_t])&&(N=g.call(X,X.__data__,_t,ht))?("__data__"in X&&(N.__data__=X.__data__),Bl(N,_t,at,J,X[at][J]),S.push(N)):S.push(null)}return yo(lt,at,J)},Bn.selectAll=function(g){var S,N,X,J,at,lt=this.id,ht=this.namespace,pt=[];g=nt(g);for(var vt=-1,_t=this.length;++vt<_t;)for(var Ft=this[vt],jt=-1,Xt=Ft.length;++jt<Xt;)if(X=Ft[jt]){at=X[ht][lt],N=g.call(X,X.__data__,jt,vt),pt.push(S=[]);for(var ne=-1,Gt=N.length;++ne<Gt;)(J=N[ne])&&Bl(J,ne,ht,lt,at),S.push(J)}return yo(pt,ht,lt)},Bn.filter=function(g){var S,N,X=[];typeof g!="function"&&(g=Et(g));for(var J=0,at=this.length;J<at;J++){X.push(S=[]);for(var lt,ht=0,pt=(lt=this[J]).length;ht<pt;ht++)(N=lt[ht])&&g.call(N,N.__data__,ht,J)&&S.push(N)}return yo(X,this.namespace,this.id)},Bn.tween=function(g,S){var N=this.id,X=this.namespace;return arguments.length<2?this.node()[X][N].tween.get(g):Tt(this,S==null?function(J){J[X][N].tween.remove(g)}:function(J){J[X][N].tween.set(g,S)})},Bn.attr=function(g,S){if(arguments.length<2){for(S in g)this.attr(S,g[S]);return this}var N=g=="transform"?Tp:Va,X=n.ns.qualify(g);function J(){this.removeAttribute(X)}function at(){this.removeAttributeNS(X.space,X.local)}function lt(pt){return pt==null?J:(pt+="",function(){var vt,_t=this.getAttribute(X);return _t!==pt&&(vt=N(_t,pt),function(Ft){this.setAttribute(X,vt(Ft))})})}function ht(pt){return pt==null?at:(pt+="",function(){var vt,_t=this.getAttributeNS(X.space,X.local);return _t!==pt&&(vt=N(_t,pt),function(Ft){this.setAttributeNS(X.space,X.local,vt(Ft))})})}return Qu(this,"attr."+g,S,X.local?ht:lt)},Bn.attrTween=function(g,S){var N=n.ns.qualify(g);return this.tween("attr."+g,N.local?function(X,J){var at=S.call(this,X,J,this.getAttributeNS(N.space,N.local));return at&&function(lt){this.setAttributeNS(N.space,N.local,at(lt))}}:function(X,J){var at=S.call(this,X,J,this.getAttribute(N));return at&&function(lt){this.setAttribute(N,at(lt))}})},Bn.style=function(g,S,N){var X=arguments.length;if(X<3){if(typeof g!="string"){for(N in X<2&&(S=""),g)this.style(N,g[N],S);return this}N=""}function J(){this.style.removeProperty(g)}function at(lt){return lt==null?J:(lt+="",function(){var ht,pt=p(this).getComputedStyle(this,null).getPropertyValue(g);return pt!==lt&&(ht=Va(pt,lt),function(vt){this.style.setProperty(g,ht(vt),N)})})}return Qu(this,"style."+g,S,at)},Bn.styleTween=function(g,S,N){function X(J,at){var lt=S.call(this,J,at,p(this).getComputedStyle(this,null).getPropertyValue(g));return lt&&function(ht){this.style.setProperty(g,lt(ht),N)}}return arguments.length<3&&(N=""),this.tween("style."+g,X)},Bn.text=function(g){return Qu(this,"text",g,Wy)},Bn.remove=function(){var g=this.namespace;return this.each("end.transition",function(){var S;this[g].count<2&&(S=this.parentNode)&&S.removeChild(this)})},Bn.ease=function(g){var S=this.id,N=this.namespace;return arguments.length<1?this.node()[N][S].ease:(typeof g!="function"&&(g=n.ease.apply(n,arguments)),Tt(this,function(X){X[N][S].ease=g}))},Bn.delay=function(g){var S=this.id,N=this.namespace;return arguments.length<1?this.node()[N][S].delay:Tt(this,typeof g=="function"?function(X,J,at){X[N][S].delay=+g.call(X,X.__data__,J,at)}:(g=+g,function(X){X[N][S].delay=g}))},Bn.duration=function(g){var S=this.id,N=this.namespace;return arguments.length<1?this.node()[N][S].duration:Tt(this,typeof g=="function"?function(X,J,at){X[N][S].duration=Math.max(1,g.call(X,X.__data__,J,at))}:(g=Math.max(1,g),function(X){X[N][S].duration=g}))},Bn.each=function(g,S){var N=this.id,X=this.namespace;if(arguments.length<2){var J=Hl,at=Ya;try{Ya=N,Tt(this,function(lt,ht,pt){Hl=lt[X][N],g.call(lt,lt.__data__,ht,pt)})}finally{Hl=J,Ya=at}}else Tt(this,function(lt){var ht=lt[X][N];(ht.event||(ht.event=n.dispatch("start","end","interrupt"))).on(g,S)});return this},Bn.transition=function(){for(var g,S,N,X=this.id,J=++Qp,at=this.namespace,lt=[],ht=0,pt=this.length;ht<pt;ht++){lt.push(g=[]);for(var vt,_t=0,Ft=(vt=this[ht]).length;_t<Ft;_t++)(S=vt[_t])&&Bl(S,_t,at,J,{time:(N=S[at][X]).time,ease:N.ease,delay:N.delay+N.duration,duration:N.duration}),g.push(S)}return yo(lt,at,J)},n.svg.axis=function(){var g,S=n.scale.linear(),N=th,X=6,J=6,at=3,lt=[10],ht=null;function pt(vt){vt.each(function(){var _t,Ft=n.select(this),jt=this.__chart__||S,Xt=this.__chart__=S.copy(),ne=ht==null?Xt.ticks?Xt.ticks.apply(Xt,lt):Xt.domain():ht,Gt=g==null?Xt.tickFormat?Xt.tickFormat.apply(Xt,lt):H:g,Kt=Ft.selectAll(".tick").data(ne,Xt),Ut=Kt.enter().insert("g",".domain").attr("class","tick").style("opacity",Bt),oe=n.transition(Kt.exit()).style("opacity",Bt).remove(),te=n.transition(Kt.order()).style("opacity",1),Wt=Math.max(X,0)+at,ge=Dl(Xt),xe=Ft.selectAll(".domain").data([0]),Ie=(xe.enter().append("path").attr("class","domain"),n.transition(xe));Ut.append("line"),Ut.append("text");var ze,qe,Ze,vn,Ke=Ut.select("line"),bn=te.select("line"),Ln=Kt.select("text").text(Gt),zn=Ut.select("text"),Ne=te.select("text"),Qe=N==="top"||N==="left"?-1:1;if(N==="bottom"||N==="top"?(_t=Zy,ze="x",Ze="y",qe="x2",vn="y2",Ln.attr("dy",Qe<0?"0em":".71em").style("text-anchor","middle"),Ie.attr("d","M"+ge[0]+","+Qe*J+"V0H"+ge[1]+"V"+Qe*J)):(_t=Xy,ze="y",Ze="x",qe="y2",vn="x2",Ln.attr("dy",".32em").style("text-anchor",Qe<0?"end":"start"),Ie.attr("d","M"+Qe*J+","+ge[0]+"H0V"+ge[1]+"H"+Qe*J)),Ke.attr(vn,Qe*X),zn.attr(Ze,Qe*Wt),bn.attr(qe,0).attr(vn,Qe*X),Ne.attr(ze,0).attr(Ze,Qe*Wt),Xt.rangeBand){var gn=Xt,hn=gn.rangeBand()/2;jt=Xt=function(Tn){return gn(Tn)+hn}}else jt.rangeBand?jt=Xt:oe.call(_t,Xt,jt);Ut.call(_t,jt,Xt),te.call(_t,Xt,Xt)})}return pt.scale=function(vt){return arguments.length?(S=vt,pt):S},pt.orient=function(vt){return arguments.length?(N=vt in qy?vt+"":th,pt):N},pt.ticks=function(){return arguments.length?(lt=o(arguments),pt):lt},pt.tickValues=function(vt){return arguments.length?(ht=vt,pt):ht},pt.tickFormat=function(vt){return arguments.length?(g=vt,pt):g},pt.tickSize=function(vt){var _t=arguments.length;return _t?(X=+vt,J=+arguments[_t-1],pt):X},pt.innerTickSize=function(vt){return arguments.length?(X=+vt,pt):X},pt.outerTickSize=function(vt){return arguments.length?(J=+vt,pt):J},pt.tickPadding=function(vt){return arguments.length?(at=+vt,pt):at},pt.tickSubdivide=function(){return arguments.length&&pt},pt};var th="bottom",qy={top:1,right:1,bottom:1,left:1};function Zy(g,S,N){g.attr("transform",function(X){var J=S(X);return"translate("+(isFinite(J)?J:N(X))+",0)"})}function Xy(g,S,N){g.attr("transform",function(X){var J=S(X);return"translate(0,"+(isFinite(J)?J:N(X))+")"})}n.svg.brush=function(){var g,S,N=Q(_t,"brushstart","brush","brushend"),X=null,J=null,at=[0,0],lt=[0,0],ht=!0,pt=!0,vt=ec[0];function _t(Gt){Gt.each(function(){var Kt=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",ne).on("touchstart.brush",ne),Ut=Kt.selectAll(".background").data([0]);Ut.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Kt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var oe=Kt.selectAll(".resize").data(vt,H);oe.exit().remove(),oe.enter().append("g").attr("class",function(xe){return"resize "+xe}).style("cursor",function(xe){return Jy[xe]}).append("rect").attr("x",function(xe){return/[ew]$/.test(xe)?-3:null}).attr("y",function(xe){return/^[ns]/.test(xe)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),oe.style("display",_t.empty()?"none":null);var te,Wt=n.transition(Kt),ge=n.transition(Ut);X&&(te=Dl(X),ge.attr("x",te[0]).attr("width",te[1]-te[0]),jt(Wt)),J&&(te=Dl(J),ge.attr("y",te[0]).attr("height",te[1]-te[0]),Xt(Wt)),Ft(Wt)})}function Ft(Gt){Gt.selectAll(".resize").attr("transform",function(Kt){return"translate("+at[+/e$/.test(Kt)]+","+lt[+/^s/.test(Kt)]+")"})}function jt(Gt){Gt.select(".extent").attr("x",at[0]),Gt.selectAll(".extent,.n>rect,.s>rect").attr("width",at[1]-at[0])}function Xt(Gt){Gt.select(".extent").attr("y",lt[0]),Gt.selectAll(".extent,.e>rect,.w>rect").attr("height",lt[1]-lt[0])}function ne(){var Gt,Kt,Ut=this,oe=n.select(n.event.target),te=N.of(Ut,arguments),Wt=n.select(Ut),ge=oe.datum(),xe=!/^(n|s)$/.test(ge)&&X,Ie=!/^(e|w)$/.test(ge)&&J,ze=oe.classed("extent"),qe=re(Ut),Ze=n.mouse(Ut),vn=n.select(p(Ut)).on("keydown.brush",Ln).on("keyup.brush",zn);if(n.event.changedTouches?vn.on("touchmove.brush",Ne).on("touchend.brush",gn):vn.on("mousemove.brush",Ne).on("mouseup.brush",gn),Wt.interrupt().selectAll("*").interrupt(),ze)Ze[0]=at[0]-Ze[0],Ze[1]=lt[0]-Ze[1];else if(ge){var Ke=+/w$/.test(ge),bn=+/^n/.test(ge);Kt=[at[1-Ke]-Ze[0],lt[1-bn]-Ze[1]],Ze[0]=at[Ke],Ze[1]=lt[bn]}else n.event.altKey&&(Gt=Ze.slice());function Ln(){n.event.keyCode==32&&(ze||(Gt=null,Ze[0]-=at[1],Ze[1]-=lt[1],ze=2),U())}function zn(){n.event.keyCode==32&&ze==2&&(Ze[0]+=at[1],Ze[1]+=lt[1],ze=0,U())}function Ne(){var hn=n.mouse(Ut),Tn=!1;Kt&&(hn[0]+=Kt[0],hn[1]+=Kt[1]),ze||(n.event.altKey?(Gt||(Gt=[(at[0]+at[1])/2,(lt[0]+lt[1])/2]),Ze[0]=at[+(hn[0]<Gt[0])],Ze[1]=lt[+(hn[1]<Gt[1])]):Gt=null),xe&&Qe(hn,X,0)&&(jt(Wt),Tn=!0),Ie&&Qe(hn,J,1)&&(Xt(Wt),Tn=!0),Tn&&(Ft(Wt),te({type:"brush",mode:ze?"move":"resize"}))}function Qe(hn,Tn,kn){var En,Vn,er=Dl(Tn),nr=er[0],Sr=er[1],lr=Ze[kn],hr=kn?lt:at,$r=hr[1]-hr[0];if(ze&&(nr-=lr,Sr-=$r+lr),En=(kn?pt:ht)?Math.max(nr,Math.min(Sr,hn[kn])):hn[kn],ze?Vn=(En+=lr)+$r:(Gt&&(lr=Math.max(nr,Math.min(Sr,2*Gt[kn]-En))),lr<En?(Vn=En,En=lr):Vn=lr),hr[0]!=En||hr[1]!=Vn)return kn?S=null:g=null,hr[0]=En,hr[1]=Vn,!0}function gn(){Ne(),Wt.style("pointer-events","all").selectAll(".resize").style("display",_t.empty()?"none":null),n.select("body").style("cursor",null),vn.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),qe(),te({type:"brushend"})}Wt.style("pointer-events","none").selectAll(".resize").style("display",null),n.select("body").style("cursor",oe.style("cursor")),te({type:"brushstart"}),Ne()}return _t.event=function(Gt){Gt.each(function(){var Kt=N.of(this,arguments),Ut={x:at,y:lt,i:g,j:S},oe=this.__chart__||Ut;this.__chart__=Ut,Ya?n.select(this).transition().each("start.brush",function(){g=oe.i,S=oe.j,at=oe.x,lt=oe.y,Kt({type:"brushstart"})}).tween("brush:brush",function(){var te=Ll(at,Ut.x),Wt=Ll(lt,Ut.y);return g=S=null,function(ge){at=Ut.x=te(ge),lt=Ut.y=Wt(ge),Kt({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=Ut.i,S=Ut.j,Kt({type:"brush",mode:"resize"}),Kt({type:"brushend"})}):(Kt({type:"brushstart"}),Kt({type:"brush",mode:"resize"}),Kt({type:"brushend"}))})},_t.x=function(Gt){return arguments.length?(vt=ec[!(X=Gt)<<1|!J],_t):X},_t.y=function(Gt){return arguments.length?(vt=ec[!X<<1|!(J=Gt)],_t):J},_t.clamp=function(Gt){return arguments.length?(X&&J?(ht=!!Gt[0],pt=!!Gt[1]):X?ht=!!Gt:J&&(pt=!!Gt),_t):X&&J?[ht,pt]:X?ht:J?pt:null},_t.extent=function(Gt){var Kt,Ut,oe,te,Wt;return arguments.length?(X&&(Kt=Gt[0],Ut=Gt[1],J&&(Kt=Kt[0],Ut=Ut[0]),g=[Kt,Ut],X.invert&&(Kt=X(Kt),Ut=X(Ut)),Ut<Kt&&(Wt=Kt,Kt=Ut,Ut=Wt),Kt==at[0]&&Ut==at[1]||(at=[Kt,Ut])),J&&(oe=Gt[0],te=Gt[1],X&&(oe=oe[1],te=te[1]),S=[oe,te],J.invert&&(oe=J(oe),te=J(te)),te<oe&&(Wt=oe,oe=te,te=Wt),oe==lt[0]&&te==lt[1]||(lt=[oe,te])),_t):(X&&(g?(Kt=g[0],Ut=g[1]):(Kt=at[0],Ut=at[1],X.invert&&(Kt=X.invert(Kt),Ut=X.invert(Ut)),Ut<Kt&&(Wt=Kt,Kt=Ut,Ut=Wt))),J&&(S?(oe=S[0],te=S[1]):(oe=lt[0],te=lt[1],J.invert&&(oe=J.invert(oe),te=J.invert(te)),te<oe&&(Wt=oe,oe=te,te=Wt))),X&&J?[[Kt,oe],[Ut,te]]:X?[Kt,Ut]:J&&[oe,te])},_t.clear=function(){return _t.empty()||(at=[0,0],lt=[0,0],g=S=null),_t},_t.empty=function(){return!!X&&at[0]==at[1]||!!J&&lt[0]==lt[1]},n.rebind(_t,N,"on")};var Jy={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ec=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function Ky(g){return JSON.parse(g.responseText)}function Qy(g){var S=i.createRange();return S.selectNode(i.body),S.createContextualFragment(g.responseText)}n.text=Ve(function(g){return g.responseText}),n.json=function(g,S){return We(g,"application/json",Ky,S)},n.html=function(g,S){return We(g,"text/html",Qy,S)},n.xml=Ve(function(g){return g.responseXML}),typeof s=="object"&&s.exports?s.exports=n:this.d3=n}).apply(self)},{}],12:[function(t,s,c){var n,a=typeof Reflect=="object"?Reflect:null,o=a&&typeof a.apply=="function"?a.apply:function(_,T,b){return Function.prototype.apply.call(_,T,b)};n=a&&typeof a.ownKeys=="function"?a.ownKeys:Object.getOwnPropertySymbols?function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:function(_){return Object.getOwnPropertyNames(_)};var i=Number.isNaN||function(_){return _!=_};function l(){l.init.call(this)}s.exports=l,s.exports.once=function(_,T){return new Promise(function(b,x){function O(){A!==void 0&&_.removeListener("error",A),b([].slice.call(arguments))}var A;T!=="error"&&(A=function(C){_.removeListener(T,O),x(C)},_.once("error",A)),_.once(T,O)})},l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var p=10;function d(_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _)}function f(_){return _._maxListeners===void 0?l.defaultMaxListeners:_._maxListeners}function u(_,T,b,x){var O,A,C,L;if(d(b),(A=_._events)===void 0?(A=_._events=Object.create(null),_._eventsCount=0):(A.newListener!==void 0&&(_.emit("newListener",T,b.listener?b.listener:b),A=_._events),C=A[T]),C===void 0)C=A[T]=b,++_._eventsCount;else if(typeof C=="function"?C=A[T]=x?[b,C]:[C,b]:x?C.unshift(b):C.push(b),(O=f(_))>0&&C.length>O&&!C.warned){C.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=_,w.type=T,w.count=C.length,L=w,console&&console.warn&&console.warn(L)}return _}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(_,T,b){var x={fired:!1,wrapFn:void 0,target:_,type:T,listener:b},O=h.bind(x);return O.listener=b,x.wrapFn=O,O}function v(_,T,b){var x=_._events;if(x===void 0)return[];var O=x[T];return O===void 0?[]:typeof O=="function"?b?[O.listener||O]:[O]:b?function(A){for(var C=new Array(A.length),L=0;L<C.length;++L)C[L]=A[L].listener||A[L];return C}(O):k(O,O.length)}function y(_){var T=this._events;if(T!==void 0){var b=T[_];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function k(_,T){for(var b=new Array(T),x=0;x<T;++x)b[x]=_[x];return b}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(_){if(typeof _!="number"||_<0||i(_))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_+".");p=_}}),l.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(_){if(typeof _!="number"||_<0||i(_))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_+".");return this._maxListeners=_,this},l.prototype.getMaxListeners=function(){return f(this)},l.prototype.emit=function(_){for(var T=[],b=1;b<arguments.length;b++)T.push(arguments[b]);var x=_==="error",O=this._events;if(O!==void 0)x=x&&O.error===void 0;else if(!x)return!1;if(x){var A;if(T.length>0&&(A=T[0]),A instanceof Error)throw A;var C=new Error("Unhandled error."+(A?" ("+A.message+")":""));throw C.context=A,C}var L=O[_];if(L===void 0)return!1;if(typeof L=="function")o(L,this,T);else{var w=L.length,E=k(L,w);for(b=0;b<w;++b)o(E[b],this,T)}return!0},l.prototype.addListener=function(_,T){return u(this,_,T,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(_,T){return u(this,_,T,!0)},l.prototype.once=function(_,T){return d(T),this.on(_,m(this,_,T)),this},l.prototype.prependOnceListener=function(_,T){return d(T),this.prependListener(_,m(this,_,T)),this},l.prototype.removeListener=function(_,T){var b,x,O,A,C;if(d(T),(x=this._events)===void 0)return this;if((b=x[_])===void 0)return this;if(b===T||b.listener===T)--this._eventsCount==0?this._events=Object.create(null):(delete x[_],x.removeListener&&this.emit("removeListener",_,b.listener||T));else if(typeof b!="function"){for(O=-1,A=b.length-1;A>=0;A--)if(b[A]===T||b[A].listener===T){C=b[A].listener,O=A;break}if(O<0)return this;O===0?b.shift():function(L,w){for(;w+1<L.length;w++)L[w]=L[w+1];L.pop()}(b,O),b.length===1&&(x[_]=b[0]),x.removeListener!==void 0&&this.emit("removeListener",_,C||T)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(_){var T,b,x;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[_]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete b[_]),this;if(arguments.length===0){var O,A=Object.keys(b);for(x=0;x<A.length;++x)(O=A[x])!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(T=b[_])=="function")this.removeListener(_,T);else if(T!==void 0)for(x=T.length-1;x>=0;x--)this.removeListener(_,T[x]);return this},l.prototype.listeners=function(_){return v(this,_,!0)},l.prototype.rawListeners=function(_){return v(this,_,!1)},l.listenerCount=function(_,T){return typeof _.listenerCount=="function"?_.listenerCount(T):y.call(_,T)},l.prototype.listenerCount=y,l.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},{}],13:[function(t,s,c){(function(n,a){a(typeof c=="object"&&s!==void 0?c:(n=typeof globalThis!="undefined"?globalThis:n||self).d3=n.d3||{})})(this,function(n){function a(T,b){if((x=(T=b?T.toExponential(b-1):T.toExponential()).indexOf("e"))<0)return null;var x,O=T.slice(0,x);return[O.length>1?O[0]+O.slice(2):O,+T.slice(x+1)]}function o(T){return(T=a(Math.abs(T)))?T[1]:NaN}var i,l=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(T){if(!(b=l.exec(T)))throw new Error("invalid format: "+T);var b;return new d({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function d(T){this.fill=T.fill===void 0?" ":T.fill+"",this.align=T.align===void 0?">":T.align+"",this.sign=T.sign===void 0?"-":T.sign+"",this.symbol=T.symbol===void 0?"":T.symbol+"",this.zero=!!T.zero,this.width=T.width===void 0?void 0:+T.width,this.comma=!!T.comma,this.precision=T.precision===void 0?void 0:+T.precision,this.trim=!!T.trim,this.type=T.type===void 0?"":T.type+""}function f(T,b){var x=a(T,b);if(!x)return T+"";var O=x[0],A=x[1];return A<0?"0."+new Array(-A).join("0")+O:O.length>A+1?O.slice(0,A+1)+"."+O.slice(A+1):O+new Array(A-O.length+2).join("0")}p.prototype=d.prototype,d.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var u={"%":function(T,b){return(100*T).toFixed(b)},b:function(T){return Math.round(T).toString(2)},c:function(T){return T+""},d:function(T){return Math.abs(T=Math.round(T))>=1e21?T.toLocaleString("en").replace(/,/g,""):T.toString(10)},e:function(T,b){return T.toExponential(b)},f:function(T,b){return T.toFixed(b)},g:function(T,b){return T.toPrecision(b)},o:function(T){return Math.round(T).toString(8)},p:function(T,b){return f(100*T,b)},r:f,s:function(T,b){var x=a(T,b);if(!x)return T+"";var O=x[0],A=x[1],C=A-(i=3*Math.max(-8,Math.min(8,Math.floor(A/3))))+1,L=O.length;return C===L?O:C>L?O+new Array(C-L+1).join("0"):C>0?O.slice(0,C)+"."+O.slice(C):"0."+new Array(1-C).join("0")+a(T,Math.max(0,b+C-1))[0]},X:function(T){return Math.round(T).toString(16).toUpperCase()},x:function(T){return Math.round(T).toString(16)}};function h(T){return T}var m,v=Array.prototype.map,y=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function k(T){var b,x,O=T.grouping===void 0||T.thousands===void 0?h:(b=v.call(T.grouping,Number),x=T.thousands+"",function(j,W){for(var H=j.length,B=[],K=0,et=b[0],G=0;H>0&&et>0&&(G+et+1>W&&(et=Math.max(1,W-G)),B.push(j.substring(H-=et,H+et)),!((G+=et+1)>W));)et=b[K=(K+1)%b.length];return B.reverse().join(x)}),A=T.currency===void 0?"":T.currency[0]+"",C=T.currency===void 0?"":T.currency[1]+"",L=T.decimal===void 0?".":T.decimal+"",w=T.numerals===void 0?h:function(j){return function(W){return W.replace(/[0-9]/g,function(H){return j[+H]})}}(v.call(T.numerals,String)),E=T.percent===void 0?"%":T.percent+"",I=T.minus===void 0?"-":T.minus+"",M=T.nan===void 0?"NaN":T.nan+"";function V(j){var W=(j=p(j)).fill,H=j.align,B=j.sign,K=j.symbol,et=j.zero,G=j.width,Y=j.comma,D=j.precision,U=j.trim,$=j.type;$==="n"?(Y=!0,$="g"):u[$]||(D===void 0&&(D=12),U=!0,$="g"),(et||W==="0"&&H==="=")&&(et=!0,W="0",H="=");var Q=K==="$"?A:K==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",F=K==="$"?C:/[%p]/.test($)?E:"",z=u[$],P=/[defgprs%]/.test($);function Z(R){var q,tt,rt,nt=Q,ct=F;if($==="c")ct=z(R)+ct,R="";else{var st=(R=+R)<0||1/R<0;if(R=isNaN(R)?M:z(Math.abs(R),D),U&&(R=function(Ot){t:for(var bt,Ht=Ot.length,Dt=1,yt=-1;Dt<Ht;++Dt)switch(Ot[Dt]){case".":yt=bt=Dt;break;case"0":yt===0&&(yt=Dt),bt=Dt;break;default:if(!+Ot[Dt])break t;yt>0&&(yt=0)}return yt>0?Ot.slice(0,yt)+Ot.slice(bt+1):Ot}(R)),st&&+R==0&&B!=="+"&&(st=!1),nt=(st?B==="("?B:I:B==="-"||B==="("?"":B)+nt,ct=($==="s"?y[8+i/3]:"")+ct+(st&&B==="("?")":""),P){for(q=-1,tt=R.length;++q<tt;)if(48>(rt=R.charCodeAt(q))||rt>57){ct=(rt===46?L+R.slice(q+1):R.slice(q))+ct,R=R.slice(0,q);break}}}Y&&!et&&(R=O(R,1/0));var gt=nt.length+R.length+ct.length,wt=gt<G?new Array(G-gt+1).join(W):"";switch(Y&&et&&(R=O(wt+R,wt.length?G-ct.length:1/0),wt=""),H){case"<":R=nt+R+ct+wt;break;case"=":R=nt+wt+R+ct;break;case"^":R=wt.slice(0,gt=wt.length>>1)+nt+R+ct+wt.slice(gt);break;default:R=wt+nt+R+ct}return w(R)}return D=D===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D)),Z.toString=function(){return j+""},Z}return{format:V,formatPrefix:function(j,W){var H=V(((j=p(j)).type="f",j)),B=3*Math.max(-8,Math.min(8,Math.floor(o(W)/3))),K=Math.pow(10,-B),et=y[8+B/3];return function(G){return H(K*G)+et}}}}function _(T){return m=k(T),n.format=m.format,n.formatPrefix=m.formatPrefix,m}_({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),n.FormatSpecifier=d,n.formatDefaultLocale=_,n.formatLocale=k,n.formatSpecifier=p,n.precisionFixed=function(T){return Math.max(0,-o(Math.abs(T)))},n.precisionPrefix=function(T,b){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(o(b)/3)))-o(Math.abs(T)))},n.precisionRound=function(T,b){return T=Math.abs(T),b=Math.abs(b)-T,Math.max(0,o(b)-o(T))+1},Object.defineProperty(n,"__esModule",{value:!0})})},{}],14:[function(t,s,c){(function(n,a){typeof c=="object"&&s!==void 0?a(c,t("d3-time")):a((n=n||self).d3=n.d3||{},n.d3)})(this,function(n,a){function o(xt){if(0<=xt.y&&xt.y<100){var kt=new Date(-1,xt.m,xt.d,xt.H,xt.M,xt.S,xt.L);return kt.setFullYear(xt.y),kt}return new Date(xt.y,xt.m,xt.d,xt.H,xt.M,xt.S,xt.L)}function i(xt){if(0<=xt.y&&xt.y<100){var kt=new Date(Date.UTC(-1,xt.m,xt.d,xt.H,xt.M,xt.S,xt.L));return kt.setUTCFullYear(xt.y),kt}return new Date(Date.UTC(xt.y,xt.m,xt.d,xt.H,xt.M,xt.S,xt.L))}function l(xt,kt,Bt){return{y:xt,m:kt,d:Bt,H:0,M:0,S:0,L:0}}function p(xt){var kt=xt.dateTime,Bt=xt.date,ie=xt.time,ye=xt.periods,ot=xt.days,ft=xt.shortDays,Lt=xt.months,Pt=xt.shortMonths,It=k(ye),Rt=_(ye),Vt=k(ot),Jt=_(ot),ae=k(ft),ce=_(ft),le=k(Lt),se=_(Lt),pe=k(Pt),we=_(Pt),me={a:function(fe){return ft[fe.getDay()]},A:function(fe){return ot[fe.getDay()]},b:function(fe){return Pt[fe.getMonth()]},B:function(fe){return Lt[fe.getMonth()]},c:null,d:D,e:D,f:z,H:U,I:$,j:Q,L:F,m:P,M:Z,p:function(fe){return ye[+(fe.getHours()>=12)]},q:function(fe){return 1+~~(fe.getMonth()/3)},Q:$t,s:Zt,S:R,u:q,U:tt,V:rt,w:nt,W:ct,x:null,X:null,y:st,Y:gt,Z:wt,"%":St},ee={a:function(fe){return ft[fe.getUTCDay()]},A:function(fe){return ot[fe.getUTCDay()]},b:function(fe){return Pt[fe.getUTCMonth()]},B:function(fe){return Lt[fe.getUTCMonth()]},c:null,d:Ot,e:Ot,f:ut,H:bt,I:Ht,j:Dt,L:yt,m:it,M:dt,p:function(fe){return ye[+(fe.getUTCHours()>=12)]},q:function(fe){return 1+~~(fe.getUTCMonth()/3)},Q:$t,s:Zt,S:mt,u:Et,U:Mt,V:Tt,w:Nt,W:zt,x:null,X:null,y:At,Y:Ct,Z:qt,"%":St},ue={a:function(fe,_e,Le){var he=ae.exec(_e.slice(Le));return he?(fe.w=ce[he[0].toLowerCase()],Le+he[0].length):-1},A:function(fe,_e,Le){var he=Vt.exec(_e.slice(Le));return he?(fe.w=Jt[he[0].toLowerCase()],Le+he[0].length):-1},b:function(fe,_e,Le){var he=pe.exec(_e.slice(Le));return he?(fe.m=we[he[0].toLowerCase()],Le+he[0].length):-1},B:function(fe,_e,Le){var he=le.exec(_e.slice(Le));return he?(fe.m=se[he[0].toLowerCase()],Le+he[0].length):-1},c:function(fe,_e,Le){return Ce(fe,kt,_e,Le)},d:M,e:M,f:K,H:j,I:j,j:V,L:B,m:I,M:W,p:function(fe,_e,Le){var he=It.exec(_e.slice(Le));return he?(fe.p=Rt[he[0].toLowerCase()],Le+he[0].length):-1},q:E,Q:G,s:Y,S:H,u:b,U:x,V:O,w:T,W:A,x:function(fe,_e,Le){return Ce(fe,Bt,_e,Le)},X:function(fe,_e,Le){return Ce(fe,ie,_e,Le)},y:L,Y:C,Z:w,"%":et};function Te(fe,_e){return function(Le){var he,Se,de,Re=[],Ee=-1,De=0,je=fe.length;for(Le instanceof Date||(Le=new Date(+Le));++Ee<je;)fe.charCodeAt(Ee)===37&&(Re.push(fe.slice(De,Ee)),(Se=f[he=fe.charAt(++Ee)])!=null?he=fe.charAt(++Ee):Se=he==="e"?" ":"0",(de=_e[he])&&(he=de(Le,Se)),Re.push(he),De=Ee+1);return Re.push(fe.slice(De,Ee)),Re.join("")}}function Me(fe,_e){return function(Le){var he,Se,de=l(1900,void 0,1);if(Ce(de,fe,Le+="",0)!=Le.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(1e3*de.s+("L"in de?de.L:0));if(_e&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+12*de.p),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Se=(he=i(l(de.y,0,1))).getUTCDay(),he=Se>4||Se===0?a.utcMonday.ceil(he):a.utcMonday(he),he=a.utcDay.offset(he,7*(de.V-1)),de.y=he.getUTCFullYear(),de.m=he.getUTCMonth(),de.d=he.getUTCDate()+(de.w+6)%7):(Se=(he=o(l(de.y,0,1))).getDay(),he=Se>4||Se===0?a.timeMonday.ceil(he):a.timeMonday(he),he=a.timeDay.offset(he,7*(de.V-1)),de.y=he.getFullYear(),de.m=he.getMonth(),de.d=he.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Se="Z"in de?i(l(de.y,0,1)).getUTCDay():o(l(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+7*de.W-(Se+5)%7:de.w+7*de.U-(Se+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,i(de)):o(de)}}function Ce(fe,_e,Le,he){for(var Se,de,Re=0,Ee=_e.length,De=Le.length;Re<Ee;){if(he>=De)return-1;if((Se=_e.charCodeAt(Re++))===37){if(Se=_e.charAt(Re++),!(de=ue[Se in f?_e.charAt(Re++):Se])||(he=de(fe,Le,he))<0)return-1}else if(Se!=Le.charCodeAt(he++))return-1}return he}return me.x=Te(Bt,me),me.X=Te(ie,me),me.c=Te(kt,me),ee.x=Te(Bt,ee),ee.X=Te(ie,ee),ee.c=Te(kt,ee),{format:function(fe){var _e=Te(fe+="",me);return _e.toString=function(){return fe},_e},parse:function(fe){var _e=Me(fe+="",!1);return _e.toString=function(){return fe},_e},utcFormat:function(fe){var _e=Te(fe+="",ee);return _e.toString=function(){return fe},_e},utcParse:function(fe){var _e=Me(fe+="",!0);return _e.toString=function(){return fe},_e}}}var d,f={"-":"",_:" ",0:"0"},u=/^\s*\d+/,h=/^%/,m=/[\\^$*+?|[\]().{}]/g;function v(xt,kt,Bt){var ie=xt<0?"-":"",ye=(ie?-xt:xt)+"",ot=ye.length;return ie+(ot<Bt?new Array(Bt-ot+1).join(kt)+ye:ye)}function y(xt){return xt.replace(m,"\\$&")}function k(xt){return new RegExp("^(?:"+xt.map(y).join("|")+")","i")}function _(xt){for(var kt={},Bt=-1,ie=xt.length;++Bt<ie;)kt[xt[Bt].toLowerCase()]=Bt;return kt}function T(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+1));return ie?(xt.w=+ie[0],Bt+ie[0].length):-1}function b(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+1));return ie?(xt.u=+ie[0],Bt+ie[0].length):-1}function x(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+2));return ie?(xt.U=+ie[0],Bt+ie[0].length):-1}function O(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+2));return ie?(xt.V=+ie[0],Bt+ie[0].length):-1}function A(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+2));return ie?(xt.W=+ie[0],Bt+ie[0].length):-1}function C(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+4));return ie?(xt.y=+ie[0],Bt+ie[0].length):-1}function L(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+2));return ie?(xt.y=+ie[0]+(+ie[0]>68?1900:2e3),Bt+ie[0].length):-1}function w(xt,kt,Bt){var ie=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(kt.slice(Bt,Bt+6));return ie?(xt.Z=ie[1]?0:-(ie[2]+(ie[3]||"00")),Bt+ie[0].length):-1}function E(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+1));return ie?(xt.q=3*ie[0]-3,Bt+ie[0].length):-1}function I(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+2));return ie?(xt.m=ie[0]-1,Bt+ie[0].length):-1}function M(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+2));return ie?(xt.d=+ie[0],Bt+ie[0].length):-1}function V(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+3));return ie?(xt.m=0,xt.d=+ie[0],Bt+ie[0].length):-1}function j(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+2));return ie?(xt.H=+ie[0],Bt+ie[0].length):-1}function W(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+2));return ie?(xt.M=+ie[0],Bt+ie[0].length):-1}function H(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+2));return ie?(xt.S=+ie[0],Bt+ie[0].length):-1}function B(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+3));return ie?(xt.L=+ie[0],Bt+ie[0].length):-1}function K(xt,kt,Bt){var ie=u.exec(kt.slice(Bt,Bt+6));return ie?(xt.L=Math.floor(ie[0]/1e3),Bt+ie[0].length):-1}function et(xt,kt,Bt){var ie=h.exec(kt.slice(Bt,Bt+1));return ie?Bt+ie[0].length:-1}function G(xt,kt,Bt){var ie=u.exec(kt.slice(Bt));return ie?(xt.Q=+ie[0],Bt+ie[0].length):-1}function Y(xt,kt,Bt){var ie=u.exec(kt.slice(Bt));return ie?(xt.s=+ie[0],Bt+ie[0].length):-1}function D(xt,kt){return v(xt.getDate(),kt,2)}function U(xt,kt){return v(xt.getHours(),kt,2)}function $(xt,kt){return v(xt.getHours()%12||12,kt,2)}function Q(xt,kt){return v(1+a.timeDay.count(a.timeYear(xt),xt),kt,3)}function F(xt,kt){return v(xt.getMilliseconds(),kt,3)}function z(xt,kt){return F(xt,kt)+"000"}function P(xt,kt){return v(xt.getMonth()+1,kt,2)}function Z(xt,kt){return v(xt.getMinutes(),kt,2)}function R(xt,kt){return v(xt.getSeconds(),kt,2)}function q(xt){var kt=xt.getDay();return kt===0?7:kt}function tt(xt,kt){return v(a.timeSunday.count(a.timeYear(xt)-1,xt),kt,2)}function rt(xt,kt){var Bt=xt.getDay();return xt=Bt>=4||Bt===0?a.timeThursday(xt):a.timeThursday.ceil(xt),v(a.timeThursday.count(a.timeYear(xt),xt)+(a.timeYear(xt).getDay()===4),kt,2)}function nt(xt){return xt.getDay()}function ct(xt,kt){return v(a.timeMonday.count(a.timeYear(xt)-1,xt),kt,2)}function st(xt,kt){return v(xt.getFullYear()%100,kt,2)}function gt(xt,kt){return v(xt.getFullYear()%1e4,kt,4)}function wt(xt){var kt=xt.getTimezoneOffset();return(kt>0?"-":(kt*=-1,"+"))+v(kt/60|0,"0",2)+v(kt%60,"0",2)}function Ot(xt,kt){return v(xt.getUTCDate(),kt,2)}function bt(xt,kt){return v(xt.getUTCHours(),kt,2)}function Ht(xt,kt){return v(xt.getUTCHours()%12||12,kt,2)}function Dt(xt,kt){return v(1+a.utcDay.count(a.utcYear(xt),xt),kt,3)}function yt(xt,kt){return v(xt.getUTCMilliseconds(),kt,3)}function ut(xt,kt){return yt(xt,kt)+"000"}function it(xt,kt){return v(xt.getUTCMonth()+1,kt,2)}function dt(xt,kt){return v(xt.getUTCMinutes(),kt,2)}function mt(xt,kt){return v(xt.getUTCSeconds(),kt,2)}function Et(xt){var kt=xt.getUTCDay();return kt===0?7:kt}function Mt(xt,kt){return v(a.utcSunday.count(a.utcYear(xt)-1,xt),kt,2)}function Tt(xt,kt){var Bt=xt.getUTCDay();return xt=Bt>=4||Bt===0?a.utcThursday(xt):a.utcThursday.ceil(xt),v(a.utcThursday.count(a.utcYear(xt),xt)+(a.utcYear(xt).getUTCDay()===4),kt,2)}function Nt(xt){return xt.getUTCDay()}function zt(xt,kt){return v(a.utcMonday.count(a.utcYear(xt)-1,xt),kt,2)}function At(xt,kt){return v(xt.getUTCFullYear()%100,kt,2)}function Ct(xt,kt){return v(xt.getUTCFullYear()%1e4,kt,4)}function qt(){return"+0000"}function St(){return"%"}function $t(xt){return+xt}function Zt(xt){return Math.floor(+xt/1e3)}function Yt(xt){return d=p(xt),n.timeFormat=d.format,n.timeParse=d.parse,n.utcFormat=d.utcFormat,n.utcParse=d.utcParse,d}Yt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var re=Date.prototype.toISOString?function(xt){return xt.toISOString()}:n.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Qt=+new Date("2000-01-01T00:00:00.000Z")?function(xt){var kt=new Date(xt);return isNaN(kt)?null:kt}:n.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");n.isoFormat=re,n.isoParse=Qt,n.timeFormatDefaultLocale=Yt,n.timeFormatLocale=p,Object.defineProperty(n,"__esModule",{value:!0})})},{"d3-time":15}],15:[function(t,s,c){(function(n,a){a(typeof c=="object"&&s!==void 0?c:(n=n||self).d3=n.d3||{})})(this,function(n){var a=new Date,o=new Date;function i(it,dt,mt,Et){function Mt(Tt){return it(Tt=arguments.length===0?new Date:new Date(+Tt)),Tt}return Mt.floor=function(Tt){return it(Tt=new Date(+Tt)),Tt},Mt.ceil=function(Tt){return it(Tt=new Date(Tt-1)),dt(Tt,1),it(Tt),Tt},Mt.round=function(Tt){var Nt=Mt(Tt),zt=Mt.ceil(Tt);return Tt-Nt<zt-Tt?Nt:zt},Mt.offset=function(Tt,Nt){return dt(Tt=new Date(+Tt),Nt==null?1:Math.floor(Nt)),Tt},Mt.range=function(Tt,Nt,zt){var At,Ct=[];if(Tt=Mt.ceil(Tt),zt=zt==null?1:Math.floor(zt),!(Tt<Nt&&zt>0))return Ct;do Ct.push(At=new Date(+Tt)),dt(Tt,zt),it(Tt);while(At<Tt&&Tt<Nt);return Ct},Mt.filter=function(Tt){return i(function(Nt){if(Nt>=Nt)for(;it(Nt),!Tt(Nt);)Nt.setTime(Nt-1)},function(Nt,zt){if(Nt>=Nt)if(zt<0)for(;++zt<=0;)for(;dt(Nt,-1),!Tt(Nt););else for(;--zt>=0;)for(;dt(Nt,1),!Tt(Nt););})},mt&&(Mt.count=function(Tt,Nt){return a.setTime(+Tt),o.setTime(+Nt),it(a),it(o),Math.floor(mt(a,o))},Mt.every=function(Tt){return Tt=Math.floor(Tt),isFinite(Tt)&&Tt>0?Tt>1?Mt.filter(Et?function(Nt){return Et(Nt)%Tt==0}:function(Nt){return Mt.count(0,Nt)%Tt==0}):Mt:null}),Mt}var l=i(function(){},function(it,dt){it.setTime(+it+dt)},function(it,dt){return dt-it});l.every=function(it){return it=Math.floor(it),isFinite(it)&&it>0?it>1?i(function(dt){dt.setTime(Math.floor(dt/it)*it)},function(dt,mt){dt.setTime(+dt+mt*it)},function(dt,mt){return(mt-dt)/it}):l:null};var p=l.range,d=i(function(it){it.setTime(it-it.getMilliseconds())},function(it,dt){it.setTime(+it+1e3*dt)},function(it,dt){return(dt-it)/1e3},function(it){return it.getUTCSeconds()}),f=d.range,u=i(function(it){it.setTime(it-it.getMilliseconds()-1e3*it.getSeconds())},function(it,dt){it.setTime(+it+6e4*dt)},function(it,dt){return(dt-it)/6e4},function(it){return it.getMinutes()}),h=u.range,m=i(function(it){it.setTime(it-it.getMilliseconds()-1e3*it.getSeconds()-6e4*it.getMinutes())},function(it,dt){it.setTime(+it+36e5*dt)},function(it,dt){return(dt-it)/36e5},function(it){return it.getHours()}),v=m.range,y=i(function(it){it.setHours(0,0,0,0)},function(it,dt){it.setDate(it.getDate()+dt)},function(it,dt){return(dt-it-6e4*(dt.getTimezoneOffset()-it.getTimezoneOffset()))/864e5},function(it){return it.getDate()-1}),k=y.range;function _(it){return i(function(dt){dt.setDate(dt.getDate()-(dt.getDay()+7-it)%7),dt.setHours(0,0,0,0)},function(dt,mt){dt.setDate(dt.getDate()+7*mt)},function(dt,mt){return(mt-dt-6e4*(mt.getTimezoneOffset()-dt.getTimezoneOffset()))/6048e5})}var T=_(0),b=_(1),x=_(2),O=_(3),A=_(4),C=_(5),L=_(6),w=T.range,E=b.range,I=x.range,M=O.range,V=A.range,j=C.range,W=L.range,H=i(function(it){it.setDate(1),it.setHours(0,0,0,0)},function(it,dt){it.setMonth(it.getMonth()+dt)},function(it,dt){return dt.getMonth()-it.getMonth()+12*(dt.getFullYear()-it.getFullYear())},function(it){return it.getMonth()}),B=H.range,K=i(function(it){it.setMonth(0,1),it.setHours(0,0,0,0)},function(it,dt){it.setFullYear(it.getFullYear()+dt)},function(it,dt){return dt.getFullYear()-it.getFullYear()},function(it){return it.getFullYear()});K.every=function(it){return isFinite(it=Math.floor(it))&&it>0?i(function(dt){dt.setFullYear(Math.floor(dt.getFullYear()/it)*it),dt.setMonth(0,1),dt.setHours(0,0,0,0)},function(dt,mt){dt.setFullYear(dt.getFullYear()+mt*it)}):null};var et=K.range,G=i(function(it){it.setUTCSeconds(0,0)},function(it,dt){it.setTime(+it+6e4*dt)},function(it,dt){return(dt-it)/6e4},function(it){return it.getUTCMinutes()}),Y=G.range,D=i(function(it){it.setUTCMinutes(0,0,0)},function(it,dt){it.setTime(+it+36e5*dt)},function(it,dt){return(dt-it)/36e5},function(it){return it.getUTCHours()}),U=D.range,$=i(function(it){it.setUTCHours(0,0,0,0)},function(it,dt){it.setUTCDate(it.getUTCDate()+dt)},function(it,dt){return(dt-it)/864e5},function(it){return it.getUTCDate()-1}),Q=$.range;function F(it){return i(function(dt){dt.setUTCDate(dt.getUTCDate()-(dt.getUTCDay()+7-it)%7),dt.setUTCHours(0,0,0,0)},function(dt,mt){dt.setUTCDate(dt.getUTCDate()+7*mt)},function(dt,mt){return(mt-dt)/6048e5})}var z=F(0),P=F(1),Z=F(2),R=F(3),q=F(4),tt=F(5),rt=F(6),nt=z.range,ct=P.range,st=Z.range,gt=R.range,wt=q.range,Ot=tt.range,bt=rt.range,Ht=i(function(it){it.setUTCDate(1),it.setUTCHours(0,0,0,0)},function(it,dt){it.setUTCMonth(it.getUTCMonth()+dt)},function(it,dt){return dt.getUTCMonth()-it.getUTCMonth()+12*(dt.getUTCFullYear()-it.getUTCFullYear())},function(it){return it.getUTCMonth()}),Dt=Ht.range,yt=i(function(it){it.setUTCMonth(0,1),it.setUTCHours(0,0,0,0)},function(it,dt){it.setUTCFullYear(it.getUTCFullYear()+dt)},function(it,dt){return dt.getUTCFullYear()-it.getUTCFullYear()},function(it){return it.getUTCFullYear()});yt.every=function(it){return isFinite(it=Math.floor(it))&&it>0?i(function(dt){dt.setUTCFullYear(Math.floor(dt.getUTCFullYear()/it)*it),dt.setUTCMonth(0,1),dt.setUTCHours(0,0,0,0)},function(dt,mt){dt.setUTCFullYear(dt.getUTCFullYear()+mt*it)}):null};var ut=yt.range;n.timeDay=y,n.timeDays=k,n.timeFriday=C,n.timeFridays=j,n.timeHour=m,n.timeHours=v,n.timeInterval=i,n.timeMillisecond=l,n.timeMilliseconds=p,n.timeMinute=u,n.timeMinutes=h,n.timeMonday=b,n.timeMondays=E,n.timeMonth=H,n.timeMonths=B,n.timeSaturday=L,n.timeSaturdays=W,n.timeSecond=d,n.timeSeconds=f,n.timeSunday=T,n.timeSundays=w,n.timeThursday=A,n.timeThursdays=V,n.timeTuesday=x,n.timeTuesdays=I,n.timeWednesday=O,n.timeWednesdays=M,n.timeWeek=T,n.timeWeeks=w,n.timeYear=K,n.timeYears=et,n.utcDay=$,n.utcDays=Q,n.utcFriday=tt,n.utcFridays=Ot,n.utcHour=D,n.utcHours=U,n.utcMillisecond=l,n.utcMilliseconds=p,n.utcMinute=G,n.utcMinutes=Y,n.utcMonday=P,n.utcMondays=ct,n.utcMonth=Ht,n.utcMonths=Dt,n.utcSaturday=rt,n.utcSaturdays=bt,n.utcSecond=d,n.utcSeconds=f,n.utcSunday=z,n.utcSundays=nt,n.utcThursday=q,n.utcThursdays=wt,n.utcTuesday=Z,n.utcTuesdays=st,n.utcWednesday=R,n.utcWednesdays=gt,n.utcWeek=z,n.utcWeeks=nt,n.utcYear=yt,n.utcYears=ut,Object.defineProperty(n,"__esModule",{value:!0})})},{}],16:[function(t,s,c){arguments[4][15][0].apply(c,arguments)},{dup:15}],17:[function(t,s,c){var n=t("is-string-blank");s.exports=function(a){var o=typeof a;if(o==="string"){var i=a;if((a=+a)==0&&n(i))return!1}else if(o!=="number")return!1;return a-a<1}},{"is-string-blank":52}],18:[function(t,s,c){s.exports=function(n,a){var o=a[0],i=a[1],l=a[2],p=a[3],d=a[4],f=a[5],u=a[6],h=a[7],m=a[8],v=a[9],y=a[10],k=a[11],_=a[12],T=a[13],b=a[14],x=a[15];return n[0]=f*(y*x-k*b)-v*(u*x-h*b)+T*(u*k-h*y),n[1]=-(i*(y*x-k*b)-v*(l*x-p*b)+T*(l*k-p*y)),n[2]=i*(u*x-h*b)-f*(l*x-p*b)+T*(l*h-p*u),n[3]=-(i*(u*k-h*y)-f*(l*k-p*y)+v*(l*h-p*u)),n[4]=-(d*(y*x-k*b)-m*(u*x-h*b)+_*(u*k-h*y)),n[5]=o*(y*x-k*b)-m*(l*x-p*b)+_*(l*k-p*y),n[6]=-(o*(u*x-h*b)-d*(l*x-p*b)+_*(l*h-p*u)),n[7]=o*(u*k-h*y)-d*(l*k-p*y)+m*(l*h-p*u),n[8]=d*(v*x-k*T)-m*(f*x-h*T)+_*(f*k-h*v),n[9]=-(o*(v*x-k*T)-m*(i*x-p*T)+_*(i*k-p*v)),n[10]=o*(f*x-h*T)-d*(i*x-p*T)+_*(i*h-p*f),n[11]=-(o*(f*k-h*v)-d*(i*k-p*v)+m*(i*h-p*f)),n[12]=-(d*(v*b-y*T)-m*(f*b-u*T)+_*(f*y-u*v)),n[13]=o*(v*b-y*T)-m*(i*b-l*T)+_*(i*y-l*v),n[14]=-(o*(f*b-u*T)-d*(i*b-l*T)+_*(i*u-l*f)),n[15]=o*(f*y-u*v)-d*(i*y-l*v)+m*(i*u-l*f),n}},{}],19:[function(t,s,c){s.exports=function(n){var a=new Float32Array(16);return a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7],a[8]=n[8],a[9]=n[9],a[10]=n[10],a[11]=n[11],a[12]=n[12],a[13]=n[13],a[14]=n[14],a[15]=n[15],a}},{}],20:[function(t,s,c){s.exports=function(n,a){return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],n[9]=a[9],n[10]=a[10],n[11]=a[11],n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15],n}},{}],21:[function(t,s,c){s.exports=function(){var n=new Float32Array(16);return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],22:[function(t,s,c){s.exports=function(n){var a=n[0],o=n[1],i=n[2],l=n[3],p=n[4],d=n[5],f=n[6],u=n[7],h=n[8],m=n[9],v=n[10],y=n[11],k=n[12],_=n[13],T=n[14],b=n[15];return(a*d-o*p)*(v*b-y*T)-(a*f-i*p)*(m*b-y*_)+(a*u-l*p)*(m*T-v*_)+(o*f-i*d)*(h*b-y*k)-(o*u-l*d)*(h*T-v*k)+(i*u-l*f)*(h*_-m*k)}},{}],23:[function(t,s,c){s.exports=function(n,a){var o=a[0],i=a[1],l=a[2],p=a[3],d=o+o,f=i+i,u=l+l,h=o*d,m=i*d,v=i*f,y=l*d,k=l*f,_=l*u,T=p*d,b=p*f,x=p*u;return n[0]=1-v-_,n[1]=m+x,n[2]=y-b,n[3]=0,n[4]=m-x,n[5]=1-h-_,n[6]=k+T,n[7]=0,n[8]=y+b,n[9]=k-T,n[10]=1-h-v,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],24:[function(t,s,c){s.exports=function(n,a,o){var i,l,p,d=o[0],f=o[1],u=o[2],h=Math.sqrt(d*d+f*f+u*u);return Math.abs(h)<1e-6?null:(d*=h=1/h,f*=h,u*=h,i=Math.sin(a),l=Math.cos(a),p=1-l,n[0]=d*d*p+l,n[1]=f*d*p+u*i,n[2]=u*d*p-f*i,n[3]=0,n[4]=d*f*p-u*i,n[5]=f*f*p+l,n[6]=u*f*p+d*i,n[7]=0,n[8]=d*u*p+f*i,n[9]=f*u*p-d*i,n[10]=u*u*p+l,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n)}},{}],25:[function(t,s,c){s.exports=function(n,a,o){var i=a[0],l=a[1],p=a[2],d=a[3],f=i+i,u=l+l,h=p+p,m=i*f,v=i*u,y=i*h,k=l*u,_=l*h,T=p*h,b=d*f,x=d*u,O=d*h;return n[0]=1-(k+T),n[1]=v+O,n[2]=y-x,n[3]=0,n[4]=v-O,n[5]=1-(m+T),n[6]=_+b,n[7]=0,n[8]=y+x,n[9]=_-b,n[10]=1-(m+k),n[11]=0,n[12]=o[0],n[13]=o[1],n[14]=o[2],n[15]=1,n}},{}],26:[function(t,s,c){s.exports=function(n,a){return n[0]=a[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=a[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=a[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],27:[function(t,s,c){s.exports=function(n,a){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=a[0],n[13]=a[1],n[14]=a[2],n[15]=1,n}},{}],28:[function(t,s,c){s.exports=function(n,a){var o=Math.sin(a),i=Math.cos(a);return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=i,n[6]=o,n[7]=0,n[8]=0,n[9]=-o,n[10]=i,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],29:[function(t,s,c){s.exports=function(n,a){var o=Math.sin(a),i=Math.cos(a);return n[0]=i,n[1]=0,n[2]=-o,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=o,n[9]=0,n[10]=i,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],30:[function(t,s,c){s.exports=function(n,a){var o=Math.sin(a),i=Math.cos(a);return n[0]=i,n[1]=o,n[2]=0,n[3]=0,n[4]=-o,n[5]=i,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],31:[function(t,s,c){s.exports=function(n,a,o,i,l,p,d){var f=1/(o-a),u=1/(l-i),h=1/(p-d);return n[0]=2*p*f,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*p*u,n[6]=0,n[7]=0,n[8]=(o+a)*f,n[9]=(l+i)*u,n[10]=(d+p)*h,n[11]=-1,n[12]=0,n[13]=0,n[14]=d*p*2*h,n[15]=0,n}},{}],32:[function(t,s,c){s.exports=function(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],33:[function(t,s,c){s.exports={create:t("./create"),clone:t("./clone"),copy:t("./copy"),identity:t("./identity"),transpose:t("./transpose"),invert:t("./invert"),adjoint:t("./adjoint"),determinant:t("./determinant"),multiply:t("./multiply"),translate:t("./translate"),scale:t("./scale"),rotate:t("./rotate"),rotateX:t("./rotateX"),rotateY:t("./rotateY"),rotateZ:t("./rotateZ"),fromRotation:t("./fromRotation"),fromRotationTranslation:t("./fromRotationTranslation"),fromScaling:t("./fromScaling"),fromTranslation:t("./fromTranslation"),fromXRotation:t("./fromXRotation"),fromYRotation:t("./fromYRotation"),fromZRotation:t("./fromZRotation"),fromQuat:t("./fromQuat"),frustum:t("./frustum"),perspective:t("./perspective"),perspectiveFromFieldOfView:t("./perspectiveFromFieldOfView"),ortho:t("./ortho"),lookAt:t("./lookAt"),str:t("./str")}},{"./adjoint":18,"./clone":19,"./copy":20,"./create":21,"./determinant":22,"./fromQuat":23,"./fromRotation":24,"./fromRotationTranslation":25,"./fromScaling":26,"./fromTranslation":27,"./fromXRotation":28,"./fromYRotation":29,"./fromZRotation":30,"./frustum":31,"./identity":32,"./invert":34,"./lookAt":35,"./multiply":36,"./ortho":37,"./perspective":38,"./perspectiveFromFieldOfView":39,"./rotate":40,"./rotateX":41,"./rotateY":42,"./rotateZ":43,"./scale":44,"./str":45,"./translate":46,"./transpose":47}],34:[function(t,s,c){s.exports=function(n,a){var o=a[0],i=a[1],l=a[2],p=a[3],d=a[4],f=a[5],u=a[6],h=a[7],m=a[8],v=a[9],y=a[10],k=a[11],_=a[12],T=a[13],b=a[14],x=a[15],O=o*f-i*d,A=o*u-l*d,C=o*h-p*d,L=i*u-l*f,w=i*h-p*f,E=l*h-p*u,I=m*T-v*_,M=m*b-y*_,V=m*x-k*_,j=v*b-y*T,W=v*x-k*T,H=y*x-k*b,B=O*H-A*W+C*j+L*V-w*M+E*I;return B?(B=1/B,n[0]=(f*H-u*W+h*j)*B,n[1]=(l*W-i*H-p*j)*B,n[2]=(T*E-b*w+x*L)*B,n[3]=(y*w-v*E-k*L)*B,n[4]=(u*V-d*H-h*M)*B,n[5]=(o*H-l*V+p*M)*B,n[6]=(b*C-_*E-x*A)*B,n[7]=(m*E-y*C+k*A)*B,n[8]=(d*W-f*V+h*I)*B,n[9]=(i*V-o*W-p*I)*B,n[10]=(_*w-T*C+x*O)*B,n[11]=(v*C-m*w-k*O)*B,n[12]=(f*M-d*j-u*I)*B,n[13]=(o*j-i*M+l*I)*B,n[14]=(T*A-_*L-b*O)*B,n[15]=(m*L-v*A+y*O)*B,n):null}},{}],35:[function(t,s,c){var n=t("./identity");s.exports=function(a,o,i,l){var p,d,f,u,h,m,v,y,k,_,T=o[0],b=o[1],x=o[2],O=l[0],A=l[1],C=l[2],L=i[0],w=i[1],E=i[2];return Math.abs(T-L)<1e-6&&Math.abs(b-w)<1e-6&&Math.abs(x-E)<1e-6?n(a):(v=T-L,y=b-w,k=x-E,_=1/Math.sqrt(v*v+y*y+k*k),p=A*(k*=_)-C*(y*=_),d=C*(v*=_)-O*k,f=O*y-A*v,(_=Math.sqrt(p*p+d*d+f*f))?(p*=_=1/_,d*=_,f*=_):(p=0,d=0,f=0),u=y*f-k*d,h=k*p-v*f,m=v*d-y*p,(_=Math.sqrt(u*u+h*h+m*m))?(u*=_=1/_,h*=_,m*=_):(u=0,h=0,m=0),a[0]=p,a[1]=u,a[2]=v,a[3]=0,a[4]=d,a[5]=h,a[6]=y,a[7]=0,a[8]=f,a[9]=m,a[10]=k,a[11]=0,a[12]=-(p*T+d*b+f*x),a[13]=-(u*T+h*b+m*x),a[14]=-(v*T+y*b+k*x),a[15]=1,a)}},{"./identity":32}],36:[function(t,s,c){s.exports=function(n,a,o){var i=a[0],l=a[1],p=a[2],d=a[3],f=a[4],u=a[5],h=a[6],m=a[7],v=a[8],y=a[9],k=a[10],_=a[11],T=a[12],b=a[13],x=a[14],O=a[15],A=o[0],C=o[1],L=o[2],w=o[3];return n[0]=A*i+C*f+L*v+w*T,n[1]=A*l+C*u+L*y+w*b,n[2]=A*p+C*h+L*k+w*x,n[3]=A*d+C*m+L*_+w*O,A=o[4],C=o[5],L=o[6],w=o[7],n[4]=A*i+C*f+L*v+w*T,n[5]=A*l+C*u+L*y+w*b,n[6]=A*p+C*h+L*k+w*x,n[7]=A*d+C*m+L*_+w*O,A=o[8],C=o[9],L=o[10],w=o[11],n[8]=A*i+C*f+L*v+w*T,n[9]=A*l+C*u+L*y+w*b,n[10]=A*p+C*h+L*k+w*x,n[11]=A*d+C*m+L*_+w*O,A=o[12],C=o[13],L=o[14],w=o[15],n[12]=A*i+C*f+L*v+w*T,n[13]=A*l+C*u+L*y+w*b,n[14]=A*p+C*h+L*k+w*x,n[15]=A*d+C*m+L*_+w*O,n}},{}],37:[function(t,s,c){s.exports=function(n,a,o,i,l,p,d){var f=1/(a-o),u=1/(i-l),h=1/(p-d);return n[0]=-2*f,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*u,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*h,n[11]=0,n[12]=(a+o)*f,n[13]=(l+i)*u,n[14]=(d+p)*h,n[15]=1,n}},{}],38:[function(t,s,c){s.exports=function(n,a,o,i,l){var p=1/Math.tan(a/2),d=1/(i-l);return n[0]=p/o,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=p,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(l+i)*d,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*l*i*d,n[15]=0,n}},{}],39:[function(t,s,c){s.exports=function(n,a,o,i){var l=Math.tan(a.upDegrees*Math.PI/180),p=Math.tan(a.downDegrees*Math.PI/180),d=Math.tan(a.leftDegrees*Math.PI/180),f=Math.tan(a.rightDegrees*Math.PI/180),u=2/(d+f),h=2/(l+p);return n[0]=u,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=h,n[6]=0,n[7]=0,n[8]=-(d-f)*u*.5,n[9]=(l-p)*h*.5,n[10]=i/(o-i),n[11]=-1,n[12]=0,n[13]=0,n[14]=i*o/(o-i),n[15]=0,n}},{}],40:[function(t,s,c){s.exports=function(n,a,o,i){var l,p,d,f,u,h,m,v,y,k,_,T,b,x,O,A,C,L,w,E,I,M,V,j,W=i[0],H=i[1],B=i[2],K=Math.sqrt(W*W+H*H+B*B);return Math.abs(K)<1e-6?null:(W*=K=1/K,H*=K,B*=K,l=Math.sin(o),p=Math.cos(o),d=1-p,f=a[0],u=a[1],h=a[2],m=a[3],v=a[4],y=a[5],k=a[6],_=a[7],T=a[8],b=a[9],x=a[10],O=a[11],A=W*W*d+p,C=H*W*d+B*l,L=B*W*d-H*l,w=W*H*d-B*l,E=H*H*d+p,I=B*H*d+W*l,M=W*B*d+H*l,V=H*B*d-W*l,j=B*B*d+p,n[0]=f*A+v*C+T*L,n[1]=u*A+y*C+b*L,n[2]=h*A+k*C+x*L,n[3]=m*A+_*C+O*L,n[4]=f*w+v*E+T*I,n[5]=u*w+y*E+b*I,n[6]=h*w+k*E+x*I,n[7]=m*w+_*E+O*I,n[8]=f*M+v*V+T*j,n[9]=u*M+y*V+b*j,n[10]=h*M+k*V+x*j,n[11]=m*M+_*V+O*j,a!==n&&(n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15]),n)}},{}],41:[function(t,s,c){s.exports=function(n,a,o){var i=Math.sin(o),l=Math.cos(o),p=a[4],d=a[5],f=a[6],u=a[7],h=a[8],m=a[9],v=a[10],y=a[11];return a!==n&&(n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15]),n[4]=p*l+h*i,n[5]=d*l+m*i,n[6]=f*l+v*i,n[7]=u*l+y*i,n[8]=h*l-p*i,n[9]=m*l-d*i,n[10]=v*l-f*i,n[11]=y*l-u*i,n}},{}],42:[function(t,s,c){s.exports=function(n,a,o){var i=Math.sin(o),l=Math.cos(o),p=a[0],d=a[1],f=a[2],u=a[3],h=a[8],m=a[9],v=a[10],y=a[11];return a!==n&&(n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15]),n[0]=p*l-h*i,n[1]=d*l-m*i,n[2]=f*l-v*i,n[3]=u*l-y*i,n[8]=p*i+h*l,n[9]=d*i+m*l,n[10]=f*i+v*l,n[11]=u*i+y*l,n}},{}],43:[function(t,s,c){s.exports=function(n,a,o){var i=Math.sin(o),l=Math.cos(o),p=a[0],d=a[1],f=a[2],u=a[3],h=a[4],m=a[5],v=a[6],y=a[7];return a!==n&&(n[8]=a[8],n[9]=a[9],n[10]=a[10],n[11]=a[11],n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15]),n[0]=p*l+h*i,n[1]=d*l+m*i,n[2]=f*l+v*i,n[3]=u*l+y*i,n[4]=h*l-p*i,n[5]=m*l-d*i,n[6]=v*l-f*i,n[7]=y*l-u*i,n}},{}],44:[function(t,s,c){s.exports=function(n,a,o){var i=o[0],l=o[1],p=o[2];return n[0]=a[0]*i,n[1]=a[1]*i,n[2]=a[2]*i,n[3]=a[3]*i,n[4]=a[4]*l,n[5]=a[5]*l,n[6]=a[6]*l,n[7]=a[7]*l,n[8]=a[8]*p,n[9]=a[9]*p,n[10]=a[10]*p,n[11]=a[11]*p,n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15],n}},{}],45:[function(t,s,c){s.exports=function(n){return"mat4("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+", "+n[8]+", "+n[9]+", "+n[10]+", "+n[11]+", "+n[12]+", "+n[13]+", "+n[14]+", "+n[15]+")"}},{}],46:[function(t,s,c){s.exports=function(n,a,o){var i,l,p,d,f,u,h,m,v,y,k,_,T=o[0],b=o[1],x=o[2];return a===n?(n[12]=a[0]*T+a[4]*b+a[8]*x+a[12],n[13]=a[1]*T+a[5]*b+a[9]*x+a[13],n[14]=a[2]*T+a[6]*b+a[10]*x+a[14],n[15]=a[3]*T+a[7]*b+a[11]*x+a[15]):(i=a[0],l=a[1],p=a[2],d=a[3],f=a[4],u=a[5],h=a[6],m=a[7],v=a[8],y=a[9],k=a[10],_=a[11],n[0]=i,n[1]=l,n[2]=p,n[3]=d,n[4]=f,n[5]=u,n[6]=h,n[7]=m,n[8]=v,n[9]=y,n[10]=k,n[11]=_,n[12]=i*T+f*b+v*x+a[12],n[13]=l*T+u*b+y*x+a[13],n[14]=p*T+h*b+k*x+a[14],n[15]=d*T+m*b+_*x+a[15]),n}},{}],47:[function(t,s,c){s.exports=function(n,a){if(n===a){var o=a[1],i=a[2],l=a[3],p=a[6],d=a[7],f=a[11];n[1]=a[4],n[2]=a[8],n[3]=a[12],n[4]=o,n[6]=a[9],n[7]=a[13],n[8]=i,n[9]=p,n[11]=a[14],n[12]=l,n[13]=d,n[14]=f}else n[0]=a[0],n[1]=a[4],n[2]=a[8],n[3]=a[12],n[4]=a[1],n[5]=a[5],n[6]=a[9],n[7]=a[13],n[8]=a[2],n[9]=a[6],n[10]=a[10],n[11]=a[14],n[12]=a[3],n[13]=a[7],n[14]=a[11],n[15]=a[15];return n}},{}],48:[function(t,s,c){(function(n){(function(){var a,o=t("is-browser");a=typeof n.matchMedia=="function"?!n.matchMedia("(hover: none)").matches:o,s.exports=a}).call(this)}).call(this,typeof ya!="undefined"?ya:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"is-browser":50}],49:[function(t,s,c){var n=t("is-browser");s.exports=n&&function(){var a=!1;try{var o=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch(i){a=!1}return a}()},{"is-browser":50}],50:[function(t,s,c){s.exports=!0},{}],51:[function(t,s,c){s.exports=o,s.exports.isMobile=o,s.exports.default=o;var n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function o(i){i||(i={});var l=i.ua;if(l||typeof navigator=="undefined"||(l=navigator.userAgent),l&&l.headers&&typeof l.headers["user-agent"]=="string"&&(l=l.headers["user-agent"]),typeof l!="string")return!1;var p=i.tablet?a.test(l):n.test(l);return!p&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&l.indexOf("Macintosh")!==-1&&l.indexOf("Safari")!==-1&&(p=!0),p}},{}],52:[function(t,s,c){s.exports=function(n){for(var a,o=n.length,i=0;i<o;i++)if(((a=n.charCodeAt(i))<9||a>13)&&a!==32&&a!==133&&a!==160&&a!==5760&&a!==6158&&(a<8192||a>8205)&&a!==8232&&a!==8233&&a!==8239&&a!==8287&&a!==8288&&a!==12288&&a!==65279)return!1;return!0}},{}],53:[function(t,s,c){var n={left:0,top:0};s.exports=function(a,o,i){o=o||a.currentTarget||a.srcElement,Array.isArray(i)||(i=[0,0]);var l=a.clientX||0,p=a.clientY||0,d=(f=o,f===window||f===document||f===document.body?n:f.getBoundingClientRect()),f;return i[0]=l-d.left,i[1]=p-d.top,i}},{}],54:[function(t,s,c){(function(n,a){(function(){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/var o,i,l;l=function(){var p,d,f,u=Object.prototype.toString,h=a!==void 0?function(L){return a(L)}:setTimeout;try{Object.defineProperty({},"x",{}),p=function(L,w,E,I){return Object.defineProperty(L,w,{value:E,writable:!0,configurable:I!==!1})}}catch(L){p=function(w,E,I){return w[E]=I,w}}function m(L,w){f.add(L,w),d||(d=h(f.drain))}function v(L){var w,E=typeof L;return L==null||E!="object"&&E!="function"||(w=L.then),typeof w=="function"&&w}function y(){for(var L=0;L<this.chain.length;L++)k(this,this.state===1?this.chain[L].success:this.chain[L].failure,this.chain[L]);this.chain.length=0}function k(L,w,E){var I,M;try{w===!1?E.reject(L.msg):(I=w===!0?L.msg:w.call(void 0,L.msg))===E.promise?E.reject(TypeError("Promise-chain cycle")):(M=v(I))?M.call(I,E.resolve,E.reject):E.resolve(I)}catch(V){E.reject(V)}}function _(L){var w,E=this;if(!E.triggered){E.triggered=!0,E.def&&(E=E.def);try{(w=v(L))?m(function(){var I=new x(E);try{w.call(L,function(){_.apply(I,arguments)},function(){T.apply(I,arguments)})}catch(M){T.call(I,M)}}):(E.msg=L,E.state=1,E.chain.length>0&&m(y,E))}catch(I){T.call(new x(E),I)}}}function T(L){var w=this;w.triggered||(w.triggered=!0,w.def&&(w=w.def),w.msg=L,w.state=2,w.chain.length>0&&m(y,w))}function b(L,w,E,I){for(var M=0;M<w.length;M++)(function(V){L.resolve(w[V]).then(function(j){E(V,j)},I)})(M)}function x(L){this.def=L,this.triggered=!1}function O(L){this.promise=L,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function A(L){if(typeof L!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var w=new O(this);this.then=function(E,I){var M={success:typeof E!="function"||E,failure:typeof I=="function"&&I};return M.promise=new this.constructor(function(V,j){if(typeof V!="function"||typeof j!="function")throw TypeError("Not a function");M.resolve=V,M.reject=j}),w.chain.push(M),w.state!==0&&m(y,w),M.promise},this.catch=function(E){return this.then(void 0,E)};try{L.call(void 0,function(E){_.call(w,E)},function(E){T.call(w,E)})}catch(E){T.call(w,E)}}f=function(){var L,w,E;function I(M,V){this.fn=M,this.self=V,this.next=void 0}return{add:function(M,V){E=new I(M,V),w?w.next=E:L=E,w=E,E=void 0},drain:function(){var M=L;for(L=w=d=void 0;M;)M.fn.call(M.self),M=M.next}}}();var C=p({},"constructor",A,!1);return A.prototype=C,p(C,"__NPO__",0,!1),p(A,"resolve",function(L){return L&&typeof L=="object"&&L.__NPO__===1?L:new this(function(w,E){if(typeof w!="function"||typeof E!="function")throw TypeError("Not a function");w(L)})}),p(A,"reject",function(L){return new this(function(w,E){if(typeof w!="function"||typeof E!="function")throw TypeError("Not a function");E(L)})}),p(A,"all",function(L){var w=this;return u.call(L)!="[object Array]"?w.reject(TypeError("Not an array")):L.length===0?w.resolve([]):new w(function(E,I){if(typeof E!="function"||typeof I!="function")throw TypeError("Not a function");var M=L.length,V=Array(M),j=0;b(w,L,function(W,H){V[W]=H,++j===M&&E(V)},I)})}),p(A,"race",function(L){var w=this;return u.call(L)!="[object Array]"?w.reject(TypeError("Not an array")):new w(function(E,I){if(typeof E!="function"||typeof I!="function")throw TypeError("Not a function");b(w,L,function(M,V){E(V)},I)})}),A},(i=n!==void 0?n:this)[o="Promise"]=i[o]||l(),s!==void 0&&s.exports&&(s.exports=i[o])}).call(this)}).call(this,typeof ya!="undefined"?ya:typeof self!="undefined"?self:typeof window!="undefined"?window:{},t("timers").setImmediate)},{timers:66}],55:[function(t,s,c){var n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function i(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}s.exports=function(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var p={},d=0;d<10;d++)p["_"+String.fromCharCode(d)]=d;if(Object.getOwnPropertyNames(p).map(function(u){return p[u]}).join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(u){f[u]=u}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch(u){return!1}}()?Object.assign:function(l,p){for(var d,f,u=i(l),h=1;h<arguments.length;h++){for(var m in d=Object(arguments[h]))a.call(d,m)&&(u[m]=d[m]);if(n){f=n(d);for(var v=0;v<f.length;v++)o.call(d,f[v])&&(u[f[v]]=d[f[v]])}}return u}},{}],56:[function(t,s,c){s.exports=function(i){var l=[];return i.replace(a,function(p,d,f){var u=d.toLowerCase();for(f=function(h){var m=h.match(o);return m?m.map(Number):[]}(f),u=="m"&&f.length>2&&(l.push([d].concat(f.splice(0,2))),u="l",d=d=="m"?"l":"L");;){if(f.length==n[u])return f.unshift(d),l.push(f);if(f.length<n[u])throw new Error("malformed path data");l.push([d].concat(f.splice(0,n[u])))}}),l};var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=/([astvzqmhlc])([^astvzqmhlc]*)/gi,o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},{}],57:[function(t,s,c){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var n,a=t("./lib/build-log"),o=t("./lib/epsilon"),i=t("./lib/intersecter"),l=t("./lib/segment-chainer"),p=t("./lib/segment-selector"),d=t("./lib/geojson"),f=!1,u=o();function h(m,v,y){var k=n.segments(m),_=n.segments(v),T=y(n.combine(k,_));return n.polygon(T)}n={buildLog:function(m){return m===!0?f=a():m===!1&&(f=!1),f!==!1&&f.list},epsilon:function(m){return u.epsilon(m)},segments:function(m){var v=i(!0,u,f);return m.regions.forEach(v.addRegion),{segments:v.calculate(m.inverted),inverted:m.inverted}},combine:function(m,v){return{combined:i(!1,u,f).calculate(m.segments,m.inverted,v.segments,v.inverted),inverted1:m.inverted,inverted2:v.inverted}},selectUnion:function(m){return{segments:p.union(m.combined,f),inverted:m.inverted1||m.inverted2}},selectIntersect:function(m){return{segments:p.intersect(m.combined,f),inverted:m.inverted1&&m.inverted2}},selectDifference:function(m){return{segments:p.difference(m.combined,f),inverted:m.inverted1&&!m.inverted2}},selectDifferenceRev:function(m){return{segments:p.differenceRev(m.combined,f),inverted:!m.inverted1&&m.inverted2}},selectXor:function(m){return{segments:p.xor(m.combined,f),inverted:m.inverted1!==m.inverted2}},polygon:function(m){return{regions:l(m.segments,u,f),inverted:m.inverted}},polygonFromGeoJSON:function(m){return d.toPolygon(n,m)},polygonToGeoJSON:function(m){return d.fromPolygon(n,u,m)},union:function(m,v){return h(m,v,n.selectUnion)},intersect:function(m,v){return h(m,v,n.selectIntersect)},difference:function(m,v){return h(m,v,n.selectDifference)},differenceRev:function(m,v){return h(m,v,n.selectDifferenceRev)},xor:function(m,v){return h(m,v,n.selectXor)}},typeof window=="object"&&(window.PolyBool=n),s.exports=n},{"./lib/build-log":58,"./lib/epsilon":59,"./lib/geojson":60,"./lib/intersecter":61,"./lib/segment-chainer":63,"./lib/segment-selector":64}],58:[function(t,s,c){s.exports=function(){var n,a=0,o=!1;function i(l,p){return n.list.push({type:l,data:p?JSON.parse(JSON.stringify(p)):void 0}),n}return n={list:[],segmentId:function(){return a++},checkIntersection:function(l,p){return i("check",{seg1:l,seg2:p})},segmentChop:function(l,p){return i("div_seg",{seg:l,pt:p}),i("chop",{seg:l,pt:p})},statusRemove:function(l){return i("pop_seg",{seg:l})},segmentUpdate:function(l){return i("seg_update",{seg:l})},segmentNew:function(l,p){return i("new_seg",{seg:l,primary:p})},segmentRemove:function(l){return i("rem_seg",{seg:l})},tempStatus:function(l,p,d){return i("temp_status",{seg:l,above:p,below:d})},rewind:function(l){return i("rewind",{seg:l})},status:function(l,p,d){return i("status",{seg:l,above:p,below:d})},vert:function(l){return l===o?n:(o=l,i("vert",{x:l}))},log:function(l){return typeof l!="string"&&(l=JSON.stringify(l,!1,"  ")),i("log",{txt:l})},reset:function(){return i("reset")},selected:function(l){return i("selected",{segs:l})},chainStart:function(l){return i("chain_start",{seg:l})},chainRemoveHead:function(l,p){return i("chain_rem_head",{index:l,pt:p})},chainRemoveTail:function(l,p){return i("chain_rem_tail",{index:l,pt:p})},chainNew:function(l,p){return i("chain_new",{pt1:l,pt2:p})},chainMatch:function(l){return i("chain_match",{index:l})},chainClose:function(l){return i("chain_close",{index:l})},chainAddHead:function(l,p){return i("chain_add_head",{index:l,pt:p})},chainAddTail:function(l,p){return i("chain_add_tail",{index:l,pt:p})},chainConnect:function(l,p){return i("chain_con",{index1:l,index2:p})},chainReverse:function(l){return i("chain_rev",{index:l})},chainJoin:function(l,p){return i("chain_join",{index1:l,index2:p})},done:function(){return i("done")}}}},{}],59:[function(t,s,c){s.exports=function(n){typeof n!="number"&&(n=1e-10);var a={epsilon:function(o){return typeof o=="number"&&(n=o),n},pointAboveOrOnLine:function(o,i,l){var p=i[0],d=i[1],f=l[0],u=l[1],h=o[0];return(f-p)*(o[1]-d)-(u-d)*(h-p)>=-n},pointBetween:function(o,i,l){var p=o[1]-i[1],d=l[0]-i[0],f=o[0]-i[0],u=l[1]-i[1],h=f*d+p*u;return!(h<n)&&!(h-(d*d+u*u)>-n)},pointsSameX:function(o,i){return Math.abs(o[0]-i[0])<n},pointsSameY:function(o,i){return Math.abs(o[1]-i[1])<n},pointsSame:function(o,i){return a.pointsSameX(o,i)&&a.pointsSameY(o,i)},pointsCompare:function(o,i){return a.pointsSameX(o,i)?a.pointsSameY(o,i)?0:o[1]<i[1]?-1:1:o[0]<i[0]?-1:1},pointsCollinear:function(o,i,l){var p=o[0]-i[0],d=o[1]-i[1],f=i[0]-l[0],u=i[1]-l[1];return Math.abs(p*u-f*d)<n},linesIntersect:function(o,i,l,p){var d=i[0]-o[0],f=i[1]-o[1],u=p[0]-l[0],h=p[1]-l[1],m=d*h-f*u;if(Math.abs(m)<n)return!1;var v=o[0]-l[0],y=o[1]-l[1],k=(u*y-h*v)/m,_=(d*y-f*v)/m,T={alongA:0,alongB:0,pt:[o[0]+k*d,o[1]+k*f]};return T.alongA=k<=-n?-2:k<n?-1:k-1<=-n?0:k-1<n?1:2,T.alongB=_<=-n?-2:_<n?-1:_-1<=-n?0:_-1<n?1:2,T},pointInsideRegion:function(o,i){for(var l=o[0],p=o[1],d=i[i.length-1][0],f=i[i.length-1][1],u=!1,h=0;h<i.length;h++){var m=i[h][0],v=i[h][1];v-p>n!=f-p>n&&(d-m)*(p-v)/(f-v)+m-l>n&&(u=!u),d=m,f=v}return u}};return a}},{}],60:[function(t,s,c){var n={toPolygon:function(a,o){function i(d){if(d.length<=0)return a.segments({inverted:!1,regions:[]});function f(m){var v=m.slice(0,m.length-1);return a.segments({inverted:!1,regions:[v]})}for(var u=f(d[0]),h=1;h<d.length;h++)u=a.selectDifference(a.combine(u,f(d[h])));return u}if(o.type==="Polygon")return a.polygon(i(o.coordinates));if(o.type==="MultiPolygon"){for(var l=a.segments({inverted:!1,regions:[]}),p=0;p<o.coordinates.length;p++)l=a.selectUnion(a.combine(l,i(o.coordinates[p])));return a.polygon(l)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(a,o,i){function l(_,T){return o.pointInsideRegion([.5*(_[0][0]+_[1][0]),.5*(_[0][1]+_[1][1])],T)}function p(_){return{region:_,children:[]}}i=a.polygon(a.segments(i));var d=p(null);function f(_,T){for(var b=0;b<_.children.length;b++)if(l(T,(O=_.children[b]).region))return void f(O,T);var x=p(T);for(b=0;b<_.children.length;b++){var O;l((O=_.children[b]).region,T)&&(x.children.push(O),_.children.splice(b,1),b--)}_.children.push(x)}for(var u=0;u<i.regions.length;u++){var h=i.regions[u];h.length<3||f(d,h)}function m(_,T){for(var b=0,x=_[_.length-1][0],O=_[_.length-1][1],A=[],C=0;C<_.length;C++){var L=_[C][0],w=_[C][1];A.push([L,w]),b+=w*x-L*O,x=L,O=w}return b<0!==T&&A.reverse(),A.push([A[0][0],A[0][1]]),A}var v=[];function y(_){var T=[m(_.region,!1)];v.push(T);for(var b=0;b<_.children.length;b++)T.push(k(_.children[b]))}function k(_){for(var T=0;T<_.children.length;T++)y(_.children[T]);return m(_.region,!0)}for(u=0;u<d.children.length;u++)y(d.children[u]);return v.length<=0?{type:"Polygon",coordinates:[]}:v.length==1?{type:"Polygon",coordinates:v[0]}:{type:"MultiPolygon",coordinates:v}}};s.exports=n},{}],61:[function(t,s,c){var n=t("./linked-list");s.exports=function(a,o,i){function l(m,v,y){return{id:i?i.segmentId():-1,start:m,end:v,myFill:{above:y.myFill.above,below:y.myFill.below},otherFill:null}}var p=n.create();function d(m,v){p.insertBefore(m,function(y){return function(k,_,T,b,x,O){var A=o.pointsCompare(_,x);return A!==0?A:o.pointsSame(T,O)?0:k!==b?k?1:-1:o.pointAboveOrOnLine(T,b?x:O,b?O:x)?1:-1}(m.isStart,m.pt,v,y.isStart,y.pt,y.other.pt)<0})}function f(m,v){var y=function(k,_){var T=n.node({isStart:!0,pt:k.start,seg:k,primary:_,other:null,status:null});return d(T,k.end),T}(m,v);return function(k,_,T){var b=n.node({isStart:!1,pt:_.end,seg:_,primary:T,other:k,status:null});k.other=b,d(b,k.pt)}(y,m,v),y}function u(m,v){var y=l(v,m.seg.end,m.seg);return function(k,_){i&&i.segmentChop(k.seg,_),k.other.remove(),k.seg.end=_,k.other.pt=_,d(k.other,k.pt)}(m,v),f(y,m.primary)}function h(m,v){var y=n.create();function k(M){return y.findTransition(function(V){var j,W,H,B,K,et;return j=M,W=V.ev,H=j.seg.start,B=j.seg.end,K=W.seg.start,et=W.seg.end,(o.pointsCollinear(H,K,et)?o.pointsCollinear(B,K,et)||o.pointAboveOrOnLine(B,K,et)?1:-1:o.pointAboveOrOnLine(H,K,et)?1:-1)>0})}function _(M,V){var j=M.seg,W=V.seg,H=j.start,B=j.end,K=W.start,et=W.end;i&&i.checkIntersection(j,W);var G=o.linesIntersect(H,B,K,et);if(G===!1){if(!o.pointsCollinear(H,B,K)||o.pointsSame(H,et)||o.pointsSame(B,K))return!1;var Y=o.pointsSame(H,K),D=o.pointsSame(B,et);if(Y&&D)return V;var U=!Y&&o.pointBetween(H,K,et),$=!D&&o.pointBetween(B,K,et);if(Y)return $?u(V,B):u(M,et),V;U&&(D||($?u(V,B):u(M,et)),u(V,H))}else G.alongA===0&&(G.alongB===-1?u(M,K):G.alongB===0?u(M,G.pt):G.alongB===1&&u(M,et)),G.alongB===0&&(G.alongA===-1?u(V,H):G.alongA===0?u(V,G.pt):G.alongA===1&&u(V,B));return!1}for(var T=[];!p.isEmpty();){var b=p.getHead();if(i&&i.vert(b.pt[0]),b.isStart){let M=function(){if(O){var V=_(b,O);if(V)return V}return!!A&&_(b,A)};i&&i.segmentNew(b.seg,b.primary);var x=k(b),O=x.before?x.before.ev:null,A=x.after?x.after.ev:null;i&&i.tempStatus(b.seg,!!O&&O.seg,!!A&&A.seg);var C,L=M();if(L){var w;a?(w=b.seg.myFill.below===null||b.seg.myFill.above!==b.seg.myFill.below)&&(L.seg.myFill.above=!L.seg.myFill.above):L.seg.otherFill=b.seg.myFill,i&&i.segmentUpdate(L.seg),b.other.remove(),b.remove()}if(p.getHead()!==b){i&&i.rewind(b.seg);continue}a?(w=b.seg.myFill.below===null||b.seg.myFill.above!==b.seg.myFill.below,b.seg.myFill.below=A?A.seg.myFill.above:m,b.seg.myFill.above=w?!b.seg.myFill.below:b.seg.myFill.below):b.seg.otherFill===null&&(C=A?b.primary===A.primary?A.seg.otherFill.above:A.seg.myFill.above:b.primary?v:m,b.seg.otherFill={above:C,below:C}),i&&i.status(b.seg,!!O&&O.seg,!!A&&A.seg),b.other.status=x.insert(n.node({ev:b}))}else{var E=b.status;if(E===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(y.exists(E.prev)&&y.exists(E.next)&&_(E.prev.ev,E.next.ev),i&&i.statusRemove(E.ev.seg),E.remove(),!b.primary){var I=b.seg.myFill;b.seg.myFill=b.seg.otherFill,b.seg.otherFill=I}T.push(b.seg)}p.getHead().remove()}return i&&i.done(),T}return a?{addRegion:function(m){for(var v,y,k,_=m[m.length-1],T=0;T<m.length;T++){v=_,_=m[T];var b=o.pointsCompare(v,_);b!==0&&f((y=b<0?v:_,k=b<0?_:v,{id:i?i.segmentId():-1,start:y,end:k,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(m){return h(m,!1)}}:{calculate:function(m,v,y,k){return m.forEach(function(_){f(l(_.start,_.end,_),!0)}),y.forEach(function(_){f(l(_.start,_.end,_),!1)}),h(v,k)}}}},{"./linked-list":62}],62:[function(t,s,c){s.exports={create:function(){var n={root:{root:!0,next:null},exists:function(a){return a!==null&&a!==n.root},isEmpty:function(){return n.root.next===null},getHead:function(){return n.root.next},insertBefore:function(a,o){for(var i=n.root,l=n.root.next;l!==null;){if(o(l))return a.prev=l.prev,a.next=l,l.prev.next=a,void(l.prev=a);i=l,l=l.next}i.next=a,a.prev=i,a.next=null},findTransition:function(a){for(var o=n.root,i=n.root.next;i!==null&&!a(i);)o=i,i=i.next;return{before:o===n.root?null:o,after:i,insert:function(l){return l.prev=o,l.next=i,o.next=l,i!==null&&(i.prev=l),l}}}};return n},node:function(n){return n.prev=null,n.next=null,n.remove=function(){n.prev.next=n.next,n.next&&(n.next.prev=n.prev),n.prev=null,n.next=null},n}}},{}],63:[function(t,s,c){s.exports=function(n,a,o){var i=[],l=[];return n.forEach(function(p){var d=p.start,f=p.end;if(a.pointsSame(d,f))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{o&&o.chainStart(p);for(var u={index:0,matches_head:!1,matches_pt1:!1},h={index:0,matches_head:!1,matches_pt1:!1},m=u,v=0;v<i.length;v++){var y=(x=i[v])[0],k=(x[1],x[x.length-1]);if(x[x.length-2],a.pointsSame(y,d)){if(M(v,!0,!0))break}else if(a.pointsSame(y,f)){if(M(v,!0,!1))break}else if(a.pointsSame(k,d)){if(M(v,!1,!0))break}else if(a.pointsSame(k,f)&&M(v,!1,!1))break}if(m===u)return i.push([d,f]),void(o&&o.chainNew(d,f));if(m===h){o&&o.chainMatch(u.index);var _=u.index,T=u.matches_pt1?f:d,b=u.matches_head,x=i[_],O=b?x[0]:x[x.length-1],A=b?x[1]:x[x.length-2],C=b?x[x.length-1]:x[0],L=b?x[x.length-2]:x[1];return a.pointsCollinear(A,O,T)&&(b?(o&&o.chainRemoveHead(u.index,T),x.shift()):(o&&o.chainRemoveTail(u.index,T),x.pop()),O=A),a.pointsSame(C,T)?(i.splice(_,1),a.pointsCollinear(L,C,O)&&(b?(o&&o.chainRemoveTail(u.index,O),x.pop()):(o&&o.chainRemoveHead(u.index,O),x.shift())),o&&o.chainClose(u.index),void l.push(x)):void(b?(o&&o.chainAddHead(u.index,T),x.unshift(T)):(o&&o.chainAddTail(u.index,T),x.push(T)))}var w=u.index,E=h.index;o&&o.chainConnect(w,E);var I=i[w].length<i[E].length;u.matches_head?h.matches_head?I?(V(w),j(w,E)):(V(E),j(E,w)):j(E,w):h.matches_head?j(w,E):I?(V(w),j(E,w)):(V(E),j(w,E))}function M(W,H,B){return m.index=W,m.matches_head=H,m.matches_pt1=B,m===u?(m=h,!1):(m=null,!0)}function V(W){o&&o.chainReverse(W),i[W].reverse()}function j(W,H){var B=i[W],K=i[H],et=B[B.length-1],G=B[B.length-2],Y=K[0],D=K[1];a.pointsCollinear(G,et,Y)&&(o&&o.chainRemoveTail(W,et),B.pop(),et=G),a.pointsCollinear(et,Y,D)&&(o&&o.chainRemoveHead(H,Y),K.shift()),o&&o.chainJoin(W,H),i[W]=B.concat(K),i.splice(H,1)}}),l}},{}],64:[function(t,s,c){function n(o,i,l){var p=[];return o.forEach(function(d){var f=(d.myFill.above?8:0)+(d.myFill.below?4:0)+(d.otherFill&&d.otherFill.above?2:0)+(d.otherFill&&d.otherFill.below?1:0);i[f]!==0&&p.push({id:l?l.segmentId():-1,start:d.start,end:d.end,myFill:{above:i[f]===1,below:i[f]===2},otherFill:null})}),l&&l.selected(p),p}var a={union:function(o,i){return n(o,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],i)},intersect:function(o,i){return n(o,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],i)},difference:function(o,i){return n(o,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],i)},differenceRev:function(o,i){return n(o,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],i)},xor:function(o,i){return n(o,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],i)}};s.exports=a},{}],65:[function(t,s,c){var n,a,o=s.exports={};function i(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function p(_){if(n===setTimeout)return setTimeout(_,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(_,0);try{return n(_,0)}catch(T){try{return n.call(null,_,0)}catch(b){return n.call(this,_,0)}}}(function(){try{n=typeof setTimeout=="function"?setTimeout:i}catch(_){n=i}try{a=typeof clearTimeout=="function"?clearTimeout:l}catch(_){a=l}})();var d,f=[],u=!1,h=-1;function m(){u&&d&&(u=!1,d.length?f=d.concat(f):h=-1,f.length&&v())}function v(){if(!u){var _=p(m);u=!0;for(var T=f.length;T;){for(d=f,f=[];++h<T;)d&&d[h].run();h=-1,T=f.length}d=null,u=!1,function(b){if(a===clearTimeout)return clearTimeout(b);if((a===l||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(b);try{a(b)}catch(x){try{return a.call(null,b)}catch(O){return a.call(this,b)}}}(_)}}function y(_,T){this.fun=_,this.array=T}function k(){}o.nextTick=function(_){var T=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)T[b-1]=arguments[b];f.push(new y(_,T)),f.length!==1||u||p(v)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=k,o.addListener=k,o.once=k,o.off=k,o.removeListener=k,o.removeAllListeners=k,o.emit=k,o.prependListener=k,o.prependOnceListener=k,o.listeners=function(_){return[]},o.binding=function(_){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(_){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],66:[function(t,s,c){(function(n,a){(function(){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,l=Array.prototype.slice,p={},d=0;function f(u,h){this._id=u,this._clearFn=h}c.setTimeout=function(){return new f(i.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new f(i.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(u){u.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(u,h){clearTimeout(u._idleTimeoutId),u._idleTimeout=h},c.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},c._unrefActive=c.active=function(u){clearTimeout(u._idleTimeoutId);var h=u._idleTimeout;h>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},h))},c.setImmediate=typeof n=="function"?n:function(u){var h=d++,m=!(arguments.length<2)&&l.call(arguments,1);return p[h]=!0,o(function(){p[h]&&(m?u.apply(null,m):u.call(null),c.clearImmediate(h))}),h},c.clearImmediate=typeof a=="function"?a:function(u){delete p[u]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":65,timers:66}],67:[function(t,s,c){(function(n){var a=/^\s+/,o=/\s+$/,i=0,l=n.round,p=n.min,d=n.max,f=n.random;function u(P,Z){if(Z=Z||{},(P=P||"")instanceof u)return P;if(!(this instanceof u))return new u(P,Z);var R=function(q){var tt={r:0,g:0,b:0},rt=1,nt=null,ct=null,st=null,gt=!1,wt=!1;typeof q=="string"&&(q=function(Dt){Dt=Dt.replace(a,"").replace(o,"").toLowerCase();var yt,ut=!1;if(V[Dt])Dt=V[Dt],ut=!0;else if(Dt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(yt=F.rgb.exec(Dt))?{r:yt[1],g:yt[2],b:yt[3]}:(yt=F.rgba.exec(Dt))?{r:yt[1],g:yt[2],b:yt[3],a:yt[4]}:(yt=F.hsl.exec(Dt))?{h:yt[1],s:yt[2],l:yt[3]}:(yt=F.hsla.exec(Dt))?{h:yt[1],s:yt[2],l:yt[3],a:yt[4]}:(yt=F.hsv.exec(Dt))?{h:yt[1],s:yt[2],v:yt[3]}:(yt=F.hsva.exec(Dt))?{h:yt[1],s:yt[2],v:yt[3],a:yt[4]}:(yt=F.hex8.exec(Dt))?{r:K(yt[1]),g:K(yt[2]),b:K(yt[3]),a:D(yt[4]),format:ut?"name":"hex8"}:(yt=F.hex6.exec(Dt))?{r:K(yt[1]),g:K(yt[2]),b:K(yt[3]),format:ut?"name":"hex"}:(yt=F.hex4.exec(Dt))?{r:K(yt[1]+""+yt[1]),g:K(yt[2]+""+yt[2]),b:K(yt[3]+""+yt[3]),a:D(yt[4]+""+yt[4]),format:ut?"name":"hex8"}:(yt=F.hex3.exec(Dt))?{r:K(yt[1]+""+yt[1]),g:K(yt[2]+""+yt[2]),b:K(yt[3]+""+yt[3]),format:ut?"name":"hex"}:!1}(q)),typeof q=="object"&&(z(q.r)&&z(q.g)&&z(q.b)?(Ot=q.r,bt=q.g,Ht=q.b,tt={r:255*H(Ot,255),g:255*H(bt,255),b:255*H(Ht,255)},gt=!0,wt=String(q.r).substr(-1)==="%"?"prgb":"rgb"):z(q.h)&&z(q.s)&&z(q.v)?(nt=G(q.s),ct=G(q.v),tt=function(Dt,yt,ut){Dt=6*H(Dt,360),yt=H(yt,100),ut=H(ut,100);var it=n.floor(Dt),dt=Dt-it,mt=ut*(1-yt),Et=ut*(1-dt*yt),Mt=ut*(1-(1-dt)*yt),Tt=it%6;return{r:255*[ut,Et,mt,mt,Mt,ut][Tt],g:255*[Mt,ut,ut,Et,mt,mt][Tt],b:255*[mt,mt,Mt,ut,ut,Et][Tt]}}(q.h,nt,ct),gt=!0,wt="hsv"):z(q.h)&&z(q.s)&&z(q.l)&&(nt=G(q.s),st=G(q.l),tt=function(Dt,yt,ut){var it,dt,mt;function Et(Nt,zt,At){return At<0&&(At+=1),At>1&&(At-=1),At<1/6?Nt+6*(zt-Nt)*At:At<.5?zt:At<2/3?Nt+(zt-Nt)*(2/3-At)*6:Nt}if(Dt=H(Dt,360),yt=H(yt,100),ut=H(ut,100),yt===0)it=dt=mt=ut;else{var Mt=ut<.5?ut*(1+yt):ut+yt-ut*yt,Tt=2*ut-Mt;it=Et(Tt,Mt,Dt+1/3),dt=Et(Tt,Mt,Dt),mt=Et(Tt,Mt,Dt-1/3)}return{r:255*it,g:255*dt,b:255*mt}}(q.h,nt,st),gt=!0,wt="hsl"),q.hasOwnProperty("a")&&(rt=q.a));var Ot,bt,Ht;return rt=W(rt),{ok:gt,format:q.format||wt,r:p(255,d(tt.r,0)),g:p(255,d(tt.g,0)),b:p(255,d(tt.b,0)),a:rt}}(P);this._originalInput=P,this._r=R.r,this._g=R.g,this._b=R.b,this._a=R.a,this._roundA=l(100*this._a)/100,this._format=Z.format||R.format,this._gradientType=Z.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=R.ok,this._tc_id=i++}function h(P,Z,R){P=H(P,255),Z=H(Z,255),R=H(R,255);var q,tt,rt=d(P,Z,R),nt=p(P,Z,R),ct=(rt+nt)/2;if(rt==nt)q=tt=0;else{var st=rt-nt;switch(tt=ct>.5?st/(2-rt-nt):st/(rt+nt),rt){case P:q=(Z-R)/st+(Z<R?6:0);break;case Z:q=(R-P)/st+2;break;case R:q=(P-Z)/st+4}q/=6}return{h:q,s:tt,l:ct}}function m(P,Z,R){P=H(P,255),Z=H(Z,255),R=H(R,255);var q,tt,rt=d(P,Z,R),nt=p(P,Z,R),ct=rt,st=rt-nt;if(tt=rt===0?0:st/rt,rt==nt)q=0;else{switch(rt){case P:q=(Z-R)/st+(Z<R?6:0);break;case Z:q=(R-P)/st+2;break;case R:q=(P-Z)/st+4}q/=6}return{h:q,s:tt,v:ct}}function v(P,Z,R,q){var tt=[et(l(P).toString(16)),et(l(Z).toString(16)),et(l(R).toString(16))];return q&&tt[0].charAt(0)==tt[0].charAt(1)&&tt[1].charAt(0)==tt[1].charAt(1)&&tt[2].charAt(0)==tt[2].charAt(1)?tt[0].charAt(0)+tt[1].charAt(0)+tt[2].charAt(0):tt.join("")}function y(P,Z,R,q){return[et(Y(q)),et(l(P).toString(16)),et(l(Z).toString(16)),et(l(R).toString(16))].join("")}function k(P,Z){Z=Z===0?0:Z||10;var R=u(P).toHsl();return R.s-=Z/100,R.s=B(R.s),u(R)}function _(P,Z){Z=Z===0?0:Z||10;var R=u(P).toHsl();return R.s+=Z/100,R.s=B(R.s),u(R)}function T(P){return u(P).desaturate(100)}function b(P,Z){Z=Z===0?0:Z||10;var R=u(P).toHsl();return R.l+=Z/100,R.l=B(R.l),u(R)}function x(P,Z){Z=Z===0?0:Z||10;var R=u(P).toRgb();return R.r=d(0,p(255,R.r-l(-Z/100*255))),R.g=d(0,p(255,R.g-l(-Z/100*255))),R.b=d(0,p(255,R.b-l(-Z/100*255))),u(R)}function O(P,Z){Z=Z===0?0:Z||10;var R=u(P).toHsl();return R.l-=Z/100,R.l=B(R.l),u(R)}function A(P,Z){var R=u(P).toHsl(),q=(R.h+Z)%360;return R.h=q<0?360+q:q,u(R)}function C(P){var Z=u(P).toHsl();return Z.h=(Z.h+180)%360,u(Z)}function L(P){var Z=u(P).toHsl(),R=Z.h;return[u(P),u({h:(R+120)%360,s:Z.s,l:Z.l}),u({h:(R+240)%360,s:Z.s,l:Z.l})]}function w(P){var Z=u(P).toHsl(),R=Z.h;return[u(P),u({h:(R+90)%360,s:Z.s,l:Z.l}),u({h:(R+180)%360,s:Z.s,l:Z.l}),u({h:(R+270)%360,s:Z.s,l:Z.l})]}function E(P){var Z=u(P).toHsl(),R=Z.h;return[u(P),u({h:(R+72)%360,s:Z.s,l:Z.l}),u({h:(R+216)%360,s:Z.s,l:Z.l})]}function I(P,Z,R){Z=Z||6,R=R||30;var q=u(P).toHsl(),tt=360/R,rt=[u(P)];for(q.h=(q.h-(tt*Z>>1)+720)%360;--Z;)q.h=(q.h+tt)%360,rt.push(u(q));return rt}function M(P,Z){Z=Z||6;for(var R=u(P).toHsv(),q=R.h,tt=R.s,rt=R.v,nt=[],ct=1/Z;Z--;)nt.push(u({h:q,s:tt,v:rt})),rt=(rt+ct)%1;return nt}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var P=this.toRgb();return(299*P.r+587*P.g+114*P.b)/1e3},getLuminance:function(){var P,Z,R,q=this.toRgb();return P=q.r/255,Z=q.g/255,R=q.b/255,.2126*(P<=.03928?P/12.92:n.pow((P+.055)/1.055,2.4))+.7152*(Z<=.03928?Z/12.92:n.pow((Z+.055)/1.055,2.4))+.0722*(R<=.03928?R/12.92:n.pow((R+.055)/1.055,2.4))},setAlpha:function(P){return this._a=W(P),this._roundA=l(100*this._a)/100,this},toHsv:function(){var P=m(this._r,this._g,this._b);return{h:360*P.h,s:P.s,v:P.v,a:this._a}},toHsvString:function(){var P=m(this._r,this._g,this._b),Z=l(360*P.h),R=l(100*P.s),q=l(100*P.v);return this._a==1?"hsv("+Z+", "+R+"%, "+q+"%)":"hsva("+Z+", "+R+"%, "+q+"%, "+this._roundA+")"},toHsl:function(){var P=h(this._r,this._g,this._b);return{h:360*P.h,s:P.s,l:P.l,a:this._a}},toHslString:function(){var P=h(this._r,this._g,this._b),Z=l(360*P.h),R=l(100*P.s),q=l(100*P.l);return this._a==1?"hsl("+Z+", "+R+"%, "+q+"%)":"hsla("+Z+", "+R+"%, "+q+"%, "+this._roundA+")"},toHex:function(P){return v(this._r,this._g,this._b,P)},toHexString:function(P){return"#"+this.toHex(P)},toHex8:function(P){return function(Z,R,q,tt,rt){var nt=[et(l(Z).toString(16)),et(l(R).toString(16)),et(l(q).toString(16)),et(Y(tt))];return rt&&nt[0].charAt(0)==nt[0].charAt(1)&&nt[1].charAt(0)==nt[1].charAt(1)&&nt[2].charAt(0)==nt[2].charAt(1)&&nt[3].charAt(0)==nt[3].charAt(1)?nt[0].charAt(0)+nt[1].charAt(0)+nt[2].charAt(0)+nt[3].charAt(0):nt.join("")}(this._r,this._g,this._b,this._a,P)},toHex8String:function(P){return"#"+this.toHex8(P)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*H(this._r,255))+"%",g:l(100*H(this._g,255))+"%",b:l(100*H(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+l(100*H(this._r,255))+"%, "+l(100*H(this._g,255))+"%, "+l(100*H(this._b,255))+"%)":"rgba("+l(100*H(this._r,255))+"%, "+l(100*H(this._g,255))+"%, "+l(100*H(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(j[v(this._r,this._g,this._b,!0)]||!1)},toFilter:function(P){var Z="#"+y(this._r,this._g,this._b,this._a),R=Z,q=this._gradientType?"GradientType = 1, ":"";if(P){var tt=u(P);R="#"+y(tt._r,tt._g,tt._b,tt._a)}return"progid:DXImageTransform.Microsoft.gradient("+q+"startColorstr="+Z+",endColorstr="+R+")"},toString:function(P){var Z=!!P;P=P||this._format;var R=!1,q=this._a<1&&this._a>=0;return Z||!q||P!=="hex"&&P!=="hex6"&&P!=="hex3"&&P!=="hex4"&&P!=="hex8"&&P!=="name"?(P==="rgb"&&(R=this.toRgbString()),P==="prgb"&&(R=this.toPercentageRgbString()),P!=="hex"&&P!=="hex6"||(R=this.toHexString()),P==="hex3"&&(R=this.toHexString(!0)),P==="hex4"&&(R=this.toHex8String(!0)),P==="hex8"&&(R=this.toHex8String()),P==="name"&&(R=this.toName()),P==="hsl"&&(R=this.toHslString()),P==="hsv"&&(R=this.toHsvString()),R||this.toHexString()):P==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(P,Z){var R=P.apply(null,[this].concat([].slice.call(Z)));return this._r=R._r,this._g=R._g,this._b=R._b,this.setAlpha(R._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(O,arguments)},desaturate:function(){return this._applyModification(k,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(P,Z){return P.apply(null,[this].concat([].slice.call(Z)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(M,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(L,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},u.fromRatio=function(P,Z){if(typeof P=="object"){var R={};for(var q in P)P.hasOwnProperty(q)&&(R[q]=q==="a"?P[q]:G(P[q]));P=R}return u(P,Z)},u.equals=function(P,Z){return!(!P||!Z)&&u(P).toRgbString()==u(Z).toRgbString()},u.random=function(){return u.fromRatio({r:f(),g:f(),b:f()})},u.mix=function(P,Z,R){R=R===0?0:R||50;var q=u(P).toRgb(),tt=u(Z).toRgb(),rt=R/100;return u({r:(tt.r-q.r)*rt+q.r,g:(tt.g-q.g)*rt+q.g,b:(tt.b-q.b)*rt+q.b,a:(tt.a-q.a)*rt+q.a})},u.readability=function(P,Z){var R=u(P),q=u(Z);return(n.max(R.getLuminance(),q.getLuminance())+.05)/(n.min(R.getLuminance(),q.getLuminance())+.05)},u.isReadable=function(P,Z,R){var q,tt,rt=u.readability(P,Z);switch(tt=!1,(q=function(nt){var ct,st;return ct=((nt=nt||{level:"AA",size:"small"}).level||"AA").toUpperCase(),st=(nt.size||"small").toLowerCase(),ct!=="AA"&&ct!=="AAA"&&(ct="AA"),st!=="small"&&st!=="large"&&(st="small"),{level:ct,size:st}}(R)).level+q.size){case"AAsmall":case"AAAlarge":tt=rt>=4.5;break;case"AAlarge":tt=rt>=3;break;case"AAAsmall":tt=rt>=7}return tt},u.mostReadable=function(P,Z,R){var q,tt,rt,nt,ct=null,st=0;tt=(R=R||{}).includeFallbackColors,rt=R.level,nt=R.size;for(var gt=0;gt<Z.length;gt++)(q=u.readability(P,Z[gt]))>st&&(st=q,ct=u(Z[gt]));return u.isReadable(P,ct,{level:rt,size:nt})||!tt?ct:(R.includeFallbackColors=!1,u.mostReadable(P,["#fff","#000"],R))};var V=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},j=u.hexNames=function(P){var Z={};for(var R in P)P.hasOwnProperty(R)&&(Z[P[R]]=R);return Z}(V);function W(P){return P=parseFloat(P),(isNaN(P)||P<0||P>1)&&(P=1),P}function H(P,Z){(function(q){return typeof q=="string"&&q.indexOf(".")!=-1&&parseFloat(q)===1})(P)&&(P="100%");var R=function(q){return typeof q=="string"&&q.indexOf("%")!=-1}(P);return P=p(Z,d(0,parseFloat(P))),R&&(P=parseInt(P*Z,10)/100),n.abs(P-Z)<1e-6?1:P%Z/parseFloat(Z)}function B(P){return p(1,d(0,P))}function K(P){return parseInt(P,16)}function et(P){return P.length==1?"0"+P:""+P}function G(P){return P<=1&&(P=100*P+"%"),P}function Y(P){return n.round(255*parseFloat(P)).toString(16)}function D(P){return K(P)/255}var U,$,Q,F=($="[\\s|\\(]+("+(U="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",Q="[\\s|\\(]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",{CSS_UNIT:new RegExp(U),rgb:new RegExp("rgb"+$),rgba:new RegExp("rgba"+Q),hsl:new RegExp("hsl"+$),hsla:new RegExp("hsla"+Q),hsv:new RegExp("hsv"+$),hsva:new RegExp("hsva"+Q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function z(P){return!!F.CSS_UNIT.exec(P)}s!==void 0&&s.exports?s.exports=u:window.tinycolor=u})(Math)},{}],68:[function(t,s,c){var n=t("../main"),a=t("object-assign"),o=n.instance();function i(m){this.local=this.regionalOptions[m||""]||this.regionalOptions[""]}i.prototype=new n.baseCalendar,a(i.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(m,v){if(typeof m=="string"){var y=m.match(p);return y?y[0]:""}var k=this._validateYear(m),_=m.month(),T=""+this.toChineseMonth(k,_);return v&&T.length<2&&(T="0"+T),this.isIntercalaryMonth(k,_)&&(T+="i"),T},monthNames:function(m){if(typeof m=="string"){var v=m.match(d);return v?v[0]:""}var y=this._validateYear(m),k=m.month(),_=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][this.toChineseMonth(y,k)-1];return this.isIntercalaryMonth(y,k)&&(_="\u95F0"+_),_},monthNamesShort:function(m){if(typeof m=="string"){var v=m.match(f);return v?v[0]:""}var y=this._validateYear(m),k=m.month(),_=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][this.toChineseMonth(y,k)-1];return this.isIntercalaryMonth(y,k)&&(_="\u95F0"+_),_},parseMonth:function(m,v){m=this._validateYear(m);var y,k=parseInt(v);if(isNaN(k))v[0]==="\u95F0"&&(y=!0,v=v.substring(1)),v[v.length-1]==="\u6708"&&(v=v.substring(0,v.length-1)),k=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(v);else{var _=v[v.length-1];y=_==="i"||_==="I"}return this.toMonthIndex(m,k,y)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(m,v){if(m.year&&(m=m.year()),typeof m!="number"||m<1888||m>2111)throw v.replace(/\{0\}/,this.local.name);return m},toMonthIndex:function(m,v,y){var k=this.intercalaryMonth(m);if(y&&v!==k||v<1||v>12)throw n.local.invalidMonth.replace(/\{0\}/,this.local.name);return k?!y&&v<=k?v-1:v:v-1},toChineseMonth:function(m,v){m.year&&(v=(m=m.year()).month());var y=this.intercalaryMonth(m);if(v<0||v>(y?12:11))throw n.local.invalidMonth.replace(/\{0\}/,this.local.name);return y?v<y?v+1:v:v+1},intercalaryMonth:function(m){return m=this._validateYear(m),u[m-u[0]]>>13},isIntercalaryMonth:function(m,v){m.year&&(v=(m=m.year()).month());var y=this.intercalaryMonth(m);return!!y&&y===v},leapYear:function(m){return this.intercalaryMonth(m)!==0},weekOfYear:function(m,v,y){var k,_=this._validateYear(m,n.local.invalidyear),T=h[_-h[0]],b=T>>9&4095,x=T>>5&15,O=31&T;(k=o.newDate(b,x,O)).add(4-(k.dayOfWeek()||7),"d");var A=this.toJD(m,v,y)-k.toJD();return 1+Math.floor(A/7)},monthsInYear:function(m){return this.leapYear(m)?13:12},daysInMonth:function(m,v){m.year&&(v=m.month(),m=m.year()),m=this._validateYear(m);var y=u[m-u[0]];if(v>(y>>13?12:11))throw n.local.invalidMonth.replace(/\{0\}/,this.local.name);return y&1<<12-v?30:29},weekDay:function(m,v,y){return(this.dayOfWeek(m,v,y)||7)<6},toJD:function(m,v,y){var k=this._validate(m,T,y,n.local.invalidDate);m=this._validateYear(k.year()),v=k.month(),y=k.day();var _=this.isIntercalaryMonth(m,v),T=this.toChineseMonth(m,v),b=function(x,O,A,C,L){var w,E,I;if(typeof x=="object")E=x,w=O||{};else{var M;if(!(typeof x=="number"&&x>=1888&&x<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof O=="number"&&O>=1&&O<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof A=="number"&&A>=1&&A<=30))throw new Error("Lunar day outside range 1 - 30");typeof C=="object"?(M=!1,w=C):(M=!!C,w=L||{}),E={year:x,month:O,day:A,isIntercalary:M}}I=E.day-1;var V,j=u[E.year-u[0]],W=j>>13;V=W&&(E.month>W||E.isIntercalary)?E.month:E.month-1;for(var H=0;H<V;H++)I+=j&1<<12-H?30:29;var B=h[E.year-h[0]],K=new Date(B>>9&4095,(B>>5&15)-1,(31&B)+I);return w.year=K.getFullYear(),w.month=1+K.getMonth(),w.day=K.getDate(),w}(m,T,y,_);return o.toJD(b.year,b.month,b.day)},fromJD:function(m){var v=o.fromJD(m),y=function(_,T,b,x){var O,A;if(typeof _=="object")O=_,A=T||{};else{if(!(typeof _=="number"&&_>=1888&&_<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof T=="number"&&T>=1&&T<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof b=="number"&&b>=1&&b<=31))throw new Error("Solar day outside range 1 - 31");O={year:_,month:T,day:b},A=x||{}}var C=h[O.year-h[0]],L=O.year<<9|O.month<<5|O.day;A.year=L>=C?O.year:O.year-1,C=h[A.year-h[0]];var w,E=new Date(C>>9&4095,(C>>5&15)-1,31&C),I=new Date(O.year,O.month-1,O.day);w=Math.round((I-E)/864e5);var M,V=u[A.year-u[0]];for(M=0;M<13;M++){var j=V&1<<12-M?30:29;if(w<j)break;w-=j}var W=V>>13;return!W||M<W?(A.isIntercalary=!1,A.month=1+M):M===W?(A.isIntercalary=!0,A.month=M):(A.isIntercalary=!1,A.month=M),A.day=1+w,A}(v.year(),v.month(),v.day()),k=this.toMonthIndex(y.year,y.month,y.isIntercalary);return this.newDate(y.year,k,y.day)},fromString:function(m){var v=m.match(l),y=this._validateYear(+v[1]),k=+v[2],_=!!v[3],T=this.toMonthIndex(y,k,_),b=+v[4];return this.newDate(y,T,b)},add:function(m,v,y){var k=m.year(),_=m.month(),T=this.isIntercalaryMonth(k,_),b=this.toChineseMonth(k,_),x=Object.getPrototypeOf(i.prototype).add.call(this,m,v,y);if(y==="y"){var O=x.year(),A=x.month(),C=this.isIntercalaryMonth(O,b),L=T&&C?this.toMonthIndex(O,b,!0):this.toMonthIndex(O,b,!1);L!==A&&x.month(L)}return x}});var l=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,p=/^\d?\d[iI]?/m,d=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,f=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;n.calendars.chinese=i;var u=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],h=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},{"../main":82,"object-assign":55}],69:[function(t,s,c){var n=t("../main"),a=t("object-assign");function o(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}o.prototype=new n.baseCalendar,a(o.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var l=this._validate(i,this.minMonth,this.minDay,n.local.invalidYear);return(i=l.year()+(l.year()<0?1:0))%4==3||i%4==-1},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,n.local.invalidYear||n.regionalOptions[""].invalidYear),13},weekOfYear:function(i,l,p){var d=this.newDate(i,l,p);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(i,l){var p=this._validate(i,l,this.minDay,n.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===13&&this.leapYear(p.year())?1:0)},weekDay:function(i,l,p){return(this.dayOfWeek(i,l,p)||7)<6},toJD:function(i,l,p){var d=this._validate(i,l,p,n.local.invalidDate);return(i=d.year())<0&&i++,d.day()+30*(d.month()-1)+365*(i-1)+Math.floor(i/4)+this.jdEpoch-1},fromJD:function(i){var l=Math.floor(i)+.5-this.jdEpoch,p=Math.floor((l-Math.floor((l+366)/1461))/365)+1;p<=0&&p--,l=Math.floor(i)+.5-this.newDate(p,1,1).toJD();var d=Math.floor(l/30)+1,f=l-30*(d-1)+1;return this.newDate(p,d,f)}}),n.calendars.coptic=o},{"../main":82,"object-assign":55}],70:[function(t,s,c){var n=t("../main"),a=t("object-assign");function o(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}o.prototype=new n.baseCalendar,a(o.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(l){return this._validate(l,this.minMonth,this.minDay,n.local.invalidYear),!1},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,n.local.invalidYear),13},daysInYear:function(l){return this._validate(l,this.minMonth,this.minDay,n.local.invalidYear),400},weekOfYear:function(l,p,d){var f=this.newDate(l,p,d);return f.add(-f.dayOfWeek(),"d"),Math.floor((f.dayOfYear()-1)/8)+1},daysInMonth:function(l,p){var d=this._validate(l,p,this.minDay,n.local.invalidMonth);return this.daysPerMonth[d.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(l,p,d){return(this._validate(l,p,d,n.local.invalidDate).day()+1)%8},weekDay:function(l,p,d){var f=this.dayOfWeek(l,p,d);return f>=2&&f<=6},extraInfo:function(l,p,d){var f=this._validate(l,p,d,n.local.invalidDate);return{century:i[Math.floor((f.year()-1)/100)+1]||""}},toJD:function(l,p,d){var f=this._validate(l,p,d,n.local.invalidDate);return l=f.year()+(f.year()<0?1:0),p=f.month(),(d=f.day())+(p>1?16:0)+(p>2?32*(p-2):0)+400*(l-1)+this.jdEpoch-1},fromJD:function(l){l=Math.floor(l+.5)-Math.floor(this.jdEpoch)-1;var p=Math.floor(l/400)+1;l-=400*(p-1),l+=l>15?16:0;var d=Math.floor(l/32)+1,f=l-32*(d-1)+1;return this.newDate(p<=0?p-1:p,d,f)}});var i={20:"Fruitbat",21:"Anchovy"};n.calendars.discworld=o},{"../main":82,"object-assign":55}],71:[function(t,s,c){var n=t("../main"),a=t("object-assign");function o(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}o.prototype=new n.baseCalendar,a(o.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var l=this._validate(i,this.minMonth,this.minDay,n.local.invalidYear);return(i=l.year()+(l.year()<0?1:0))%4==3||i%4==-1},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,n.local.invalidYear||n.regionalOptions[""].invalidYear),13},weekOfYear:function(i,l,p){var d=this.newDate(i,l,p);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(i,l){var p=this._validate(i,l,this.minDay,n.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===13&&this.leapYear(p.year())?1:0)},weekDay:function(i,l,p){return(this.dayOfWeek(i,l,p)||7)<6},toJD:function(i,l,p){var d=this._validate(i,l,p,n.local.invalidDate);return(i=d.year())<0&&i++,d.day()+30*(d.month()-1)+365*(i-1)+Math.floor(i/4)+this.jdEpoch-1},fromJD:function(i){var l=Math.floor(i)+.5-this.jdEpoch,p=Math.floor((l-Math.floor((l+366)/1461))/365)+1;p<=0&&p--,l=Math.floor(i)+.5-this.newDate(p,1,1).toJD();var d=Math.floor(l/30)+1,f=l-30*(d-1)+1;return this.newDate(p,d,f)}}),n.calendars.ethiopian=o},{"../main":82,"object-assign":55}],72:[function(t,s,c){var n=t("../main"),a=t("object-assign");function o(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}function i(l,p){return l-p*Math.floor(l/p)}o.prototype=new n.baseCalendar,a(o.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var p=this._validate(l,this.minMonth,this.minDay,n.local.invalidYear);return this._leapYear(p.year())},_leapYear:function(l){return i(7*(l=l<0?l+1:l)+1,19)<7},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,n.local.invalidYear),this._leapYear(l.year?l.year():l)?13:12},weekOfYear:function(l,p,d){var f=this.newDate(l,p,d);return f.add(-f.dayOfWeek(),"d"),Math.floor((f.dayOfYear()-1)/7)+1},daysInYear:function(l){return l=this._validate(l,this.minMonth,this.minDay,n.local.invalidYear).year(),this.toJD(l===-1?1:l+1,7,1)-this.toJD(l,7,1)},daysInMonth:function(l,p){return l.year&&(p=l.month(),l=l.year()),this._validate(l,p,this.minDay,n.local.invalidMonth),p===12&&this.leapYear(l)||p===8&&i(this.daysInYear(l),10)===5?30:p===9&&i(this.daysInYear(l),10)===3?29:this.daysPerMonth[p-1]},weekDay:function(l,p,d){return this.dayOfWeek(l,p,d)!==6},extraInfo:function(l,p,d){var f=this._validate(l,p,d,n.local.invalidDate);return{yearType:(this.leapYear(f)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(f)%10-3]}},toJD:function(l,p,d){var f=this._validate(l,p,d,n.local.invalidDate);l=f.year(),p=f.month(),d=f.day();var u=l<=0?l+1:l,h=this.jdEpoch+this._delay1(u)+this._delay2(u)+d+1;if(p<7){for(var m=7;m<=this.monthsInYear(l);m++)h+=this.daysInMonth(l,m);for(m=1;m<p;m++)h+=this.daysInMonth(l,m)}else for(m=7;m<p;m++)h+=this.daysInMonth(l,m);return h},_delay1:function(l){var p=Math.floor((235*l-234)/19),d=12084+13753*p,f=29*p+Math.floor(d/25920);return i(3*(f+1),7)<3&&f++,f},_delay2:function(l){var p=this._delay1(l-1),d=this._delay1(l);return this._delay1(l+1)-d==356?2:d-p==382?1:0},fromJD:function(l){l=Math.floor(l)+.5;for(var p=Math.floor(98496*(l-this.jdEpoch)/35975351)-1;l>=this.toJD(p===-1?1:p+1,7,1);)p++;for(var d=l<this.toJD(p,1,1)?7:1;l>this.toJD(p,d,this.daysInMonth(p,d));)d++;var f=l-this.toJD(p,d,1)+1;return this.newDate(p,d,f)}}),n.calendars.hebrew=o},{"../main":82,"object-assign":55}],73:[function(t,s,c){var n=t("../main"),a=t("object-assign");function o(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}o.prototype=new n.baseCalendar,a(o.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(i){return(11*this._validate(i,this.minMonth,this.minDay,n.local.invalidYear).year()+14)%30<11},weekOfYear:function(i,l,p){var d=this.newDate(i,l,p);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(i){return this.leapYear(i)?355:354},daysInMonth:function(i,l){var p=this._validate(i,l,this.minDay,n.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(i,l,p){return this.dayOfWeek(i,l,p)!==5},toJD:function(i,l,p){var d=this._validate(i,l,p,n.local.invalidDate);return i=d.year(),l=d.month(),i=i<=0?i+1:i,(p=d.day())+Math.ceil(29.5*(l-1))+354*(i-1)+Math.floor((3+11*i)/30)+this.jdEpoch-1},fromJD:function(i){i=Math.floor(i)+.5;var l=Math.floor((30*(i-this.jdEpoch)+10646)/10631);l=l<=0?l-1:l;var p=Math.min(12,Math.ceil((i-29-this.toJD(l,1,1))/29.5)+1),d=i-this.toJD(l,p,1)+1;return this.newDate(l,p,d)}}),n.calendars.islamic=o},{"../main":82,"object-assign":55}],74:[function(t,s,c){var n=t("../main"),a=t("object-assign");function o(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}o.prototype=new n.baseCalendar,a(o.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var l=this._validate(i,this.minMonth,this.minDay,n.local.invalidYear);return(i=l.year()<0?l.year()+1:l.year())%4==0},weekOfYear:function(i,l,p){var d=this.newDate(i,l,p);return d.add(4-(d.dayOfWeek()||7),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(i,l){var p=this._validate(i,l,this.minDay,n.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(i,l,p){return(this.dayOfWeek(i,l,p)||7)<6},toJD:function(i,l,p){var d=this._validate(i,l,p,n.local.invalidDate);return i=d.year(),l=d.month(),p=d.day(),i<0&&i++,l<=2&&(i--,l+=12),Math.floor(365.25*(i+4716))+Math.floor(30.6001*(l+1))+p-1524.5},fromJD:function(i){var l=Math.floor(i+.5)+1524,p=Math.floor((l-122.1)/365.25),d=Math.floor(365.25*p),f=Math.floor((l-d)/30.6001),u=f-Math.floor(f<14?1:13),h=p-Math.floor(u>2?4716:4715),m=l-d-Math.floor(30.6001*f);return h<=0&&h--,this.newDate(h,u,m)}}),n.calendars.julian=o},{"../main":82,"object-assign":55}],75:[function(t,s,c){var n=t("../main"),a=t("object-assign");function o(p){this.local=this.regionalOptions[p||""]||this.regionalOptions[""]}function i(p,d){return p-d*Math.floor(p/d)}function l(p,d){return i(p-1,d)+1}o.prototype=new n.baseCalendar,a(o.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(p){return this._validate(p,this.minMonth,this.minDay,n.local.invalidYear),!1},formatYear:function(p){p=this._validate(p,this.minMonth,this.minDay,n.local.invalidYear).year();var d=Math.floor(p/400);return p%=400,p+=p<0?400:0,d+"."+Math.floor(p/20)+"."+p%20},forYear:function(p){if((p=p.split(".")).length<3)throw"Invalid Mayan year";for(var d=0,f=0;f<p.length;f++){var u=parseInt(p[f],10);if(Math.abs(u)>19||f>0&&u<0)throw"Invalid Mayan year";d=20*d+u}return d},monthsInYear:function(p){return this._validate(p,this.minMonth,this.minDay,n.local.invalidYear),18},weekOfYear:function(p,d,f){return this._validate(p,d,f,n.local.invalidDate),0},daysInYear:function(p){return this._validate(p,this.minMonth,this.minDay,n.local.invalidYear),360},daysInMonth:function(p,d){return this._validate(p,d,this.minDay,n.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(p,d,f){return this._validate(p,d,f,n.local.invalidDate).day()},weekDay:function(p,d,f){return this._validate(p,d,f,n.local.invalidDate),!0},extraInfo:function(p,d,f){var u=this._validate(p,d,f,n.local.invalidDate).toJD(),h=this._toHaab(u),m=this._toTzolkin(u);return{haabMonthName:this.local.haabMonths[h[0]-1],haabMonth:h[0],haabDay:h[1],tzolkinDayName:this.local.tzolkinMonths[m[0]-1],tzolkinDay:m[0],tzolkinTrecena:m[1]}},_toHaab:function(p){var d=i((p-=this.jdEpoch)+8+340,365);return[Math.floor(d/20)+1,i(d,20)]},_toTzolkin:function(p){return[l((p-=this.jdEpoch)+20,20),l(p+4,13)]},toJD:function(p,d,f){var u=this._validate(p,d,f,n.local.invalidDate);return u.day()+20*u.month()+360*u.year()+this.jdEpoch},fromJD:function(p){p=Math.floor(p)+.5-this.jdEpoch;var d=Math.floor(p/360);p%=360,p+=p<0?360:0;var f=Math.floor(p/20),u=p%20;return this.newDate(d,f,u)}}),n.calendars.mayan=o},{"../main":82,"object-assign":55}],76:[function(t,s,c){var n=t("../main"),a=t("object-assign");function o(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}o.prototype=new n.baseCalendar;var i=n.instance("gregorian");a(o.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var p=this._validate(l,this.minMonth,this.minDay,n.local.invalidYear||n.regionalOptions[""].invalidYear);return i.leapYear(p.year()+(p.year()<1?1:0)+1469)},weekOfYear:function(l,p,d){var f=this.newDate(l,p,d);return f.add(1-(f.dayOfWeek()||7),"d"),Math.floor((f.dayOfYear()-1)/7)+1},daysInMonth:function(l,p){var d=this._validate(l,p,this.minDay,n.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(l,p,d){return(this.dayOfWeek(l,p,d)||7)<6},toJD:function(l,p,d){var f=this._validate(l,p,d,n.local.invalidMonth);(l=f.year())<0&&l++;for(var u=f.day(),h=1;h<f.month();h++)u+=this.daysPerMonth[h-1];return u+i.toJD(l+1468,3,13)},fromJD:function(l){l=Math.floor(l+.5);for(var p=Math.floor((l-(this.jdEpoch-1))/366);l>=this.toJD(p+1,1,1);)p++;for(var d=l-Math.floor(this.toJD(p,1,1)+.5)+1,f=1;d>this.daysInMonth(p,f);)d-=this.daysInMonth(p,f),f++;return this.newDate(p,f,d)}}),n.calendars.nanakshahi=o},{"../main":82,"object-assign":55}],77:[function(t,s,c){var n=t("../main"),a=t("object-assign");function o(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}o.prototype=new n.baseCalendar,a(o.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(i){return this.daysInYear(i)!==this.daysPerYear},weekOfYear:function(i,l,p){var d=this.newDate(i,l,p);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(i){if(i=this._validate(i,this.minMonth,this.minDay,n.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[i]===void 0)return this.daysPerYear;for(var l=0,p=this.minMonth;p<=12;p++)l+=this.NEPALI_CALENDAR_DATA[i][p];return l},daysInMonth:function(i,l){return i.year&&(l=i.month(),i=i.year()),this._validate(i,l,this.minDay,n.local.invalidMonth),this.NEPALI_CALENDAR_DATA[i]===void 0?this.daysPerMonth[l-1]:this.NEPALI_CALENDAR_DATA[i][l]},weekDay:function(i,l,p){return this.dayOfWeek(i,l,p)!==6},toJD:function(i,l,p){var d=this._validate(i,l,p,n.local.invalidDate);i=d.year(),l=d.month(),p=d.day();var f=n.instance(),u=0,h=l,m=i;this._createMissingCalendarData(i);var v=i-(h>9||h===9&&p>=this.NEPALI_CALENDAR_DATA[m][0]?56:57);for(l!==9&&(u=p,h--);h!==9;)h<=0&&(h=12,m--),u+=this.NEPALI_CALENDAR_DATA[m][h],h--;return l===9?(u+=p-this.NEPALI_CALENDAR_DATA[m][0])<0&&(u+=f.daysInYear(v)):u+=this.NEPALI_CALENDAR_DATA[m][9]-this.NEPALI_CALENDAR_DATA[m][0],f.newDate(v,1,1).add(u,"d").toJD()},fromJD:function(i){var l=n.instance().fromJD(i),p=l.year(),d=l.dayOfYear(),f=p+56;this._createMissingCalendarData(f);for(var u=9,h=this.NEPALI_CALENDAR_DATA[f][0],m=this.NEPALI_CALENDAR_DATA[f][u]-h+1;d>m;)++u>12&&(u=1,f++),m+=this.NEPALI_CALENDAR_DATA[f][u];var v=this.NEPALI_CALENDAR_DATA[f][u]-(m-d);return this.newDate(f,u,v)},_createMissingCalendarData:function(i){var l=this.daysPerMonth.slice(0);l.unshift(17);for(var p=i-1;p<i+2;p++)this.NEPALI_CALENDAR_DATA[p]===void 0&&(this.NEPALI_CALENDAR_DATA[p]=l)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),n.calendars.nepali=o},{"../main":82,"object-assign":55}],78:[function(t,s,c){var n=t("../main"),a=t("object-assign");function o(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}function i(l,p){return l-p*Math.floor(l/p)}o.prototype=new n.baseCalendar,a(o.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(l){var p=this._validate(l,this.minMonth,this.minDay,n.local.invalidYear);return 682*((p.year()-(p.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(l,p,d){var f=this.newDate(l,p,d);return f.add(-(f.dayOfWeek()+1)%7,"d"),Math.floor((f.dayOfYear()-1)/7)+1},daysInMonth:function(l,p){var d=this._validate(l,p,this.minDay,n.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(l,p,d){return this.dayOfWeek(l,p,d)!==5},toJD:function(l,p,d){var f=this._validate(l,p,d,n.local.invalidDate);l=f.year(),p=f.month(),d=f.day();var u=l-(l>=0?474:473),h=474+i(u,2820);return d+(p<=7?31*(p-1):30*(p-1)+6)+Math.floor((682*h-110)/2816)+365*(h-1)+1029983*Math.floor(u/2820)+this.jdEpoch-1},fromJD:function(l){var p=(l=Math.floor(l)+.5)-this.toJD(475,1,1),d=Math.floor(p/1029983),f=i(p,1029983),u=2820;if(f!==1029982){var h=Math.floor(f/366),m=i(f,366);u=Math.floor((2134*h+2816*m+2815)/1028522)+h+1}var v=u+2820*d+474;v=v<=0?v-1:v;var y=l-this.toJD(v,1,1)+1,k=y<=186?Math.ceil(y/31):Math.ceil((y-6)/30),_=l-this.toJD(v,k,1)+1;return this.newDate(v,k,_)}}),n.calendars.persian=o,n.calendars.jalali=o},{"../main":82,"object-assign":55}],79:[function(t,s,c){var n=t("../main"),a=t("object-assign"),o=n.instance();function i(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}i.prototype=new n.baseCalendar,a(i.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(l){var p=this._validate(l,this.minMonth,this.minDay,n.local.invalidYear);return l=this._t2gYear(p.year()),o.leapYear(l)},weekOfYear:function(l,p,d){var f=this._validate(l,this.minMonth,this.minDay,n.local.invalidYear);return l=this._t2gYear(f.year()),o.weekOfYear(l,f.month(),f.day())},daysInMonth:function(l,p){var d=this._validate(l,p,this.minDay,n.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(l,p,d){return(this.dayOfWeek(l,p,d)||7)<6},toJD:function(l,p,d){var f=this._validate(l,p,d,n.local.invalidDate);return l=this._t2gYear(f.year()),o.toJD(l,f.month(),f.day())},fromJD:function(l){var p=o.fromJD(l),d=this._g2tYear(p.year());return this.newDate(d,p.month(),p.day())},_t2gYear:function(l){return l+this.yearsOffset+(l>=-this.yearsOffset&&l<=-1?1:0)},_g2tYear:function(l){return l-this.yearsOffset-(l>=1&&l<=this.yearsOffset?1:0)}}),n.calendars.taiwan=i},{"../main":82,"object-assign":55}],80:[function(t,s,c){var n=t("../main"),a=t("object-assign"),o=n.instance();function i(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}i.prototype=new n.baseCalendar,a(i.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var p=this._validate(l,this.minMonth,this.minDay,n.local.invalidYear);return l=this._t2gYear(p.year()),o.leapYear(l)},weekOfYear:function(l,p,d){var f=this._validate(l,this.minMonth,this.minDay,n.local.invalidYear);return l=this._t2gYear(f.year()),o.weekOfYear(l,f.month(),f.day())},daysInMonth:function(l,p){var d=this._validate(l,p,this.minDay,n.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(l,p,d){return(this.dayOfWeek(l,p,d)||7)<6},toJD:function(l,p,d){var f=this._validate(l,p,d,n.local.invalidDate);return l=this._t2gYear(f.year()),o.toJD(l,f.month(),f.day())},fromJD:function(l){var p=o.fromJD(l),d=this._g2tYear(p.year());return this.newDate(d,p.month(),p.day())},_t2gYear:function(l){return l-this.yearsOffset-(l>=1&&l<=this.yearsOffset?1:0)},_g2tYear:function(l){return l+this.yearsOffset+(l>=-this.yearsOffset&&l<=-1?1:0)}}),n.calendars.thai=i},{"../main":82,"object-assign":55}],81:[function(t,s,c){var n=t("../main"),a=t("object-assign");function o(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}o.prototype=new n.baseCalendar,a(o.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(l){var p=this._validate(l,this.minMonth,this.minDay,n.local.invalidYear);return this.daysInYear(p.year())===355},weekOfYear:function(l,p,d){var f=this.newDate(l,p,d);return f.add(-f.dayOfWeek(),"d"),Math.floor((f.dayOfYear()-1)/7)+1},daysInYear:function(l){for(var p=0,d=1;d<=12;d++)p+=this.daysInMonth(l,d);return p},daysInMonth:function(l,p){for(var d=this._validate(l,p,this.minDay,n.local.invalidMonth).toJD()-24e5+.5,f=0,u=0;u<i.length;u++){if(i[u]>d)return i[f]-i[f-1];f++}return 30},weekDay:function(l,p,d){return this.dayOfWeek(l,p,d)!==5},toJD:function(l,p,d){var f=this._validate(l,p,d,n.local.invalidDate),u=12*(f.year()-1)+f.month()-15292;return f.day()+i[u-1]-1+24e5-.5},fromJD:function(l){for(var p=l-24e5+.5,d=0,f=0;f<i.length&&!(i[f]>p);f++)d++;var u=d+15292,h=Math.floor((u-1)/12),m=h+1,v=u-12*h,y=p-i[d-1]+1;return this.newDate(m,v,y)},isValid:function(l,p,d){var f=n.baseCalendar.prototype.isValid.apply(this,arguments);return f&&(f=(l=l.year!=null?l.year:l)>=1276&&l<=1500),f},_validate:function(l,p,d,f){var u=n.baseCalendar.prototype._validate.apply(this,arguments);if(u.year<1276||u.year>1500)throw f.replace(/\{0\}/,this.local.name);return u}}),n.calendars.ummalqura=o;var i=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":82,"object-assign":55}],82:[function(t,s,c){var n=t("object-assign");function a(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function o(f,u,h,m){if(this._calendar=f,this._year=u,this._month=h,this._day=m,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function i(f,u){return"000000".substring(0,u-(f=""+f).length)+f}function l(){this.shortYearCutoff="+10"}function p(f){this.local=this.regionalOptions[f]||this.regionalOptions[""]}n(a.prototype,{instance:function(f,u){f=(f||"gregorian").toLowerCase(),u=u||"";var h=this._localCals[f+"-"+u];if(!h&&this.calendars[f]&&(h=new this.calendars[f](u),this._localCals[f+"-"+u]=h),!h)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,f);return h},newDate:function(f,u,h,m,v){return(m=(f!=null&&f.year?f.calendar():typeof m=="string"?this.instance(m,v):m)||this.instance()).newDate(f,u,h)},substituteDigits:function(f){return function(u){return(u+"").replace(/[0-9]/g,function(h){return f[h]})}},substituteChineseDigits:function(f,u){return function(h){for(var m="",v=0;h>0;){var y=h%10;m=(y===0?"":f[y]+u[v])+m,v++,h=Math.floor(h/10)}return m.indexOf(f[1]+u[1])===0&&(m=m.substr(1)),m||f[0]}}}),n(o.prototype,{newDate:function(f,u,h){return this._calendar.newDate(f==null?this:f,u,h)},year:function(f){return arguments.length===0?this._year:this.set(f,"y")},month:function(f){return arguments.length===0?this._month:this.set(f,"m")},day:function(f){return arguments.length===0?this._day:this.set(f,"d")},date:function(f,u,h){if(!this._calendar.isValid(f,u,h))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=f,this._month=u,this._day=h,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(f,u){return this._calendar.add(this,f,u)},set:function(f,u){return this._calendar.set(this,f,u)},compareTo:function(f){if(this._calendar.name!==f._calendar.name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,f._calendar.local.name);var u=this._year!==f._year?this._year-f._year:this._month!==f._month?this.monthOfYear()-f.monthOfYear():this._day-f._day;return u===0?0:u<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(f){return this._calendar.fromJD(f)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(f){return this._calendar.fromJSDate(f)},toString:function(){return(this.year()<0?"-":"")+i(Math.abs(this.year()),4)+"-"+i(this.month(),2)+"-"+i(this.day(),2)}}),n(l.prototype,{_validateLevel:0,newDate:function(f,u,h){return f==null?this.today():(f.year&&(this._validate(f,u,h,d.local.invalidDate||d.regionalOptions[""].invalidDate),h=f.day(),u=f.month(),f=f.year()),new o(this,f,u,h))},today:function(){return this.fromJSDate(new Date)},epoch:function(f){return this._validate(f,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(f){var u=this._validate(f,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(u.year()<0?"-":"")+i(Math.abs(u.year()),4)},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),12},monthOfYear:function(f,u){var h=this._validate(f,u,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return(h.month()+this.monthsInYear(h)-this.firstMonth)%this.monthsInYear(h)+this.minMonth},fromMonthOfYear:function(f,u){var h=(u+this.firstMonth-2*this.minMonth)%this.monthsInYear(f)+this.minMonth;return this._validate(f,h,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth),h},daysInYear:function(f){var u=this._validate(f,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return this.leapYear(u)?366:365},dayOfYear:function(f,u,h){var m=this._validate(f,u,h,d.local.invalidDate||d.regionalOptions[""].invalidDate);return m.toJD()-this.newDate(m.year(),this.fromMonthOfYear(m.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(f,u,h){var m=this._validate(f,u,h,d.local.invalidDate||d.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(m))+2)%this.daysInWeek()},extraInfo:function(f,u,h){return this._validate(f,u,h,d.local.invalidDate||d.regionalOptions[""].invalidDate),{}},add:function(f,u,h){return this._validate(f,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate),this._correctAdd(f,this._add(f,u,h),u,h)},_add:function(f,u,h){if(this._validateLevel++,h==="d"||h==="w"){var m=f.toJD()+u*(h==="w"?this.daysInWeek():1),v=f.calendar().fromJD(m);return this._validateLevel--,[v.year(),v.month(),v.day()]}try{var y=f.year()+(h==="y"?u:0),k=f.monthOfYear()+(h==="m"?u:0);v=f.day(),h==="y"?(f.month()!==this.fromMonthOfYear(y,k)&&(k=this.newDate(y,f.month(),this.minDay).monthOfYear()),k=Math.min(k,this.monthsInYear(y)),v=Math.min(v,this.daysInMonth(y,this.fromMonthOfYear(y,k)))):h==="m"&&(function(T){for(;k<T.minMonth;)y--,k+=T.monthsInYear(y);for(var b=T.monthsInYear(y);k>b-1+T.minMonth;)y++,k-=b,b=T.monthsInYear(y)}(this),v=Math.min(v,this.daysInMonth(y,this.fromMonthOfYear(y,k))));var _=[y,this.fromMonthOfYear(y,k),v];return this._validateLevel--,_}catch(T){throw this._validateLevel--,T}},_correctAdd:function(f,u,h,m){if(!(this.hasYearZero||m!=="y"&&m!=="m"||u[0]!==0&&f.year()>0==u[0]>0)){var v={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[m],y=h<0?-1:1;u=this._add(f,h*v[0]+y*v[1],v[2])}return f.date(u[0],u[1],u[2])},set:function(f,u,h){this._validate(f,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate);var m=h==="y"?u:f.year(),v=h==="m"?u:f.month(),y=h==="d"?u:f.day();return h!=="y"&&h!=="m"||(y=Math.min(y,this.daysInMonth(m,v))),f.date(m,v,y)},isValid:function(f,u,h){this._validateLevel++;var m=this.hasYearZero||f!==0;if(m){var v=this.newDate(f,u,this.minDay);m=u>=this.minMonth&&u-this.minMonth<this.monthsInYear(v)&&h>=this.minDay&&h-this.minDay<this.daysInMonth(v)}return this._validateLevel--,m},toJSDate:function(f,u,h){var m=this._validate(f,u,h,d.local.invalidDate||d.regionalOptions[""].invalidDate);return d.instance().fromJD(this.toJD(m)).toJSDate()},fromJSDate:function(f){return this.fromJD(d.instance().fromJSDate(f).toJD())},_validate:function(f,u,h,m){if(f.year){if(this._validateLevel===0&&this.name!==f.calendar().name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,f.calendar().local.name);return f}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(f,u,h))throw m.replace(/\{0\}/,this.local.name);var v=this.newDate(f,u,h);return this._validateLevel--,v}catch(y){throw this._validateLevel--,y}}}),p.prototype=new l,n(p.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var u=this._validate(f,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(f=u.year()+(u.year()<0?1:0))%4==0&&(f%100!=0||f%400==0)},weekOfYear:function(f,u,h){var m=this.newDate(f,u,h);return m.add(4-(m.dayOfWeek()||7),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInMonth:function(f,u){var h=this._validate(f,u,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===2&&this.leapYear(h.year())?1:0)},weekDay:function(f,u,h){return(this.dayOfWeek(f,u,h)||7)<6},toJD:function(f,u,h){var m=this._validate(f,u,h,d.local.invalidDate||d.regionalOptions[""].invalidDate);f=m.year(),u=m.month(),h=m.day(),f<0&&f++,u<3&&(u+=12,f--);var v=Math.floor(f/100),y=2-v+Math.floor(v/4);return Math.floor(365.25*(f+4716))+Math.floor(30.6001*(u+1))+h+y-1524.5},fromJD:function(f){var u=Math.floor(f+.5),h=Math.floor((u-186721625e-2)/36524.25),m=(h=u+1+h-Math.floor(h/4))+1524,v=Math.floor((m-122.1)/365.25),y=Math.floor(365.25*v),k=Math.floor((m-y)/30.6001),_=m-y-Math.floor(30.6001*k),T=k-(k>13.5?13:1),b=v-(T>2.5?4716:4715);return b<=0&&b--,this.newDate(b,T,_)},toJSDate:function(f,u,h){var m=this._validate(f,u,h,d.local.invalidDate||d.regionalOptions[""].invalidDate),v=new Date(m.year(),m.month()-1,m.day());return v.setHours(0),v.setMinutes(0),v.setSeconds(0),v.setMilliseconds(0),v.setHours(v.getHours()>12?v.getHours()+2:0),v},fromJSDate:function(f){return this.newDate(f.getFullYear(),f.getMonth()+1,f.getDate())}});var d=s.exports=new a;d.cdate=o,d.baseCalendar=l,d.calendars.gregorian=p},{"object-assign":55}],83:[function(t,s,c){var n=t("object-assign"),a=t("./main");n(a.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),a.local=a.regionalOptions[""],n(a.cdate.prototype,{formatDate:function(o,i){return typeof o!="string"&&(i=o,o=""),this._calendar.formatDate(o||"",this,i)}}),n(a.baseCalendar.prototype,{UNIX_EPOCH:a.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:a.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(o,i,l){if(typeof o!="string"&&(l=i,i=o,o=""),!i)return"";if(i.calendar()!==this)throw a.local.invalidFormat||a.regionalOptions[""].invalidFormat;o=o||this.local.dateFormat;for(var p,d,f,u,h=(l=l||{}).dayNamesShort||this.local.dayNamesShort,m=l.dayNames||this.local.dayNames,v=l.monthNumbers||this.local.monthNumbers,y=l.monthNamesShort||this.local.monthNamesShort,k=l.monthNames||this.local.monthNames,_=(l.calculateWeek||this.local.calculateWeek,function(I,M){for(var V=1;E+V<o.length&&o.charAt(E+V)===I;)V++;return E+=V-1,Math.floor(V/(M||1))>1}),T=function(I,M,V,j){var W=""+M;if(_(I,j))for(;W.length<V;)W="0"+W;return W},b=this,x=function(I){return typeof v=="function"?v.call(b,I,_("m")):C(T("m",I.month(),2))},O=function(I,M){return M?typeof k=="function"?k.call(b,I):k[I.month()-b.minMonth]:typeof y=="function"?y.call(b,I):y[I.month()-b.minMonth]},A=this.local.digits,C=function(I){return l.localNumbers&&A?A(I):I},L="",w=!1,E=0;E<o.length;E++)if(w)o.charAt(E)!=="'"||_("'")?L+=o.charAt(E):w=!1;else switch(o.charAt(E)){case"d":L+=C(T("d",i.day(),2));break;case"D":L+=(p="D",d=i.dayOfWeek(),f=h,u=m,_(p)?u[d]:f[d]);break;case"o":L+=T("o",i.dayOfYear(),3);break;case"w":L+=T("w",i.weekOfYear(),2);break;case"m":L+=x(i);break;case"M":L+=O(i,_("M"));break;case"y":L+=_("y",2)?i.year():(i.year()%100<10?"0":"")+i.year()%100;break;case"Y":_("Y",2),L+=i.formatYear();break;case"J":L+=i.toJD();break;case"@":L+=(i.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":L+=(i.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":_("'")?L+="'":w=!0;break;default:L+=o.charAt(E)}return L},parseDate:function(o,i,l){if(i==null)throw a.local.invalidArguments||a.regionalOptions[""].invalidArguments;if((i=typeof i=="object"?i.toString():i+"")==="")return null;o=o||this.local.dateFormat;var p=(l=l||{}).shortYearCutoff||this.shortYearCutoff;p=typeof p!="string"?p:this.today().year()%100+parseInt(p,10);for(var d=l.dayNamesShort||this.local.dayNamesShort,f=l.dayNames||this.local.dayNames,u=l.parseMonth||this.local.parseMonth,h=l.monthNumbers||this.local.monthNumbers,m=l.monthNamesShort||this.local.monthNamesShort,v=l.monthNames||this.local.monthNames,y=-1,k=-1,_=-1,T=-1,b=-1,x=!1,O=!1,A=function(B,K){for(var et=1;j+et<o.length&&o.charAt(j+et)===B;)et++;return j+=et-1,Math.floor(et/(K||1))>1},C=function(B,K){var et=A(B,K),G=[2,3,et?4:2,et?4:2,10,11,20]["oyYJ@!".indexOf(B)+1],Y=new RegExp("^-?\\d{1,"+G+"}"),D=i.substring(V).match(Y);if(!D)throw(a.local.missingNumberAt||a.regionalOptions[""].missingNumberAt).replace(/\{0\}/,V);return V+=D[0].length,parseInt(D[0],10)},L=this,w=function(){if(typeof h=="function"){A("m");var B=h.call(L,i.substring(V));return V+=B.length,B}return C("m")},E=function(B,K,et,G){for(var Y=A(B,G)?et:K,D=0;D<Y.length;D++)if(i.substr(V,Y[D].length).toLowerCase()===Y[D].toLowerCase())return V+=Y[D].length,D+L.minMonth;throw(a.local.unknownNameAt||a.regionalOptions[""].unknownNameAt).replace(/\{0\}/,V)},I=function(){if(typeof v=="function"){var B=A("M")?v.call(L,i.substring(V)):m.call(L,i.substring(V));return V+=B.length,B}return E("M",m,v)},M=function(){if(i.charAt(V)!==o.charAt(j))throw(a.local.unexpectedLiteralAt||a.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,V);V++},V=0,j=0;j<o.length;j++)if(O)o.charAt(j)!=="'"||A("'")?M():O=!1;else switch(o.charAt(j)){case"d":T=C("d");break;case"D":E("D",d,f);break;case"o":b=C("o");break;case"w":C("w");break;case"m":_=w();break;case"M":_=I();break;case"y":var W=j;x=!A("y",2),j=W,k=C("y",2);break;case"Y":k=C("Y",2);break;case"J":y=C("J")+.5,i.charAt(V)==="."&&(V++,C("J"));break;case"@":y=C("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":y=C("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":V=i.length;break;case"'":A("'")?M():O=!0;break;default:M()}if(V<i.length)throw a.local.unexpectedText||a.regionalOptions[""].unexpectedText;if(k===-1?k=this.today().year():k<100&&x&&(k+=p===-1?1900:this.today().year()-this.today().year()%100-(k<=p?0:100)),typeof _=="string"&&(_=u.call(this,k,_)),b>-1){_=1,T=b;for(var H=this.daysInMonth(k,_);T>H;H=this.daysInMonth(k,_))_++,T-=H}return y>-1?this.fromJD(y):this.newDate(k,_,T)},determineDate:function(o,i,l,p,d){l&&typeof l!="object"&&(d=p,p=l,l=null),typeof p!="string"&&(d=p,p="");var f=this;return i=i?i.newDate():null,o=o==null?i:typeof o=="string"?function(u){try{return f.parseDate(p,u,d)}catch(y){}for(var h=((u=u.toLowerCase()).match(/^c/)&&l?l.newDate():null)||f.today(),m=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,v=m.exec(u);v;)h.add(parseInt(v[1],10),v[2]||"d"),v=m.exec(u);return h}(o):typeof o=="number"?isNaN(o)||o===1/0||o===-1/0?i:f.today().add(o,"d"):f.newDate(o)}})},{"./main":82,"object-assign":55}],84:[function(t,s,c){s.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],85:[function(t,s,c){var n=t("./arrow_paths"),a=t("../../plots/font_attributes"),o=t("../../plots/cartesian/constants"),i=t("../../plot_api/plot_template").templatedArray;t("../../constants/axis_placeable_objects"),s.exports=i("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:a({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:n.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:n.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:a({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/font_attributes":308,"./arrow_paths":84}],86:[function(t,s,c){var n=t("../../lib"),a=t("../../plots/cartesian/axes"),o=t("./draw").draw;function i(p){var d=p._fullLayout;n.filterVisible(d.annotations).forEach(function(f){var u=a.getFromId(p,f.xref),h=a.getFromId(p,f.yref),m=a.getRefType(f.xref),v=a.getRefType(f.yref);f._extremes={},m==="range"&&l(f,u),v==="range"&&l(f,h)})}function l(p,d){var f,u=d._id,h=u.charAt(0),m=p[h],v=p["a"+h],y=p[h+"ref"],k=p["a"+h+"ref"],_=p["_"+h+"padplus"],T=p["_"+h+"padminus"],b={x:1,y:-1}[h]*p[h+"shift"],x=3*p.arrowsize*p.arrowwidth||0,O=x+b,A=x-b,C=3*p.startarrowsize*p.arrowwidth||0,L=C+b,w=C-b;if(k===y){var E=a.findExtremes(d,[d.r2c(m)],{ppadplus:O,ppadminus:A}),I=a.findExtremes(d,[d.r2c(v)],{ppadplus:Math.max(_,L),ppadminus:Math.max(T,w)});f={min:[E.min[0],I.min[0]],max:[E.max[0],I.max[0]]}}else L=v?L+v:L,w=v?w-v:w,f=a.findExtremes(d,[d.r2c(m)],{ppadplus:Math.max(_,O,L),ppadminus:Math.max(T,A,w)});p._extremes[u]=f}s.exports=function(p){var d=p._fullLayout;if(n.filterVisible(d.annotations).length&&p._fullData.length)return n.syncOrAsync([o,i],p)}},{"../../lib":232,"../../plots/cartesian/axes":279,"./draw":91}],87:[function(t,s,c){var n=t("../../lib"),a=t("../../registry"),o=t("../../plot_api/plot_template").arrayEditor;function i(p,d){var f,u,h,m,v,y,k,_=p._fullLayout.annotations,T=[],b=[],x=[],O=(d||[]).length;for(f=0;f<_.length;f++)if(m=(h=_[f]).clicktoshow){for(u=0;u<O;u++)if(y=(v=d[u]).xaxis,k=v.yaxis,y._id===h.xref&&k._id===h.yref&&y.d2r(v.x)===l(h._xclick,y)&&k.d2r(v.y)===l(h._yclick,k)){(h.visible?m==="onout"?b:x:T).push(f);break}u===O&&h.visible&&m==="onout"&&b.push(f)}return{on:T,off:b,explicitOff:x}}function l(p,d){return d.type==="log"?d.l2r(p):d.d2r(p)}s.exports={hasClickToShow:function(p,d){var f=i(p,d);return f.on.length>0||f.explicitOff.length>0},onClick:function(p,d){var f,u,h=i(p,d),m=h.on,v=h.off.concat(h.explicitOff),y={},k=p._fullLayout.annotations;if(!(!m.length&&!v.length)){for(f=0;f<m.length;f++)(u=o(p.layout,"annotations",k[m[f]])).modifyItem("visible",!0),n.extendFlat(y,u.getUpdateObj());for(f=0;f<v.length;f++)(u=o(p.layout,"annotations",k[v[f]])).modifyItem("visible",!1),n.extendFlat(y,u.getUpdateObj());return a.call("update",p,{},y)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":316}],88:[function(t,s,c){var n=t("../../lib"),a=t("../color");s.exports=function(o,i,l,p){p("opacity");var d=p("bgcolor"),f=p("bordercolor"),u=a.opacity(f);p("borderpad");var h=p("borderwidth"),m=p("showarrow");if(p("text",m?" ":l._dfltTitle.annotation),p("textangle"),n.coerceFont(p,"font",l.font),p("width"),p("align"),p("height")&&p("valign"),m){var v,y,k=p("arrowside");k.indexOf("end")!==-1&&(v=p("arrowhead"),y=p("arrowsize")),k.indexOf("start")!==-1&&(p("startarrowhead",v),p("startarrowsize",y)),p("arrowcolor",u?i.bordercolor:a.defaultLine),p("arrowwidth",2*(u&&h||1)),p("standoff"),p("startstandoff")}var _=p("hovertext"),T=l.hoverlabel||{};if(_){var b=p("hoverlabel.bgcolor",T.bgcolor||(a.opacity(d)?a.rgb(d):a.defaultLine)),x=p("hoverlabel.bordercolor",T.bordercolor||a.contrast(b));n.coerceFont(p,"hoverlabel.font",{family:T.font.family,size:T.font.size,color:T.font.color||x})}p("captureevents",!!_)}},{"../../lib":232,"../color":102}],89:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../../lib/to_log_range");s.exports=function(o,i,l,p){i=i||{};var d=l==="log"&&i.type==="linear",f=l==="linear"&&i.type==="log";if(d||f)for(var u,h,m=o._fullLayout.annotations,v=i._id.charAt(0),y=0;y<m.length;y++)u=m[y],h="annotations["+y+"].",u[v+"ref"]===i._id&&k(v),u["a"+v+"ref"]===i._id&&k("a"+v);function k(_){var T=u[_],b=null;b=d?a(T,i.range):Math.pow(10,T),n(b)||(b=null),p(h+_,b)}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],90:[function(t,s,c){var n=t("../../lib"),a=t("../../plots/cartesian/axes"),o=t("../../plots/array_container_defaults"),i=t("./common_defaults"),l=t("./attributes");function p(d,f,u){function h(I,M){return n.coerce(d,f,l,I,M)}var m=h("visible"),v=h("clicktoshow");if(m||v){i(d,f,u,h);for(var y=f.showarrow,k=["x","y"],_=[-10,-30],T={_fullLayout:u},b=0;b<2;b++){var x=k[b],O=a.coerceRef(d,f,T,x,"","paper");if(O!=="paper"&&a.getFromId(T,O)._annIndices.push(f._index),a.coercePosition(f,T,h,O,x,.5),y){var A="a"+x,C=a.coerceRef(d,f,T,A,"pixel",["pixel","paper"]);C!=="pixel"&&C!==O&&(C=f[A]="pixel");var L=C==="pixel"?_[b]:.4;a.coercePosition(f,T,h,C,A,L)}h(x+"anchor"),h(x+"shift")}if(n.noneOrAll(d,f,["x","y"]),y&&n.noneOrAll(d,f,["ax","ay"]),v){var w=h("xclick"),E=h("yclick");f._xclick=w===void 0?f.x:a.cleanPosition(w,T,f.xref),f._yclick=E===void 0?f.y:a.cleanPosition(E,T,f.yref)}}}s.exports=function(d,f){o(d,f,{name:"annotations",handleItemDefaults:p})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":85,"./common_defaults":88}],91:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../registry"),o=t("../../plots/plots"),i=t("../../lib"),l=i.strTranslate,p=t("../../plots/cartesian/axes"),d=t("../color"),f=t("../drawing"),u=t("../fx"),h=t("../../lib/svg_text_utils"),m=t("../../lib/setcursor"),v=t("../dragelement"),y=t("../../plot_api/plot_template").arrayEditor,k=t("./draw_arrow_head");function _(x,O){var A=x._fullLayout.annotations[O]||{},C=p.getFromId(x,A.xref),L=p.getFromId(x,A.yref);C&&C.setScale(),L&&L.setScale(),b(x,A,O,!1,C,L)}function T(x,O,A,C,L){var w=L[A],E=L[A+"ref"],I=A.indexOf("y")!==-1,M=p.getRefType(E)==="domain",V=I?C.h:C.w;return x?M?w+(I?-O:O)/x._length:x.p2r(x.r2p(w)+O):w+(I?-O:O)/V}function b(x,O,A,C,L,w){var E,I,M=x._fullLayout,V=x._fullLayout._size,j=x._context.edits;C?(E="annotation-"+C,I=C+".annotations"):(E="annotation",I="annotations");var W=y(x.layout,I,O),H=W.modifyBase,B=W.modifyItem,K=W.getUpdateObj;M._infolayer.selectAll("."+E+'[data-index="'+A+'"]').remove();var et="clip"+M._uid+"_ann"+A;if(O._input&&O.visible!==!1){var G={x:{},y:{}},Y=+O.textangle||0,D=M._infolayer.append("g").classed(E,!0).attr("data-index",String(A)).style("opacity",O.opacity),U=D.append("g").classed("annotation-text-g",!0),$=j[O.showarrow?"annotationTail":"annotationPosition"],Q=O.captureevents||j.annotationText||$,F=U.append("g").style("pointer-events",Q?"all":null).call(m,"pointer").on("click",function(){x._dragging=!1,x.emit("plotly_clickannotation",st(n.event))});O.hovertext&&F.on("mouseover",function(){var Ot=O.hoverlabel,bt=Ot.font,Ht=this.getBoundingClientRect(),Dt=x.getBoundingClientRect();u.loneHover({x0:Ht.left-Dt.left,x1:Ht.right-Dt.left,y:(Ht.top+Ht.bottom)/2-Dt.top,text:O.hovertext,color:Ot.bgcolor,borderColor:Ot.bordercolor,fontFamily:bt.family,fontSize:bt.size,fontColor:bt.color},{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:x})}).on("mouseout",function(){u.loneUnhover(M._hoverlayer.node())});var z=O.borderwidth,P=O.borderpad,Z=z+P,R=F.append("rect").attr("class","bg").style("stroke-width",z+"px").call(d.stroke,O.bordercolor).call(d.fill,O.bgcolor),q=O.width||O.height,tt=M._topclips.selectAll("#"+et).data(q?[0]:[]);tt.enter().append("clipPath").classed("annclip",!0).attr("id",et).append("rect"),tt.exit().remove();var rt=O.font,nt=M._meta?i.templateString(O.text,M._meta):O.text,ct=F.append("text").classed("annotation-text",!0).text(nt);j.annotationText?ct.call(h.makeEditable,{delegate:F,gd:x}).call(gt).on("edit",function(Ot){O.text=Ot,this.call(gt),B("text",Ot),L&&L.autorange&&H(L._name+".autorange",!0),w&&w.autorange&&H(w._name+".autorange",!0),a.call("_guiRelayout",x,K())}):ct.call(gt)}else n.selectAll("#"+et).remove();function st(Ot){var bt={index:A,annotation:O._input,fullAnnotation:O,event:Ot};return C&&(bt.subplotId=C),bt}function gt(Ot){return Ot.call(f.font,rt).attr({"text-anchor":{left:"start",right:"end"}[O.align]||"middle"}),h.convertToTspans(Ot,x,wt),Ot}function wt(){var Ot=ct.selectAll("a");Ot.size()===1&&Ot.text()===ct.text()&&F.insert("a",":first-child").attr({"xlink:xlink:href":Ot.attr("xlink:href"),"xlink:xlink:show":Ot.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(R.node());var bt=F.select(".annotation-text-math-group"),Ht=!bt.empty(),Dt=f.bBox((Ht?bt:ct).node()),yt=Dt.width,ut=Dt.height,it=O.width||yt,dt=O.height||ut,mt=Math.round(it+2*Z),Et=Math.round(dt+2*Z);function Mt(ue,Te){return Te==="auto"&&(Te=ue<1/3?"left":ue>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Te]}for(var Tt=!1,Nt=["x","y"],zt=0;zt<Nt.length;zt++){var At,Ct,qt,St,$t,Zt=Nt[zt],Yt=O[Zt+"ref"]||Zt,re=O["a"+Zt+"ref"],Qt={x:L,y:w}[Zt],xt=(Y+(Zt==="x"?0:-90))*Math.PI/180,kt=mt*Math.cos(xt),Bt=Et*Math.sin(xt),ie=Math.abs(kt)+Math.abs(Bt),ye=O[Zt+"anchor"],ot=O[Zt+"shift"]*(Zt==="x"?1:-1),ft=G[Zt],Lt=p.getRefType(Yt);if(Qt&&Lt!=="domain"){var Pt=Qt.r2fraction(O[Zt]);(Pt<0||Pt>1)&&(re===Yt?((Pt=Qt.r2fraction(O["a"+Zt]))<0||Pt>1)&&(Tt=!0):Tt=!0),At=Qt._offset+Qt.r2p(O[Zt]),St=.5}else{var It=Lt==="domain";Zt==="x"?(qt=O[Zt],At=It?Qt._offset+Qt._length*qt:At=V.l+V.w*qt):(qt=1-O[Zt],At=It?Qt._offset+Qt._length*qt:At=V.t+V.h*qt),St=O.showarrow?.5:qt}if(O.showarrow){ft.head=At;var Rt=O["a"+Zt];if($t=kt*Mt(.5,O.xanchor)-Bt*Mt(.5,O.yanchor),re===Yt){var Vt=p.getRefType(re);Vt==="domain"?(Zt==="y"&&(Rt=1-Rt),ft.tail=Qt._offset+Qt._length*Rt):Vt==="paper"?Zt==="y"?(Rt=1-Rt,ft.tail=V.t+V.h*Rt):ft.tail=V.l+V.w*Rt:ft.tail=Qt._offset+Qt.r2p(Rt),Ct=$t}else ft.tail=At+Rt,Ct=$t+Rt;ft.text=ft.tail+$t;var Jt=M[Zt==="x"?"width":"height"];if(Yt==="paper"&&(ft.head=i.constrain(ft.head,1,Jt-1)),re==="pixel"){var ae=-Math.max(ft.tail-3,ft.text),ce=Math.min(ft.tail+3,ft.text)-Jt;ae>0?(ft.tail+=ae,ft.text+=ae):ce>0&&(ft.tail-=ce,ft.text-=ce)}ft.tail+=ot,ft.head+=ot}else Ct=$t=ie*Mt(St,ye),ft.text=At+$t;ft.text+=ot,$t+=ot,Ct+=ot,O["_"+Zt+"padplus"]=ie/2+Ct,O["_"+Zt+"padminus"]=ie/2-Ct,O["_"+Zt+"size"]=ie,O["_"+Zt+"shift"]=$t}if(Tt)F.remove();else{var le=0,se=0;if(O.align!=="left"&&(le=(it-yt)*(O.align==="center"?.5:1)),O.valign!=="top"&&(se=(dt-ut)*(O.valign==="middle"?.5:1)),Ht)bt.select("svg").attr({x:Z+le-1,y:Z+se}).call(f.setClipUrl,q?et:null,x);else{var pe=Z+se-Dt.top,we=Z+le-Dt.left;ct.call(h.positionText,we,pe).call(f.setClipUrl,q?et:null,x)}tt.select("rect").call(f.setRect,Z,Z,it,dt),R.call(f.setRect,z/2,z/2,mt-z,Et-z),F.call(f.setTranslate,Math.round(G.x.text-mt/2),Math.round(G.y.text-Et/2)),U.attr({transform:"rotate("+Y+","+G.x.text+","+G.y.text+")"});var me,ee=function(ue,Te){D.selectAll(".annotation-arrow-g").remove();var Me=G.x.head,Ce=G.y.head,fe=G.x.tail+ue,_e=G.y.tail+Te,Le=G.x.text+ue,he=G.y.text+Te,Se=i.rotationXYMatrix(Y,Le,he),de=i.apply2DTransform(Se),Re=i.apply2DTransform2(Se),Ee=+R.attr("width"),De=+R.attr("height"),je=Le-.5*Ee,Je=je+Ee,en=he-.5*De,be=en+De,Ae=[[je,en,je,be],[je,be,Je,be],[Je,be,Je,en],[Je,en,je,en]].map(Re);if(!Ae.reduce(function(ke,Ge){return ke^!!i.segmentsIntersect(Me,Ce,Me+1e6,Ce+1e6,Ge[0],Ge[1],Ge[2],Ge[3])},!1)){Ae.forEach(function(ke){var Ge=i.segmentsIntersect(fe,_e,Me,Ce,ke[0],ke[1],ke[2],ke[3]);Ge&&(fe=Ge.x,_e=Ge.y)});var Oe=O.arrowwidth,Fe=O.arrowcolor,ve=O.arrowside,Ve=D.append("g").style({opacity:d.opacity(Fe)}).classed("annotation-arrow-g",!0),We=Ve.append("path").attr("d","M"+fe+","+_e+"L"+Me+","+Ce).style("stroke-width",Oe+"px").call(d.stroke,d.rgb(Fe));if(k(We,ve,O),j.annotationPosition&&We.node().parentNode&&!C){var ln=Me,on=Ce;if(O.standoff){var sn=Math.sqrt(Math.pow(Me-fe,2)+Math.pow(Ce-_e,2));ln+=O.standoff*(fe-Me)/sn,on+=O.standoff*(_e-Ce)/sn}var un,cn,$e=Ve.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(fe-ln)+","+(_e-on),transform:l(ln,on)}).style("stroke-width",Oe+6+"px").call(d.stroke,"rgba(0,0,0,0)").call(d.fill,"rgba(0,0,0,0)");v.init({element:$e.node(),gd:x,prepFn:function(){var ke=f.getTranslate(F);un=ke.x,cn=ke.y,L&&L.autorange&&H(L._name+".autorange",!0),w&&w.autorange&&H(w._name+".autorange",!0)},moveFn:function(ke,Ge){var He=de(un,cn),Ue=He[0]+ke,Be=He[1]+Ge;F.call(f.setTranslate,Ue,Be),B("x",T(L,ke,"x",V,O)),B("y",T(w,Ge,"y",V,O)),O.axref===O.xref&&B("ax",T(L,ke,"ax",V,O)),O.ayref===O.yref&&B("ay",T(w,Ge,"ay",V,O)),Ve.attr("transform",l(ke,Ge)),U.attr({transform:"rotate("+Y+","+Ue+","+Be+")"})},doneFn:function(){a.call("_guiRelayout",x,K());var ke=document.querySelector(".js-notes-box-panel");ke&&ke.redraw(ke.selectedObj)}})}}};O.showarrow&&ee(0,0),$&&v.init({element:F.node(),gd:x,prepFn:function(){me=U.attr("transform")},moveFn:function(ue,Te){var Me="pointer";if(O.showarrow)O.axref===O.xref?B("ax",T(L,ue,"ax",V,O)):B("ax",O.ax+ue),O.ayref===O.yref?B("ay",T(w,Te,"ay",V.w,O)):B("ay",O.ay+Te),ee(ue,Te);else{if(C)return;var Ce,fe;if(L)Ce=T(L,ue,"x",V,O);else{var _e=O._xsize/V.w,Le=O.x+(O._xshift-O.xshift)/V.w-_e/2;Ce=v.align(Le+ue/V.w,_e,0,1,O.xanchor)}if(w)fe=T(w,Te,"y",V,O);else{var he=O._ysize/V.h,Se=O.y-(O._yshift+O.yshift)/V.h-he/2;fe=v.align(Se-Te/V.h,he,0,1,O.yanchor)}B("x",Ce),B("y",fe),L&&w||(Me=v.getCursor(L?.5:Ce,w?.5:fe,O.xanchor,O.yanchor))}U.attr({transform:l(ue,Te)+me}),m(F,Me)},clickFn:function(ue,Te){O.captureevents&&x.emit("plotly_clickannotation",st(Te))},doneFn:function(){m(F),a.call("_guiRelayout",x,K());var ue=document.querySelector(".js-notes-box-panel");ue&&ue.redraw(ue.selectedObj)}})}}}s.exports={draw:function(x){var O=x._fullLayout;O._infolayer.selectAll(".annotation").remove();for(var A=0;A<O.annotations.length;A++)O.annotations[A].visible&&_(x,A);return o.previousPromises(x)},drawOne:_,drawRaw:b}},{"../../lib":232,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/plots":314,"../../registry":316,"../color":102,"../dragelement":121,"../drawing":124,"../fx":142,"./draw_arrow_head":92,"@plotly/d3":11}],92:[function(t,s,c){var n=t("@plotly/d3"),a=t("../color"),o=t("./arrow_paths"),i=t("../../lib"),l=i.strScale,p=i.strRotate,d=i.strTranslate;s.exports=function(f,u,h){var m,v,y,k,_=f.node(),T=o[h.arrowhead||0],b=o[h.startarrowhead||0],x=(h.arrowwidth||1)*(h.arrowsize||1),O=(h.arrowwidth||1)*(h.startarrowsize||1),A=u.indexOf("start")>=0,C=u.indexOf("end")>=0,L=T.backoff*x+h.standoff,w=b.backoff*O+h.startstandoff;if(_.nodeName==="line"){m={x:+f.attr("x1"),y:+f.attr("y1")},v={x:+f.attr("x2"),y:+f.attr("y2")};var E=m.x-v.x,I=m.y-v.y;if(k=(y=Math.atan2(I,E))+Math.PI,L&&w&&L+w>Math.sqrt(E*E+I*I))return void D();if(L){if(L*L>E*E+I*I)return void D();var M=L*Math.cos(y),V=L*Math.sin(y);v.x+=M,v.y+=V,f.attr({x2:v.x,y2:v.y})}if(w){if(w*w>E*E+I*I)return void D();var j=w*Math.cos(y),W=w*Math.sin(y);m.x-=j,m.y-=W,f.attr({x1:m.x,y1:m.y})}}else if(_.nodeName==="path"){var H=_.getTotalLength(),B="";if(H<L+w)return void D();var K=_.getPointAtLength(0),et=_.getPointAtLength(.1);y=Math.atan2(K.y-et.y,K.x-et.x),m=_.getPointAtLength(Math.min(w,H)),B="0px,"+w+"px,";var G=_.getPointAtLength(H),Y=_.getPointAtLength(H-.1);k=Math.atan2(G.y-Y.y,G.x-Y.x),v=_.getPointAtLength(Math.max(0,H-L)),B+=H-(B?w+L:L)+"px,"+H+"px",f.style("stroke-dasharray",B)}function D(){f.style("stroke-dasharray","0px,100px")}function U($,Q,F,z){$.path&&($.noRotate&&(F=0),n.select(_.parentNode).append("path").attr({class:f.attr("class"),d:$.path,transform:d(Q.x,Q.y)+p(180*F/Math.PI)+l(z)}).style({fill:a.rgb(h.arrowcolor),"stroke-width":0}))}A&&U(b,m,y,O),C&&U(T,v,k,x)}},{"../../lib":232,"../color":102,"./arrow_paths":84,"@plotly/d3":11}],93:[function(t,s,c){var n=t("./draw"),a=t("./click");s.exports={moduleType:"component",name:"annotations",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("annotations"),calcAutorange:t("./calc_autorange"),draw:n.draw,drawOne:n.drawOne,drawRaw:n.drawRaw,hasClickToShow:a.hasClickToShow,onClick:a.onClick,convertCoords:t("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":85,"./calc_autorange":86,"./click":87,"./convert_coords":89,"./defaults":90,"./draw":91}],94:[function(t,s,c){var n=t("../annotations/attributes"),a=t("../../plot_api/edit_types").overrideAll,o=t("../../plot_api/plot_template").templatedArray;s.exports=a(o("annotation",{visible:n.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:n.xanchor,xshift:n.xshift,yanchor:n.yanchor,yshift:n.yshift,text:n.text,textangle:n.textangle,font:n.font,width:n.width,height:n.height,opacity:n.opacity,align:n.align,valign:n.valign,bgcolor:n.bgcolor,bordercolor:n.bordercolor,borderpad:n.borderpad,borderwidth:n.borderwidth,showarrow:n.showarrow,arrowcolor:n.arrowcolor,arrowhead:n.arrowhead,startarrowhead:n.startarrowhead,arrowside:n.arrowside,arrowsize:n.arrowsize,startarrowsize:n.startarrowsize,arrowwidth:n.arrowwidth,standoff:n.standoff,startstandoff:n.startstandoff,hovertext:n.hovertext,hoverlabel:n.hoverlabel,captureevents:n.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../annotations/attributes":85}],95:[function(t,s,c){var n=t("../../lib"),a=t("../../plots/cartesian/axes");function o(i,l){var p=l.fullSceneLayout.domain,d=l.fullLayout._size,f={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};i._xa={},n.extendFlat(i._xa,f),a.setConvert(i._xa),i._xa._offset=d.l+p.x[0]*d.w,i._xa.l2p=function(){return .5*(1+i._pdata[0]/i._pdata[3])*d.w*(p.x[1]-p.x[0])},i._ya={},n.extendFlat(i._ya,f),a.setConvert(i._ya),i._ya._offset=d.t+(1-p.y[1])*d.h,i._ya.l2p=function(){return .5*(1-i._pdata[1]/i._pdata[3])*d.h*(p.y[1]-p.y[0])}}s.exports=function(i){for(var l=i.fullSceneLayout.annotations,p=0;p<l.length;p++)o(l[p],i);i.fullLayout._infolayer.selectAll(".annotation-"+i.id).remove()}},{"../../lib":232,"../../plots/cartesian/axes":279}],96:[function(t,s,c){var n=t("../../lib"),a=t("../../plots/cartesian/axes"),o=t("../../plots/array_container_defaults"),i=t("../annotations/common_defaults"),l=t("./attributes");function p(d,f,u,h){function m(y,k){return n.coerce(d,f,l,y,k)}function v(y){var k=y+"axis",_={_fullLayout:{}};return _._fullLayout[k]=u[k],a.coercePosition(f,_,m,y,y,.5)}m("visible")&&(i(d,f,h.fullLayout,m),v("x"),v("y"),v("z"),n.noneOrAll(d,f,["x","y","z"]),f.xref="x",f.yref="y",f.zref="z",m("xanchor"),m("yanchor"),m("xshift"),m("yshift"),f.showarrow&&(f.axref="pixel",f.ayref="pixel",m("ax",-10),m("ay",-30),n.noneOrAll(d,f,["ax","ay"])))}s.exports=function(d,f,u){o(d,f,{name:"annotations",handleItemDefaults:p,fullLayout:u.fullLayout})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"../annotations/common_defaults":88,"./attributes":94}],97:[function(t,s,c){var n=t("../annotations/draw").drawRaw,a=t("../../plots/gl3d/project"),o=["x","y","z"];s.exports=function(i){for(var l=i.fullSceneLayout,p=i.dataScale,d=l.annotations,f=0;f<d.length;f++){for(var u=d[f],h=!1,m=0;m<3;m++){var v=o[m],y=u[v],k=l[v+"axis"].r2fraction(y);if(k<0||k>1){h=!0;break}}h?i.fullLayout._infolayer.select(".annotation-"+i.id+'[data-index="'+f+'"]').remove():(u._pdata=a(i.glplot.cameraParams,[l.xaxis.r2l(u.x)*p[0],l.yaxis.r2l(u.y)*p[1],l.zaxis.r2l(u.z)*p[2]]),n(i.graphDiv,u,f,i.id,u._xa,u._ya))}}},{"../../plots/gl3d/project":311,"../annotations/draw":91}],98:[function(t,s,c){var n=t("../../registry"),a=t("../../lib");s.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t("./attributes")}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),includeBasePlot:function(o,i){var l=n.subplotsRegistry.gl3d;if(!!l)for(var p=l.attrRegex,d=Object.keys(o),f=0;f<d.length;f++){var u=d[f];p.test(u)&&(o[u].annotations||[]).length&&(a.pushUnique(i._basePlotModules,l),a.pushUnique(i._subplots.gl3d,u))}},convert:t("./convert"),draw:t("./draw")}},{"../../lib":232,"../../registry":316,"./attributes":94,"./convert":95,"./defaults":96,"./draw":97}],99:[function(t,s,c){s.exports=t("world-calendars/dist/main"),t("world-calendars/dist/plus"),t("world-calendars/dist/calendars/chinese"),t("world-calendars/dist/calendars/coptic"),t("world-calendars/dist/calendars/discworld"),t("world-calendars/dist/calendars/ethiopian"),t("world-calendars/dist/calendars/hebrew"),t("world-calendars/dist/calendars/islamic"),t("world-calendars/dist/calendars/julian"),t("world-calendars/dist/calendars/mayan"),t("world-calendars/dist/calendars/nanakshahi"),t("world-calendars/dist/calendars/nepali"),t("world-calendars/dist/calendars/persian"),t("world-calendars/dist/calendars/taiwan"),t("world-calendars/dist/calendars/thai"),t("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":68,"world-calendars/dist/calendars/coptic":69,"world-calendars/dist/calendars/discworld":70,"world-calendars/dist/calendars/ethiopian":71,"world-calendars/dist/calendars/hebrew":72,"world-calendars/dist/calendars/islamic":73,"world-calendars/dist/calendars/julian":74,"world-calendars/dist/calendars/mayan":75,"world-calendars/dist/calendars/nanakshahi":76,"world-calendars/dist/calendars/nepali":77,"world-calendars/dist/calendars/persian":78,"world-calendars/dist/calendars/taiwan":79,"world-calendars/dist/calendars/thai":80,"world-calendars/dist/calendars/ummalqura":81,"world-calendars/dist/main":82,"world-calendars/dist/plus":83}],100:[function(t,s,c){var n=t("./calendars"),a=t("../../lib"),o=t("../../constants/numerical"),i=o.EPOCHJD,l=o.ONEDAY,p={valType:"enumerated",values:a.sortObjectKeys(n.calendars),editType:"calc",dflt:"gregorian"},d=function(b,x,O,A){var C={};return C[O]=p,a.coerce(b,x,C,O,A)},f={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:"##",w:"##",c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},u={};function h(b){var x=u[b];return x||(x=u[b]=n.instance(b))}function m(b){return a.extendFlat({},p,{description:b})}function v(b){return"Sets the calendar system to use with `"+b+"` date data."}var y={xcalendar:m(v("x"))},k=a.extendFlat({},y,{ycalendar:m(v("y"))}),_=a.extendFlat({},k,{zcalendar:m(v("z"))}),T=m(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));s.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:k,bar:k,box:k,heatmap:k,contour:k,histogram:k,histogram2d:k,histogram2dcontour:k,scatter3d:_,surface:_,mesh3d:_,scattergl:k,ohlc:y,candlestick:y},layout:{calendar:m(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:T},yaxis:{calendar:T},scene:{xaxis:{calendar:T},yaxis:{calendar:T},zaxis:{calendar:T}},polar:{radialaxis:{calendar:T}}},transforms:{filter:{valuecalendar:m(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:m(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:p,handleDefaults:d,handleTraceDefaults:function(b,x,O,A){for(var C=0;C<O.length;C++)d(b,x,O[C]+"calendar",A.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:h,worldCalFmt:function(b,x,O){for(var A,C,L,w,E,I=Math.floor((x+.05)/l)+i,M=h(O).fromJD(I),V=0;(V=b.indexOf("%",V))!==-1;)(A=b.charAt(V+1))==="0"||A==="-"||A==="_"?(L=3,C=b.charAt(V+2),A==="_"&&(A="-")):(C=A,A="0",L=2),(w=f[C])?(E=w==="##"?"##":M.formatDate(w[A]),b=b.substr(0,V)+E+b.substr(V+L),V+=E.length):V+=L;return b}}},{"../../constants/numerical":212,"../../lib":232,"./calendars":99}],101:[function(t,s,c){c.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],c.defaultLine="#444",c.lightLine="#eee",c.background="#fff",c.borderLine="#BEC8D9",c.lightFraction=1e3/11},{}],102:[function(t,s,c){var n=t("tinycolor2"),a=t("fast-isnumeric"),o=t("../../lib/array").isTypedArray,i=s.exports={},l=t("./attributes");i.defaults=l.defaults;var p=i.defaultLine=l.defaultLine;i.lightLine=l.lightLine;var d=i.background=l.background;function f(u){if(a(u)||typeof u!="string")return u;var h=u.trim();if(h.substr(0,3)!=="rgb")return u;var m=h.match(/^rgba?\s*\(([^()]*)\)$/);if(!m)return u;var v=m[1].trim().split(/\s*[\s,]\s*/),y=h.charAt(3)==="a"&&v.length===4;if(!y&&v.length!==3)return u;for(var k=0;k<v.length;k++){if(!v[k].length||(v[k]=Number(v[k]),!(v[k]>=0)))return u;if(k===3)v[k]>1&&(v[k]=1);else if(v[k]>=1)return u}var _=Math.round(255*v[0])+", "+Math.round(255*v[1])+", "+Math.round(255*v[2]);return y?"rgba("+_+", "+v[3]+")":"rgb("+_+")"}i.tinyRGB=function(u){var h=u.toRgb();return"rgb("+Math.round(h.r)+", "+Math.round(h.g)+", "+Math.round(h.b)+")"},i.rgb=function(u){return i.tinyRGB(n(u))},i.opacity=function(u){return u?n(u).getAlpha():0},i.addOpacity=function(u,h){var m=n(u).toRgb();return"rgba("+Math.round(m.r)+", "+Math.round(m.g)+", "+Math.round(m.b)+", "+h+")"},i.combine=function(u,h){var m=n(u).toRgb();if(m.a===1)return n(u).toRgbString();var v=n(h||d).toRgb(),y=v.a===1?v:{r:255*(1-v.a)+v.r*v.a,g:255*(1-v.a)+v.g*v.a,b:255*(1-v.a)+v.b*v.a},k={r:y.r*(1-m.a)+m.r*m.a,g:y.g*(1-m.a)+m.g*m.a,b:y.b*(1-m.a)+m.b*m.a};return n(k).toRgbString()},i.contrast=function(u,h,m){var v=n(u);return v.getAlpha()!==1&&(v=n(i.combine(u,d))),(v.isDark()?h?v.lighten(h):d:m?v.darken(m):p).toString()},i.stroke=function(u,h){var m=n(h);u.style({stroke:i.tinyRGB(m),"stroke-opacity":m.getAlpha()})},i.fill=function(u,h){var m=n(h);u.style({fill:i.tinyRGB(m),"fill-opacity":m.getAlpha()})},i.clean=function(u){if(u&&typeof u=="object"){var h,m,v,y,k=Object.keys(u);for(h=0;h<k.length;h++)if(y=u[v=k[h]],v.substr(v.length-5)==="color")if(Array.isArray(y))for(m=0;m<y.length;m++)y[m]=f(y[m]);else u[v]=f(y);else if(v.substr(v.length-10)==="colorscale"&&Array.isArray(y))for(m=0;m<y.length;m++)Array.isArray(y[m])&&(y[m][1]=f(y[m][1]));else if(Array.isArray(y)){var _=y[0];if(!Array.isArray(_)&&_&&typeof _=="object")for(m=0;m<y.length;m++)i.clean(y[m])}else y&&typeof y=="object"&&!o(y)&&i.clean(y)}}},{"../../lib/array":218,"./attributes":101,"fast-isnumeric":17,tinycolor2:67}],103:[function(t,s,c){var n=t("../../plots/cartesian/layout_attributes"),a=t("../../plots/font_attributes"),o=t("../../lib/extend").extendFlat,i=t("../../plot_api/edit_types").overrideAll;s.exports=i({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:n.linecolor,outlinewidth:n.linewidth,bordercolor:n.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:n.tickmode,nticks:n.nticks,tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:o({},n.ticks,{dflt:""}),ticklabeloverflow:o({},n.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside bottom","inside bottom"],dflt:"outside"},ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,showticklabels:n.showticklabels,tickfont:a({}),tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,tickprefix:n.tickprefix,showtickprefix:n.showtickprefix,ticksuffix:n.ticksuffix,showticksuffix:n.showticksuffix,separatethousands:n.separatethousands,exponentformat:n.exponentformat,minexponent:n.minexponent,showexponent:n.showexponent,title:{text:{valType:"string"},font:a({}),side:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},_deprecated:{title:{valType:"string"},titlefont:a({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plots/cartesian/layout_attributes":294,"../../plots/font_attributes":308}],104:[function(t,s,c){s.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],105:[function(t,s,c){var n=t("../../lib"),a=t("../../plot_api/plot_template"),o=t("../../plots/cartesian/tick_value_defaults"),i=t("../../plots/cartesian/tick_mark_defaults"),l=t("../../plots/cartesian/tick_label_defaults"),p=t("./attributes");s.exports=function(d,f,u){var h=a.newContainer(f,"colorbar"),m=d.colorbar||{};function v(A,C){return n.coerce(m,h,p,A,C)}var y=v("thicknessmode");v("thickness",y==="fraction"?30/(u.width-u.margin.l-u.margin.r):30);var k=v("lenmode");v("len",k==="fraction"?1:u.height-u.margin.t-u.margin.b),v("x"),v("xanchor"),v("xpad"),v("y"),v("yanchor"),v("ypad"),n.noneOrAll(m,h,["x","y"]),v("outlinecolor"),v("outlinewidth"),v("bordercolor"),v("borderwidth"),v("bgcolor");var _=v("ticklabelposition");v("ticklabeloverflow",_.indexOf("inside")!==-1?"hide past domain":"hide past div"),o(m,h,v,"linear");var T=u.font,b={outerTicks:!1,font:T};_.indexOf("inside")!==-1&&(b.bgColor="black"),l(m,h,v,"linear",b),i(m,h,v,"linear",b),v("title.text",u._dfltTitle.colorbar);var x=h.tickfont,O=n.extendFlat({},x,{color:T.color,size:n.bigFont(x.size)});n.coerceFont(v,"title.font",O),v("title.side")}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/tick_label_defaults":301,"../../plots/cartesian/tick_mark_defaults":302,"../../plots/cartesian/tick_value_defaults":303,"./attributes":103}],106:[function(t,s,c){var n=t("@plotly/d3"),a=t("tinycolor2"),o=t("../../plots/plots"),i=t("../../registry"),l=t("../../plots/cartesian/axes"),p=t("../dragelement"),d=t("../../lib"),f=d.strTranslate,u=t("../../lib/extend").extendFlat,h=t("../../lib/setcursor"),m=t("../drawing"),v=t("../color"),y=t("../titles"),k=t("../../lib/svg_text_utils"),_=t("../colorscale/helpers").flipScale,T=t("../../plots/cartesian/axis_defaults"),b=t("../../plots/cartesian/position_defaults"),x=t("../../plots/cartesian/layout_attributes"),O=t("../../constants/alignment"),A=O.LINE_SPACING,C=O.FROM_TL,L=O.FROM_BR,w=t("./constants").cn;s.exports={draw:function(E){var I=E._fullLayout._infolayer.selectAll("g."+w.colorbar).data(function(M){var V,j,W,H,B=M._fullLayout,K=M.calcdata,et=[];function G(q){return u(q,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Y(){typeof H.calc=="function"?H.calc(M,W,V):(V._fillgradient=j.reversescale?_(j.colorscale):j.colorscale,V._zrange=[j[H.min],j[H.max]])}for(var D=0;D<K.length;D++){var U=K[D],$=(W=U[0].trace)._module.colorbar;if(W.visible===!0&&$)for(var Q=Array.isArray($),F=Q?$:[$],z=0;z<F.length;z++){var P=(H=F[z]).container;(j=P?W[P]:W)&&j.showscale&&((V=G(j.colorbar))._id="cb"+W.uid+(Q&&P?"-"+P:""),V._traceIndex=W.index,V._propPrefix=(P?P+".":"")+"colorbar.",V._meta=W._meta,Y(),et.push(V))}}for(var Z in B._colorAxes)if((j=B[Z]).showscale){var R=B._colorAxes[Z];(V=G(j.colorbar))._id="cb"+Z,V._propPrefix=Z+".colorbar.",V._meta=B._meta,H={min:"cmin",max:"cmax"},R[0]!=="heatmap"&&(W=R[1],H.calc=W._module.colorbar.calc),Y(),et.push(V)}return et}(E),function(M){return M._id});I.enter().append("g").attr("class",function(M){return M._id}).classed(w.colorbar,!0),I.each(function(M){var V=n.select(this);d.ensureSingle(V,"rect",w.cbbg),d.ensureSingle(V,"g",w.cbfills),d.ensureSingle(V,"g",w.cblines),d.ensureSingle(V,"g",w.cbaxis,function(W){W.classed(w.crisp,!0)}),d.ensureSingle(V,"g",w.cbtitleunshift,function(W){W.append("g").classed(w.cbtitle,!0)}),d.ensureSingle(V,"rect",w.cboutline);var j=function(W,H,B){var K=B._fullLayout,et=K._size,G=H._fillcolor,Y=H._line,D=H.title,U=D.side,$=H._zrange||n.extent((typeof G=="function"?G:Y.color).domain()),Q=typeof Y.color=="function"?Y.color:function(){return Y.color},F=typeof G=="function"?G:function(){return G},z=H._levels,P=function(At,Ct,qt){var St,$t,Zt=Ct._levels,Yt=[],re=[],Qt=Zt.end+Zt.size/100,xt=Zt.size,kt=1.001*qt[0]-.001*qt[1],Bt=1.001*qt[1]-.001*qt[0];for($t=0;$t<1e5&&(St=Zt.start+$t*xt,!(xt>0?St>=Qt:St<=Qt));$t++)St>kt&&St<Bt&&Yt.push(St);if(Ct._fillgradient)re=[0];else if(typeof Ct._fillcolor=="function"){var ie=Ct._filllevels;if(ie)for(Qt=ie.end+ie.size/100,xt=ie.size,$t=0;$t<1e5&&(St=ie.start+$t*xt,!(xt>0?St>=Qt:St<=Qt));$t++)St>qt[0]&&St<qt[1]&&re.push(St);else(re=Yt.map(function(ye){return ye-Zt.size/2})).push(re[re.length-1]+Zt.size)}else Ct._fillcolor&&typeof Ct._fillcolor=="string"&&(re=[0]);return Zt.size<0&&(Yt.reverse(),re.reverse()),{line:Yt,fill:re}}(0,H,$),Z=P.fill,R=P.line,q=Math.round(H.thickness*(H.thicknessmode==="fraction"?et.w:1)),tt=q/et.w,rt=Math.round(H.len*(H.lenmode==="fraction"?et.h:1)),nt=rt/et.h,ct=H.xpad/et.w,st=(H.borderwidth+H.outlinewidth)/2,gt=H.ypad/et.h,wt=Math.round(H.x*et.w+H.xpad),Ot=H.x-tt*({middle:.5,right:1}[H.xanchor]||0),bt=H.y+nt*(({top:-.5,bottom:.5}[H.yanchor]||0)-.5),Ht=Math.round(et.h*(1-bt)),Dt=Ht-rt;H._lenFrac=nt,H._thickFrac=tt,H._xLeftFrac=Ot,H._yBottomFrac=bt;var yt=H._axis=function(At,Ct,qt){var St=At._fullLayout,$t={type:"linear",range:qt,tickmode:Ct.tickmode,nticks:Ct.nticks,tick0:Ct.tick0,dtick:Ct.dtick,tickvals:Ct.tickvals,ticktext:Ct.ticktext,ticks:Ct.ticks,ticklen:Ct.ticklen,tickwidth:Ct.tickwidth,tickcolor:Ct.tickcolor,showticklabels:Ct.showticklabels,ticklabelposition:Ct.ticklabelposition,ticklabeloverflow:Ct.ticklabeloverflow,tickfont:Ct.tickfont,tickangle:Ct.tickangle,tickformat:Ct.tickformat,exponentformat:Ct.exponentformat,minexponent:Ct.minexponent,separatethousands:Ct.separatethousands,showexponent:Ct.showexponent,showtickprefix:Ct.showtickprefix,tickprefix:Ct.tickprefix,showticksuffix:Ct.showticksuffix,ticksuffix:Ct.ticksuffix,title:Ct.title,showline:!0,anchor:"free",side:"right",position:1},Zt={type:"linear",_id:"y"+Ct._id},Yt={letter:"y",font:St.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:St.calendar};function re(Qt,xt){return d.coerce($t,Zt,x,Qt,xt)}return T($t,Zt,re,Yt,St),b($t,Zt,re,Yt),Zt}(B,H,$);if(yt.position=H.x+ct+tt,["top","bottom"].indexOf(U)!==-1&&(yt.title.side=U,yt.titlex=H.x+ct,yt.titley=bt+(D.side==="top"?nt-gt:gt)),Y.color&&H.tickmode==="auto"){yt.tickmode="linear",yt.tick0=z.start;var ut=z.size,it=d.constrain((Ht-Dt)/50,4,15)+1,dt=($[1]-$[0])/((H.nticks||it)*ut);if(dt>1){var mt=Math.pow(10,Math.floor(Math.log(dt)/Math.LN10));ut*=mt*d.roundUp(dt/mt,[2,5,10]),(Math.abs(z.start)/z.size+1e-6)%1<2e-6&&(yt.tick0=0)}yt.dtick=ut}yt.domain=[bt+gt,bt+nt-gt],yt.setScale(),W.attr("transform",f(Math.round(et.l),Math.round(et.t)));var Et,Mt=W.select("."+w.cbtitleunshift).attr("transform",f(-Math.round(et.l),-Math.round(et.t))),Tt=W.select("."+w.cbaxis),Nt=0;function zt(At,Ct){var qt={propContainer:yt,propName:H._propPrefix+"title",traceIndex:H._traceIndex,_meta:H._meta,placeholder:K._dfltTitle.colorbar,containerGroup:W.select("."+w.cbtitle)},St=At.charAt(0)==="h"?At.substr(1):"h"+At;W.selectAll("."+St+",."+St+"-math-group").remove(),y.draw(B,At,u(qt,Ct||{}))}return d.syncOrAsync([o.previousPromises,function(){if(["top","bottom"].indexOf(U)!==-1){var At,Ct=et.l+(H.x+ct)*et.w,qt=yt.title.font.size;At=U==="top"?(1-(bt+nt-gt))*et.h+et.t+3+.75*qt:(1-(bt+gt))*et.h+et.t-3-.25*qt,zt(yt._id+"title",{attributes:{x:Ct,y:At,"text-anchor":"start"}})}},function(){if(["top","bottom"].indexOf(U)!==-1){var At=W.select("."+w.cbtitle),Ct=At.select("text"),qt=[-H.outlinewidth/2,H.outlinewidth/2],St=At.select(".h"+yt._id+"title-math-group").node(),$t=15.6;if(Ct.node()&&($t=parseInt(Ct.node().style.fontSize,10)*A),St?(Nt=m.bBox(St).height)>$t&&(qt[1]-=(Nt-$t)/2):Ct.node()&&!Ct.classed(w.jsPlaceholder)&&(Nt=m.bBox(Ct.node()).height),Nt){if(Nt+=5,U==="top")yt.domain[1]-=Nt/et.h,qt[1]*=-1;else{yt.domain[0]+=Nt/et.h;var Zt=k.lineCount(Ct);qt[1]+=(1-Zt)*$t}At.attr("transform",f(qt[0],qt[1])),yt.setScale()}}W.selectAll("."+w.cbfills+",."+w.cblines).attr("transform",f(0,Math.round(et.h*(1-yt.domain[1])))),Tt.attr("transform",f(0,Math.round(-et.t)));var Yt=W.select("."+w.cbfills).selectAll("rect."+w.cbfill).attr("style","").data(Z);Yt.enter().append("rect").classed(w.cbfill,!0).style("stroke","none"),Yt.exit().remove();var re=$.map(yt.c2p).map(Math.round).sort(function(ie,ye){return ie-ye});Yt.each(function(ie,ye){var ot=[ye===0?$[0]:(Z[ye]+Z[ye-1])/2,ye===Z.length-1?$[1]:(Z[ye]+Z[ye+1])/2].map(yt.c2p).map(Math.round);ot[1]=d.constrain(ot[1]+(ot[1]>ot[0])?1:-1,re[0],re[1]);var ft=n.select(this).attr({x:wt,width:Math.max(q,2),y:n.min(ot),height:Math.max(n.max(ot)-n.min(ot),2)});if(H._fillgradient)m.gradient(ft,B,H._id,"vertical",H._fillgradient,"fill");else{var Lt=F(ie).replace("e-","");ft.attr("fill",a(Lt).toHexString())}});var Qt=W.select("."+w.cblines).selectAll("path."+w.cbline).data(Y.color&&Y.width?R:[]);Qt.enter().append("path").classed(w.cbline,!0),Qt.exit().remove(),Qt.each(function(ie){n.select(this).attr("d","M"+wt+","+(Math.round(yt.c2p(ie))+Y.width/2%1)+"h"+q).call(m.lineGroupStyle,Y.width,Q(ie),Y.dash)}),Tt.selectAll("g."+yt._id+"tick,path").remove();var xt=wt+q+(H.outlinewidth||0)/2-(H.ticks==="outside"?1:0),kt=l.calcTicks(yt),Bt=l.getTickSigns(yt)[2];return l.drawTicks(B,yt,{vals:yt.ticks==="inside"?l.clipEnds(yt,kt):kt,layer:Tt,path:l.makeTickPath(yt,xt,Bt),transFn:l.makeTransTickFn(yt)}),l.drawLabels(B,yt,{vals:kt,layer:Tt,transFn:l.makeTransTickLabelFn(yt),labelFns:l.makeLabelFns(yt,xt)})},function(){if(["top","bottom"].indexOf(U)===-1){var At=yt.title.font.size,Ct=yt._offset+yt._length/2,qt=et.l+(yt.position||0)*et.w+(yt.side==="right"?10+At*(yt.showticklabels?1:.5):-10-At*(yt.showticklabels?.5:0));zt("h"+yt._id+"title",{avoid:{selection:n.select(B).selectAll("g."+yt._id+"tick"),side:U,offsetLeft:et.l,offsetTop:0,maxShift:K.width},attributes:{x:qt,y:Ct,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}},o.previousPromises,function(){var At=q+H.outlinewidth/2;if(yt.ticklabelposition.indexOf("inside")===-1&&(At+=m.bBox(Tt.node()).width),(Et=Mt.select("text")).node()&&!Et.classed(w.jsPlaceholder)){var Ct,qt=Mt.select(".h"+yt._id+"title-math-group").node();Ct=qt&&["top","bottom"].indexOf(U)!==-1?m.bBox(qt).width:m.bBox(Mt.node()).right-wt-et.l,At=Math.max(At,Ct)}var St=2*H.xpad+At+H.borderwidth+H.outlinewidth/2,$t=Ht-Dt;W.select("."+w.cbbg).attr({x:wt-H.xpad-(H.borderwidth+H.outlinewidth)/2,y:Dt-st,width:Math.max(St,2),height:Math.max($t+2*st,2)}).call(v.fill,H.bgcolor).call(v.stroke,H.bordercolor).style("stroke-width",H.borderwidth),W.selectAll("."+w.cboutline).attr({x:wt,y:Dt+H.ypad+(U==="top"?Nt:0),width:Math.max(q,2),height:Math.max($t-2*H.ypad-Nt,2)}).call(v.stroke,H.outlinecolor).style({fill:"none","stroke-width":H.outlinewidth});var Zt=({center:.5,right:1}[H.xanchor]||0)*St;W.attr("transform",f(et.l-Zt,et.t));var Yt={},re=C[H.yanchor],Qt=L[H.yanchor];H.lenmode==="pixels"?(Yt.y=H.y,Yt.t=$t*re,Yt.b=$t*Qt):(Yt.t=Yt.b=0,Yt.yt=H.y+H.len*re,Yt.yb=H.y-H.len*Qt);var xt=C[H.xanchor],kt=L[H.xanchor];if(H.thicknessmode==="pixels")Yt.x=H.x,Yt.l=St*xt,Yt.r=St*kt;else{var Bt=St-q;Yt.l=Bt*xt,Yt.r=Bt*kt,Yt.xl=H.x-H.thickness*xt,Yt.xr=H.x+H.thickness*kt}o.autoMargin(B,H._id,Yt)}],B)}(V,M,E);j&&j.then&&(E._promises||[]).push(j),E._context.edits.colorbarPosition&&function(W,H,B){var K,et,G,Y=B._fullLayout._size;p.init({element:W.node(),gd:B,prepFn:function(){K=W.attr("transform"),h(W)},moveFn:function(D,U){W.attr("transform",K+f(D,U)),et=p.align(H._xLeftFrac+D/Y.w,H._thickFrac,0,1,H.xanchor),G=p.align(H._yBottomFrac-U/Y.h,H._lenFrac,0,1,H.yanchor);var $=p.getCursor(et,G,H.xanchor,H.yanchor);h(W,$)},doneFn:function(){if(h(W),et!==void 0&&G!==void 0){var D={};D[H._propPrefix+"x"]=et,D[H._propPrefix+"y"]=G,H._traceIndex!==void 0?i.call("_guiRestyle",B,D,H._traceIndex):i.call("_guiRelayout",B,D)}}})}(V,M,E)}),I.exit().each(function(M){o.autoMargin(E,M._id)}).remove(),I.order()}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/extend":226,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_defaults":281,"../../plots/cartesian/layout_attributes":294,"../../plots/cartesian/position_defaults":297,"../../plots/plots":314,"../../registry":316,"../color":102,"../colorscale/helpers":113,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":104,"@plotly/d3":11,tinycolor2:67}],107:[function(t,s,c){var n=t("../../lib");s.exports=function(a){return n.isPlainObject(a.colorbar)}},{"../../lib":232}],108:[function(t,s,c){s.exports={moduleType:"component",name:"colorbar",attributes:t("./attributes"),supplyDefaults:t("./defaults"),draw:t("./draw").draw,hasColorbar:t("./has_colorbar")}},{"./attributes":103,"./defaults":105,"./draw":106,"./has_colorbar":107}],109:[function(t,s,c){var n=t("../colorbar/attributes"),a=t("../../lib/regex").counter,o=t("../../lib/sort_object_keys"),i=t("./scales.js").scales;o(i);function l(p){return"`"+p+"`"}s.exports=function(p,d){p=p||"";var f,u=(d=d||{}).cLetter||"c",h=("onlyIfNumerical"in d?d.onlyIfNumerical:Boolean(p),"noScale"in d?d.noScale:p==="marker.line"),m="showScaleDflt"in d?d.showScaleDflt:u==="z",v=typeof d.colorscaleDflt=="string"?i[d.colorscaleDflt]:null,y=d.editTypeOverride||"",k=p?p+".":"";"colorAttr"in d?(f=d.colorAttr,d.colorAttr):l(k+(f={z:"z",c:"color"}[u]));var _=u+"auto",T=u+"min",b=u+"max",x=u+"mid",O={};O[T]=O[b]=void 0;var A={};A[_]=!1;var C={};return f==="color"&&(C.color={valType:"color",arrayOk:!0,editType:y||"style"},d.anim&&(C.color.anim=!0)),C[_]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:O},C[T]={valType:"number",dflt:null,editType:y||"plot",impliedEdits:A},C[b]={valType:"number",dflt:null,editType:y||"plot",impliedEdits:A},C[x]={valType:"number",dflt:null,editType:"calc",impliedEdits:O},C.colorscale={valType:"colorscale",editType:"calc",dflt:v,impliedEdits:{autocolorscale:!1}},C.autocolorscale={valType:"boolean",dflt:d.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},C.reversescale={valType:"boolean",dflt:!1,editType:"plot"},h||(C.showscale={valType:"boolean",dflt:m,editType:"calc"},C.colorbar=n),d.noColorAxis||(C.coloraxis={valType:"subplotid",regex:a("coloraxis"),dflt:null,editType:"calc"}),C}},{"../../lib/regex":248,"../../lib/sort_object_keys":253,"../colorbar/attributes":103,"./scales.js":117}],110:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../../lib"),o=t("./helpers").extractOpts;s.exports=function(i,l,p){var d,f=i._fullLayout,u=p.vals,h=p.containerStr,m=h?a.nestedProperty(l,h).get():l,v=o(m),y=v.auto!==!1,k=v.min,_=v.max,T=v.mid,b=function(){return a.aggNums(Math.min,null,u)},x=function(){return a.aggNums(Math.max,null,u)};k===void 0?k=b():y&&(k=m._colorAx&&n(k)?Math.min(k,b()):b()),_===void 0?_=x():y&&(_=m._colorAx&&n(_)?Math.max(_,x()):x()),y&&T!==void 0&&(_-T>T-k?k=T-(_-T):_-T<T-k&&(_=T+(T-k))),k===_&&(k-=.5,_+=.5),v._sync("min",k),v._sync("max",_),v.autocolorscale&&(d=k*_<0?f.colorscale.diverging:k>=0?f.colorscale.sequential:f.colorscale.sequentialminus,v._sync("colorscale",d))}},{"../../lib":232,"./helpers":113,"fast-isnumeric":17}],111:[function(t,s,c){var n=t("../../lib"),a=t("./helpers").hasColorscale,o=t("./helpers").extractOpts;s.exports=function(i,l){function p(y,k){var _=y["_"+k];_!==void 0&&(y[k]=_)}function d(y,k){var _=k.container?n.nestedProperty(y,k.container).get():y;if(_)if(_.coloraxis)_._colorAx=l[_.coloraxis];else{var T=o(_),b=T.auto;(b||T.min===void 0)&&p(_,k.min),(b||T.max===void 0)&&p(_,k.max),T.autocolorscale&&p(_,"colorscale")}}for(var f=0;f<i.length;f++){var u=i[f],h=u._module.colorbar;if(h)if(Array.isArray(h))for(var m=0;m<h.length;m++)d(u,h[m]);else d(u,h);a(u,"marker.line")&&d(u,{container:"marker.line",min:"cmin",max:"cmax"})}for(var v in l._colorAxes)d(l[v],{min:"cmin",max:"cmax"})}},{"../../lib":232,"./helpers":113}],112:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../../lib"),o=t("../colorbar/has_colorbar"),i=t("../colorbar/defaults"),l=t("./scales").isValid,p=t("../../registry").traceIs;function d(f,u){var h=u.slice(0,u.length-1);return u?a.nestedProperty(f,h).get()||{}:f}s.exports=function f(u,h,m,v,y){var k=y.prefix,_=y.cLetter,T="_module"in h,b=d(u,k),x=d(h,k),O=d(h._template||{},k)||{},A=function(){return delete u.coloraxis,delete h.coloraxis,f(u,h,m,v,y)};if(T){var C=m._colorAxes||{},L=v(k+"coloraxis");if(L){var w=p(h,"contour")&&a.nestedProperty(h,"contours.coloring").get()||"heatmap",E=C[L];return void(E?(E[2].push(A),E[0]!==w&&(E[0]=!1,a.warn(["Ignoring coloraxis:",L,"setting","as it is linked to incompatible colorscales."].join(" ")))):C[L]=[w,h,[A]])}}var I=b[_+"min"],M=b[_+"max"],V=n(I)&&n(M)&&I<M;v(k+_+"auto",!V)?v(k+_+"mid"):(v(k+_+"min"),v(k+_+"max"));var j,W,H=b.colorscale,B=O.colorscale;H!==void 0&&(j=!l(H)),B!==void 0&&(j=!l(B)),v(k+"autocolorscale",j),v(k+"colorscale"),v(k+"reversescale"),k!=="marker.line."&&(k&&T&&(W=o(b)),v(k+"showscale",W)&&(k&&O&&(x._template=O),i(b,x,m)))}},{"../../lib":232,"../../registry":316,"../colorbar/defaults":105,"../colorbar/has_colorbar":107,"./scales":117,"fast-isnumeric":17}],113:[function(t,s,c){var n=t("@plotly/d3"),a=t("tinycolor2"),o=t("fast-isnumeric"),i=t("../../lib"),l=t("../color"),p=t("./scales").isValid,d=["showscale","autocolorscale","colorscale","reversescale","colorbar"],f=["min","max","mid","auto"];function u(k){var _,T,b,x=k._colorAx,O=x||k,A={};for(T=0;T<d.length;T++)A[b=d[T]]=O[b];if(x)for(_="c",T=0;T<f.length;T++)A[b=f[T]]=O["c"+b];else{var C;for(T=0;T<f.length;T++)((C="c"+(b=f[T]))in O||(C="z"+b)in O)&&(A[b]=O[C]);_=C.charAt(0)}return A._sync=function(L,w){var E=f.indexOf(L)!==-1?_+L:L;O[E]=O["_"+E]=w},A}function h(k){for(var _=u(k),T=_.min,b=_.max,x=_.reversescale?m(_.colorscale):_.colorscale,O=x.length,A=new Array(O),C=new Array(O),L=0;L<O;L++){var w=x[L];A[L]=T+w[0]*(b-T),C[L]=w[1]}return{domain:A,range:C}}function m(k){for(var _=k.length,T=new Array(_),b=_-1,x=0;b>=0;b--,x++){var O=k[b];T[x]=[1-O[0],O[1]]}return T}function v(k,_){_=_||{};for(var T=k.domain,b=k.range,x=b.length,O=new Array(x),A=0;A<x;A++){var C=a(b[A]).toRgb();O[A]=[C.r,C.g,C.b,C.a]}var L,w=n.scale.linear().domain(T).range(O).clamp(!0),E=_.noNumericCheck,I=_.returnArray;return(L=E&&I?w:E?function(M){return y(w(M))}:I?function(M){return o(M)?w(M):a(M).isValid()?M:l.defaultLine}:function(M){return o(M)?y(w(M)):a(M).isValid()?M:l.defaultLine}).domain=w.domain,L.range=function(){return b},L}function y(k){var _={r:k[0],g:k[1],b:k[2],a:k[3]};return a(_).toRgbString()}s.exports={hasColorscale:function(k,_,T){var b=_?i.nestedProperty(k,_).get()||{}:k,x=b[T||"color"],O=!1;if(i.isArrayOrTypedArray(x)){for(var A=0;A<x.length;A++)if(o(x[A])){O=!0;break}}return i.isPlainObject(b)&&(O||b.showscale===!0||o(b.cmin)&&o(b.cmax)||p(b.colorscale)||i.isPlainObject(b.colorbar))},extractOpts:u,extractScale:h,flipScale:m,makeColorScaleFunc:v,makeColorScaleFuncFromTrace:function(k,_){return v(h(k),_)}}},{"../../lib":232,"../color":102,"./scales":117,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],114:[function(t,s,c){var n=t("./scales"),a=t("./helpers");s.exports={moduleType:"component",name:"colorscale",attributes:t("./attributes"),layoutAttributes:t("./layout_attributes"),supplyLayoutDefaults:t("./layout_defaults"),handleDefaults:t("./defaults"),crossTraceDefaults:t("./cross_trace_defaults"),calc:t("./calc"),scales:n.scales,defaultScale:n.defaultScale,getScale:n.get,isValidScale:n.isValid,hasColorscale:a.hasColorscale,extractOpts:a.extractOpts,extractScale:a.extractScale,flipScale:a.flipScale,makeColorScaleFunc:a.makeColorScaleFunc,makeColorScaleFuncFromTrace:a.makeColorScaleFuncFromTrace}},{"./attributes":109,"./calc":110,"./cross_trace_defaults":111,"./defaults":112,"./helpers":113,"./layout_attributes":115,"./layout_defaults":116,"./scales":117}],115:[function(t,s,c){var n=t("../../lib/extend").extendFlat,a=t("./attributes"),o=t("./scales").scales;s.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc"}},coloraxis:n({_isSubplotObj:!0,editType:"calc"},a("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":226,"./attributes":109,"./scales":117}],116:[function(t,s,c){var n=t("../../lib"),a=t("../../plot_api/plot_template"),o=t("./layout_attributes"),i=t("./defaults");s.exports=function(l,p){function d(_,T){return n.coerce(l,p,o,_,T)}d("colorscale.sequential"),d("colorscale.sequentialminus"),d("colorscale.diverging");var f,u,h=p._colorAxes;function m(_,T){return n.coerce(f,u,o.coloraxis,_,T)}for(var v in h){var y=h[v];if(y[0])f=l[v]||{},(u=a.newContainer(p,v,"coloraxis"))._name=v,i(f,u,p,m,{prefix:"",cLetter:"c"});else{for(var k=0;k<y[2].length;k++)y[2][k]();delete p._colorAxes[v]}}}},{"../../lib":232,"../../plot_api/plot_template":268,"./defaults":112,"./layout_attributes":115}],117:[function(t,s,c){var n=t("tinycolor2"),a={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=a.RdBu;function i(l){var p=0;if(!Array.isArray(l)||l.length<2||!l[0]||!l[l.length-1]||+l[0][0]!=0||+l[l.length-1][0]!=1)return!1;for(var d=0;d<l.length;d++){var f=l[d];if(f.length!==2||+f[0]<p||!n(f[1]).isValid())return!1;p=+f[0]}return!0}s.exports={scales:a,defaultScale:o,get:function(l,p){if(p||(p=o),!l)return p;function d(){try{l=a[l]||JSON.parse(l)}catch(f){l=p}}return typeof l=="string"&&(d(),typeof l=="string"&&d()),i(l)?l:p},isValid:function(l){return a[l]!==void 0||i(l)}}},{tinycolor2:67}],118:[function(t,s,c){s.exports=function(n,a,o,i,l){var p=(n-o)/(i-o),d=p+a/(i-o),f=(p+d)/2;return l==="left"||l==="bottom"?p:l==="center"||l==="middle"?f:l==="right"||l==="top"?d:p<2/3-f?p:d>4/3-f?d:f}},{}],119:[function(t,s,c){var n=t("../../lib"),a=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];s.exports=function(o,i,l,p){return o=l==="left"?0:l==="center"?1:l==="right"?2:n.constrain(Math.floor(3*o),0,2),i=p==="bottom"?0:p==="middle"?1:p==="top"?2:n.constrain(Math.floor(3*i),0,2),a[i][o]}},{"../../lib":232}],120:[function(t,s,c){c.selectMode=function(n){return n==="lasso"||n==="select"},c.drawMode=function(n){return n==="drawclosedpath"||n==="drawopenpath"||n==="drawline"||n==="drawrect"||n==="drawcircle"},c.openMode=function(n){return n==="drawline"||n==="drawopenpath"},c.rectMode=function(n){return n==="select"||n==="drawline"||n==="drawrect"||n==="drawcircle"},c.freeMode=function(n){return n==="lasso"||n==="drawclosedpath"||n==="drawopenpath"},c.selectingOrDrawing=function(n){return c.freeMode(n)||c.rectMode(n)}},{}],121:[function(t,s,c){var n=t("mouse-event-offset"),a=t("has-hover"),o=t("has-passive-events"),i=t("../../lib").removeElement,l=t("../../plots/cartesian/constants"),p=s.exports={};p.align=t("./align"),p.getCursor=t("./cursor");var d=t("./unhover");function f(){var h=document.createElement("div");h.className="dragcover";var m=h.style;return m.position="fixed",m.left=0,m.right=0,m.top=0,m.bottom=0,m.zIndex=999999999,m.background="none",document.body.appendChild(h),h}function u(h){return n(h.changedTouches?h.changedTouches[0]:h,document.body)}p.unhover=d.wrapped,p.unhoverRaw=d.raw,p.init=function(h){var m,v,y,k,_,T,b,x,O=h.gd,A=1,C=O._context.doubleClickDelay,L=h.element;O._mouseDownTime||(O._mouseDownTime=0),L.style.pointerEvents="all",L.onmousedown=E,o?(L._ontouchstart&&L.removeEventListener("touchstart",L._ontouchstart),L._ontouchstart=E,L.addEventListener("touchstart",E,{passive:!1})):L.ontouchstart=E;var w=h.clampFn||function(V,j,W){return Math.abs(V)<W&&(V=0),Math.abs(j)<W&&(j=0),[V,j]};function E(V){O._dragged=!1,O._dragging=!0;var j=u(V);m=j[0],v=j[1],b=V.target,T=V,x=V.buttons===2||V.ctrlKey,V.clientX===void 0&&V.clientY===void 0&&(V.clientX=m,V.clientY=v),(y=new Date().getTime())-O._mouseDownTime<C?A+=1:(A=1,O._mouseDownTime=y),h.prepFn&&h.prepFn(V,m,v),a&&!x?(_=f()).style.cursor=window.getComputedStyle(L).cursor:a||(_=document,k=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(L).cursor),document.addEventListener("mouseup",M),document.addEventListener("touchend",M),h.dragmode!==!1&&(V.preventDefault(),document.addEventListener("mousemove",I),document.addEventListener("touchmove",I,{passive:!1}))}function I(V){V.preventDefault();var j=u(V),W=h.minDrag||l.MINDRAG,H=w(j[0]-m,j[1]-v,W),B=H[0],K=H[1];(B||K)&&(O._dragged=!0,p.unhover(O,V)),O._dragged&&h.moveFn&&!x&&(O._dragdata={element:L,dx:B,dy:K},h.moveFn(B,K))}function M(V){if(delete O._dragdata,h.dragmode!==!1&&(V.preventDefault(),document.removeEventListener("mousemove",I),document.removeEventListener("touchmove",I)),document.removeEventListener("mouseup",M),document.removeEventListener("touchend",M),a?i(_):k&&(_.documentElement.style.cursor=k,k=null),O._dragging){if(O._dragging=!1,new Date().getTime()-O._mouseDownTime>C&&(A=Math.max(A-1,1)),O._dragged)h.doneFn&&h.doneFn();else if(h.clickFn&&h.clickFn(A,T),!x){var j;try{j=new MouseEvent("click",V)}catch(H){var W=u(V);(j=document.createEvent("MouseEvents")).initMouseEvent("click",V.bubbles,V.cancelable,V.view,V.detail,V.screenX,V.screenY,W[0],W[1],V.ctrlKey,V.altKey,V.shiftKey,V.metaKey,V.button,V.relatedTarget)}b.dispatchEvent(j)}O._dragging=!1,O._dragged=!1}else O._dragged=!1}},p.coverSlip=f},{"../../lib":232,"../../plots/cartesian/constants":286,"./align":118,"./cursor":119,"./unhover":122,"has-hover":48,"has-passive-events":49,"mouse-event-offset":53}],122:[function(t,s,c){var n=t("../../lib/events"),a=t("../../lib/throttle"),o=t("../../lib/dom").getGraphDiv,i=t("../fx/constants"),l=s.exports={};l.wrapped=function(p,d,f){(p=o(p))._fullLayout&&a.clear(p._fullLayout._uid+i.HOVERID),l.raw(p,d,f)},l.raw=function(p,d){var f=p._fullLayout,u=p._hoverdata;d||(d={}),d.target&&!p._dragged&&n.triggerHandler(p,"plotly_beforehover",d)===!1||(f._hoverlayer.selectAll("g").remove(),f._hoverlayer.selectAll("line").remove(),f._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,d.target&&u&&p.emit("plotly_unhover",{event:d,points:u}))}},{"../../lib/dom":224,"../../lib/events":225,"../../lib/throttle":256,"../fx/constants":136}],123:[function(t,s,c){c.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},c.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],124:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../lib"),o=a.numberFormat,i=t("fast-isnumeric"),l=t("tinycolor2"),p=t("../../registry"),d=t("../color"),f=t("../colorscale"),u=a.strTranslate,h=t("../../lib/svg_text_utils"),m=t("../../constants/xmlns_namespaces"),v=t("../../constants/alignment").LINE_SPACING,y=t("../../constants/interactions").DESELECTDIM,k=t("../../traces/scatter/subtypes"),_=t("../../traces/scatter/make_bubble_size_func"),T=t("../../components/fx/helpers").appendArrayPointValue,b=s.exports={};b.font=function(D,U,$,Q){a.isPlainObject(U)&&(Q=U.color,$=U.size,U=U.family),U&&D.style("font-family",U),$+1&&D.style("font-size",$+"px"),Q&&D.call(d.fill,Q)},b.setPosition=function(D,U,$){D.attr("x",U).attr("y",$)},b.setSize=function(D,U,$){D.attr("width",U).attr("height",$)},b.setRect=function(D,U,$,Q,F){D.call(b.setPosition,U,$).call(b.setSize,Q,F)},b.translatePoint=function(D,U,$,Q){var F=$.c2p(D.x),z=Q.c2p(D.y);return!!(i(F)&&i(z)&&U.node())&&(U.node().nodeName==="text"?U.attr("x",F).attr("y",z):U.attr("transform",u(F,z)),!0)},b.translatePoints=function(D,U,$){D.each(function(Q){var F=n.select(this);b.translatePoint(Q,F,U,$)})},b.hideOutsideRangePoint=function(D,U,$,Q,F,z){U.attr("display",$.isPtWithinRange(D,F)&&Q.isPtWithinRange(D,z)?null:"none")},b.hideOutsideRangePoints=function(D,U){if(U._hasClipOnAxisFalse){var $=U.xaxis,Q=U.yaxis;D.each(function(F){var z=F[0].trace,P=z.xcalendar,Z=z.ycalendar,R=p.traceIs(z,"bar-like")?".bartext":".point,.textpoint";D.selectAll(R).each(function(q){b.hideOutsideRangePoint(q,n.select(this),$,Q,P,Z)})})}},b.crispRound=function(D,U,$){return U&&i(U)?D._context.staticPlot?U:U<1?1:Math.round(U):$||0},b.singleLineStyle=function(D,U,$,Q,F){U.style("fill","none");var z=(((D||[])[0]||{}).trace||{}).line||{},P=$||z.width||0,Z=F||z.dash||"";d.stroke(U,Q||z.color),b.dashLine(U,Z,P)},b.lineGroupStyle=function(D,U,$,Q){D.style("fill","none").each(function(F){var z=(((F||[])[0]||{}).trace||{}).line||{},P=U||z.width||0,Z=Q||z.dash||"";n.select(this).call(d.stroke,$||z.color).call(b.dashLine,Z,P)})},b.dashLine=function(D,U,$){$=+$||0,U=b.dashStyle(U,$),D.style({"stroke-dasharray":U,"stroke-width":$+"px"})},b.dashStyle=function(D,U){U=+U||1;var $=Math.max(U,3);return D==="solid"?D="":D==="dot"?D=$+"px,"+$+"px":D==="dash"?D=3*$+"px,"+3*$+"px":D==="longdash"?D=5*$+"px,"+5*$+"px":D==="dashdot"?D=3*$+"px,"+$+"px,"+$+"px,"+$+"px":D==="longdashdot"&&(D=5*$+"px,"+2*$+"px,"+$+"px,"+2*$+"px"),D},b.singleFillStyle=function(D){var U=(((n.select(D.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;U&&D.call(d.fill,U)},b.fillGroupStyle=function(D){D.style("stroke-width",0).each(function(U){var $=n.select(this);U[0].trace&&$.call(d.fill,U[0].trace.fillcolor)})};var x=t("./symbol_defs");b.symbolNames=[],b.symbolFuncs=[],b.symbolNeedLines={},b.symbolNoDot={},b.symbolNoFill={},b.symbolList=[],Object.keys(x).forEach(function(D){var U=x[D],$=U.n;b.symbolList.push($,String($),D,$+100,String($+100),D+"-open"),b.symbolNames[$]=D,b.symbolFuncs[$]=U.f,U.needLine&&(b.symbolNeedLines[$]=!0),U.noDot?b.symbolNoDot[$]=!0:b.symbolList.push($+200,String($+200),D+"-dot",$+300,String($+300),D+"-open-dot"),U.noFill&&(b.symbolNoFill[$]=!0)});var O=b.symbolNames.length;function A(D,U){var $=D%100;return b.symbolFuncs[$](U)+(D>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}b.symbolNumber=function(D){if(i(D))D=+D;else if(typeof D=="string"){var U=0;D.indexOf("-open")>0&&(U=100,D=D.replace("-open","")),D.indexOf("-dot")>0&&(U+=200,D=D.replace("-dot","")),(D=b.symbolNames.indexOf(D))>=0&&(D+=U)}return D%100>=O||D>=400?0:Math.floor(Math.max(D,0))};var C={x1:1,x2:0,y1:0,y2:0},L={x1:0,x2:0,y1:1,y2:0},w=o("~f"),E={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:C},horizontalreversed:{node:"linearGradient",attrs:C,reversed:!0},vertical:{node:"linearGradient",attrs:L},verticalreversed:{node:"linearGradient",attrs:L,reversed:!0}};b.gradient=function(D,U,$,Q,F,z){for(var P=F.length,Z=E[Q],R=new Array(P),q=0;q<P;q++)Z.reversed?R[P-1-q]=[w(100*(1-F[q][0])),F[q][1]]:R[q]=[w(100*F[q][0]),F[q][1]];var tt=U._fullLayout,rt="g"+tt._uid+"-"+$,nt=tt._defs.select(".gradients").selectAll("#"+rt).data([Q+R.join(";")],a.identity);nt.exit().remove(),nt.enter().append(Z.node).each(function(){var gt=n.select(this);Z.attrs&&gt.attr(Z.attrs),gt.attr("id",rt);var wt=gt.selectAll("stop").data(R);wt.exit().remove(),wt.enter().append("stop"),wt.each(function(Ot){var bt=l(Ot[1]);n.select(this).attr({offset:Ot[0]+"%","stop-color":d.tinyRGB(bt),"stop-opacity":bt.getAlpha()})})}),D.style(z,et(rt,U)).style(z+"-opacity",null);var ct=function(gt){return"."+gt.attr("class").replace(/\s/g,".")},st=ct(n.select(D.node().parentNode))+">"+ct(D);tt._gradientUrlQueryParts[st]=1},b.pattern=function(D,U,$,Q,F,z,P,Z,R,q,tt,rt){var nt=U==="legend";Z&&(R==="overlay"?(q=Z,tt=d.contrast(q)):(q=void 0,tt=Z));var ct,st,gt,wt,Ot,bt,Ht,Dt,yt,ut,it,dt=$._fullLayout,mt="p"+dt._uid+"-"+Q,Et={};switch(F){case"/":ct=z*Math.sqrt(2),st=z*Math.sqrt(2),bt="path",Et={d:gt="M-"+ct/4+","+st/4+"l"+ct/2+",-"+st/2+"M0,"+st+"L"+ct+",0M"+ct/4*3+","+st/4*5+"l"+ct/2+",-"+st/2,opacity:rt,stroke:tt,"stroke-width":(wt=P*z)+"px"};break;case"\\":ct=z*Math.sqrt(2),st=z*Math.sqrt(2),bt="path",Et={d:gt="M"+ct/4*3+",-"+st/4+"l"+ct/2+","+st/2+"M0,0L"+ct+","+st+"M-"+ct/4+","+st/4*3+"l"+ct/2+","+st/2,opacity:rt,stroke:tt,"stroke-width":(wt=P*z)+"px"};break;case"x":ct=z*Math.sqrt(2),st=z*Math.sqrt(2),gt="M-"+ct/4+","+st/4+"l"+ct/2+",-"+st/2+"M0,"+st+"L"+ct+",0M"+ct/4*3+","+st/4*5+"l"+ct/2+",-"+st/2+"M"+ct/4*3+",-"+st/4+"l"+ct/2+","+st/2+"M0,0L"+ct+","+st+"M-"+ct/4+","+st/4*3+"l"+ct/2+","+st/2,wt=z-z*Math.sqrt(1-P),bt="path",Et={d:gt,opacity:rt,stroke:tt,"stroke-width":wt+"px"};break;case"|":bt="path",bt="path",Et={d:gt="M"+(ct=z)/2+",0L"+ct/2+","+(st=z),opacity:rt,stroke:tt,"stroke-width":(wt=P*z)+"px"};break;case"-":bt="path",bt="path",Et={d:gt="M0,"+(st=z)/2+"L"+(ct=z)+","+st/2,opacity:rt,stroke:tt,"stroke-width":(wt=P*z)+"px"};break;case"+":bt="path",gt="M"+(ct=z)/2+",0L"+ct/2+","+(st=z)+"M0,"+st/2+"L"+ct+","+st/2,wt=z-z*Math.sqrt(1-P),bt="path",Et={d:gt,opacity:rt,stroke:tt,"stroke-width":wt+"px"};break;case".":ct=z,st=z,P<Math.PI/4?Ot=Math.sqrt(P*z*z/Math.PI):(Ht=P,Dt=Math.PI/4,yt=1,ut=z/2,it=z/Math.sqrt(2),Ot=ut+(it-ut)*(Ht-Dt)/(yt-Dt)),bt="circle",Et={cx:ct/2,cy:st/2,r:Ot,opacity:rt,fill:tt}}var Mt=[F||"noSh",q||"noBg",tt||"noFg",z,P].join(";"),Tt=dt._defs.select(".patterns").selectAll("#"+mt).data([Mt],a.identity);Tt.exit().remove(),Tt.enter().append("pattern").each(function(){var zt=n.select(this);if(zt.attr({id:mt,width:ct+"px",height:st+"px",patternUnits:"userSpaceOnUse",patternTransform:nt?"scale(0.8)":""}),q){var At=zt.selectAll("rect").data([0]);At.exit().remove(),At.enter().append("rect").attr({width:ct+"px",height:st+"px",fill:q})}var Ct=zt.selectAll(bt).data([0]);Ct.exit().remove(),Ct.enter().append(bt).attr(Et)}),D.style("fill",et(mt,$)).style("fill-opacity",null),D.classed("pattern_filled",!0);var Nt="."+n.select(D.node().parentNode).attr("class").replace(/\s/g,".")+">.pattern_filled";dt._patternUrlQueryParts[Nt]=1},b.initGradients=function(D){var U=D._fullLayout;a.ensureSingle(U._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),U._gradientUrlQueryParts={}},b.initPatterns=function(D){var U=D._fullLayout;a.ensureSingle(U._defs,"g","patterns").selectAll("pattern").remove(),U._patternUrlQueryParts={}},b.getPatternAttr=function(D,U,$){return D&&a.isArrayOrTypedArray(D)?U<D.length?D[U]:$:D},b.pointStyle=function(D,U,$){if(D.size()){var Q=b.makePointStyleFns(U);D.each(function(F){b.singlePointStyle(F,n.select(this),U,Q,$)})}},b.singlePointStyle=function(D,U,$,Q,F){var z=$.marker,P=z.line;if(U.style("opacity",Q.selectedOpacityFn?Q.selectedOpacityFn(D):D.mo===void 0?z.opacity:D.mo),Q.ms2mrc){var Z;Z=D.ms==="various"||z.size==="various"?3:Q.ms2mrc(D.ms),D.mrc=Z,Q.selectedSizeFn&&(Z=D.mrc=Q.selectedSizeFn(D));var R=b.symbolNumber(D.mx||z.symbol)||0;D.om=R%200>=100,U.attr("d",A(R,Z))}var q,tt,rt,nt=!1;if(D.so)rt=P.outlierwidth,tt=P.outliercolor,q=z.outliercolor;else{var ct=(P||{}).width;rt=(D.mlw+1||ct+1||(D.trace?(D.trace.marker.line||{}).width:0)+1)-1||0,tt="mlc"in D?D.mlcc=Q.lineScale(D.mlc):a.isArrayOrTypedArray(P.color)?d.defaultLine:P.color,a.isArrayOrTypedArray(z.color)&&(q=d.defaultLine,nt=!0),q="mc"in D?D.mcc=Q.markerScale(D.mc):z.color||"rgba(0,0,0,0)",Q.selectedColorFn&&(q=Q.selectedColorFn(D))}if(D.om)U.call(d.stroke,q).style({"stroke-width":(rt||1)+"px",fill:"none"});else{U.style("stroke-width",(D.isBlank?0:rt)+"px");var st=z.gradient,gt=D.mgt;gt?nt=!0:gt=st&&st.type,a.isArrayOrTypedArray(gt)&&(gt=gt[0],E[gt]||(gt=0));var wt=z.pattern,Ot=wt&&b.getPatternAttr(wt.shape,D.i,"");if(gt&&gt!=="none"){var bt=D.mgc;bt?nt=!0:bt=st.color;var Ht=$.uid;nt&&(Ht+="-"+D.i),b.gradient(U,F,Ht,gt,[[0,bt],[1,q]],"fill")}else if(Ot){var Dt=b.getPatternAttr(wt.bgcolor,D.i,null),yt=b.getPatternAttr(wt.fgcolor,D.i,null),ut=wt.fgopacity,it=b.getPatternAttr(wt.size,D.i,8),dt=b.getPatternAttr(wt.solidity,D.i,.3),mt=D.mcc||a.isArrayOrTypedArray(wt.shape)||a.isArrayOrTypedArray(wt.bgcolor)||a.isArrayOrTypedArray(wt.size)||a.isArrayOrTypedArray(wt.solidity),Et=$.uid;mt&&(Et+="-"+D.i),b.pattern(U,"point",F,Et,Ot,it,dt,D.mcc,wt.fillmode,Dt,yt,ut)}else d.fill(U,q);rt&&d.stroke(U,tt)}},b.makePointStyleFns=function(D){var U={},$=D.marker;return U.markerScale=b.tryColorscale($,""),U.lineScale=b.tryColorscale($,"line"),p.traceIs(D,"symbols")&&(U.ms2mrc=k.isBubble(D)?_(D):function(){return($.size||6)/2}),D.selectedpoints&&a.extendFlat(U,b.makeSelectedPointStyleFns(D)),U},b.makeSelectedPointStyleFns=function(D){var U={},$=D.selected||{},Q=D.unselected||{},F=D.marker||{},z=$.marker||{},P=Q.marker||{},Z=F.opacity,R=z.opacity,q=P.opacity,tt=R!==void 0,rt=q!==void 0;(a.isArrayOrTypedArray(Z)||tt||rt)&&(U.selectedOpacityFn=function(Dt){var yt=Dt.mo===void 0?F.opacity:Dt.mo;return Dt.selected?tt?R:yt:rt?q:y*yt});var nt=F.color,ct=z.color,st=P.color;(ct||st)&&(U.selectedColorFn=function(Dt){var yt=Dt.mcc||nt;return Dt.selected?ct||yt:st||yt});var gt=F.size,wt=z.size,Ot=P.size,bt=wt!==void 0,Ht=Ot!==void 0;return p.traceIs(D,"symbols")&&(bt||Ht)&&(U.selectedSizeFn=function(Dt){var yt=Dt.mrc||gt/2;return Dt.selected?bt?wt/2:yt:Ht?Ot/2:yt}),U},b.makeSelectedTextStyleFns=function(D){var U={},$=D.selected||{},Q=D.unselected||{},F=D.textfont||{},z=$.textfont||{},P=Q.textfont||{},Z=F.color,R=z.color,q=P.color;return U.selectedTextColorFn=function(tt){var rt=tt.tc||Z;return tt.selected?R||rt:q||(R?rt:d.addOpacity(rt,y))},U},b.selectedPointStyle=function(D,U){if(D.size()&&U.selectedpoints){var $=b.makeSelectedPointStyleFns(U),Q=U.marker||{},F=[];$.selectedOpacityFn&&F.push(function(z,P){z.style("opacity",$.selectedOpacityFn(P))}),$.selectedColorFn&&F.push(function(z,P){d.fill(z,$.selectedColorFn(P))}),$.selectedSizeFn&&F.push(function(z,P){var Z=P.mx||Q.symbol||0,R=$.selectedSizeFn(P);z.attr("d",A(b.symbolNumber(Z),R)),P.mrc2=R}),F.length&&D.each(function(z){for(var P=n.select(this),Z=0;Z<F.length;Z++)F[Z](P,z)})}},b.tryColorscale=function(D,U){var $=U?a.nestedProperty(D,U).get():D;if($){var Q=$.color;if(($.colorscale||$._colorAx)&&a.isArrayOrTypedArray(Q))return f.makeColorScaleFuncFromTrace($)}return a.identity};var I={start:1,end:-1,middle:0,bottom:1,top:-1};function M(D,U,$,Q){var F=n.select(D.node().parentNode),z=U.indexOf("top")!==-1?"top":U.indexOf("bottom")!==-1?"bottom":"middle",P=U.indexOf("left")!==-1?"end":U.indexOf("right")!==-1?"start":"middle",Z=Q?Q/.8+1:0,R=(h.lineCount(D)-1)*v+1,q=I[P]*Z,tt=.75*$+I[z]*Z+(I[z]-1)*R*$/2;D.attr("text-anchor",P),F.attr("transform",u(q,tt))}function V(D,U){var $=D.ts||U.textfont.size;return i($)&&$>0?$:0}b.textPointStyle=function(D,U,$){if(D.size()){var Q;if(U.selectedpoints){var F=b.makeSelectedTextStyleFns(U);Q=F.selectedTextColorFn}var z=U.texttemplate,P=$._fullLayout;D.each(function(Z){var R=n.select(this),q=z?a.extractOption(Z,U,"txt","texttemplate"):a.extractOption(Z,U,"tx","text");if(q||q===0){if(z){var tt=U._module.formatLabels,rt=tt?tt(Z,U,P):{},nt={};T(nt,U,Z.i);var ct=U._meta||{};q=a.texttemplateString(q,rt,P._d3locale,nt,Z,ct)}var st=Z.tp||U.textposition,gt=V(Z,U),wt=Q?Q(Z):Z.tc||U.textfont.color;R.call(b.font,Z.tf||U.textfont.family,gt,wt).text(q).call(h.convertToTspans,$).call(M,st,gt,Z.mrc)}else R.remove()})}},b.selectedTextStyle=function(D,U){if(D.size()&&U.selectedpoints){var $=b.makeSelectedTextStyleFns(U);D.each(function(Q){var F=n.select(this),z=$.selectedTextColorFn(Q),P=Q.tp||U.textposition,Z=V(Q,U);d.fill(F,z),M(F,P,Z,Q.mrc2||Q.mrc)})}};function j(D,U,$,Q){var F=D[0]-U[0],z=D[1]-U[1],P=$[0]-U[0],Z=$[1]-U[1],R=Math.pow(F*F+z*z,.25),q=Math.pow(P*P+Z*Z,.25),tt=(q*q*F-R*R*P)*Q,rt=(q*q*z-R*R*Z)*Q,nt=3*q*(R+q),ct=3*R*(R+q);return[[n.round(U[0]+(nt&&tt/nt),2),n.round(U[1]+(nt&&rt/nt),2)],[n.round(U[0]-(ct&&tt/ct),2),n.round(U[1]-(ct&&rt/ct),2)]]}b.smoothopen=function(D,U){if(D.length<3)return"M"+D.join("L");var $,Q="M"+D[0],F=[];for($=1;$<D.length-1;$++)F.push(j(D[$-1],D[$],D[$+1],U));for(Q+="Q"+F[0][0]+" "+D[1],$=2;$<D.length-1;$++)Q+="C"+F[$-2][1]+" "+F[$-1][0]+" "+D[$];return Q+="Q"+F[D.length-3][1]+" "+D[D.length-1]},b.smoothclosed=function(D,U){if(D.length<3)return"M"+D.join("L")+"Z";var $,Q="M"+D[0],F=D.length-1,z=[j(D[F],D[0],D[1],U)];for($=1;$<F;$++)z.push(j(D[$-1],D[$],D[$+1],U));for(z.push(j(D[F-1],D[F],D[0],U)),$=1;$<=F;$++)Q+="C"+z[$-1][1]+" "+z[$][0]+" "+D[$];return Q+="C"+z[F][1]+" "+z[0][0]+" "+D[0]+"Z"};var W={hv:function(D,U){return"H"+n.round(U[0],2)+"V"+n.round(U[1],2)},vh:function(D,U){return"V"+n.round(U[1],2)+"H"+n.round(U[0],2)},hvh:function(D,U){return"H"+n.round((D[0]+U[0])/2,2)+"V"+n.round(U[1],2)+"H"+n.round(U[0],2)},vhv:function(D,U){return"V"+n.round((D[1]+U[1])/2,2)+"H"+n.round(U[0],2)+"V"+n.round(U[1],2)}},H=function(D,U){return"L"+n.round(U[0],2)+","+n.round(U[1],2)};b.steps=function(D){var U=W[D]||H;return function($){for(var Q="M"+n.round($[0][0],2)+","+n.round($[0][1],2),F=1;F<$.length;F++)Q+=U($[F-1],$[F]);return Q}},b.makeTester=function(){var D=a.ensureSingleById(n.select("body"),"svg","js-plotly-tester",function($){$.attr(m.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),U=a.ensureSingle(D,"path","js-reference-point",function($){$.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});b.tester=D,b.testref=U},b.savedBBoxes={};var B=0;function K(D){var U=D.getAttribute("data-unformatted");if(U!==null)return U+D.getAttribute("data-math")+D.getAttribute("text-anchor")+D.getAttribute("style")}function et(D,U){if(!D)return null;var $=U._context,Q=$._exportedPlot?"":$._baseUrl||"";return Q?"url('"+Q+"#"+D+"')":"url(#"+D+")"}b.bBox=function(D,U,$){var Q,F,z;if($||($=K(D)),$){if(Q=b.savedBBoxes[$])return a.extendFlat({},Q)}else if(D.childNodes.length===1){var P=D.childNodes[0];if($=K(P)){var Z=+P.getAttribute("x")||0,R=+P.getAttribute("y")||0,q=P.getAttribute("transform");if(!q){var tt=b.bBox(P,!1,$);return Z&&(tt.left+=Z,tt.right+=Z),R&&(tt.top+=R,tt.bottom+=R),tt}if($+="~"+Z+"~"+R+"~"+q,Q=b.savedBBoxes[$])return a.extendFlat({},Q)}}U?F=D:(z=b.tester.node(),F=D.cloneNode(!0),z.appendChild(F)),n.select(F).attr("transform",null).call(h.positionText,0,0);var rt=F.getBoundingClientRect(),nt=b.testref.node().getBoundingClientRect();U||z.removeChild(F);var ct={height:rt.height,width:rt.width,left:rt.left-nt.left,top:rt.top-nt.top,right:rt.right-nt.left,bottom:rt.bottom-nt.top};return B>=1e4&&(b.savedBBoxes={},B=0),$&&(b.savedBBoxes[$]=ct),B++,a.extendFlat({},ct)},b.setClipUrl=function(D,U,$){D.attr("clip-path",et(U,$))},b.getTranslate=function(D){var U=(D[D.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function($,Q,F){return[Q,F].join(" ")}).split(" ");return{x:+U[0]||0,y:+U[1]||0}},b.setTranslate=function(D,U,$){var Q=D.attr?"attr":"getAttribute",F=D.attr?"attr":"setAttribute",z=D[Q]("transform")||"";return U=U||0,$=$||0,z=z.replace(/(\btranslate\(.*?\);?)/,"").trim(),z=(z+=u(U,$)).trim(),D[F]("transform",z),z},b.getScale=function(D){var U=(D[D.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function($,Q,F){return[Q,F].join(" ")}).split(" ");return{x:+U[0]||1,y:+U[1]||1}},b.setScale=function(D,U,$){var Q=D.attr?"attr":"getAttribute",F=D.attr?"attr":"setAttribute",z=D[Q]("transform")||"";return U=U||1,$=$||1,z=z.replace(/(\bscale\(.*?\);?)/,"").trim(),z=(z+="scale("+U+","+$+")").trim(),D[F]("transform",z),z};var G=/\s*sc.*/;b.setPointGroupScale=function(D,U,$){if(U=U||1,$=$||1,D){var Q=U===1&&$===1?"":"scale("+U+","+$+")";D.each(function(){var F=(this.getAttribute("transform")||"").replace(G,"");F=(F+=Q).trim(),this.setAttribute("transform",F)})}};var Y=/translate\([^)]*\)\s*$/;b.setTextPointsScale=function(D,U,$){D&&D.each(function(){var Q,F=n.select(this),z=F.select("text");if(z.node()){var P=parseFloat(z.attr("x")||0),Z=parseFloat(z.attr("y")||0),R=(F.attr("transform")||"").match(Y);Q=U===1&&$===1?[]:[u(P,Z),"scale("+U+","+$+")",u(-P,-Z)],R&&Q.push(R),F.attr("transform",Q.join(""))}})}},{"../../components/fx/helpers":138,"../../constants/alignment":207,"../../constants/interactions":211,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../lib/svg_text_utils":255,"../../registry":316,"../../traces/scatter/make_bubble_size_func":373,"../../traces/scatter/subtypes":381,"../color":102,"../colorscale":114,"./symbol_defs":125,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],125:[function(t,s,c){var n=t("@plotly/d3");s.exports={circle:{n:0,f:function(a){var o=n.round(a,2);return"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"}},square:{n:1,f:function(a){var o=n.round(a,2);return"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"}},diamond:{n:2,f:function(a){var o=n.round(1.3*a,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"Z"}},cross:{n:3,f:function(a){var o=n.round(.4*a,2),i=n.round(1.2*a,2);return"M"+i+","+o+"H"+o+"V"+i+"H-"+o+"V"+o+"H-"+i+"V-"+o+"H-"+o+"V-"+i+"H"+o+"V-"+o+"H"+i+"Z"}},x:{n:4,f:function(a){var o=n.round(.8*a/Math.sqrt(2),2),i="l"+o+","+o,l="l"+o+",-"+o,p="l-"+o+",-"+o,d="l-"+o+","+o;return"M0,"+o+i+l+p+l+p+d+p+d+i+d+i+"Z"}},"triangle-up":{n:5,f:function(a){var o=n.round(2*a/Math.sqrt(3),2);return"M-"+o+","+n.round(a/2,2)+"H"+o+"L0,-"+n.round(a,2)+"Z"}},"triangle-down":{n:6,f:function(a){var o=n.round(2*a/Math.sqrt(3),2);return"M-"+o+",-"+n.round(a/2,2)+"H"+o+"L0,"+n.round(a,2)+"Z"}},"triangle-left":{n:7,f:function(a){var o=n.round(2*a/Math.sqrt(3),2);return"M"+n.round(a/2,2)+",-"+o+"V"+o+"L-"+n.round(a,2)+",0Z"}},"triangle-right":{n:8,f:function(a){var o=n.round(2*a/Math.sqrt(3),2);return"M-"+n.round(a/2,2)+",-"+o+"V"+o+"L"+n.round(a,2)+",0Z"}},"triangle-ne":{n:9,f:function(a){var o=n.round(.6*a,2),i=n.round(1.2*a,2);return"M-"+i+",-"+o+"H"+o+"V"+i+"Z"}},"triangle-se":{n:10,f:function(a){var o=n.round(.6*a,2),i=n.round(1.2*a,2);return"M"+o+",-"+i+"V"+o+"H-"+i+"Z"}},"triangle-sw":{n:11,f:function(a){var o=n.round(.6*a,2),i=n.round(1.2*a,2);return"M"+i+","+o+"H-"+o+"V-"+i+"Z"}},"triangle-nw":{n:12,f:function(a){var o=n.round(.6*a,2),i=n.round(1.2*a,2);return"M-"+o+","+i+"V-"+o+"H"+i+"Z"}},pentagon:{n:13,f:function(a){var o=n.round(.951*a,2),i=n.round(.588*a,2),l=n.round(-a,2),p=n.round(-.309*a,2);return"M"+o+","+p+"L"+i+","+n.round(.809*a,2)+"H-"+i+"L-"+o+","+p+"L0,"+l+"Z"}},hexagon:{n:14,f:function(a){var o=n.round(a,2),i=n.round(a/2,2),l=n.round(a*Math.sqrt(3)/2,2);return"M"+l+",-"+i+"V"+i+"L0,"+o+"L-"+l+","+i+"V-"+i+"L0,-"+o+"Z"}},hexagon2:{n:15,f:function(a){var o=n.round(a,2),i=n.round(a/2,2),l=n.round(a*Math.sqrt(3)/2,2);return"M-"+i+","+l+"H"+i+"L"+o+",0L"+i+",-"+l+"H-"+i+"L-"+o+",0Z"}},octagon:{n:16,f:function(a){var o=n.round(.924*a,2),i=n.round(.383*a,2);return"M-"+i+",-"+o+"H"+i+"L"+o+",-"+i+"V"+i+"L"+i+","+o+"H-"+i+"L-"+o+","+i+"V-"+i+"Z"}},star:{n:17,f:function(a){var o=1.4*a,i=n.round(.225*o,2),l=n.round(.951*o,2),p=n.round(.363*o,2),d=n.round(.588*o,2),f=n.round(-o,2),u=n.round(-.309*o,2),h=n.round(.118*o,2),m=n.round(.809*o,2);return"M"+i+","+u+"H"+l+"L"+p+","+h+"L"+d+","+m+"L0,"+n.round(.382*o,2)+"L-"+d+","+m+"L-"+p+","+h+"L-"+l+","+u+"H-"+i+"L0,"+f+"Z"}},hexagram:{n:18,f:function(a){var o=n.round(.66*a,2),i=n.round(.38*a,2),l=n.round(.76*a,2);return"M-"+l+",0l-"+i+",-"+o+"h"+l+"l"+i+",-"+o+"l"+i+","+o+"h"+l+"l-"+i+","+o+"l"+i+","+o+"h-"+l+"l-"+i+","+o+"l-"+i+",-"+o+"h-"+l+"Z"}},"star-triangle-up":{n:19,f:function(a){var o=n.round(a*Math.sqrt(3)*.8,2),i=n.round(.8*a,2),l=n.round(1.6*a,2),p=n.round(4*a,2),d="A "+p+","+p+" 0 0 1 ";return"M-"+o+","+i+d+o+","+i+d+"0,-"+l+d+"-"+o+","+i+"Z"}},"star-triangle-down":{n:20,f:function(a){var o=n.round(a*Math.sqrt(3)*.8,2),i=n.round(.8*a,2),l=n.round(1.6*a,2),p=n.round(4*a,2),d="A "+p+","+p+" 0 0 1 ";return"M"+o+",-"+i+d+"-"+o+",-"+i+d+"0,"+l+d+o+",-"+i+"Z"}},"star-square":{n:21,f:function(a){var o=n.round(1.1*a,2),i=n.round(2*a,2),l="A "+i+","+i+" 0 0 1 ";return"M-"+o+",-"+o+l+"-"+o+","+o+l+o+","+o+l+o+",-"+o+l+"-"+o+",-"+o+"Z"}},"star-diamond":{n:22,f:function(a){var o=n.round(1.4*a,2),i=n.round(1.9*a,2),l="A "+i+","+i+" 0 0 1 ";return"M-"+o+",0"+l+"0,"+o+l+o+",0"+l+"0,-"+o+l+"-"+o+",0Z"}},"diamond-tall":{n:23,f:function(a){var o=n.round(.7*a,2),i=n.round(1.4*a,2);return"M0,"+i+"L"+o+",0L0,-"+i+"L-"+o+",0Z"}},"diamond-wide":{n:24,f:function(a){var o=n.round(1.4*a,2),i=n.round(.7*a,2);return"M0,"+i+"L"+o+",0L0,-"+i+"L-"+o+",0Z"}},hourglass:{n:25,f:function(a){var o=n.round(a,2);return"M"+o+","+o+"H-"+o+"L"+o+",-"+o+"H-"+o+"Z"},noDot:!0},bowtie:{n:26,f:function(a){var o=n.round(a,2);return"M"+o+","+o+"V-"+o+"L-"+o+","+o+"V-"+o+"Z"},noDot:!0},"circle-cross":{n:27,f:function(a){var o=n.round(a,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(a){var o=n.round(a,2),i=n.round(a/Math.sqrt(2),2);return"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i+"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(a){var o=n.round(a,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(a){var o=n.round(a,2);return"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(a){var o=n.round(1.3*a,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"ZM0,-"+o+"V"+o+"M-"+o+",0H"+o},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(a){var o=n.round(1.3*a,2),i=n.round(.65*a,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"ZM-"+i+",-"+i+"L"+i+","+i+"M-"+i+","+i+"L"+i+",-"+i},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(a){var o=n.round(1.4*a,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(a){var o=n.round(a,2);return"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(a){var o=n.round(1.2*a,2),i=n.round(.85*a,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(a){var o=n.round(a/2,2),i=n.round(a,2);return"M"+o+","+i+"V-"+i+"m-"+i+",0V"+i+"M"+i+","+o+"H-"+i+"m0,-"+i+"H"+i},needLine:!0,noFill:!0},"y-up":{n:37,f:function(a){var o=n.round(1.2*a,2),i=n.round(1.6*a,2),l=n.round(.8*a,2);return"M-"+o+","+l+"L0,0M"+o+","+l+"L0,0M0,-"+i+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(a){var o=n.round(1.2*a,2),i=n.round(1.6*a,2),l=n.round(.8*a,2);return"M-"+o+",-"+l+"L0,0M"+o+",-"+l+"L0,0M0,"+i+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(a){var o=n.round(1.2*a,2),i=n.round(1.6*a,2),l=n.round(.8*a,2);return"M"+l+","+o+"L0,0M"+l+",-"+o+"L0,0M-"+i+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(a){var o=n.round(1.2*a,2),i=n.round(1.6*a,2),l=n.round(.8*a,2);return"M-"+l+","+o+"L0,0M-"+l+",-"+o+"L0,0M"+i+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(a){var o=n.round(1.4*a,2);return"M"+o+",0H-"+o},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(a){var o=n.round(1.4*a,2);return"M0,"+o+"V-"+o},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(a){var o=n.round(a,2);return"M"+o+",-"+o+"L-"+o+","+o},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(a){var o=n.round(a,2);return"M"+o+","+o+"L-"+o+",-"+o},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(a){var o=n.round(a,2);return"M0,0L-"+o+","+n.round(2*a,2)+"H"+o+"Z"},noDot:!0},"arrow-down":{n:46,f:function(a){var o=n.round(a,2);return"M0,0L-"+o+",-"+n.round(2*a,2)+"H"+o+"Z"},noDot:!0},"arrow-left":{n:47,f:function(a){var o=n.round(2*a,2),i=n.round(a,2);return"M0,0L"+o+",-"+i+"V"+i+"Z"},noDot:!0},"arrow-right":{n:48,f:function(a){var o=n.round(2*a,2),i=n.round(a,2);return"M0,0L-"+o+",-"+i+"V"+i+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(a){var o=n.round(a,2);return"M-"+o+",0H"+o+"M0,0L-"+o+","+n.round(2*a,2)+"H"+o+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(a){var o=n.round(a,2);return"M-"+o+",0H"+o+"M0,0L-"+o+",-"+n.round(2*a,2)+"H"+o+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(a){var o=n.round(2*a,2),i=n.round(a,2);return"M0,-"+i+"V"+i+"M0,0L"+o+",-"+i+"V"+i+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(a){var o=n.round(2*a,2),i=n.round(a,2);return"M0,-"+i+"V"+i+"M0,0L-"+o+",-"+i+"V"+i+"Z"},needLine:!0,noDot:!0}}},{"@plotly/d3":11}],126:[function(t,s,c){s.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],127:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../../registry"),o=t("../../plots/cartesian/axes"),i=t("../../lib"),l=t("./compute_error");function p(d,f,u,h){var m=f["error_"+h]||{},v=[];if(m.visible&&["linear","log"].indexOf(u.type)!==-1){for(var y=l(m),k=0;k<d.length;k++){var _=d[k],T=_.i;if(T===void 0)T=k;else if(T===null)continue;var b=_[h];if(n(u.c2l(b))){var x=y(b,T);if(n(x[0])&&n(x[1])){var O=_[h+"s"]=b-x[0],A=_[h+"h"]=b+x[1];v.push(O,A)}}}var C=u._id,L=f._extremes[C],w=o.findExtremes(u,v,i.extendFlat({tozero:L.opts.tozero},{padded:!0}));L.min=L.min.concat(w.min),L.max=L.max.concat(w.max)}}s.exports=function(d){for(var f=d.calcdata,u=0;u<f.length;u++){var h=f[u],m=h[0].trace;if(m.visible===!0&&a.traceIs(m,"errorBarsOK")){var v=o.getFromId(d,m.xaxis),y=o.getFromId(d,m.yaxis);p(h,m,v,"x"),p(h,m,y,"y")}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":316,"./compute_error":128,"fast-isnumeric":17}],128:[function(t,s,c){function n(a,o){return a==="percent"?function(i){return Math.abs(i*o/100)}:a==="constant"?function(){return Math.abs(o)}:a==="sqrt"?function(i){return Math.sqrt(Math.abs(i))}:void 0}s.exports=function(a){var o=a.type,i=a.symmetric;if(o==="data"){var l=a.array||[];if(i)return function(u,h){var m=+l[h];return[m,m]};var p=a.arrayminus||[];return function(u,h){var m=+l[h],v=+p[h];return isNaN(m)&&isNaN(v)?[NaN,NaN]:[v||0,m||0]}}var d=n(o,a.value),f=n(o,a.valueminus);return i||a.valueminus===void 0?function(u){var h=d(u);return[h,h]}:function(u){return[f(u),d(u)]}}},{}],129:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../../registry"),o=t("../../lib"),i=t("../../plot_api/plot_template"),l=t("./attributes");s.exports=function(p,d,f,u){var h="error_"+u.axis,m=i.newContainer(d,h),v=p[h]||{};function y(b,x){return o.coerce(v,m,l,b,x)}if(y("visible",v.array!==void 0||v.value!==void 0||v.type==="sqrt")!==!1){var k=y("type","array"in v?"data":"percent"),_=!0;k!=="sqrt"&&(_=y("symmetric",!((k==="data"?"arrayminus":"valueminus")in v))),k==="data"?(y("array"),y("traceref"),_||(y("arrayminus"),y("tracerefminus"))):k!=="percent"&&k!=="constant"||(y("value"),_||y("valueminus"));var T="copy_"+u.inherit+"style";u.inherit&&(d["error_"+u.inherit]||{}).visible&&y(T,!(v.color||n(v.thickness)||n(v.width))),u.inherit&&m[T]||(y("color",f),y("thickness"),y("width",a.traceIs(d,"gl3d")?0:4))}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":316,"./attributes":126,"fast-isnumeric":17}],130:[function(t,s,c){var n=t("../../lib"),a=t("../../plot_api/edit_types").overrideAll,o=t("./attributes"),i={error_x:n.extendFlat({},o),error_y:n.extendFlat({},o)};delete i.error_x.copy_zstyle,delete i.error_y.copy_zstyle,delete i.error_y.copy_ystyle;var l={error_x:n.extendFlat({},o),error_y:n.extendFlat({},o),error_z:n.extendFlat({},o)};delete l.error_x.copy_ystyle,delete l.error_y.copy_ystyle,delete l.error_z.copy_ystyle,delete l.error_z.copy_zstyle,s.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:i,bar:i,histogram:i,scatter3d:a(l,"calc","nested"),scattergl:a(i,"calc","nested")}},supplyDefaults:t("./defaults"),calc:t("./calc"),makeComputeError:t("./compute_error"),plot:t("./plot"),style:t("./style"),hoverInfo:function(p,d,f){(d.error_y||{}).visible&&(f.yerr=p.yh-p.y,d.error_y.symmetric||(f.yerrneg=p.y-p.ys)),(d.error_x||{}).visible&&(f.xerr=p.xh-p.x,d.error_x.symmetric||(f.xerrneg=p.x-p.xs))}}},{"../../lib":232,"../../plot_api/edit_types":261,"./attributes":126,"./calc":127,"./compute_error":128,"./defaults":129,"./plot":131,"./style":132}],131:[function(t,s,c){var n=t("@plotly/d3"),a=t("fast-isnumeric"),o=t("../drawing"),i=t("../../traces/scatter/subtypes");s.exports=function(l,p,d,f){var u=d.xaxis,h=d.yaxis,m=f&&f.duration>0;p.each(function(v){var y,k=v[0].trace,_=k.error_x||{},T=k.error_y||{};k.ids&&(y=function(A){return A.id});var b=i.hasMarkers(k)&&k.marker.maxdisplayed>0;T.visible||_.visible||(v=[]);var x=n.select(this).selectAll("g.errorbar").data(v,y);if(x.exit().remove(),v.length){_.visible||x.selectAll("path.xerror").remove(),T.visible||x.selectAll("path.yerror").remove(),x.style("opacity",1);var O=x.enter().append("g").classed("errorbar",!0);m&&O.style("opacity",0).transition().duration(f.duration).style("opacity",1),o.setClipUrl(x,d.layerClipId,l),x.each(function(A){var C=n.select(this),L=function(j,W,H){var B={x:W.c2p(j.x),y:H.c2p(j.y)};return j.yh!==void 0&&(B.yh=H.c2p(j.yh),B.ys=H.c2p(j.ys),a(B.ys)||(B.noYS=!0,B.ys=H.c2p(j.ys,!0))),j.xh!==void 0&&(B.xh=W.c2p(j.xh),B.xs=W.c2p(j.xs),a(B.xs)||(B.noXS=!0,B.xs=W.c2p(j.xs,!0))),B}(A,u,h);if(!b||A.vis){var w,E=C.select("path.yerror");if(T.visible&&a(L.x)&&a(L.yh)&&a(L.ys)){var I=T.width;w="M"+(L.x-I)+","+L.yh+"h"+2*I+"m-"+I+",0V"+L.ys,L.noYS||(w+="m-"+I+",0h"+2*I),E.size()?m&&(E=E.transition().duration(f.duration).ease(f.easing)):E=C.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),E.attr("d",w)}else E.remove();var M=C.select("path.xerror");if(_.visible&&a(L.y)&&a(L.xh)&&a(L.xs)){var V=(_.copy_ystyle?T:_).width;w="M"+L.xh+","+(L.y-V)+"v"+2*V+"m0,-"+V+"H"+L.xs,L.noXS||(w+="m0,-"+V+"v"+2*V),M.size()?m&&(M=M.transition().duration(f.duration).ease(f.easing)):M=C.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),M.attr("d",w)}else M.remove()}})}})}},{"../../traces/scatter/subtypes":381,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],132:[function(t,s,c){var n=t("@plotly/d3"),a=t("../color");s.exports=function(o){o.each(function(i){var l=i[0].trace,p=l.error_y||{},d=l.error_x||{},f=n.select(this);f.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(a.stroke,p.color),d.copy_ystyle&&(d=p),f.selectAll("path.xerror").style("stroke-width",d.thickness+"px").call(a.stroke,d.color)})}},{"../color":102,"@plotly/d3":11}],133:[function(t,s,c){var n=t("../../plots/font_attributes"),a=t("./layout_attributes").hoverlabel,o=t("../../lib/extend").extendFlat;s.exports={hoverlabel:{bgcolor:o({},a.bgcolor,{arrayOk:!0}),bordercolor:o({},a.bordercolor,{arrayOk:!0}),font:n({arrayOk:!0,editType:"none"}),align:o({},a.align,{arrayOk:!0}),namelength:o({},a.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":226,"../../plots/font_attributes":308,"./layout_attributes":143}],134:[function(t,s,c){var n=t("../../lib"),a=t("../../registry");function o(i,l,p,d){d=d||n.identity,Array.isArray(i)&&(l[0][p]=d(i))}s.exports=function(i){var l=i.calcdata,p=i._fullLayout;function d(v){return function(y){return n.coerceHoverinfo({hoverinfo:y},{_module:v._module},p)}}for(var f=0;f<l.length;f++){var u=l[f],h=u[0].trace;if(!a.traceIs(h,"pie-like")){var m=a.traceIs(h,"2dMap")?o:n.fillArray;m(h.hoverinfo,u,"hi",d(h)),h.hovertemplate&&m(h.hovertemplate,u,"ht"),h.hoverlabel&&(m(h.hoverlabel.bgcolor,u,"hbg"),m(h.hoverlabel.bordercolor,u,"hbc"),m(h.hoverlabel.font.size,u,"hts"),m(h.hoverlabel.font.color,u,"htc"),m(h.hoverlabel.font.family,u,"htf"),m(h.hoverlabel.namelength,u,"hnl"),m(h.hoverlabel.align,u,"hta"))}}}},{"../../lib":232,"../../registry":316}],135:[function(t,s,c){var n=t("../../registry"),a=t("./hover").hover;s.exports=function(o,i,l){var p=n.getComponentMethod("annotations","onClick")(o,o._hoverdata);function d(){o.emit("plotly_click",{points:o._hoverdata,event:i})}l!==void 0&&a(o,i,l,!0),o._hoverdata&&i&&i.target&&(p&&p.then?p.then(d):d(),i.stopImmediatePropagation&&i.stopImmediatePropagation())}},{"../../registry":316,"./hover":139}],136:[function(t,s,c){s.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],137:[function(t,s,c){var n=t("../../lib"),a=t("./attributes"),o=t("./hoverlabel_defaults");s.exports=function(i,l,p,d){var f=n.extendFlat({},d.hoverlabel);l.hovertemplate&&(f.namelength=-1),o(i,l,function(u,h){return n.coerce(i,l,a,u,h)},f)}},{"../../lib":232,"./attributes":133,"./hoverlabel_defaults":140}],138:[function(t,s,c){var n=t("../../lib");c.getSubplot=function(d){return d.subplot||d.xaxis+d.yaxis||d.geo},c.isTraceInSubplots=function(d,f){if(d.type==="splom"){for(var u=d.xaxes||[],h=d.yaxes||[],m=0;m<u.length;m++)for(var v=0;v<h.length;v++)if(f.indexOf(u[m]+h[v])!==-1)return!0;return!1}return f.indexOf(c.getSubplot(d))!==-1},c.flat=function(d,f){for(var u=new Array(d.length),h=0;h<d.length;h++)u[h]=f;return u},c.p2c=function(d,f){for(var u=new Array(d.length),h=0;h<d.length;h++)u[h]=d[h].p2c(f);return u},c.getDistanceFunction=function(d,f,u,h){return d==="closest"?h||c.quadrature(f,u):d.charAt(0)==="x"?f:u},c.getClosest=function(d,f,u){if(u.index!==!1)u.index>=0&&u.index<d.length?u.distance=0:u.index=!1;else for(var h=0;h<d.length;h++){var m=f(d[h]);m<=u.distance&&(u.index=h,u.distance=m)}return u},c.inbox=function(d,f,u){return d*f<0||d===0?u:1/0},c.quadrature=function(d,f){return function(u){var h=d(u),m=f(u);return Math.sqrt(h*h+m*m)}},c.makeEventData=function(d,f,u){var h="index"in d?d.index:d.pointNumber,m={data:f._input,fullData:f,curveNumber:f.index,pointNumber:h};if(f._indexToPoints){var v=f._indexToPoints[h];v.length===1?m.pointIndex=v[0]:m.pointIndices=v}else m.pointIndex=h;return f._module.eventData?m=f._module.eventData(m,d,f,u,h):("xVal"in d?m.x=d.xVal:"x"in d&&(m.x=d.x),"yVal"in d?m.y=d.yVal:"y"in d&&(m.y=d.y),d.xa&&(m.xaxis=d.xa),d.ya&&(m.yaxis=d.ya),d.zLabelVal!==void 0&&(m.z=d.zLabelVal)),c.appendArrayPointValue(m,f,h),m},c.appendArrayPointValue=function(d,f,u){var h=f._arrayAttrs;if(h)for(var m=0;m<h.length;m++){var v=h[m],y=o(v);if(d[y]===void 0){var k=i(n.nestedProperty(f,v).get(),u);k!==void 0&&(d[y]=k)}}},c.appendArrayMultiPointValues=function(d,f,u){var h=f._arrayAttrs;if(h)for(var m=0;m<h.length;m++){var v=h[m],y=o(v);if(d[y]===void 0){for(var k=n.nestedProperty(f,v).get(),_=new Array(u.length),T=0;T<u.length;T++)_[T]=i(k,u[T]);d[y]=_}}};var a={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(d){return a[d]||d}function i(d,f){return Array.isArray(f)?Array.isArray(d)&&Array.isArray(d[f[0]])?d[f[0]][f[1]]:void 0:d[f]}var l={x:!0,y:!0},p={"x unified":!0,"y unified":!0};c.isUnifiedHover=function(d){return typeof d=="string"&&!!p[d]},c.isXYhover=function(d){return typeof d=="string"&&!!l[d]}},{"../../lib":232}],139:[function(t,s,c){var n=t("@plotly/d3"),a=t("fast-isnumeric"),o=t("tinycolor2"),i=t("../../lib"),l=i.strTranslate,p=i.strRotate,d=t("../../lib/events"),f=t("../../lib/svg_text_utils"),u=t("../../lib/override_cursor"),h=t("../drawing"),m=t("../color"),v=t("../dragelement"),y=t("../../plots/cartesian/axes"),k=t("../../registry"),_=t("./helpers"),T=t("./constants"),b=t("../legend/defaults"),x=t("../legend/draw"),O=T.YANGLE,A=Math.PI*O/180,C=1/Math.sin(A),L=Math.cos(A),w=Math.sin(A),E=T.HOVERARROWSIZE,I=T.HOVERTEXTPAD,M={box:!0,ohlc:!0,violin:!0,candlestick:!0},V={scatter:!0,scattergl:!0,splom:!0};function j(z){return[z.trace.index,z.index,z.x0,z.y0,z.name,z.attr,z.xa?z.xa._id:"",z.ya?z.ya._id:""].join(",")}c.hover=function(z,P,Z,R){z=i.getGraphDiv(z),i.throttle(z._fullLayout._uid+T.HOVERID,T.HOVERMINTIME,function(){(function(q,tt,rt,nt){rt||(rt="xy");var ct=Array.isArray(rt)?rt:[rt],st=q._fullLayout,gt=st._plots||[],wt=gt[rt],Ot=st._has("cartesian");if(wt){var bt=wt.overlays.map(function(He){return He.id});ct=ct.concat(bt)}for(var Ht=ct.length,Dt=new Array(Ht),yt=new Array(Ht),ut=!1,it=0;it<Ht;it++){var dt=ct[it];if(gt[dt])ut=!0,Dt[it]=gt[dt].xaxis,yt[it]=gt[dt].yaxis;else{if(!st[dt]||!st[dt]._subplot)return void i.warn("Unrecognized subplot: "+dt);var mt=st[dt]._subplot;Dt[it]=mt.xaxis,yt[it]=mt.yaxis}}var Et=tt.hovermode||st.hovermode;if(Et&&!ut&&(Et="closest"),["x","y","closest","x unified","y unified"].indexOf(Et)===-1||!q.calcdata||q.querySelector(".zoombox")||q._dragging)return v.unhoverRaw(q,tt);var Mt=st.hoverdistance;Mt===-1&&(Mt=1/0);var Tt=st.spikedistance;Tt===-1&&(Tt=1/0);var Nt,zt,At,Ct,qt,St,$t,Zt,Yt,re,Qt,xt,kt,Bt=[],ie=[],ye={hLinePoint:null,vLinePoint:null},ot=!1;if(Array.isArray(tt))for(Et="array",At=0;At<tt.length;At++)(qt=q.calcdata[tt[At].curveNumber||0])&&(St=qt[0].trace,qt[0].trace.hoverinfo!=="skip"&&(ie.push(qt),St.orientation==="h"&&(ot=!0)));else{for(Ct=0;Ct<q.calcdata.length;Ct++)qt=q.calcdata[Ct],(St=qt[0].trace).hoverinfo!=="skip"&&_.isTraceInSubplots(St,ct)&&(ie.push(qt),St.orientation==="h"&&(ot=!0));var ft,Lt;if(!tt.target)ft="xpx"in tt?tt.xpx:Dt[0]._length/2,Lt="ypx"in tt?tt.ypx:yt[0]._length/2;else{if(d.triggerHandler(q,"plotly_beforehover",tt)===!1)return;var Pt=tt.composedPath&&tt.composedPath()[0];Pt||(Pt=tt.target);var It=Pt.getBoundingClientRect();ft=tt.clientX-It.left,Lt=tt.clientY-It.top,st._calcInverseTransform(q);var Rt=i.apply3DTransform(st._invTransform)(ft,Lt);if(ft=Rt[0],Lt=Rt[1],ft<0||ft>Dt[0]._length||Lt<0||Lt>yt[0]._length)return v.unhoverRaw(q,tt)}if(tt.pointerX=ft+Dt[0]._offset,tt.pointerY=Lt+yt[0]._offset,Nt="xval"in tt?_.flat(ct,tt.xval):_.p2c(Dt,ft),zt="yval"in tt?_.flat(ct,tt.yval):_.p2c(yt,Lt),!a(Nt[0])||!a(zt[0]))return i.warn("Fx.hover failed",tt,q),v.unhoverRaw(q,tt)}var Vt=1/0;function Jt(He,Ue){for(Ct=0;Ct<ie.length;Ct++)if((qt=ie[Ct])&&qt[0]&&qt[0].trace&&(St=qt[0].trace).visible===!0&&St._length!==0&&["carpet","contourcarpet"].indexOf(St._module.name)===-1){if(St.type==="splom"?$t=ct[Zt=0]:($t=_.getSubplot(St),Zt=ct.indexOf($t)),Yt=Et,_.isUnifiedHover(Yt)&&(Yt=Yt.charAt(0)),xt={cd:qt,trace:St,xa:Dt[Zt],ya:yt[Zt],maxHoverDistance:Mt,maxSpikeDistance:Tt,index:!1,distance:Math.min(Vt,Mt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:m.defaultLine,name:St.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},st[$t]&&(xt.subplot=st[$t]._subplot),st._splomScenes&&st._splomScenes[St.uid]&&(xt.scene=st._splomScenes[St.uid]),kt=Bt.length,Yt==="array"){var Be=tt[Ct];"pointNumber"in Be?(xt.index=Be.pointNumber,Yt="closest"):(Yt="","xval"in Be&&(re=Be.xval,Yt="x"),"yval"in Be&&(Qt=Be.yval,Yt=Yt?"closest":"y"))}else He!==void 0&&Ue!==void 0?(re=He,Qt=Ue):(re=Nt[Zt],Qt=zt[Zt]);if(Mt!==0)if(St._module&&St._module.hoverPoints){var tn=St._module.hoverPoints(xt,re,Qt,Yt,{finiteRange:!0,hoverLayer:st._hoverlayer});if(tn)for(var rn,dn=0;dn<tn.length;dn++)rn=tn[dn],a(rn.x0)&&a(rn.y0)&&Bt.push(et(rn,Et))}else i.log("Unrecognized trace type in hover:",St);if(Et==="closest"&&Bt.length>kt&&(Bt.splice(0,kt),Vt=Bt[0].distance),Ot&&Tt!==0&&Bt.length===0){xt.distance=Tt,xt.index=!1;var Xe=St._module.hoverPoints(xt,re,Qt,"closest",{hoverLayer:st._hoverlayer});if(Xe&&(Xe=Xe.filter(function(tr){return tr.spikeDistance<=Tt})),Xe&&Xe.length){var an,Cn=Xe.filter(function(tr){return tr.xa.showspikes&&tr.xa.spikesnap!=="hovered data"});if(Cn.length){var Fn=Cn[0];a(Fn.x0)&&a(Fn.y0)&&(an=ce(Fn),(!ye.vLinePoint||ye.vLinePoint.spikeDistance>an.spikeDistance)&&(ye.vLinePoint=an))}var Gn=Xe.filter(function(tr){return tr.ya.showspikes&&tr.ya.spikesnap!=="hovered data"});if(Gn.length){var Yn=Gn[0];a(Yn.x0)&&a(Yn.y0)&&(an=ce(Yn),(!ye.hLinePoint||ye.hLinePoint.spikeDistance>an.spikeDistance)&&(ye.hLinePoint=an))}}}}}function ae(He,Ue,Be){for(var tn,rn=null,dn=1/0,Xe=0;Xe<He.length;Xe++)tn=He[Xe].spikeDistance,Be&&Xe===0&&(tn=-1/0),tn<=dn&&tn<=Ue&&(rn=He[Xe],dn=tn);return rn}function ce(He){return He?{xa:He.xa,ya:He.ya,x:He.xSpike!==void 0?He.xSpike:(He.x0+He.x1)/2,y:He.ySpike!==void 0?He.ySpike:(He.y0+He.y1)/2,distance:He.distance,spikeDistance:He.spikeDistance,curveNumber:He.trace.index,color:He.color,pointNumber:He.index}:null}Jt();var le={fullLayout:st,container:st._hoverlayer,event:tt},se=q._spikepoints,pe={vLinePoint:ye.vLinePoint,hLinePoint:ye.hLinePoint};q._spikepoints=pe;var we=function(){Bt.sort(function(He,Ue){return He.distance-Ue.distance}),Bt=function(He,Ue){for(var Be=Ue.charAt(0),tn=[],rn=[],dn=[],Xe=0;Xe<He.length;Xe++){var an=He[Xe];k.traceIs(an.trace,"bar-like")||k.traceIs(an.trace,"box-violin")?dn.push(an):an.trace[Be+"period"]?rn.push(an):tn.push(an)}return tn.concat(rn).concat(dn)}(Bt,Et)};we();var me=Et.charAt(0),ee=(me==="x"||me==="y")&&Bt[0]&&V[Bt[0].trace.type];if(Ot&&Tt!==0&&Bt.length!==0){var ue=ae(Bt.filter(function(He){return He.ya.showspikes}),Tt,ee);ye.hLinePoint=ce(ue);var Te=ae(Bt.filter(function(He){return He.xa.showspikes}),Tt,ee);ye.vLinePoint=ce(Te)}if(Bt.length===0){var Me=v.unhoverRaw(q,tt);return!Ot||ye.hLinePoint===null&&ye.vLinePoint===null||Y(se)&&G(q,ye,le),Me}if(Ot&&Y(se)&&G(q,ye,le),_.isXYhover(Yt)&&Bt[0].length!==0&&Bt[0].trace.type!=="splom"){var Ce=Bt[0],fe=(Bt=M[Ce.trace.type]?Bt.filter(function(He){return He.trace.index===Ce.trace.index}):[Ce]).length,_e=U("x",Ce,st),Le=U("y",Ce,st);Jt(_e,Le);var he,Se=[],de={},Re=0,Ee=function(He){var Ue=M[He.trace.type]?j(He):He.trace.index;if(de[Ue]){var Be=de[Ue]-1,tn=Se[Be];Be>0&&Math.abs(He.distance)<Math.abs(tn.distance)&&(Se[Be]=He)}else Re++,de[Ue]=Re,Se.push(He)};for(he=0;he<fe;he++)Ee(Bt[he]);for(he=Bt.length-1;he>fe-1;he--)Ee(Bt[he]);Bt=Se,we()}var De=q._hoverdata,je=[],Je=$(q),en=Q(q);for(At=0;At<Bt.length;At++){var be=Bt[At],Ae=_.makeEventData(be,be.trace,be.cd);if(be.hovertemplate!==!1){var Oe=!1;be.cd[be.index]&&be.cd[be.index].ht&&(Oe=be.cd[be.index].ht),be.hovertemplate=Oe||be.trace.hovertemplate||!1}if(be.xa&&be.ya){var Fe=be.x0+be.xa._offset,ve=be.x1+be.xa._offset,Ve=be.y0+be.ya._offset,We=be.y1+be.ya._offset,ln=Math.min(Fe,ve),on=Math.max(Fe,ve),sn=Math.min(Ve,We),un=Math.max(Ve,We);Ae.bbox={x0:ln+en,x1:on+en,y0:sn+Je,y1:un+Je}}be.eventData=[Ae],je.push(Ae)}q._hoverdata=je;var cn=Et==="y"&&(ie.length>1||Bt.length>1)||Et==="closest"&&ot&&Bt.length>1,$e=m.combine(st.plot_bgcolor||m.background,st.paper_bgcolor),ke=H(Bt,{gd:q,hovermode:Et,rotateLabels:cn,bgColor:$e,container:st._hoverlayer,outerContainer:st._paper.node(),commonLabelOpts:st.hoverlabel,hoverdistance:st.hoverdistance});if(_.isUnifiedHover(Et)||(function(He,Ue,Be){var tn,rn,dn,Xe,an,Cn,Fn,Gn=0,Yn=1,tr=He.size(),pr=new Array(tr),co=0;function Tl(Sn){var Wn=Sn[0],ra=Sn[Sn.length-1];if(rn=Wn.pmin-Wn.pos-Wn.dp+Wn.size,dn=ra.pos+ra.dp+ra.size-Wn.pmax,rn>.01){for(an=Sn.length-1;an>=0;an--)Sn[an].dp+=rn;tn=!1}if(!(dn<.01)){if(rn<-.01){for(an=Sn.length-1;an>=0;an--)Sn[an].dp-=dn;tn=!1}if(tn){var qn=0;for(Xe=0;Xe<Sn.length;Xe++)(Cn=Sn[Xe]).pos+Cn.dp+Cn.size>Wn.pmax&&qn++;for(Xe=Sn.length-1;Xe>=0&&!(qn<=0);Xe--)(Cn=Sn[Xe]).pos>Wn.pmax-1&&(Cn.del=!0,qn--);for(Xe=0;Xe<Sn.length&&!(qn<=0);Xe++)if((Cn=Sn[Xe]).pos<Wn.pmin+1)for(Cn.del=!0,qn--,dn=2*Cn.size,an=Sn.length-1;an>=0;an--)Sn[an].dp-=dn;for(Xe=Sn.length-1;Xe>=0&&!(qn<=0);Xe--)(Cn=Sn[Xe]).pos+Cn.dp+Cn.size>Wn.pmax&&(Cn.del=!0,qn--)}}}for(He.each(function(Sn){var Wn=Sn[Ue],ra=Wn._id.charAt(0)==="x",qn=Wn.range;co===0&&qn&&qn[0]>qn[1]!==ra&&(Yn=-1),pr[co++]=[{datum:Sn,traceIndex:Sn.trace.index,dp:0,pos:Sn.pos,posref:Sn.posref,size:Sn.by*(ra?C:1)/2,pmin:0,pmax:ra?Be.width:Be.height}]}),pr.sort(function(Sn,Wn){return Sn[0].posref-Wn[0].posref||Yn*(Wn[0].traceIndex-Sn[0].traceIndex)});!tn&&Gn<=tr;){for(Gn++,tn=!0,Xe=0;Xe<pr.length-1;){var Fr=pr[Xe],Ba=pr[Xe+1],na=Fr[Fr.length-1],Ua=Ba[0];if((rn=na.pos+na.dp+na.size-Ua.pos-Ua.dp+Ua.size)>.01&&na.pmin===Ua.pmin&&na.pmax===Ua.pmax){for(an=Ba.length-1;an>=0;an--)Ba[an].dp+=rn;for(Fr.push.apply(Fr,Ba),pr.splice(Xe+1,1),Fn=0,an=Fr.length-1;an>=0;an--)Fn+=Fr[an].dp;for(dn=Fn/Fr.length,an=Fr.length-1;an>=0;an--)Fr[an].dp-=dn;tn=!1}else Xe++}pr.forEach(Tl)}for(Xe=pr.length-1;Xe>=0;Xe--){var kl=pr[Xe];for(an=kl.length-1;an>=0;an--){var pi=kl[an],Ml=pi.datum;Ml.offset=pi.dp,Ml.del=pi.del}}}(ke,cn?"xa":"ya",st),K(ke,cn,st._invScaleX,st._invScaleY)),tt.target&&tt.target.tagName){var Ge=k.getComponentMethod("annotations","hasClickToShow")(q,je);u(n.select(tt.target),Ge?"pointer":"")}!tt.target||nt||!function(He,Ue,Be){if(!Be||Be.length!==He._hoverdata.length)return!0;for(var tn=Be.length-1;tn>=0;tn--){var rn=Be[tn],dn=He._hoverdata[tn];if(rn.curveNumber!==dn.curveNumber||String(rn.pointNumber)!==String(dn.pointNumber)||String(rn.pointNumbers)!==String(dn.pointNumbers))return!0}return!1}(q,0,De)||(De&&q.emit("plotly_unhover",{event:tt,points:De}),q.emit("plotly_hover",{event:tt,points:q._hoverdata,xaxes:Dt,yaxes:yt,xvals:Nt,yvals:zt}))})(z,P,Z,R)})},c.loneHover=function(z,P){var Z=!0;Array.isArray(z)||(Z=!1,z=[z]);var R=P.gd,q=$(R),tt=Q(R),rt=H(z.map(function(st){var gt=st._x0||st.x0||st.x||0,wt=st._x1||st.x1||st.x||0,Ot=st._y0||st.y0||st.y||0,bt=st._y1||st.y1||st.y||0,Ht=st.eventData;if(Ht){var Dt=Math.min(gt,wt),yt=Math.max(gt,wt),ut=Math.min(Ot,bt),it=Math.max(Ot,bt),dt=st.trace;if(k.traceIs(dt,"gl3d")){var mt=R._fullLayout[dt.scene]._scene.container,Et=mt.offsetLeft,Mt=mt.offsetTop;Dt+=Et,yt+=Et,ut+=Mt,it+=Mt}Ht.bbox={x0:Dt+tt,x1:yt+tt,y0:ut+q,y1:it+q},P.inOut_bbox&&P.inOut_bbox.push(Ht.bbox)}else Ht=!1;return{color:st.color||m.defaultLine,x0:st.x0||st.x||0,x1:st.x1||st.x||0,y0:st.y0||st.y||0,y1:st.y1||st.y||0,xLabel:st.xLabel,yLabel:st.yLabel,zLabel:st.zLabel,text:st.text,name:st.name,idealAlign:st.idealAlign,borderColor:st.borderColor,fontFamily:st.fontFamily,fontSize:st.fontSize,fontColor:st.fontColor,nameLength:st.nameLength,textAlign:st.textAlign,trace:st.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:st.hovertemplate||!1,hovertemplateLabels:st.hovertemplateLabels||!1,eventData:Ht}}),{gd:R,hovermode:"closest",rotateLabels:!1,bgColor:P.bgColor||m.background,container:n.select(P.container),outerContainer:P.outerContainer||P.container}),nt=0,ct=0;return rt.sort(function(st,gt){return st.y0-gt.y0}).each(function(st,gt){var wt=st.y0-st.by/2;st.offset=wt-5<nt?nt-wt+5:0,nt=wt+st.by+st.offset,gt===P.anchorIndex&&(ct=st.offset)}).each(function(st){st.offset-=ct}),K(rt,!1,R._fullLayout._invScaleX,R._fullLayout._invScaleY),Z?rt:rt.node()};var W=/<extra>([\s\S]*)<\/extra>/;function H(z,P){var Z=P.gd,R=Z._fullLayout,q=P.hovermode,tt=P.rotateLabels,rt=P.bgColor,nt=P.container,ct=P.outerContainer,st=P.commonLabelOpts||{},gt=P.fontFamily||T.HOVERFONT,wt=P.fontSize||T.HOVERFONTSIZE,Ot=z[0],bt=Ot.xa,Ht=Ot.ya,Dt=q.charAt(0),yt=Ot[Dt+"Label"],ut=F(Z,ct),it=ut.top,dt=ut.width,mt=ut.height,Et=yt!==void 0&&Ot.distance<=P.hoverdistance&&(q==="x"||q==="y");if(Et){var Mt,Tt,Nt=!0;for(Mt=0;Mt<z.length;Mt++)if(Nt&&z[Mt].zLabel===void 0&&(Nt=!1),Tt=z[Mt].hoverinfo||z[Mt].trace.hoverinfo){var zt=Array.isArray(Tt)?Tt:Tt.split("+");if(zt.indexOf("all")===-1&&zt.indexOf(q)===-1){Et=!1;break}}Nt&&(Et=!1)}var At=nt.selectAll("g.axistext").data(Et?[0]:[]);if(At.enter().append("g").classed("axistext",!0),At.exit().remove(),At.each(function(){var ee=n.select(this),ue=i.ensureSingle(ee,"path","",function(ve){ve.style({"stroke-width":"1px"})}),Te=i.ensureSingle(ee,"text","",function(ve){ve.attr("data-notex",1)}),Me=st.bgcolor||m.defaultLine,Ce=st.bordercolor||m.contrast(Me),fe=m.contrast(Me),_e={family:st.font.family||gt,size:st.font.size||wt,color:st.font.color||fe};ue.style({fill:Me,stroke:Ce}),Te.text(yt).call(h.font,_e).call(f.positionText,0,0).call(f.convertToTspans,Z),ee.attr("transform","");var Le,he,Se=F(Z,Te.node());if(q==="x"){var de=bt.side==="top"?"-":"";Te.attr("text-anchor","middle").call(f.positionText,0,bt.side==="top"?it-Se.bottom-E-I:it-Se.top+E+I),Le=bt._offset+(Ot.x0+Ot.x1)/2,he=Ht._offset+(bt.side==="top"?0:Ht._length);var Re=Se.width/2+I;Le<Re?(Le=Re,ue.attr("d","M-"+(Re-E)+",0L-"+(Re-2*E)+","+de+E+"H"+(I+Se.width/2)+"v"+de+(2*I+Se.height)+"H-"+Re+"V"+de+E+"Z")):Le>R.width-Re?(Le=R.width-Re,ue.attr("d","M"+(Re-E)+",0L"+Re+","+de+E+"v"+de+(2*I+Se.height)+"H-"+Re+"V"+de+E+"H"+(Re-2*E)+"Z")):ue.attr("d","M0,0L"+E+","+de+E+"H"+(I+Se.width/2)+"v"+de+(2*I+Se.height)+"H-"+(I+Se.width/2)+"V"+de+E+"H-"+E+"Z")}else{var Ee,De,je;Ht.side==="right"?(Ee="start",De=1,je="",Le=bt._offset+bt._length):(Ee="end",De=-1,je="-",Le=bt._offset),he=Ht._offset+(Ot.y0+Ot.y1)/2,Te.attr("text-anchor",Ee),ue.attr("d","M0,0L"+je+E+","+E+"V"+(I+Se.height/2)+"h"+je+(2*I+Se.width)+"V-"+(I+Se.height/2)+"H"+je+E+"V-"+E+"Z");var Je,en=Se.height/2,be=it-Se.top-en,Ae="clip"+R._uid+"commonlabel"+Ht._id;if(Le<Se.width+2*I+E){Je="M-"+(E+I)+"-"+en+"h-"+(Se.width-I)+"V"+en+"h"+(Se.width-I)+"Z";var Oe=Se.width-Le+I;f.positionText(Te,Oe,be),Ee==="end"&&Te.selectAll("tspan").each(function(){var ve=n.select(this),Ve=h.tester.append("text").text(ve.text()).call(h.font,_e),We=F(Z,Ve.node());Math.round(We.width)<Math.round(Se.width)&&ve.attr("x",Oe-We.width),Ve.remove()})}else f.positionText(Te,De*(I+E),be),Je=null;var Fe=R._topclips.selectAll("#"+Ae).data(Je?[0]:[]);Fe.enter().append("clipPath").attr("id",Ae).append("path"),Fe.exit().remove(),Fe.select("path").attr("d",Je),h.setClipUrl(Te,Je?Ae:null,Z)}ee.attr("transform",l(Le,he))}),_.isUnifiedHover(q)){if(nt.selectAll("g.hovertext").remove(),z.length===0)return;var Ct=R.hoverlabel,qt=Ct.font,St={showlegend:!0,legend:{title:{text:yt,font:qt},font:qt,bgcolor:Ct.bgcolor,bordercolor:Ct.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:R.legend?R.legend.traceorder:void 0,orientation:"v"}},$t={};b(St,$t,Z._fullData);var Zt=$t.legend;Zt.entries=[];for(var Yt=0;Yt<z.length;Yt++){var re=B(z[Yt],!0,q,R,yt),Qt=re[0],xt=re[1],kt=z[Yt];kt.name=xt,kt.text=xt!==""?xt+" : "+Qt:Qt;var Bt=kt.cd[kt.index];Bt&&(Bt.mc&&(kt.mc=Bt.mc),Bt.mcc&&(kt.mc=Bt.mcc),Bt.mlc&&(kt.mlc=Bt.mlc),Bt.mlcc&&(kt.mlc=Bt.mlcc),Bt.mlw&&(kt.mlw=Bt.mlw),Bt.mrc&&(kt.mrc=Bt.mrc),Bt.dir&&(kt.dir=Bt.dir)),kt._distinct=!0,Zt.entries.push([kt])}Zt.entries.sort(function(ee,ue){return ee[0].trace.index-ue[0].trace.index}),Zt.layer=nt,Zt._inHover=!0,Zt._groupTitleFont=qt,x(Z,Zt);var ie,ye,ot,ft,Lt=nt.select("g.legend"),Pt=F(Z,Lt.node()),It=Pt.width+2*I,Rt=Pt.height+2*I,Vt=z[0],Jt=(Vt.x0+Vt.x1)/2,ae=(Vt.y0+Vt.y1)/2,ce=!(k.traceIs(Vt.trace,"bar-like")||k.traceIs(Vt.trace,"box-violin"));Dt==="y"?ce?(ye=ae-I,ie=ae+I):(ye=Math.min.apply(null,z.map(function(ee){return Math.min(ee.y0,ee.y1)})),ie=Math.max.apply(null,z.map(function(ee){return Math.max(ee.y0,ee.y1)}))):ye=ie=i.mean(z.map(function(ee){return(ee.y0+ee.y1)/2}))-Rt/2,Dt==="x"?ce?(ot=Jt+I,ft=Jt-I):(ot=Math.max.apply(null,z.map(function(ee){return Math.max(ee.x0,ee.x1)})),ft=Math.min.apply(null,z.map(function(ee){return Math.min(ee.x0,ee.x1)}))):ot=ft=i.mean(z.map(function(ee){return(ee.x0+ee.x1)/2}))-It/2;var le,se,pe=bt._offset,we=Ht._offset;return ft+=pe-It,ye+=we-Rt,le=(ot+=pe)+It<dt&&ot>=0?ot:ft+It<dt&&ft>=0?ft:pe+It<dt?pe:ot-Jt<Jt-ft+It?dt-It:0,le+=I,se=(ie+=we)+Rt<mt&&ie>=0?ie:ye+Rt<mt&&ye>=0?ye:we+Rt<mt?we:ie-ae<ae-ye+Rt?mt-Rt:0,se+=I,Lt.attr("transform",l(le-1,se-1)),Lt}var me=nt.selectAll("g.hovertext").data(z,function(ee){return j(ee)});return me.enter().append("g").classed("hovertext",!0).each(function(){var ee=n.select(this);ee.append("rect").call(m.fill,m.addOpacity(rt,.8)),ee.append("text").classed("name",!0),ee.append("path").style("stroke-width","1px"),ee.append("text").classed("nums",!0).call(h.font,gt,wt)}),me.exit().remove(),me.each(function(ee){var ue=n.select(this).attr("transform",""),Te=ee.color;Array.isArray(Te)&&(Te=Te[ee.eventData[0].pointNumber]);var Me=ee.bgcolor||Te,Ce=m.combine(m.opacity(Me)?Me:m.defaultLine,rt),fe=m.combine(m.opacity(Te)?Te:m.defaultLine,rt),_e=ee.borderColor||m.contrast(Ce),Le=B(ee,Et,q,R,yt,ue),he=Le[0],Se=Le[1],de=ue.select("text.nums").call(h.font,ee.fontFamily||gt,ee.fontSize||wt,ee.fontColor||_e).text(he).attr("data-notex",1).call(f.positionText,0,0).call(f.convertToTspans,Z),Re=ue.select("text.name"),Ee=0,De=0;if(Se&&Se!==he){Re.call(h.font,ee.fontFamily||gt,ee.fontSize||wt,fe).text(Se).attr("data-notex",1).call(f.positionText,0,0).call(f.convertToTspans,Z);var je=F(Z,Re.node());Ee=je.width+2*I,De=je.height+2*I}else Re.remove(),ue.select("rect").remove();ue.select("path").style({fill:Ce,stroke:_e});var Je=ee.xa._offset+(ee.x0+ee.x1)/2,en=ee.ya._offset+(ee.y0+ee.y1)/2,be=Math.abs(ee.x1-ee.x0),Ae=Math.abs(ee.y1-ee.y0),Oe=F(Z,de.node()),Fe=Oe.width/R._invScaleX,ve=Oe.height/R._invScaleY;ee.ty0=(it-Oe.top)/R._invScaleY,ee.bx=Fe+2*I,ee.by=Math.max(ve+2*I,De),ee.anchor="start",ee.txwidth=Fe,ee.tx2width=Ee,ee.offset=0;var Ve,We,ln=(Fe+E+I+Ee)*R._invScaleX;if(tt)ee.pos=Je,Ve=en+Ae/2+ln<=mt,We=en-Ae/2-ln>=0,ee.idealAlign!=="top"&&Ve||!We?Ve?(en+=Ae/2,ee.anchor="start"):ee.anchor="middle":(en-=Ae/2,ee.anchor="end");else if(ee.pos=en,Ve=Je+be/2+ln<=dt,We=Je-be/2-ln>=0,ee.idealAlign!=="left"&&Ve||!We)if(Ve)Je+=be/2,ee.anchor="start";else{ee.anchor="middle";var on=ln/2,sn=Je+on-dt,un=Je-on;sn>0&&(Je-=sn),un<0&&(Je+=-un)}else Je-=be/2,ee.anchor="end";de.attr("text-anchor",ee.anchor),Ee&&Re.attr("text-anchor",ee.anchor),ue.attr("transform",l(Je,en)+(tt?p(O):""))}),me}function B(z,P,Z,R,q,tt){var rt="",nt="";z.nameOverride!==void 0&&(z.name=z.nameOverride),z.name&&(z.trace._meta&&(z.name=i.templateString(z.name,z.trace._meta)),rt=D(z.name,z.nameLength));var ct=Z.charAt(0),st=ct==="x"?"y":"x";z.zLabel!==void 0?(z.xLabel!==void 0&&(nt+="x: "+z.xLabel+"<br>"),z.yLabel!==void 0&&(nt+="y: "+z.yLabel+"<br>"),z.trace.type!=="choropleth"&&z.trace.type!=="choroplethmapbox"&&(nt+=(nt?"z: ":"")+z.zLabel)):P&&z[ct+"Label"]===q?nt=z[st+"Label"]||"":z.xLabel===void 0?z.yLabel!==void 0&&z.trace.type!=="scattercarpet"&&(nt=z.yLabel):nt=z.yLabel===void 0?z.xLabel:"("+z.xLabel+", "+z.yLabel+")",!z.text&&z.text!==0||Array.isArray(z.text)||(nt+=(nt?"<br>":"")+z.text),z.extraText!==void 0&&(nt+=(nt?"<br>":"")+z.extraText),tt&&nt===""&&!z.hovertemplate&&(rt===""&&tt.remove(),nt=rt);var gt=z.hovertemplate||!1;if(gt){var wt=z.hovertemplateLabels||z;z[ct+"Label"]!==q&&(wt[ct+"other"]=wt[ct+"Val"],wt[ct+"otherLabel"]=wt[ct+"Label"]),nt=(nt=i.hovertemplateString(gt,wt,R._d3locale,z.eventData[0]||{},z.trace._meta)).replace(W,function(Ot,bt){return rt=D(bt,z.nameLength),""})}return[nt,rt]}function K(z,P,Z,R){var q=function(rt){return rt*Z},tt=function(rt){return rt*R};z.each(function(rt){var nt=n.select(this);if(rt.del)return nt.remove();var ct=nt.select("text.nums"),st=rt.anchor,gt=st==="end"?-1:1,wt={start:1,end:-1,middle:0}[st],Ot=wt*(E+I),bt=Ot+wt*(rt.txwidth+I),Ht=0,Dt=rt.offset,yt=st==="middle";yt&&(Ot-=rt.tx2width/2,bt+=rt.txwidth/2+I),P&&(Dt*=-w,Ht=rt.offset*L),nt.select("path").attr("d",yt?"M-"+q(rt.bx/2+rt.tx2width/2)+","+tt(Dt-rt.by/2)+"h"+q(rt.bx)+"v"+tt(rt.by)+"h-"+q(rt.bx)+"Z":"M0,0L"+q(gt*E+Ht)+","+tt(E+Dt)+"v"+tt(rt.by/2-E)+"h"+q(gt*rt.bx)+"v-"+tt(rt.by)+"H"+q(gt*E+Ht)+"V"+tt(Dt-E)+"Z");var ut=Ht+Ot,it=Dt+rt.ty0-rt.by/2+I,dt=rt.textAlign||"auto";dt!=="auto"&&(dt==="left"&&st!=="start"?(ct.attr("text-anchor","start"),ut=yt?-rt.bx/2-rt.tx2width/2+I:-rt.bx-I):dt==="right"&&st!=="end"&&(ct.attr("text-anchor","end"),ut=yt?rt.bx/2-rt.tx2width/2-I:rt.bx+I)),ct.call(f.positionText,q(ut),tt(it)),rt.tx2width&&(nt.select("text.name").call(f.positionText,q(bt+wt*I+Ht),tt(Dt+rt.ty0-rt.by/2+I)),nt.select("rect").call(h.setRect,q(bt+(wt-1)*rt.tx2width/2+Ht),tt(Dt-rt.by/2-1),q(rt.tx2width),tt(rt.by+2)))})}function et(z,P){var Z=z.index,R=z.trace||{},q=z.cd[0],tt=z.cd[Z]||{};function rt(Ot){return Ot||a(Ot)&&Ot===0}var nt=Array.isArray(Z)?function(Ot,bt){var Ht=i.castOption(q,Z,Ot);return rt(Ht)?Ht:i.extractOption({},R,"",bt)}:function(Ot,bt){return i.extractOption(tt,R,Ot,bt)};function ct(Ot,bt,Ht){var Dt=nt(bt,Ht);rt(Dt)&&(z[Ot]=Dt)}if(ct("hoverinfo","hi","hoverinfo"),ct("bgcolor","hbg","hoverlabel.bgcolor"),ct("borderColor","hbc","hoverlabel.bordercolor"),ct("fontFamily","htf","hoverlabel.font.family"),ct("fontSize","hts","hoverlabel.font.size"),ct("fontColor","htc","hoverlabel.font.color"),ct("nameLength","hnl","hoverlabel.namelength"),ct("textAlign","hta","hoverlabel.align"),z.posref=P==="y"||P==="closest"&&R.orientation==="h"?z.xa._offset+(z.x0+z.x1)/2:z.ya._offset+(z.y0+z.y1)/2,z.x0=i.constrain(z.x0,0,z.xa._length),z.x1=i.constrain(z.x1,0,z.xa._length),z.y0=i.constrain(z.y0,0,z.ya._length),z.y1=i.constrain(z.y1,0,z.ya._length),z.xLabelVal!==void 0&&(z.xLabel="xLabel"in z?z.xLabel:y.hoverLabelText(z.xa,z.xLabelVal,R.xhoverformat),z.xVal=z.xa.c2d(z.xLabelVal)),z.yLabelVal!==void 0&&(z.yLabel="yLabel"in z?z.yLabel:y.hoverLabelText(z.ya,z.yLabelVal,R.yhoverformat),z.yVal=z.ya.c2d(z.yLabelVal)),z.zLabelVal!==void 0&&z.zLabel===void 0&&(z.zLabel=String(z.zLabelVal)),!(isNaN(z.xerr)||z.xa.type==="log"&&z.xerr<=0)){var st=y.tickText(z.xa,z.xa.c2l(z.xerr),"hover").text;z.xerrneg!==void 0?z.xLabel+=" +"+st+" / -"+y.tickText(z.xa,z.xa.c2l(z.xerrneg),"hover").text:z.xLabel+=" \xB1 "+st,P==="x"&&(z.distance+=1)}if(!(isNaN(z.yerr)||z.ya.type==="log"&&z.yerr<=0)){var gt=y.tickText(z.ya,z.ya.c2l(z.yerr),"hover").text;z.yerrneg!==void 0?z.yLabel+=" +"+gt+" / -"+y.tickText(z.ya,z.ya.c2l(z.yerrneg),"hover").text:z.yLabel+=" \xB1 "+gt,P==="y"&&(z.distance+=1)}var wt=z.hoverinfo||z.trace.hoverinfo;return wt&&wt!=="all"&&((wt=Array.isArray(wt)?wt:wt.split("+")).indexOf("x")===-1&&(z.xLabel=void 0),wt.indexOf("y")===-1&&(z.yLabel=void 0),wt.indexOf("z")===-1&&(z.zLabel=void 0),wt.indexOf("text")===-1&&(z.text=void 0),wt.indexOf("name")===-1&&(z.name=void 0)),z}function G(z,P,Z){var R,q,tt=Z.container,rt=Z.fullLayout,nt=rt._size,ct=Z.event,st=!!P.hLinePoint,gt=!!P.vLinePoint;if(tt.selectAll(".spikeline").remove(),gt||st){var wt=m.combine(rt.plot_bgcolor,rt.paper_bgcolor);if(st){var Ot,bt,Ht=P.hLinePoint;R=Ht&&Ht.xa,(q=Ht&&Ht.ya).spikesnap==="cursor"?(Ot=ct.pointerX,bt=ct.pointerY):(Ot=R._offset+Ht.x,bt=q._offset+Ht.y);var Dt,yt,ut=o.readability(Ht.color,wt)<1.5?m.contrast(wt):Ht.color,it=q.spikemode,dt=q.spikethickness,mt=q.spikecolor||ut,Et=y.getPxPosition(z,q);if(it.indexOf("toaxis")!==-1||it.indexOf("across")!==-1){if(it.indexOf("toaxis")!==-1&&(Dt=Et,yt=Ot),it.indexOf("across")!==-1){var Mt=q._counterDomainMin,Tt=q._counterDomainMax;q.anchor==="free"&&(Mt=Math.min(Mt,q.position),Tt=Math.max(Tt,q.position)),Dt=nt.l+Mt*nt.w,yt=nt.l+Tt*nt.w}tt.insert("line",":first-child").attr({x1:Dt,x2:yt,y1:bt,y2:bt,"stroke-width":dt,stroke:mt,"stroke-dasharray":h.dashStyle(q.spikedash,dt)}).classed("spikeline",!0).classed("crisp",!0),tt.insert("line",":first-child").attr({x1:Dt,x2:yt,y1:bt,y2:bt,"stroke-width":dt+2,stroke:wt}).classed("spikeline",!0).classed("crisp",!0)}it.indexOf("marker")!==-1&&tt.insert("circle",":first-child").attr({cx:Et+(q.side!=="right"?dt:-dt),cy:bt,r:dt,fill:mt}).classed("spikeline",!0)}if(gt){var Nt,zt,At=P.vLinePoint;R=At&&At.xa,q=At&&At.ya,R.spikesnap==="cursor"?(Nt=ct.pointerX,zt=ct.pointerY):(Nt=R._offset+At.x,zt=q._offset+At.y);var Ct,qt,St=o.readability(At.color,wt)<1.5?m.contrast(wt):At.color,$t=R.spikemode,Zt=R.spikethickness,Yt=R.spikecolor||St,re=y.getPxPosition(z,R);if($t.indexOf("toaxis")!==-1||$t.indexOf("across")!==-1){if($t.indexOf("toaxis")!==-1&&(Ct=re,qt=zt),$t.indexOf("across")!==-1){var Qt=R._counterDomainMin,xt=R._counterDomainMax;R.anchor==="free"&&(Qt=Math.min(Qt,R.position),xt=Math.max(xt,R.position)),Ct=nt.t+(1-xt)*nt.h,qt=nt.t+(1-Qt)*nt.h}tt.insert("line",":first-child").attr({x1:Nt,x2:Nt,y1:Ct,y2:qt,"stroke-width":Zt,stroke:Yt,"stroke-dasharray":h.dashStyle(R.spikedash,Zt)}).classed("spikeline",!0).classed("crisp",!0),tt.insert("line",":first-child").attr({x1:Nt,x2:Nt,y1:Ct,y2:qt,"stroke-width":Zt+2,stroke:wt}).classed("spikeline",!0).classed("crisp",!0)}$t.indexOf("marker")!==-1&&tt.insert("circle",":first-child").attr({cx:Nt,cy:re-(R.side!=="top"?Zt:-Zt),r:Zt,fill:Yt}).classed("spikeline",!0)}}}function Y(z,P){return!P||P.vLinePoint!==z._spikepoints.vLinePoint||P.hLinePoint!==z._spikepoints.hLinePoint}function D(z,P){return f.plainText(z||"",{len:P,allowedTags:["br","sub","sup","b","i","em"]})}function U(z,P,Z){var R=P[z+"a"],q=P[z+"Val"],tt=P.cd[0];if(R.type==="category")q=R._categoriesMap[q];else if(R.type==="date"){var rt=P.trace[z+"periodalignment"];if(rt){var nt=P.cd[P.index],ct=nt[z+"Start"];ct===void 0&&(ct=nt[z]);var st=nt[z+"End"];st===void 0&&(st=nt[z]);var gt=st-ct;rt==="end"?q+=gt:rt==="middle"&&(q+=gt/2)}q=R.d2c(q)}return tt&&tt.t&&tt.t.posLetter===R._id&&(Z.boxmode!=="group"&&Z.violinmode!=="group"||(q+=tt.t.dPos)),q}function $(z){return z.offsetTop+z.clientTop}function Q(z){return z.offsetLeft+z.clientLeft}function F(z,P){var Z=z._fullLayout,R=P.getBoundingClientRect(),q=R.x,tt=R.y,rt=q+R.width,nt=tt+R.height,ct=i.apply3DTransform(Z._invTransform)(q,tt),st=i.apply3DTransform(Z._invTransform)(rt,nt),gt=ct[0],wt=ct[1],Ot=st[0],bt=st[1];return{x:gt,y:wt,width:Ot-gt,height:bt-wt,top:Math.min(wt,bt),left:Math.min(gt,Ot),right:Math.max(gt,Ot),bottom:Math.max(wt,bt)}}},{"../../lib":232,"../../lib/events":225,"../../lib/override_cursor":243,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":316,"../color":102,"../dragelement":121,"../drawing":124,"../legend/defaults":154,"../legend/draw":155,"./constants":136,"./helpers":138,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],140:[function(t,s,c){var n=t("../../lib"),a=t("../color"),o=t("./helpers").isUnifiedHover;s.exports=function(i,l,p,d){function f(u){d.font[u]||(d.font[u]=l.legend?l.legend.font[u]:l.font[u])}d=d||{},l&&o(l.hovermode)&&(d.font||(d.font={}),f("size"),f("family"),f("color"),l.legend?(d.bgcolor||(d.bgcolor=a.combine(l.legend.bgcolor,l.paper_bgcolor)),d.bordercolor||(d.bordercolor=l.legend.bordercolor)):d.bgcolor||(d.bgcolor=l.paper_bgcolor)),p("hoverlabel.bgcolor",d.bgcolor),p("hoverlabel.bordercolor",d.bordercolor),p("hoverlabel.namelength",d.namelength),n.coerceFont(p,"hoverlabel.font",d.font),p("hoverlabel.align",d.align)}},{"../../lib":232,"../color":102,"./helpers":138}],141:[function(t,s,c){var n=t("../../lib"),a=t("./layout_attributes");s.exports=function(o,i){function l(p,d){return i[p]!==void 0?i[p]:n.coerce(o,i,a,p,d)}return l("clickmode"),l("hovermode")}},{"../../lib":232,"./layout_attributes":143}],142:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../lib"),o=t("../dragelement"),i=t("./helpers"),l=t("./layout_attributes"),p=t("./hover");s.exports={moduleType:"component",name:"fx",constants:t("./constants"),schema:{layout:l},attributes:t("./attributes"),layoutAttributes:l,supplyLayoutGlobalDefaults:t("./layout_global_defaults"),supplyDefaults:t("./defaults"),supplyLayoutDefaults:t("./layout_defaults"),calc:t("./calc"),getDistanceFunction:i.getDistanceFunction,getClosest:i.getClosest,inbox:i.inbox,quadrature:i.quadrature,appendArrayPointValue:i.appendArrayPointValue,castHoverOption:function(d,f,u){return a.castOption(d,f,"hoverlabel."+u)},castHoverinfo:function(d,f,u){return a.castOption(d,u,"hoverinfo",function(h){return a.coerceHoverinfo({hoverinfo:h},{_module:d._module},f)})},hover:p.hover,unhover:o.unhover,loneHover:p.loneHover,loneUnhover:function(d){var f=a.isD3Selection(d)?d:n.select(d);f.selectAll("g.hovertext").remove(),f.selectAll(".spikeline").remove()},click:t("./click")}},{"../../lib":232,"../dragelement":121,"./attributes":133,"./calc":134,"./click":135,"./constants":136,"./defaults":137,"./helpers":138,"./hover":139,"./layout_attributes":143,"./layout_defaults":144,"./layout_global_defaults":145,"@plotly/d3":11}],143:[function(t,s,c){var n=t("./constants"),a=t("../../plots/font_attributes")({editType:"none"});a.family.dflt=n.HOVERFONT,a.size.dflt=n.HOVERFONTSIZE,s.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":308,"./constants":136}],144:[function(t,s,c){var n=t("../../lib"),a=t("./layout_attributes"),o=t("./hovermode_defaults"),i=t("./hoverlabel_defaults");s.exports=function(l,p){function d(m,v){return n.coerce(l,p,a,m,v)}o(l,p)&&(d("hoverdistance"),d("spikedistance")),d("dragmode")==="select"&&d("selectdirection");var f=p._has("mapbox"),u=p._has("geo"),h=p._basePlotModules.length;p.dragmode==="zoom"&&((f||u)&&h===1||f&&u&&h===2)&&(p.dragmode="pan"),i(l,p,d)}},{"../../lib":232,"./hoverlabel_defaults":140,"./hovermode_defaults":141,"./layout_attributes":143}],145:[function(t,s,c){var n=t("../../lib"),a=t("./hoverlabel_defaults"),o=t("./layout_attributes");s.exports=function(i,l){a(i,l,function(p,d){return n.coerce(i,l,o,p,d)})}},{"../../lib":232,"./hoverlabel_defaults":140,"./layout_attributes":143}],146:[function(t,s,c){var n=t("../../lib"),a=t("../../lib/regex").counter,o=t("../../plots/domain").attributes,i=t("../../plots/cartesian/constants").idRegex,l=t("../../plot_api/plot_template"),p={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[a("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[i.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[i.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function d(h,m,v){var y=m[v+"axes"],k=Object.keys((h._splomAxes||{})[v]||{});return Array.isArray(y)?y:k.length?k:void 0}function f(h,m,v,y,k,_){var T=m(h+"gap",v),b=m("domain."+h);m(h+"side",y);for(var x=new Array(k),O=b[0],A=(b[1]-O)/(k-T),C=A*(1-T),L=0;L<k;L++){var w=O+A*L;x[_?k-1-L:L]=[w,w+C]}return x}function u(h,m,v,y,k){var _,T=new Array(v);function b(x,O){m.indexOf(O)!==-1&&y[O]===void 0?(T[x]=O,y[O]=x):T[x]=""}if(Array.isArray(h))for(_=0;_<v;_++)b(_,h[_]);else for(b(0,k),_=1;_<v;_++)b(_,k+(_+1));return T}s.exports={moduleType:"component",name:"grid",schema:{layout:{grid:p}},layoutAttributes:p,sizeDefaults:function(h,m){var v=h.grid||{},y=d(m,v,"x"),k=d(m,v,"y");if(h.grid||y||k){var _,T,b=Array.isArray(v.subplots)&&Array.isArray(v.subplots[0]),x=Array.isArray(y),O=Array.isArray(k),A=x&&y!==v.xaxes&&O&&k!==v.yaxes;b?(_=v.subplots.length,T=v.subplots[0].length):(O&&(_=k.length),x&&(T=y.length));var C=l.newContainer(m,"grid"),L=W("rows",_),w=W("columns",T);if(L*w>1){!b&&!x&&!O&&W("pattern")==="independent"&&(b=!0),C._hasSubplotGrid=b;var E,I,M=W("roworder")==="top to bottom",V=b?.2:.1,j=b?.3:.1;A&&m._splomGridDflt&&(E=m._splomGridDflt.xside,I=m._splomGridDflt.yside),C._domains={x:f("x",W,V,E,w),y:f("y",W,j,I,L,M)}}else delete m.grid}function W(H,B){return n.coerce(v,C,p,H,B)}},contentDefaults:function(h,m){var v=m.grid;if(v&&v._domains){var y,k,_,T,b,x,O,A=h.grid||{},C=m._subplots,L=v._hasSubplotGrid,w=v.rows,E=v.columns,I=v.pattern==="independent",M=v._axisMap={};if(L){var V=A.subplots||[];x=v.subplots=new Array(w);var j=1;for(y=0;y<w;y++){var W=x[y]=new Array(E),H=V[y]||[];for(k=0;k<E;k++)if(I?(b=j===1?"xy":"x"+j+"y"+j,j++):b=H[k],W[k]="",C.cartesian.indexOf(b)!==-1){if(O=b.indexOf("y"),_=b.slice(0,O),T=b.slice(O),M[_]!==void 0&&M[_]!==k||M[T]!==void 0&&M[T]!==y)continue;W[k]=b,M[_]=k,M[T]=y}}}else{var B=d(m,A,"x"),K=d(m,A,"y");v.xaxes=u(B,C.xaxis,E,M,"x"),v.yaxes=u(K,C.yaxis,w,M,"y")}var et=v._anchors={},G=v.roworder==="top to bottom";for(var Y in M){var D,U,$,Q=Y.charAt(0),F=v[Q+"side"];if(F.length<8)et[Y]="free";else if(Q==="x"){if(F.charAt(0)==="t"===G?(D=0,U=1,$=w):(D=w-1,U=-1,$=-1),L){var z=M[Y];for(y=D;y!==$;y+=U)if((b=x[y][z])&&(O=b.indexOf("y"),b.slice(0,O)===Y)){et[Y]=b.slice(O);break}}else for(y=D;y!==$;y+=U)if(T=v.yaxes[y],C.cartesian.indexOf(Y+T)!==-1){et[Y]=T;break}}else if(F.charAt(0)==="l"?(D=0,U=1,$=E):(D=E-1,U=-1,$=-1),L){var P=M[Y];for(y=D;y!==$;y+=U)if((b=x[P][y])&&(O=b.indexOf("y"),b.slice(O)===Y)){et[Y]=b.slice(0,O);break}}else for(y=D;y!==$;y+=U)if(_=v.xaxes[y],C.cartesian.indexOf(_+Y)!==-1){et[Y]=_;break}}}}}},{"../../lib":232,"../../lib/regex":248,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/domain":307}],147:[function(t,s,c){var n=t("../../plots/cartesian/constants"),a=t("../../plot_api/plot_template").templatedArray;t("../../constants/axis_placeable_objects"),s.exports=a("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286}],148:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../../lib/to_log_range");s.exports=function(o,i,l,p){i=i||{};var d=l==="log"&&i.type==="linear",f=l==="linear"&&i.type==="log";if(d||f){for(var u,h,m=o._fullLayout.images,v=i._id.charAt(0),y=0;y<m.length;y++)if(h="images["+y+"].",(u=m[y])[v+"ref"]===i._id){var k=u[v],_=u["size"+v],T=null,b=null;if(d){T=a(k,i.range);var x=_/Math.pow(10,T)/2;b=2*Math.log(x+Math.sqrt(1+x*x))/Math.LN10}else b=(T=Math.pow(10,k))*(Math.pow(10,_/2)-Math.pow(10,-_/2));n(T)?n(b)||(b=null):(T=null,b=null),p(h+v,T),p(h+"size"+v,b)}}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],149:[function(t,s,c){var n=t("../../lib"),a=t("../../plots/cartesian/axes"),o=t("../../plots/array_container_defaults"),i=t("./attributes");function l(p,d,f){function u(T,b){return n.coerce(p,d,i,T,b)}var h=u("source");if(!u("visible",!!h))return d;u("layer"),u("xanchor"),u("yanchor"),u("sizex"),u("sizey"),u("sizing"),u("opacity");for(var m={_fullLayout:f},v=["x","y"],y=0;y<2;y++){var k=v[y],_=a.coerceRef(p,d,m,k,"paper",void 0);_!=="paper"&&a.getFromId(m,_)._imgIndices.push(d._index),a.coercePosition(d,m,u,_,k,0)}return d}s.exports=function(p,d){o(p,d,{name:"images",handleItemDefaults:l})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":147}],150:[function(t,s,c){var n=t("@plotly/d3"),a=t("../drawing"),o=t("../../plots/cartesian/axes"),i=t("../../plots/cartesian/axis_ids"),l=t("../../constants/xmlns_namespaces");s.exports=function(p){var d,f,u=p._fullLayout,h=[],m={},v=[];for(f=0;f<u.images.length;f++){var y=u.images[f];if(y.visible)if(y.layer==="below"&&y.xref!=="paper"&&y.yref!=="paper"){d=i.ref2id(y.xref)+i.ref2id(y.yref);var k=u._plots[d];if(!k){v.push(y);continue}k.mainplot&&(d=k.mainplot.id),m[d]||(m[d]=[]),m[d].push(y)}else y.layer==="above"?h.push(y):v.push(y)}var _={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},T={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function b(E){var I=n.select(this);if(this._imgSrc!==E.source)if(I.attr("xmlns",l.svg),E.source&&E.source.slice(0,5)==="data:")I.attr("xlink:href",E.source),this._imgSrc=E.source;else{var M=new Promise(function(V){var j=new Image;function W(){I.remove(),V()}this.img=j,j.setAttribute("crossOrigin","anonymous"),j.onerror=W,j.onload=function(){var H=document.createElement("canvas");H.width=this.width,H.height=this.height,H.getContext("2d").drawImage(this,0,0);var B=H.toDataURL("image/png");I.attr("xlink:href",B),V()},I.on("error",W),j.src=E.source,this._imgSrc=E.source}.bind(this));p._promises.push(M)}}function x(E){var I,M,V=n.select(this),j=o.getFromId(p,E.xref),W=o.getFromId(p,E.yref),H=o.getRefType(E.xref)==="domain",B=o.getRefType(E.yref)==="domain",K=u._size;I=j!==void 0?typeof E.xref=="string"&&H?j._length*E.sizex:Math.abs(j.l2p(E.sizex)-j.l2p(0)):E.sizex*K.w,M=W!==void 0?typeof E.yref=="string"&&B?W._length*E.sizey:Math.abs(W.l2p(E.sizey)-W.l2p(0)):E.sizey*K.h;var et,G,Y=I*_[E.xanchor].offset,D=M*T[E.yanchor].offset,U=_[E.xanchor].sizing+T[E.yanchor].sizing;switch(et=j!==void 0?typeof E.xref=="string"&&H?j._length*E.x+j._offset:j.r2p(E.x)+j._offset:E.x*K.w+K.l,et+=Y,G=W!==void 0?typeof E.yref=="string"&&B?W._length*(1-E.y)+W._offset:W.r2p(E.y)+W._offset:K.h-E.y*K.h+K.t,G+=D,E.sizing){case"fill":U+=" slice";break;case"stretch":U="none"}V.attr({x:et,y:G,width:I,height:M,preserveAspectRatio:U,opacity:E.opacity});var $=(j&&o.getRefType(E.xref)!=="domain"?j._id:"")+(W&&o.getRefType(E.yref)!=="domain"?W._id:"");a.setClipUrl(V,$?"clip"+u._uid+$:null,p)}var O=u._imageLowerLayer.selectAll("image").data(v),A=u._imageUpperLayer.selectAll("image").data(h);O.enter().append("image"),A.enter().append("image"),O.exit().remove(),A.exit().remove(),O.each(function(E){b.bind(this)(E),x.bind(this)(E)}),A.each(function(E){b.bind(this)(E),x.bind(this)(E)});var C=Object.keys(u._plots);for(f=0;f<C.length;f++){d=C[f];var L=u._plots[d];if(L.imagelayer){var w=L.imagelayer.selectAll("image").data(m[d]||[]);w.enter().append("image"),w.exit().remove(),w.each(function(E){b.bind(this)(E),x.bind(this)(E)})}}}},{"../../constants/xmlns_namespaces":213,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_ids":283,"../drawing":124,"@plotly/d3":11}],151:[function(t,s,c){s.exports={moduleType:"component",name:"images",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("images"),draw:t("./draw"),convertCoords:t("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":147,"./convert_coords":148,"./defaults":149,"./draw":150}],152:[function(t,s,c){var n=t("../../plots/font_attributes"),a=t("../color/attributes");s.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:n({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:n({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":308,"../color/attributes":101}],153:[function(t,s,c){s.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],154:[function(t,s,c){var n=t("../../registry"),a=t("../../lib"),o=t("../../plot_api/plot_template"),i=t("./attributes"),l=t("../../plots/layout_attributes"),p=t("./helpers");s.exports=function(d,f,u){for(var h=d.legend||{},m=0,v=!1,y="normal",k=0;k<u.length;k++){var _=u[k];_.visible&&((_.showlegend||_._dfltShowLegend&&!(_._module&&_._module.attributes&&_._module.attributes.showlegend&&_._module.attributes.showlegend.dflt===!1))&&(m++,_.showlegend&&(v=!0,(n.traceIs(_,"pie-like")||_._input.showlegend===!0)&&m++)),(n.traceIs(_,"bar")&&f.barmode==="stack"||["tonextx","tonexty"].indexOf(_.fill)!==-1)&&(y=p.isGrouped({traceorder:y})?"grouped+reversed":"reversed"),_.legendgroup!==void 0&&_.legendgroup!==""&&(y=p.isReversed({traceorder:y})?"reversed+grouped":"grouped"))}var T=a.coerce(d,f,l,"showlegend",v&&m>1);if(T!==!1||h.uirevision){var b=o.newContainer(f,"legend");if(E("uirevision",f.uirevision),T!==!1){E("bgcolor",f.paper_bgcolor),E("bordercolor"),E("borderwidth");var x,O,A,C=a.coerceFont(E,"font",f.font),L=E("orientation")==="h";if(L?(x=0,n.getComponentMethod("rangeslider","isVisible")(d.xaxis)?(O=1.1,A="bottom"):(O=-.1,A="top")):(x=1.02,O=1,A="auto"),E("traceorder",y),p.isGrouped(f.legend)&&E("tracegroupgap"),E("itemsizing"),E("itemwidth"),E("itemclick"),E("itemdoubleclick"),E("groupclick"),E("x",x),E("xanchor"),E("y",O),E("yanchor",A),E("valign"),a.noneOrAll(h,b,["x","y"]),E("title.text")){E("title.side",L?"left":"top");var w=a.extendFlat({},C,{size:a.bigFont(C.size)});a.coerceFont(E,"title.font",w)}}}function E(I,M){return a.coerce(h,b,i,I,M)}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/layout_attributes":312,"../../registry":316,"./attributes":152,"./helpers":158}],155:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../lib"),o=t("../../plots/plots"),i=t("../../registry"),l=t("../../lib/events"),p=t("../dragelement"),d=t("../drawing"),f=t("../color"),u=t("../../lib/svg_text_utils"),h=t("./handle_click"),m=t("./constants"),v=t("../../constants/alignment"),y=v.LINE_SPACING,k=v.FROM_TL,_=v.FROM_BR,T=t("./get_legend_data"),b=t("./style"),x=t("./helpers");function O(M,V,j,W,H){var B=j.data()[0][0].trace,K={event:H,node:j.node(),curveNumber:B.index,expandedIndex:B._expandedIndex,data:M.data,layout:M.layout,frames:M._transitionData._frames,config:M._context,fullData:M._fullData,fullLayout:M._fullLayout};B._group&&(K.group=B._group),i.traceIs(B,"pie-like")&&(K.label=j.datum()[0].label),l.triggerHandler(M,"plotly_legendclick",K)!==!1&&(W===1?V._clickTimeout=setTimeout(function(){M._fullLayout&&h(j,M,W)},M._context.doubleClickDelay):W===2&&(V._clickTimeout&&clearTimeout(V._clickTimeout),M._legendMouseDownTime=0,l.triggerHandler(M,"plotly_legenddoubleclick",K)!==!1&&h(j,M,W)))}function A(M,V,j){var W,H,B=M.data()[0][0],K=B.trace,et=i.traceIs(K,"pie-like"),G=!j._inHover&&V._context.edits.legendText&&!et,Y=j._maxNameLength;B.groupTitle?(W=B.groupTitle.text,H=B.groupTitle.font):(H=j.font,j.entries?W=B.text:(W=et?B.label:K.name,K._meta&&(W=a.templateString(W,K._meta))));var D=a.ensureSingle(M,"text","legendtext");D.attr("text-anchor","start").call(d.font,H).text(G?C(W,Y):W);var U=j.itemwidth+2*m.itemGap;u.positionText(D,U,0),G?D.call(u.makeEditable,{gd:V,text:W}).call(w,M,V,j).on("edit",function($){this.text(C($,Y)).call(w,M,V,j);var Q=B.trace._fullInput||{},F={};if(i.hasTransform(Q,"groupby")){var z=i.getTransformIndices(Q,"groupby"),P=z[z.length-1],Z=a.keyedContainer(Q,"transforms["+P+"].styles","target","value.name");Z.set(B.trace._group,$),F=Z.constructUpdate()}else F.name=$;return i.call("_guiRestyle",V,F,K.index)}):w(D,M,V,j)}function C(M,V){var j=Math.max(4,V);if(M&&M.trim().length>=j/2)return M;for(var W=j-(M=M||"").length;W>0;W--)M+=" ";return M}function L(M,V){var j,W=V._context.doubleClickDelay,H=1,B=a.ensureSingle(M,"rect","legendtoggle",function(K){V._context.staticPlot||K.style("cursor","pointer").attr("pointer-events","all"),K.call(f.fill,"rgba(0,0,0,0)")});V._context.staticPlot||(B.on("mousedown",function(){(j=new Date().getTime())-V._legendMouseDownTime<W?H+=1:(H=1,V._legendMouseDownTime=j)}),B.on("mouseup",function(){if(!V._dragged&&!V._editing){var K=V._fullLayout.legend;new Date().getTime()-V._legendMouseDownTime>W&&(H=Math.max(H-1,1)),O(V,K,M,H,n.event)}}))}function w(M,V,j,W,H){W._inHover&&M.attr("data-notex",!0),u.convertToTspans(M,j,function(){(function(B,K,et,G){var Y=B.data()[0][0];if(!et._inHover&&Y&&!Y.trace.showlegend)return void B.remove();var D=B.select("g[class*=math-group]"),U=D.node();et||(et=K._fullLayout.legend);var $,Q=et.borderwidth;$=G===1?et.title.font:Y.groupTitle?Y.groupTitle.font:et.font;var F,z,P=$.size*y;if(U){var Z=d.bBox(U);F=Z.height,z=Z.width,G===1?d.setTranslate(D,Q,Q+.75*F):d.setTranslate(D,0,.25*F)}else{var R=B.select(G===1?".legendtitletext":".legendtext"),q=u.lineCount(R),tt=R.node();if(F=P*q,z=tt?d.bBox(tt).width:0,G===1)et.title.side==="left"&&(z+=2*m.itemGap),u.positionText(R,Q+m.titlePad,Q+P);else{var rt=2*m.itemGap+et.itemwidth;Y.groupTitle&&(rt=m.itemGap,z-=et.itemwidth),u.positionText(R,rt,-P*((q-1)/2-.3))}}G===1?(et._titleWidth=z,et._titleHeight=F):(Y.lineHeight=P,Y.height=Math.max(F,16)+3,Y.width=z)})(V,j,W,H)})}function E(M){return a.isRightAnchor(M)?"right":a.isCenterAnchor(M)?"center":"left"}function I(M){return a.isBottomAnchor(M)?"bottom":a.isMiddleAnchor(M)?"middle":"top"}s.exports=function(M,V){return V||(V=M._fullLayout.legend||{}),function(j,W){var H,B,K=j._fullLayout,et="legend"+K._uid,G=W._inHover;if(G?(H=W.layer,et+="-hover"):H=K._infolayer,!!H){if(j._legendMouseDownTime||(j._legendMouseDownTime=0),G){if(!W.entries)return;B=T(W.entries,W)}else{if(!j.calcdata)return;B=K.showlegend&&T(j.calcdata,W)}var Y=K.hiddenlabels||[];if(!(G||K.showlegend&&B.length))return H.selectAll(".legend").remove(),K._topdefs.select("#"+et).remove(),o.autoMargin(j,"legend");var D=a.ensureSingle(H,"g","legend",function(q){G||q.attr("pointer-events","all")}),U=a.ensureSingleById(K._topdefs,"clipPath",et,function(q){q.append("rect")}),$=a.ensureSingle(D,"rect","bg",function(q){q.attr("shape-rendering","crispEdges")});$.call(f.stroke,W.bordercolor).call(f.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px");var Q=a.ensureSingle(D,"g","scrollbox"),F=W.title;if(W._titleWidth=0,W._titleHeight=0,F.text){var z=a.ensureSingle(Q,"text","legendtitletext");z.attr("text-anchor","start").call(d.font,F.font).text(F.text),w(z,Q,j,W,1)}else Q.selectAll(".legendtitletext").remove();var P=a.ensureSingle(D,"rect","scrollbar",function(q){q.attr(m.scrollBarEnterAttrs).call(f.fill,m.scrollBarColor)}),Z=Q.selectAll("g.groups").data(B);Z.enter().append("g").attr("class","groups"),Z.exit().remove();var R=Z.selectAll("g.traces").data(a.identity);R.enter().append("g").attr("class","traces"),R.exit().remove(),R.style("opacity",function(q){var tt=q[0].trace;return i.traceIs(tt,"pie-like")?Y.indexOf(q[0].label)!==-1?.5:1:tt.visible==="legendonly"?.5:1}).each(function(){n.select(this).call(A,j,W)}).call(b,j,W).each(function(){G||n.select(this).call(L,j)}),a.syncOrAsync([o.previousPromises,function(){return function(q,tt,rt,nt){var ct=q._fullLayout;nt||(nt=ct.legend);var st=ct._size,gt=x.isVertical(nt),wt=x.isGrouped(nt),Ot=nt.borderwidth,bt=2*Ot,Ht=m.itemGap,Dt=nt.itemwidth+2*Ht,yt=2*(Ot+Ht),ut=I(nt),it=nt.y<0||nt.y===0&&ut==="top",dt=nt.y>1||nt.y===1&&ut==="bottom",mt=nt.tracegroupgap;nt._maxHeight=Math.max(it||dt?ct.height/2:st.h,30);var Et=0;nt._width=0,nt._height=0;var Mt=function(Lt){var Pt=0,It=0,Rt=Lt.title.side;return Rt&&(Rt.indexOf("left")!==-1&&(Pt=Lt._titleWidth),Rt.indexOf("top")!==-1&&(It=Lt._titleHeight)),[Pt,It]}(nt);if(gt)rt.each(function(Lt){var Pt=Lt[0].height;d.setTranslate(this,Ot+Mt[0],Ot+Mt[1]+nt._height+Pt/2+Ht),nt._height+=Pt,nt._width=Math.max(nt._width,Lt[0].width)}),Et=Dt+nt._width,nt._width+=Ht+Dt+bt,nt._height+=yt,wt&&(tt.each(function(Lt,Pt){d.setTranslate(this,0,Pt*nt.tracegroupgap)}),nt._height+=(nt._lgroupsLength-1)*nt.tracegroupgap);else{var Tt=E(nt),Nt=nt.x<0||nt.x===0&&Tt==="right",zt=nt.x>1||nt.x===1&&Tt==="left",At=dt||it,Ct=ct.width/2;nt._maxWidth=Math.max(Nt?At&&Tt==="left"?st.l+st.w:Ct:zt?At&&Tt==="right"?st.r+st.w:Ct:st.w,2*Dt);var qt=0,St=0;rt.each(function(Lt){var Pt=Lt[0].width+Dt;qt=Math.max(qt,Pt),St+=Pt}),Et=null;var $t=0;if(wt){var Zt=0,Yt=0,re=0;tt.each(function(){var Lt=0,Pt=0;n.select(this).selectAll("g.traces").each(function(Rt){var Vt=Rt[0].height;d.setTranslate(this,Mt[0],Mt[1]+Ot+Ht+Vt/2+Pt),Pt+=Vt,Lt=Math.max(Lt,Dt+Rt[0].width)}),Zt=Math.max(Zt,Pt);var It=Lt+Ht;It+Ot+Yt>nt._maxWidth&&($t=Math.max($t,Yt),Yt=0,re+=Zt+mt,Zt=Pt),d.setTranslate(this,Yt,re),Yt+=It}),nt._width=Math.max($t,Yt)+Ot,nt._height=re+Zt+yt}else{var Qt=rt.size(),xt=St+bt+(Qt-1)*Ht<nt._maxWidth,kt=0,Bt=0,ie=0,ye=0;rt.each(function(Lt){var Pt=Lt[0].height,It=Dt+Lt[0].width,Rt=(xt?It:qt)+Ht;Rt+Ot+Bt-Ht>=nt._maxWidth&&($t=Math.max($t,ye),Bt=0,ie+=kt,nt._height+=kt,kt=0),d.setTranslate(this,Mt[0]+Ot+Bt,Mt[1]+Ot+ie+Pt/2+Ht),ye=Bt+It+Ht,Bt+=Rt,kt=Math.max(kt,Pt)}),xt?(nt._width=Bt+bt,nt._height=kt+yt):(nt._width=Math.max($t,ye)+bt,nt._height+=kt+yt)}}nt._width=Math.ceil(Math.max(nt._width+Mt[0],nt._titleWidth+2*(Ot+m.titlePad))),nt._height=Math.ceil(Math.max(nt._height+Mt[1],nt._titleHeight+2*(Ot+m.itemGap))),nt._effHeight=Math.min(nt._height,nt._maxHeight);var ot=q._context.edits,ft=ot.legendText||ot.legendPosition;rt.each(function(Lt){var Pt=n.select(this).select(".legendtoggle"),It=Lt[0].height,Rt=ft?Dt:Et||Dt+Lt[0].width;gt||(Rt+=Ht/2),d.setRect(Pt,0,-It/2,Rt,It)})}(j,Z,R,W)},function(){if(G||!function(At){var Ct=At._fullLayout.legend,qt=E(Ct),St=I(Ct);return o.autoMargin(At,"legend",{x:Ct.x,y:Ct.y,l:Ct._width*k[qt],r:Ct._width*_[qt],b:Ct._effHeight*_[St],t:Ct._effHeight*k[St]})}(j)){var q,tt,rt,nt,ct=K._size,st=W.borderwidth,gt=ct.l+ct.w*W.x-k[E(W)]*W._width,wt=ct.t+ct.h*(1-W.y)-k[I(W)]*W._effHeight;if(!G&&K.margin.autoexpand){var Ot=gt,bt=wt;gt=a.constrain(gt,0,K.width-W._width),wt=a.constrain(wt,0,K.height-W._effHeight),gt!==Ot&&a.log("Constrain legend.x to make legend fit inside graph"),wt!==bt&&a.log("Constrain legend.y to make legend fit inside graph")}if(G||d.setTranslate(D,gt,wt),P.on(".drag",null),D.on("wheel",null),G||W._height<=W._maxHeight||j._context.staticPlot){var Ht=W._effHeight;G&&(Ht=W._height),$.attr({width:W._width-st,height:Ht-st,x:st/2,y:st/2}),d.setTranslate(Q,0,0),U.select("rect").attr({width:W._width-2*st,height:Ht-2*st,x:st,y:st}),d.setClipUrl(Q,et,j),d.setRect(P,0,0,0,0),delete W._scrollY}else{var Dt,yt,ut,it=Math.max(m.scrollBarMinHeight,W._effHeight*W._effHeight/W._height),dt=W._effHeight-it-2*m.scrollBarMargin,mt=W._height-W._effHeight,Et=dt/mt,Mt=Math.min(W._scrollY||0,mt);$.attr({width:W._width-2*st+m.scrollBarWidth+m.scrollBarMargin,height:W._effHeight-st,x:st/2,y:st/2}),U.select("rect").attr({width:W._width-2*st+m.scrollBarWidth+m.scrollBarMargin,height:W._effHeight-2*st,x:st,y:st+Mt}),d.setClipUrl(Q,et,j),zt(Mt,it,Et),D.on("wheel",function(){zt(Mt=a.constrain(W._scrollY+n.event.deltaY/dt*mt,0,mt),it,Et),Mt!==0&&Mt!==mt&&n.event.preventDefault()});var Tt=n.behavior.drag().on("dragstart",function(){var At=n.event.sourceEvent;Dt=At.type==="touchstart"?At.changedTouches[0].clientY:At.clientY,ut=Mt}).on("drag",function(){var At=n.event.sourceEvent;At.buttons===2||At.ctrlKey||(yt=At.type==="touchmove"?At.changedTouches[0].clientY:At.clientY,zt(Mt=function(Ct,qt,St){var $t=(St-qt)/Et+Ct;return a.constrain($t,0,mt)}(ut,Dt,yt),it,Et))});P.call(Tt);var Nt=n.behavior.drag().on("dragstart",function(){var At=n.event.sourceEvent;At.type==="touchstart"&&(Dt=At.changedTouches[0].clientY,ut=Mt)}).on("drag",function(){var At=n.event.sourceEvent;At.type==="touchmove"&&(yt=At.changedTouches[0].clientY,zt(Mt=function(Ct,qt,St){var $t=(qt-St)/Et+Ct;return a.constrain($t,0,mt)}(ut,Dt,yt),it,Et))});Q.call(Nt)}j._context.edits.legendPosition&&(D.classed("cursor-move",!0),p.init({element:D.node(),gd:j,prepFn:function(){var At=d.getTranslate(D);rt=At.x,nt=At.y},moveFn:function(At,Ct){var qt=rt+At,St=nt+Ct;d.setTranslate(D,qt,St),q=p.align(qt,0,ct.l,ct.l+ct.w,W.xanchor),tt=p.align(St,0,ct.t+ct.h,ct.t,W.yanchor)},doneFn:function(){q!==void 0&&tt!==void 0&&i.call("_guiRelayout",j,{"legend.x":q,"legend.y":tt})},clickFn:function(At,Ct){var qt=H.selectAll("g.traces").filter(function(){var St=this.getBoundingClientRect();return Ct.clientX>=St.left&&Ct.clientX<=St.right&&Ct.clientY>=St.top&&Ct.clientY<=St.bottom});qt.size()>0&&O(j,D,qt,At,Ct)}}))}function zt(At,Ct,qt){W._scrollY=j._fullLayout.legend._scrollY=At,d.setTranslate(Q,0,-At),d.setRect(P,W._width,m.scrollBarMargin+At*qt,m.scrollBarWidth,Ct),U.select("rect").attr("y",st+At)}}],j)}}(M,V)}},{"../../constants/alignment":207,"../../lib":232,"../../lib/events":225,"../../lib/svg_text_utils":255,"../../plots/plots":314,"../../registry":316,"../color":102,"../dragelement":121,"../drawing":124,"./constants":153,"./get_legend_data":156,"./handle_click":157,"./helpers":158,"./style":160,"@plotly/d3":11}],156:[function(t,s,c){var n=t("../../registry"),a=t("./helpers");s.exports=function(o,i){var l,p,d=i._inHover,f=a.isGrouped(i),u=a.isReversed(i),h={},m=[],v=!1,y={},k=0,_=0;function T(K,et){if(K!==""&&a.isGrouped(i))m.indexOf(K)===-1?(m.push(K),v=!0,h[K]=[et]):h[K].push(et);else{var G="~~i"+k;m.push(G),h[G]=[et],k++}}for(l=0;l<o.length;l++){var b=o[l],x=b[0],O=x.trace,A=O.legendgroup;if(d||O.visible&&O.showlegend)if(n.traceIs(O,"pie-like"))for(y[A]||(y[A]={}),p=0;p<b.length;p++){var C=b[p].label;y[A][C]||(T(A,{label:C,color:b[p].color,i:b[p].i,trace:O,pts:b[p].pts}),y[A][C]=!0,_=Math.max(_,(C||"").length))}else T(A,x),_=Math.max(_,(O.name||"").length)}if(!m.length)return[];var L=!v||!f,w=[];for(l=0;l<m.length;l++){var E=h[m[l]];L?w.push(E[0]):w.push(E)}for(L&&(w=[w]),l=0;l<w.length;l++){var I=1/0;for(p=0;p<w[l].length;p++){var M=w[l][p].trace.legendrank;I>M&&(I=M)}w[l][0]._groupMinRank=I,w[l][0]._preGroupSort=l}var V=function(K,et){return K.trace.legendrank-et.trace.legendrank||K._preSort-et._preSort};for(w.forEach(function(K,et){K[0]._preGroupSort=et}),w.sort(function(K,et){return K[0]._groupMinRank-et[0]._groupMinRank||K[0]._preGroupSort-et[0]._preGroupSort}),l=0;l<w.length;l++){w[l].forEach(function(K,et){K._preSort=et}),w[l].sort(V);var j=w[l][0].trace,W=null;for(p=0;p<w[l].length;p++){var H=w[l][p].trace.legendgrouptitle;if(H&&H.text){W=H,d&&(H.font=i._groupTitleFont);break}}if(u&&w[l].reverse(),W){var B=!1;for(p=0;p<w[l].length;p++)if(n.traceIs(w[l][p].trace,"pie-like")){B=!0;break}w[l].unshift({i:-1,groupTitle:W,noClick:B,trace:{showlegend:j.showlegend,legendgroup:j.legendgroup,visible:i.groupclick==="toggleitem"||j.visible}})}for(p=0;p<w[l].length;p++)w[l][p]=[w[l][p]]}return i._lgroupsLength=w.length,i._maxNameLength=_,w}},{"../../registry":316,"./helpers":158}],157:[function(t,s,c){var n=t("../../lib"),a=t("../../registry"),o=!0;s.exports=function(i,l,p){var d=l._fullLayout;if(!l._dragged&&!l._editing){var f,u=d.legend.itemclick,h=d.legend.itemdoubleclick,m=d.legend.groupclick;if(p===1&&u==="toggle"&&h==="toggleothers"&&o&&l.data&&l._context.showTips&&n.notifier(n._(l,"Double-click on legend to isolate one trace"),"long"),o=!1,p===1?f=u:p===2&&(f=h),f){var v=m==="togglegroup",y=d.hiddenlabels?d.hiddenlabels.slice():[],k=i.data()[0][0];if(!k.groupTitle||!k.noClick){var _,T,b,x,O,A=l._fullData,C=k.trace,L=C.legendgroup,w={},E=[],I=[],M=[];if(a.traceIs(C,"pie-like")){var V=k.label,j=y.indexOf(V);f==="toggle"?j===-1?y.push(V):y.splice(j,1):f==="toggleothers"&&(y=[],l.calcdata[0].forEach(function(P){V!==P.label&&y.push(P.label)}),l._fullLayout.hiddenlabels&&l._fullLayout.hiddenlabels.length===y.length&&j===-1&&(y=[])),a.call("_guiRelayout",l,"hiddenlabels",y)}else{var W,H=L&&L.length,B=[];if(H)for(_=0;_<A.length;_++)(W=A[_]).visible&&W.legendgroup===L&&B.push(_);if(f==="toggle"){var K;switch(C.visible){case!0:K="legendonly";break;case!1:K=!1;break;case"legendonly":K=!0}if(H)if(v)for(_=0;_<A.length;_++)A[_].visible!==!1&&A[_].legendgroup===L&&z(A[_],K);else z(C,K);else z(C,K)}else if(f==="toggleothers"){var et,G,Y,D,U=!0;for(_=0;_<A.length;_++)if(et=A[_]===C,Y=A[_].showlegend!==!0,!(et||Y||(G=H&&A[_].legendgroup===L)||A[_].visible!==!0||a.traceIs(A[_],"notLegendIsolatable"))){U=!1;break}for(_=0;_<A.length;_++)if(A[_].visible!==!1&&!a.traceIs(A[_],"notLegendIsolatable"))switch(C.visible){case"legendonly":z(A[_],!0);break;case!0:D=!!U||"legendonly",et=A[_]===C,Y=A[_].showlegend!==!0&&!A[_].legendgroup,G=et||H&&A[_].legendgroup===L,z(A[_],!(!G&&!Y)||D)}}for(_=0;_<I.length;_++)if(b=I[_]){var $=b.constructUpdate(),Q=Object.keys($);for(T=0;T<Q.length;T++)x=Q[T],(w[x]=w[x]||[])[M[_]]=$[x]}for(O=Object.keys(w),_=0;_<O.length;_++)for(x=O[_],T=0;T<E.length;T++)w[x].hasOwnProperty(T)||(w[x][T]=void 0);a.call("_guiRestyle",l,w,E)}}}}function F(P,Z,R){var q=E.indexOf(P),tt=w[Z];return tt||(tt=w[Z]=[]),E.indexOf(P)===-1&&(E.push(P),q=E.length-1),tt[q]=R,q}function z(P,Z){if(!k.groupTitle||v){var R=P._fullInput;if(a.hasTransform(R,"groupby")){var q=I[R.index];if(!q){var tt=a.getTransformIndices(R,"groupby"),rt=tt[tt.length-1];q=n.keyedContainer(R,"transforms["+rt+"].styles","target","value.visible"),I[R.index]=q}var nt=q.get(P._group);nt===void 0&&(nt=!0),nt!==!1&&q.set(P._group,Z),M[R.index]=F(R.index,"visible",R.visible!==!1)}else{var ct=R.visible!==!1&&Z;F(R.index,"visible",ct)}}}}},{"../../lib":232,"../../registry":316}],158:[function(t,s,c){c.isGrouped=function(n){return(n.traceorder||"").indexOf("grouped")!==-1},c.isVertical=function(n){return n.orientation!=="h"},c.isReversed=function(n){return(n.traceorder||"").indexOf("reversed")!==-1}},{}],159:[function(t,s,c){s.exports={moduleType:"component",name:"legend",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw"),style:t("./style")}},{"./attributes":152,"./defaults":154,"./draw":155,"./style":160}],160:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../registry"),o=t("../../lib"),i=o.strTranslate,l=t("../drawing"),p=t("../color"),d=t("../colorscale/helpers").extractOpts,f=t("../../traces/scatter/subtypes"),u=t("../../traces/pie/style_one"),h=t("../../traces/pie/helpers").castOption,m=t("./constants");function v(_,T){return(T?"radial":"horizontal")+(_?"":"reversed")}function y(_){var T=_[0].trace,b=T.contours,x=f.hasLines(T),O=f.hasMarkers(T),A=T.visible&&T.fill&&T.fill!=="none",C=!1,L=!1;if(b){var w=b.coloring;w==="lines"?C=!0:x=w==="none"||w==="heatmap"||b.showlines,b.type==="constraint"?A=b._operation!=="=":w!=="fill"&&w!=="heatmap"||(L=!0)}return{showMarker:O,showLine:x,showFill:A,showGradientLine:C,showGradientFill:L,anyLine:x||C,anyFill:A||L}}function k(_,T,b){return _&&o.isArrayOrTypedArray(_)?T:_>b?b:_}s.exports=function(_,T,b){var x=T._fullLayout;b||(b=x.legend);var O=b.itemsizing==="constant",A=b.itemwidth,C=(A+2*m.itemGap)/2,L=i(C,0),w=function(M,V,j,W){var H;if(M+1)H=M;else{if(!(V&&V.width>0))return 0;H=V.width}return O?W:Math.min(H,j)};function E(M,V,j){var W=M[0].trace,H=W.marker||{},B=H.line||{},K=j?W.visible&&W.type===j:a.traceIs(W,"bar"),et=n.select(V).select("g.legendpoints").selectAll("path.legend"+j).data(K?[M]:[]);et.enter().append("path").classed("legend"+j,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),et.exit().remove(),et.each(function(G){var Y=n.select(this),D=G[0],U=w(D.mlw,H.line,5,2);Y.style("stroke-width",U+"px");var $=D.mcc;if(!b._inHover&&"mc"in D){var Q=d(H),F=Q.mid;F===void 0&&(F=(Q.max+Q.min)/2),$=l.tryColorscale(H,"")(F)}var z=$||D.mc||H.color,P=H.pattern,Z=P&&l.getPatternAttr(P.shape,0,"");if(Z){var R=l.getPatternAttr(P.bgcolor,0,null),q=l.getPatternAttr(P.fgcolor,0,null),tt=P.fgopacity,rt=k(P.size,8,10),nt=k(P.solidity,.5,1),ct="legend-"+W.uid;Y.call(l.pattern,"legend",T,ct,Z,rt,nt,$,P.fillmode,R,q,tt)}else Y.call(p.fill,z);U&&p.stroke(Y,D.mlc||B.color)})}function I(M,V,j){var W=M[0],H=W.trace,B=j?H.visible&&H.type===j:a.traceIs(H,j),K=n.select(V).select("g.legendpoints").selectAll("path.legend"+j).data(B?[M]:[]);if(K.enter().append("path").classed("legend"+j,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),K.exit().remove(),K.size()){var et=(H.marker||{}).line,G=w(h(et.width,W.pts),et,5,2),Y=o.minExtend(H,{marker:{line:{width:G}}});Y.marker.line.color=et.color;var D=o.minExtend(W,{trace:Y});u(K,D,Y)}}_.each(function(M){var V=n.select(this),j=o.ensureSingle(V,"g","layers");j.style("opacity",M[0].trace.opacity);var W=b.valign,H=M[0].lineHeight,B=M[0].height;if(W!=="middle"&&H&&B){var K={top:1,bottom:-1}[W]*(.5*(H-B+3));j.attr("transform",i(0,K))}else j.attr("transform",null);j.selectAll("g.legendfill").data([M]).enter().append("g").classed("legendfill",!0),j.selectAll("g.legendlines").data([M]).enter().append("g").classed("legendlines",!0);var et=j.selectAll("g.legendsymbols").data([M]);et.enter().append("g").classed("legendsymbols",!0),et.selectAll("g.legendpoints").data([M]).enter().append("g").classed("legendpoints",!0)}).each(function(M){var V,j=M[0].trace,W=[];if(j.visible)switch(j.type){case"histogram2d":case"heatmap":W=[["M-15,-2V4H15V-2Z"]],V=!0;break;case"choropleth":case"choroplethmapbox":W=[["M-6,-6V6H6V-6Z"]],V=!0;break;case"densitymapbox":W=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],V="radial";break;case"cone":W=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],V=!1;break;case"streamtube":W=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],V=!1;break;case"surface":W=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],V=!0;break;case"mesh3d":W=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],V=!1;break;case"volume":W=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],V=!0;break;case"isosurface":W=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],V=!1}var H=n.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(W);H.enter().append("path").classed("legend3dandfriends",!0).attr("transform",L).style("stroke-miterlimit",1),H.exit().remove(),H.each(function(B,K){var et,G=n.select(this),Y=d(j),D=Y.colorscale,U=Y.reversescale;if(D){if(!V){var $=D.length;et=K===0?D[U?$-1:0][1]:K===1?D[U?0:$-1][1]:D[Math.floor(($-1)/2)][1]}}else{var Q=j.vertexcolor||j.facecolor||j.color;et=o.isArrayOrTypedArray(Q)?Q[K]||Q[0]:Q}G.attr("d",B[0]),et?G.call(p.fill,et):G.call(function(F){if(F.size()){var z="legendfill-"+j.uid;l.gradient(F,T,z,v(U,V==="radial"),D,"fill")}})})}).each(function(M){var V=M[0].trace,j=V.type==="waterfall";if(M[0]._distinct&&j){var W=M[0].trace[M[0].dir].marker;return M[0].mc=W.color,M[0].mlw=W.line.width,M[0].mlc=W.line.color,E(M,this,"waterfall")}var H=[];V.visible&&j&&(H=M[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var B=n.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(H);B.enter().append("path").classed("legendwaterfall",!0).attr("transform",L).style("stroke-miterlimit",1),B.exit().remove(),B.each(function(K){var et=n.select(this),G=V[K[0]].marker,Y=w(void 0,G.line,5,2);et.attr("d",K[1]).style("stroke-width",Y+"px").call(p.fill,G.color),Y&&et.call(p.stroke,G.line.color)})}).each(function(M){E(M,this,"funnel")}).each(function(M){E(M,this)}).each(function(M){var V=M[0].trace,j=n.select(this).select("g.legendpoints").selectAll("path.legendbox").data(V.visible&&a.traceIs(V,"box-violin")?[M]:[]);j.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),j.exit().remove(),j.each(function(){var W=n.select(this);if(V.boxpoints!=="all"&&V.points!=="all"||p.opacity(V.fillcolor)!==0||p.opacity((V.line||{}).color)!==0){var H=w(void 0,V.line,5,2);W.style("stroke-width",H+"px").call(p.fill,V.fillcolor),H&&p.stroke(W,V.line.color)}else{var B=o.minExtend(V,{marker:{size:O?12:o.constrain(V.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});j.call(l.pointStyle,B,T)}})}).each(function(M){I(M,this,"funnelarea")}).each(function(M){I(M,this,"pie")}).each(function(M){var V,j,W=y(M),H=W.showFill,B=W.showLine,K=W.showGradientLine,et=W.showGradientFill,G=W.anyFill,Y=W.anyLine,D=M[0],U=D.trace,$=d(U),Q=$.colorscale,F=$.reversescale,z=f.hasMarkers(U)||!G?"M5,0":Y?"M5,-2":"M5,-3",P=n.select(this),Z=P.select(".legendfill").selectAll("path").data(H||et?[M]:[]);if(Z.enter().append("path").classed("js-fill",!0),Z.exit().remove(),Z.attr("d",z+"h"+A+"v6h-"+A+"z").call(H?l.fillGroupStyle:function(tt){if(tt.size()){var rt="legendfill-"+U.uid;l.gradient(tt,T,rt,v(F),Q,"fill")}}),B||K){var R=w(void 0,U.line,10,5);j=o.minExtend(U,{line:{width:R}}),V=[o.minExtend(D,{trace:j})]}var q=P.select(".legendlines").selectAll("path").data(B||K?[V]:[]);q.enter().append("path").classed("js-line",!0),q.exit().remove(),q.attr("d",z+(K?"l"+A+",0.0001":"h"+A)).call(B?l.lineGroupStyle:function(tt){if(tt.size()){var rt="legendline-"+U.uid;l.lineGroupStyle(tt),l.gradient(tt,T,rt,v(F),Q,"stroke")}})}).each(function(M){var V,j,W=y(M),H=W.anyFill,B=W.anyLine,K=W.showLine,et=W.showMarker,G=M[0],Y=G.trace,D=!et&&!B&&!H&&f.hasText(Y);function U(q,tt,rt,nt){var ct=o.nestedProperty(Y,q).get(),st=o.isArrayOrTypedArray(ct)&&tt?tt(ct):ct;if(O&&st&&nt!==void 0&&(st=nt),rt){if(st<rt[0])return rt[0];if(st>rt[1])return rt[1]}return st}function $(q){return G._distinct&&G.index&&q[G.index]?q[G.index]:q[0]}if(et||D||K){var Q={},F={};if(et){Q.mc=U("marker.color",$),Q.mx=U("marker.symbol",$),Q.mo=U("marker.opacity",o.mean,[.2,1]),Q.mlc=U("marker.line.color",$),Q.mlw=U("marker.line.width",o.mean,[0,5],2),F.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var z=U("marker.size",o.mean,[2,16],12);Q.ms=z,F.marker.size=z}K&&(F.line={width:U("line.width",$,[0,10],5)}),D&&(Q.tx="Aa",Q.tp=U("textposition",$),Q.ts=10,Q.tc=U("textfont.color",$),Q.tf=U("textfont.family",$)),V=[o.minExtend(G,Q)],(j=o.minExtend(Y,F)).selectedpoints=null,j.texttemplate=null}var P=n.select(this).select("g.legendpoints"),Z=P.selectAll("path.scatterpts").data(et?V:[]);Z.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",L),Z.exit().remove(),Z.call(l.pointStyle,j,T),et&&(V[0].mrc=3);var R=P.selectAll("g.pointtext").data(D?V:[]);R.enter().append("g").classed("pointtext",!0).append("text").attr("transform",L),R.exit().remove(),R.selectAll("text").call(l.textPointStyle,j,T)}).each(function(M){var V=M[0].trace,j=n.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(V.visible&&V.type==="candlestick"?[M,M]:[]);j.enter().append("path").classed("legendcandle",!0).attr("d",function(W,H){return H?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",L).style("stroke-miterlimit",1),j.exit().remove(),j.each(function(W,H){var B=n.select(this),K=V[H?"increasing":"decreasing"],et=w(void 0,K.line,5,2);B.style("stroke-width",et+"px").call(p.fill,K.fillcolor),et&&p.stroke(B,K.line.color)})}).each(function(M){var V=M[0].trace,j=n.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(V.visible&&V.type==="ohlc"?[M,M]:[]);j.enter().append("path").classed("legendohlc",!0).attr("d",function(W,H){return H?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",L).style("stroke-miterlimit",1),j.exit().remove(),j.each(function(W,H){var B=n.select(this),K=V[H?"increasing":"decreasing"],et=w(void 0,K.line,5,2);B.style("fill","none").call(l.dashLine,K.line.dash,et),et&&p.stroke(B,K.line.color)})})}},{"../../lib":232,"../../registry":316,"../../traces/pie/helpers":348,"../../traces/pie/style_one":354,"../../traces/scatter/subtypes":381,"../color":102,"../colorscale/helpers":113,"../drawing":124,"./constants":153,"@plotly/d3":11}],161:[function(t,s,c){t("./constants"),s.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":163}],162:[function(t,s,c){var n=t("../../registry"),a=t("../../plots/plots"),o=t("../../plots/cartesian/axis_ids"),i=t("../../fonts/ploticon"),l=t("../shapes/draw").eraseActiveShape,p=t("../../lib"),d=p._,f=s.exports={};function u(x,O){var A,C,L=O.currentTarget,w=L.getAttribute("data-attr"),E=L.getAttribute("data-val")||!0,I=x._fullLayout,M={},V=o.list(x,null,!0),j=I._cartesianSpikesEnabled;if(w==="zoom"){var W,H=E==="in"?.5:2,B=(1+H)/2,K=(1-H)/2;for(C=0;C<V.length;C++)if(!(A=V[C]).fixedrange)if(W=A._name,E==="auto")M[W+".autorange"]=!0;else if(E==="reset"){if(A._rangeInitial===void 0)M[W+".autorange"]=!0;else{var et=A._rangeInitial.slice();M[W+".range[0]"]=et[0],M[W+".range[1]"]=et[1]}A._showSpikeInitial!==void 0&&(M[W+".showspikes"]=A._showSpikeInitial,j!=="on"||A._showSpikeInitial||(j="off"))}else{var G=[A.r2l(A.range[0]),A.r2l(A.range[1])],Y=[B*G[0]+K*G[1],B*G[1]+K*G[0]];M[W+".range[0]"]=A.l2r(Y[0]),M[W+".range[1]"]=A.l2r(Y[1])}}else w!=="hovermode"||E!=="x"&&E!=="y"||(E=I._isHoriz?"y":"x",L.setAttribute("data-val",E)),M[w]=E;I._cartesianSpikesEnabled=j,n.call("_guiRelayout",x,M)}function h(x,O){for(var A=O.currentTarget,C=A.getAttribute("data-attr"),L=A.getAttribute("data-val")||!0,w=x._fullLayout._subplots.gl3d||[],E={},I=C.split("."),M=0;M<w.length;M++)E[w[M]+"."+I[1]]=L;var V=L==="pan"?L:"zoom";E.dragmode=V,n.call("_guiRelayout",x,E)}function m(x,O){for(var A=O.currentTarget.getAttribute("data-attr"),C=A==="resetLastSave",L=A==="resetDefault",w=x._fullLayout,E=w._subplots.gl3d||[],I={},M=0;M<E.length;M++){var V,j=E[M],W=j+".camera",H=j+".aspectratio",B=j+".aspectmode",K=w[j]._scene;C?(I[W+".up"]=K.viewInitial.up,I[W+".eye"]=K.viewInitial.eye,I[W+".center"]=K.viewInitial.center,V=!0):L&&(I[W+".up"]=null,I[W+".eye"]=null,I[W+".center"]=null,V=!0),V&&(I[H+".x"]=K.viewInitial.aspectratio.x,I[H+".y"]=K.viewInitial.aspectratio.y,I[H+".z"]=K.viewInitial.aspectratio.z,I[B]=K.viewInitial.aspectmode)}n.call("_guiRelayout",x,I)}function v(x,O){var A=O.currentTarget,C=A._previousVal,L=x._fullLayout,w=L._subplots.gl3d||[],E=["xaxis","yaxis","zaxis"],I={},M={};if(C)M=C,A._previousVal=null;else{for(var V=0;V<w.length;V++){var j=w[V],W=L[j],H=j+".hovermode";I[H]=W.hovermode,M[H]=!1;for(var B=0;B<3;B++){var K=E[B],et=j+"."+K+".showspikes";M[et]=!1,I[et]=W[K].showspikes}}A._previousVal=I}return M}function y(x,O){for(var A=O.currentTarget,C=A.getAttribute("data-attr"),L=A.getAttribute("data-val")||!0,w=x._fullLayout,E=w._subplots.geo||[],I=0;I<E.length;I++){var M=E[I],V=w[M];if(C==="zoom"){var j=V.projection.scale,W=L==="in"?2*j:.5*j;n.call("_guiRelayout",x,M+".projection.scale",W)}}C==="reset"&&b(x,"geo")}function k(x){var O=x._fullLayout;return!O.hovermode&&(O._has("cartesian")?O._isHoriz?"y":"x":"closest")}function _(x){var O=k(x);n.call("_guiRelayout",x,"hovermode",O)}function T(x,O){for(var A=O.currentTarget.getAttribute("data-val"),C=x._fullLayout,L=C._subplots.mapbox||[],w={},E=0;E<L.length;E++){var I=L[E],M=C[I].zoom,V=A==="in"?1.05*M:M/1.05;w[I+".zoom"]=V}n.call("_guiRelayout",x,w)}function b(x,O){for(var A=x._fullLayout,C=A._subplots[O]||[],L={},w=0;w<C.length;w++)for(var E=C[w],I=A[E]._subplot.viewInitial,M=Object.keys(I),V=0;V<M.length;V++){var j=M[V];L[E+"."+j]=I[j]}n.call("_guiRelayout",x,L)}f.toImage={name:"toImage",title:function(x){var O=(x._context.toImageButtonOptions||{}).format||"png";return d(x,O==="png"?"Download plot as a png":"Download plot")},icon:i.camera,click:function(x){var O=x._context.toImageButtonOptions,A={format:O.format||"png"};p.notifier(d(x,"Taking snapshot - this may take a few seconds"),"long"),A.format!=="svg"&&p.isIE()&&(p.notifier(d(x,"IE only supports svg.  Changing format to svg."),"long"),A.format="svg"),["filename","width","height","scale"].forEach(function(C){C in O&&(A[C]=O[C])}),n.call("downloadImage",x,A).then(function(C){p.notifier(d(x,"Snapshot succeeded")+" - "+C,"long")}).catch(function(){p.notifier(d(x,"Sorry, there was a problem downloading your snapshot!"),"long")})}},f.sendDataToCloud={name:"sendDataToCloud",title:function(x){return d(x,"Edit in Chart Studio")},icon:i.disk,click:function(x){a.sendDataToCloud(x)}},f.editInChartStudio={name:"editInChartStudio",title:function(x){return d(x,"Edit in Chart Studio")},icon:i.pencil,click:function(x){a.sendDataToCloud(x)}},f.zoom2d={name:"zoom2d",_cat:"zoom",title:function(x){return d(x,"Zoom")},attr:"dragmode",val:"zoom",icon:i.zoombox,click:u},f.pan2d={name:"pan2d",_cat:"pan",title:function(x){return d(x,"Pan")},attr:"dragmode",val:"pan",icon:i.pan,click:u},f.select2d={name:"select2d",_cat:"select",title:function(x){return d(x,"Box Select")},attr:"dragmode",val:"select",icon:i.selectbox,click:u},f.lasso2d={name:"lasso2d",_cat:"lasso",title:function(x){return d(x,"Lasso Select")},attr:"dragmode",val:"lasso",icon:i.lasso,click:u},f.drawclosedpath={name:"drawclosedpath",title:function(x){return d(x,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:i.drawclosedpath,click:u},f.drawopenpath={name:"drawopenpath",title:function(x){return d(x,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:i.drawopenpath,click:u},f.drawline={name:"drawline",title:function(x){return d(x,"Draw line")},attr:"dragmode",val:"drawline",icon:i.drawline,click:u},f.drawrect={name:"drawrect",title:function(x){return d(x,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:i.drawrect,click:u},f.drawcircle={name:"drawcircle",title:function(x){return d(x,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:i.drawcircle,click:u},f.eraseshape={name:"eraseshape",title:function(x){return d(x,"Erase active shape")},icon:i.eraseshape,click:l},f.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(x){return d(x,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:u},f.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(x){return d(x,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:u},f.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(x){return d(x,"Autoscale")},attr:"zoom",val:"auto",icon:i.autoscale,click:u},f.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(x){return d(x,"Reset axes")},attr:"zoom",val:"reset",icon:i.home,click:u},f.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(x){return d(x,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:u},f.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(x){return d(x,"Compare data on hover")},attr:"hovermode",val:function(x){return x._fullLayout._isHoriz?"y":"x"},icon:i.tooltip_compare,gravity:"ne",click:u},f.zoom3d={name:"zoom3d",_cat:"zoom",title:function(x){return d(x,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:i.zoombox,click:h},f.pan3d={name:"pan3d",_cat:"pan",title:function(x){return d(x,"Pan")},attr:"scene.dragmode",val:"pan",icon:i.pan,click:h},f.orbitRotation={name:"orbitRotation",title:function(x){return d(x,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:i["3d_rotate"],click:h},f.tableRotation={name:"tableRotation",title:function(x){return d(x,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:i["z-axis"],click:h},f.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(x){return d(x,"Reset camera to default")},attr:"resetDefault",icon:i.home,click:m},f.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(x){return d(x,"Reset camera to last save")},attr:"resetLastSave",icon:i.movie,click:m},f.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(x){return d(x,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:function(x,O){var A=v(x,O);n.call("_guiRelayout",x,A)}},f.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(x){return d(x,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:y},f.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(x){return d(x,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:y},f.resetGeo={name:"resetGeo",_cat:"reset",title:function(x){return d(x,"Reset")},attr:"reset",val:null,icon:i.autoscale,click:y},f.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(x){return d(x,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:_},f.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(x){return d(x,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:_},f.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(x){return d(x,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:_},f.resetViewSankey={name:"resetSankeyGroup",title:function(x){return d(x,"Reset view")},icon:i.home,click:function(x){for(var O={"node.groups":[],"node.x":[],"node.y":[]},A=0;A<x._fullData.length;A++){var C=x._fullData[A]._viewInitial;O["node.groups"].push(C.node.groups.slice()),O["node.x"].push(C.node.x.slice()),O["node.y"].push(C.node.y.slice())}n.call("restyle",x,O)}},f.toggleHover={name:"toggleHover",title:function(x){return d(x,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:function(x,O){var A=v(x,O);A.hovermode=k(x),n.call("_guiRelayout",x,A)}},f.resetViews={name:"resetViews",title:function(x){return d(x,"Reset views")},icon:i.home,click:function(x,O){var A=O.currentTarget;A.setAttribute("data-attr","zoom"),A.setAttribute("data-val","reset"),u(x,O),A.setAttribute("data-attr","resetLastSave"),m(x,O),b(x,"geo"),b(x,"mapbox")}},f.toggleSpikelines={name:"toggleSpikelines",title:function(x){return d(x,"Toggle Spike Lines")},icon:i.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(x){var O=x._fullLayout,A=O._cartesianSpikesEnabled;O._cartesianSpikesEnabled=A==="on"?"off":"on",n.call("_guiRelayout",x,function(C){for(var L=C._fullLayout._cartesianSpikesEnabled==="on",w=o.list(C,null,!0),E={},I=0;I<w.length;I++){var M=w[I];E[M._name+".showspikes"]=!!L||M._showSpikeInitial}return E}(x))}},f.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(x){return d(x,"Reset view")},attr:"reset",icon:i.home,click:function(x){b(x,"mapbox")}},f.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(x){return d(x,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:T},f.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(x){return d(x,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:T}},{"../../fonts/ploticon":215,"../../lib":232,"../../plots/cartesian/axis_ids":283,"../../plots/plots":314,"../../registry":316,"../shapes/draw":186}],163:[function(t,s,c){var n=t("./buttons"),a=Object.keys(n),o=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],i=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(o),l=[];a.forEach(function(p){(function(d){if(i.indexOf(d._cat||d.name)===-1){var f=d.name,u=(d._cat||d.name).toLowerCase();l.indexOf(f)===-1&&l.push(f),l.indexOf(u)===-1&&l.push(u)}})(n[p])}),l.sort(),s.exports={DRAW_MODES:o,backButtons:i,foreButtons:l}},{"./buttons":162}],164:[function(t,s,c){var n=t("../../lib"),a=t("../color"),o=t("../../plot_api/plot_template"),i=t("./attributes");s.exports=function(l,p){var d=l.modebar||{},f=o.newContainer(p,"modebar");function u(m,v){return n.coerce(d,f,i,m,v)}u("orientation"),u("bgcolor",a.addOpacity(p.paper_bgcolor,.5));var h=a.contrast(a.rgb(p.modebar.bgcolor));u("color",a.addOpacity(h,.3)),u("activecolor",a.addOpacity(h,.7)),u("uirevision",p.uirevision),u("add"),u("remove")}},{"../../lib":232,"../../plot_api/plot_template":268,"../color":102,"./attributes":161}],165:[function(t,s,c){s.exports={moduleType:"component",name:"modebar",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),manage:t("./manage")}},{"./attributes":161,"./defaults":164,"./manage":166}],166:[function(t,s,c){var n=t("../../plots/cartesian/axis_ids"),a=t("../../traces/scatter/subtypes"),o=t("../../registry"),i=t("../fx/helpers").isUnifiedHover,l=t("./modebar"),p=t("./buttons"),d=t("./constants").DRAW_MODES;s.exports=function(f){var u=f._fullLayout,h=f._context,m=u._modeBar;if(h.displayModeBar||h.watermark){if(!Array.isArray(h.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(h.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var v,y=h.modeBarButtons;v=Array.isArray(y)&&y.length?function(k){for(var _=0;_<k.length;_++)for(var T=k[_],b=0;b<T.length;b++){var x=T[b];if(typeof x=="string"){if(p[x]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));k[_][b]=p[x]}}return k}(y):!h.displayModeBar&&h.watermark?[]:function(k){var _=k._fullLayout,T=k._fullData,b=k._context;function x(rt,nt){if(typeof nt=="string"){if(nt.toLowerCase()===rt.toLowerCase())return!0}else{var ct=nt.name,st=nt._cat||nt.name;if(ct===rt||st===rt.toLowerCase())return!0}return!1}var O=_.modebar.add;typeof O=="string"&&(O=[O]);var A=_.modebar.remove;typeof A=="string"&&(A=[A]);var C=b.modeBarButtonsToAdd.concat(O.filter(function(rt){for(var nt=0;nt<b.modeBarButtonsToRemove.length;nt++)if(x(rt,b.modeBarButtonsToRemove[nt]))return!1;return!0})),L=b.modeBarButtonsToRemove.concat(A.filter(function(rt){for(var nt=0;nt<b.modeBarButtonsToAdd.length;nt++)if(x(rt,b.modeBarButtonsToAdd[nt]))return!1;return!0})),w=_._has("cartesian"),E=_._has("gl3d"),I=_._has("geo"),M=_._has("pie"),V=_._has("funnelarea"),j=_._has("gl2d"),W=_._has("ternary"),H=_._has("mapbox"),B=_._has("polar"),K=_._has("sankey"),et=function(rt){for(var nt=n.list({_fullLayout:rt},null,!0),ct=0;ct<nt.length;ct++)if(!nt[ct].fixedrange)return!1;return!0}(_),G=i(_.hovermode),Y=[];function D(rt){if(rt.length){for(var nt=[],ct=0;ct<rt.length;ct++){for(var st=rt[ct],gt=p[st],wt=gt.name.toLowerCase(),Ot=(gt._cat||gt.name).toLowerCase(),bt=!1,Ht=0;Ht<L.length;Ht++){var Dt=L[Ht].toLowerCase();if(Dt===wt||Dt===Ot){bt=!0;break}}bt||nt.push(p[st])}Y.push(nt)}}var U=["toImage"];b.showEditInChartStudio?U.push("editInChartStudio"):b.showSendToCloud&&U.push("sendDataToCloud"),D(U);var $=[],Q=[],F=[],z=[];(w||j||M||V||W)+I+E+H+B>1?(Q=["toggleHover"],F=["resetViews"]):I?($=["zoomInGeo","zoomOutGeo"],Q=["hoverClosestGeo"],F=["resetGeo"]):E?(Q=["hoverClosest3d"],F=["resetCameraDefault3d","resetCameraLastSave3d"]):H?($=["zoomInMapbox","zoomOutMapbox"],Q=["toggleHover"],F=["resetViewMapbox"]):j?Q=["hoverClosestGl2d"]:M?Q=["hoverClosestPie"]:K?(Q=["hoverClosestCartesian","hoverCompareCartesian"],F=["resetViewSankey"]):Q=["toggleHover"],w&&(Q=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(rt){for(var nt=0;nt<rt.length;nt++)if(!o.traceIs(rt[nt],"noHover"))return!1;return!0}(T)||G)&&(Q=[]),!w&&!j||et||($=["zoomIn2d","zoomOut2d","autoScale2d"],F[0]!=="resetViews"&&(F=["resetScale2d"])),E?z=["zoom3d","pan3d","orbitRotation","tableRotation"]:(w||j)&&!et||W?z=["zoom2d","pan2d"]:H||I?z=["pan2d"]:B&&(z=["zoom2d"]),function(rt){for(var nt=!1,ct=0;ct<rt.length&&!nt;ct++){var st=rt[ct];st._module&&st._module.selectPoints&&(o.traceIs(st,"scatter-like")?(a.hasMarkers(st)||a.hasText(st))&&(nt=!0):o.traceIs(st,"box-violin")&&st.boxpoints!=="all"&&st.points!=="all"||(nt=!0))}return nt}(T)&&z.push("select2d","lasso2d");var P=[],Z=function(rt){P.indexOf(rt)===-1&&Q.indexOf(rt)!==-1&&P.push(rt)};if(Array.isArray(C)){for(var R=[],q=0;q<C.length;q++){var tt=C[q];typeof tt=="string"?(tt=tt.toLowerCase(),d.indexOf(tt)!==-1?(_._has("mapbox")||_._has("cartesian"))&&z.push(tt):tt==="togglespikelines"?Z("toggleSpikelines"):tt==="togglehover"?Z("toggleHover"):tt==="hovercompare"?Z("hoverCompareCartesian"):tt==="hoverclosest"?(Z("hoverClosestCartesian"),Z("hoverClosestGeo"),Z("hoverClosest3d"),Z("hoverClosestGl2d"),Z("hoverClosestPie")):tt==="v1hovermode"&&(Z("toggleHover"),Z("hoverClosestCartesian"),Z("hoverCompareCartesian"),Z("hoverClosestGeo"),Z("hoverClosest3d"),Z("hoverClosestGl2d"),Z("hoverClosestPie"))):R.push(tt)}C=R}return D(z),D($.concat(F)),D(P),function(rt,nt){if(nt.length)if(Array.isArray(nt[0]))for(var ct=0;ct<nt.length;ct++)rt.push(nt[ct]);else rt.push(nt);return rt}(Y,C)}(f),m?m.update(f,v):u._modeBar=l(f,v)}else m&&(m.destroy(),delete u._modeBar)}},{"../../plots/cartesian/axis_ids":283,"../../registry":316,"../../traces/scatter/subtypes":381,"../fx/helpers":138,"./buttons":162,"./constants":163,"./modebar":167}],167:[function(t,s,c){var n=t("@plotly/d3"),a=t("fast-isnumeric"),o=t("../../lib"),i=t("../../fonts/ploticon"),l=new DOMParser;function p(f){this.container=f.container,this.element=document.createElement("div"),this.update(f.graphInfo,f.buttons),this.container.appendChild(this.element)}var d=p.prototype;d.update=function(f,u){this.graphInfo=f;var h=this.graphInfo._context,m=this.graphInfo._fullLayout,v="modebar-"+m._uid;this.element.setAttribute("id",v),this._uid=v,this.element.className="modebar",h.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),m.modebar.orientation==="v"&&(this.element.className+=" vertical",u=u.reverse());var y=m.modebar,k=h.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(v),o.addRelatedStyleRule(v,k+"#"+v+" .modebar-group","background-color: "+y.bgcolor),o.addRelatedStyleRule(v,"#"+v+" .modebar-btn .icon path","fill: "+y.color),o.addRelatedStyleRule(v,"#"+v+" .modebar-btn:hover .icon path","fill: "+y.activecolor),o.addRelatedStyleRule(v,"#"+v+" .modebar-btn.active .icon path","fill: "+y.activecolor);var _=!this.hasButtons(u),T=this.hasLogo!==h.displaylogo,b=this.locale!==h.locale;if(this.locale=h.locale,(_||T||b)&&(this.removeAllButtons(),this.updateButtons(u),h.watermark||h.displaylogo)){var x=this.getLogo();h.watermark&&(x.className=x.className+" watermark"),m.modebar.orientation==="v"?this.element.insertBefore(x,this.element.childNodes[0]):this.element.appendChild(x),this.hasLogo=!0}this.updateActiveButton()},d.updateButtons=function(f){var u=this;this.buttons=f,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(h){var m=u.createGroup();h.forEach(function(v){var y=v.name;if(!y)throw new Error("must provide button 'name' in button config");if(u.buttonsNames.indexOf(y)!==-1)throw new Error("button name '"+y+"' is taken");u.buttonsNames.push(y);var k=u.createButton(v);u.buttonElements.push(k),m.appendChild(k)}),u.element.appendChild(m)})},d.createGroup=function(){var f=document.createElement("div");return f.className="modebar-group",f},d.createButton=function(f){var u=this,h=document.createElement("a");h.setAttribute("rel","tooltip"),h.className="modebar-btn";var m=f.title;m===void 0?m=f.name:typeof m=="function"&&(m=m(this.graphInfo)),(m||m===0)&&h.setAttribute("data-title",m),f.attr!==void 0&&h.setAttribute("data-attr",f.attr);var v=f.val;if(v!==void 0&&(typeof v=="function"&&(v=v(this.graphInfo)),h.setAttribute("data-val",v)),typeof f.click!="function")throw new Error("must provide button 'click' function in button config");h.addEventListener("click",function(k){f.click(u.graphInfo,k),u.updateActiveButton(k.currentTarget)}),h.setAttribute("data-toggle",f.toggle||!1),f.toggle&&n.select(h).classed("active",!0);var y=f.icon;return typeof y=="function"?h.appendChild(y()):h.appendChild(this.createIcon(y||i.question)),h.setAttribute("data-gravity",f.gravity||"n"),h},d.createIcon=function(f){var u,h=a(f.height)?Number(f.height):f.ascent-f.descent,m="http://www.w3.org/2000/svg";if(f.path){(u=document.createElementNS(m,"svg")).setAttribute("viewBox",[0,0,f.width,h].join(" ")),u.setAttribute("class","icon");var v=document.createElementNS(m,"path");v.setAttribute("d",f.path),f.transform?v.setAttribute("transform",f.transform):f.ascent!==void 0&&v.setAttribute("transform","matrix(1 0 0 -1 0 "+f.ascent+")"),u.appendChild(v)}return f.svg&&(u=l.parseFromString(f.svg,"application/xml").childNodes[0]),u.setAttribute("height","1em"),u.setAttribute("width","1em"),u},d.updateActiveButton=function(f){var u=this.graphInfo._fullLayout,h=f!==void 0?f.getAttribute("data-attr"):null;this.buttonElements.forEach(function(m){var v=m.getAttribute("data-val")||!0,y=m.getAttribute("data-attr"),k=m.getAttribute("data-toggle")==="true",_=n.select(m);if(k)y===h&&_.classed("active",!_.classed("active"));else{var T=y===null?y:o.nestedProperty(u,y).get();_.classed("active",T===v)}})},d.hasButtons=function(f){var u=this.buttons;if(!u||f.length!==u.length)return!1;for(var h=0;h<f.length;++h){if(f[h].length!==u[h].length)return!1;for(var m=0;m<f[h].length;m++)if(f[h][m].name!==u[h][m].name)return!1}return!0},d.getLogo=function(){var f=this.createGroup(),u=document.createElement("a");return u.href="https://plotly.com/",u.target="_blank",u.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly")),u.className="modebar-btn plotlyjsicon modebar-btn--logo",u.appendChild(this.createIcon(i.newplotlylogo)),f.appendChild(u),f},d.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},d.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)},s.exports=function(f,u){var h=f._fullLayout,m=new p({graphInfo:f,container:h._modebardiv.node(),buttons:u});return h._privateplot&&n.select(m.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),m}},{"../../fonts/ploticon":215,"../../lib":232,"@plotly/d3":11,"fast-isnumeric":17}],168:[function(t,s,c){var n=t("../../plots/font_attributes"),a=t("../color/attributes"),o=(0,t("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});s.exports={visible:{valType:"boolean",editType:"plot"},buttons:o,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:n({editType:"plot"}),bgcolor:{valType:"color",dflt:a.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":268,"../../plots/font_attributes":308,"../color/attributes":101}],169:[function(t,s,c){s.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],170:[function(t,s,c){var n=t("../../lib"),a=t("../color"),o=t("../../plot_api/plot_template"),i=t("../../plots/array_container_defaults"),l=t("./attributes"),p=t("./constants");function d(f,u,h,m){var v=m.calendar;function y(_,T){return n.coerce(f,u,l.buttons,_,T)}if(y("visible")){var k=y("step");k!=="all"&&(!v||v==="gregorian"||k!=="month"&&k!=="year"?y("stepmode"):u.stepmode="backward",y("count")),y("label")}}s.exports=function(f,u,h,m,v){var y=f.rangeselector||{},k=o.newContainer(u,"rangeselector");function _(x,O){return n.coerce(y,k,l,x,O)}if(_("visible",i(y,k,{name:"buttons",handleItemDefaults:d,calendar:v}).length>0)){var T=function(x,O,A){for(var C=A.filter(function(I){return O[I].anchor===x._id}),L=0,w=0;w<C.length;w++){var E=O[C[w]].domain;E&&(L=Math.max(E[1],L))}return[x.domain[0],L+p.yPad]}(u,h,m);_("x",T[0]),_("y",T[1]),n.noneOrAll(f,u,["x","y"]),_("xanchor"),_("yanchor"),n.coerceFont(_,"font",h.font);var b=_("bgcolor");_("activecolor",a.contrast(b,p.lightAmount,p.darkAmount)),_("bordercolor"),_("borderwidth")}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/array_container_defaults":274,"../color":102,"./attributes":168,"./constants":169}],171:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../registry"),o=t("../../plots/plots"),i=t("../color"),l=t("../drawing"),p=t("../../lib"),d=p.strTranslate,f=t("../../lib/svg_text_utils"),u=t("../../plots/cartesian/axis_ids"),h=t("../../constants/alignment"),m=h.LINE_SPACING,v=h.FROM_TL,y=h.FROM_BR,k=t("./constants"),_=t("./get_update_object");function T(O){return O._id}function b(O,A,C){var L=p.ensureSingle(O,"rect","selector-rect",function(w){w.attr("shape-rendering","crispEdges")});L.attr({rx:k.rx,ry:k.ry}),L.call(i.stroke,A.bordercolor).call(i.fill,function(w,E){return E._isActive||E._isHovered?w.activecolor:w.bgcolor}(A,C)).style("stroke-width",A.borderwidth+"px")}function x(O,A,C,L){p.ensureSingle(O,"text","selector-text",function(w){w.attr("text-anchor","middle")}).call(l.font,A.font).text(function(w,E){return w.label?E?p.templateString(w.label,E):w.label:w.step==="all"?"all":w.count+w.step.charAt(0)}(C,L._fullLayout._meta)).call(function(w){f.convertToTspans(w,L)})}s.exports=function(O){var A=O._fullLayout._infolayer.selectAll(".rangeselector").data(function(C){for(var L=u.list(C,"x",!0),w=[],E=0;E<L.length;E++){var I=L[E];I.rangeselector&&I.rangeselector.visible&&w.push(I)}return w}(O),T);A.enter().append("g").classed("rangeselector",!0),A.exit().remove(),A.style({cursor:"pointer","pointer-events":"all"}),A.each(function(C){var L=n.select(this),w=C,E=w.rangeselector,I=L.selectAll("g.button").data(p.filterVisible(E.buttons));I.enter().append("g").classed("button",!0),I.exit().remove(),I.each(function(M){var V=n.select(this),j=_(w,M);M._isActive=function(W,H,B){if(H.step==="all")return W.autorange===!0;var K=Object.keys(B);return W.range[0]===B[K[0]]&&W.range[1]===B[K[1]]}(w,M,j),V.call(b,E,M),V.call(x,E,M,O),V.on("click",function(){O._dragged||a.call("_guiRelayout",O,j)}),V.on("mouseover",function(){M._isHovered=!0,V.call(b,E,M)}),V.on("mouseout",function(){M._isHovered=!1,V.call(b,E,M)})}),function(M,V,j,W,H){var B=0,K=0,et=j.borderwidth;V.each(function(){var Q=n.select(this).select(".selector-text"),F=j.font.size*m,z=Math.max(F*f.lineCount(Q),16)+3;K=Math.max(K,z)}),V.each(function(){var Q=n.select(this),F=Q.select(".selector-rect"),z=Q.select(".selector-text"),P=z.node()&&l.bBox(z.node()).width,Z=j.font.size*m,R=f.lineCount(z),q=Math.max(P+10,k.minButtonWidth);Q.attr("transform",d(et+B,et)),F.attr({x:0,y:0,width:q,height:K}),f.positionText(z,q/2,K/2-(R-1)*Z/2+3),B+=q+5});var G=M._fullLayout._size,Y=G.l+G.w*j.x,D=G.t+G.h*(1-j.y),U="left";p.isRightAnchor(j)&&(Y-=B,U="right"),p.isCenterAnchor(j)&&(Y-=B/2,U="center");var $="top";p.isBottomAnchor(j)&&(D-=K,$="bottom"),p.isMiddleAnchor(j)&&(D-=K/2,$="middle"),B=Math.ceil(B),K=Math.ceil(K),Y=Math.round(Y),D=Math.round(D),o.autoMargin(M,W+"-range-selector",{x:j.x,y:j.y,l:B*v[U],r:B*y[U],b:K*y[$],t:K*v[$]}),H.attr("transform",d(Y,D))}(O,I,E,w._name,L)})}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"../../plots/plots":314,"../../registry":316,"../color":102,"../drawing":124,"./constants":169,"./get_update_object":172,"@plotly/d3":11}],172:[function(t,s,c){var n=t("d3-time"),a=t("../../lib").titleCase;s.exports=function(o,i){var l=o._name,p={};if(i.step==="all")p[l+".autorange"]=!0;else{var d=function(f,u){var h,m=f.range,v=new Date(f.r2l(m[1])),y=u.step,k=n["utc"+a(y)],_=u.count;switch(u.stepmode){case"backward":h=f.l2r(+k.offset(v,-_));break;case"todate":var T=k.offset(v,-_);h=f.l2r(+k.ceil(T))}var b=m[1];return[h,b]}(o,i);p[l+".range[0]"]=d[0],p[l+".range[1]"]=d[1]}return p}},{"../../lib":232,"d3-time":16}],173:[function(t,s,c){s.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t("./attributes")}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),draw:t("./draw")}},{"./attributes":168,"./defaults":170,"./draw":171}],174:[function(t,s,c){var n=t("../color/attributes");s.exports={bgcolor:{valType:"color",dflt:n.background,editType:"plot"},bordercolor:{valType:"color",dflt:n.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":101}],175:[function(t,s,c){var n=t("../../plots/cartesian/axis_ids").list,a=t("../../plots/cartesian/autorange").getAutoRange,o=t("./constants");s.exports=function(i){for(var l=n(i,"x",!0),p=0;p<l.length;p++){var d=l[p],f=d[o.name];f&&f.visible&&f.autorange&&(f._input.autorange=!0,f._input.range=f.range=a(i,d))}}},{"../../plots/cartesian/autorange":278,"../../plots/cartesian/axis_ids":283,"./constants":176}],176:[function(t,s,c){s.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],177:[function(t,s,c){var n=t("../../lib"),a=t("../../plot_api/plot_template"),o=t("../../plots/cartesian/axis_ids"),i=t("./attributes"),l=t("./oppaxis_attributes");s.exports=function(p,d,f){var u=p[f],h=d[f];if(u.rangeslider||d._requestRangeslider[h._id]){n.isPlainObject(u.rangeslider)||(u.rangeslider={});var m,v,y=u.rangeslider,k=a.newContainer(h,"rangeslider");if(L("visible")){L("bgcolor",d.plot_bgcolor),L("bordercolor"),L("borderwidth"),L("thickness"),L("autorange",!h.isValidRange(y.range)),L("range");var _=d._subplots;if(_)for(var T=_.cartesian.filter(function(E){return E.substr(0,E.indexOf("y"))===o.name2id(f)}).map(function(E){return E.substr(E.indexOf("y"),E.length)}),b=n.simpleMap(T,o.id2name),x=0;x<b.length;x++){var O=b[x];m=y[O]||{},v=a.newContainer(k,O,"yaxis");var A,C=d[O];m.range&&C.isValidRange(m.range)&&(A="fixed"),w("rangemode",A)!=="match"&&w("range",C.range.slice())}k._input=y}}function L(E,I){return n.coerce(y,k,i,E,I)}function w(E,I){return n.coerce(m,v,l,E,I)}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_ids":283,"./attributes":174,"./oppaxis_attributes":181}],178:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../registry"),o=t("../../plots/plots"),i=t("../../lib"),l=i.strTranslate,p=t("../drawing"),d=t("../color"),f=t("../titles"),u=t("../../plots/cartesian"),h=t("../../plots/cartesian/axis_ids"),m=t("../dragelement"),v=t("../../lib/setcursor"),y=t("./constants");function k(A,C,L,w){var E=i.ensureSingle(A,"rect",y.bgClassName,function(j){j.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),I=w.borderwidth%2==0?w.borderwidth:w.borderwidth-1,M=-w._offsetShift,V=p.crispRound(C,w.borderwidth);E.attr({width:w._width+I,height:w._height+I,transform:l(M,M),fill:w.bgcolor,stroke:w.bordercolor,"stroke-width":V})}function _(A,C,L,w){var E=C._fullLayout;i.ensureSingleById(E._topdefs,"clipPath",w._clipId,function(I){I.append("rect").attr({x:0,y:0})}).select("rect").attr({width:w._width,height:w._height})}function T(A,C,L,w){var E,I=C.calcdata,M=A.selectAll("g."+y.rangePlotClassName).data(L._subplotsWith,i.identity);M.enter().append("g").attr("class",function(V){return y.rangePlotClassName+" "+V}).call(p.setClipUrl,w._clipId,C),M.order(),M.exit().remove(),M.each(function(V,j){var W=n.select(this),H=j===0,B=h.getFromId(C,V,"y"),K=B._name,et=w[K],G={data:[],layout:{xaxis:{type:L.type,domain:[0,1],range:w.range.slice(),calendar:L.calendar},width:w._width,height:w._height,margin:{t:0,b:0,l:0,r:0}},_context:C._context};L.rangebreaks&&(G.layout.xaxis.rangebreaks=L.rangebreaks),G.layout[K]={type:B.type,domain:[0,1],range:et.rangemode!=="match"?et.range.slice():B.range.slice(),calendar:B.calendar},B.rangebreaks&&(G.layout[K].rangebreaks=B.rangebreaks),o.supplyDefaults(G);var Y=G._fullLayout.xaxis,D=G._fullLayout[K];Y.clearCalc(),Y.setScale(),D.clearCalc(),D.setScale();var U={id:V,plotgroup:W,xaxis:Y,yaxis:D,isRangePlot:!0};H?E=U:(U.mainplot="xy",U.mainplotinfo=E),u.rangePlot(C,U,function($,Q){for(var F=[],z=0;z<$.length;z++){var P=$[z],Z=P[0].trace;Z.xaxis+Z.yaxis===Q&&F.push(P)}return F}(I,V))})}function b(A,C,L,w,E){i.ensureSingle(A,"rect",y.maskMinClassName,function(I){I.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",w._height).call(d.fill,y.maskColor),i.ensureSingle(A,"rect",y.maskMaxClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",w._height).call(d.fill,y.maskColor),E.rangemode!=="match"&&(i.ensureSingle(A,"rect",y.maskMinOppAxisClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",w._width).call(d.fill,y.maskOppAxisColor),i.ensureSingle(A,"rect",y.maskMaxOppAxisClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",w._width).style("border-top",y.maskOppBorder).call(d.fill,y.maskOppAxisColor))}function x(A,C,L,w){C._context.staticPlot||i.ensureSingle(A,"rect",y.slideBoxClassName,function(E){E.attr({y:0,cursor:y.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:w._height,fill:y.slideBoxFill})}function O(A,C,L,w){var E=i.ensureSingle(A,"g",y.grabberMinClassName),I=i.ensureSingle(A,"g",y.grabberMaxClassName),M={x:0,width:y.handleWidth,rx:y.handleRadius,fill:d.background,stroke:d.defaultLine,"stroke-width":y.handleStrokeWidth,"shape-rendering":"crispEdges"},V={y:Math.round(w._height/4),height:Math.round(w._height/2)};i.ensureSingle(E,"rect",y.handleMinClassName,function(W){W.attr(M)}).attr(V),i.ensureSingle(I,"rect",y.handleMaxClassName,function(W){W.attr(M)}).attr(V);var j={width:y.grabAreaWidth,x:0,y:0,fill:y.grabAreaFill,cursor:C._context.staticPlot?void 0:y.grabAreaCursor};i.ensureSingle(E,"rect",y.grabAreaMinClassName,function(W){W.attr(j)}).attr("height",w._height),i.ensureSingle(I,"rect",y.grabAreaMaxClassName,function(W){W.attr(j)}).attr("height",w._height)}s.exports=function(A){for(var C=A._fullLayout,L=C._rangeSliderData,w=0;w<L.length;w++){var E=L[w][y.name];E._clipId=E._id+"-"+C._uid}var I=C._infolayer.selectAll("g."+y.containerClassName).data(L,function(M){return M._name});I.exit().each(function(M){var V=M[y.name];C._topdefs.select("#"+V._clipId).remove()}).remove(),L.length!==0&&(I.enter().append("g").classed(y.containerClassName,!0).attr("pointer-events","all"),I.each(function(M){var V=n.select(this),j=M[y.name],W=C[h.id2name(M.anchor)],H=j[h.id2name(M.anchor)];if(j.range){var B,K=i.simpleMap(j.range,M.r2l),et=i.simpleMap(M.range,M.r2l);B=et[0]<et[1]?[Math.min(K[0],et[0]),Math.max(K[1],et[1])]:[Math.max(K[0],et[0]),Math.min(K[1],et[1])],j.range=j._input.range=i.simpleMap(B,M.l2r)}M.cleanRange("rangeslider.range");var G=C._size,Y=M.domain;j._width=G.w*(Y[1]-Y[0]);var D=Math.round(G.l+G.w*Y[0]),U=Math.round(G.t+G.h*(1-M._counterDomainMin)+(M.side==="bottom"?M._depth:0)+j._offsetShift+y.extraPad);V.attr("transform",l(D,U)),j._rl=i.simpleMap(j.range,M.r2l);var $=j._rl[0],Q=j._rl[1],F=Q-$;if(j.p2d=function(ct){return ct/j._width*F+$},j.d2p=function(ct){return(ct-$)/F*j._width},M.rangebreaks){var z=M.locateBreaks($,Q);if(z.length){var P,Z,R=0;for(P=0;P<z.length;P++)R+=(Z=z[P]).max-Z.min;var q=j._width/(Q-$-R),tt=[-q*$];for(P=0;P<z.length;P++)Z=z[P],tt.push(tt[tt.length-1]-q*(Z.max-Z.min));for(j.d2p=function(ct){for(var st=tt[0],gt=0;gt<z.length;gt++){var wt=z[gt];if(ct>=wt.max)st=tt[gt+1];else if(ct<wt.min)break}return st+q*ct},P=0;P<z.length;P++)(Z=z[P]).pmin=j.d2p(Z.min),Z.pmax=j.d2p(Z.max);j.p2d=function(ct){for(var st=tt[0],gt=0;gt<z.length;gt++){var wt=z[gt];if(ct>=wt.pmax)st=tt[gt+1];else if(ct<wt.pmin)break}return(ct-st)/q}}}if(H.rangemode!=="match"){var rt=W.r2l(H.range[0]),nt=W.r2l(H.range[1])-rt;j.d2pOppAxis=function(ct){return(ct-rt)/nt*j._height}}V.call(k,A,M,j).call(_,A,M,j).call(T,A,M,j).call(b,A,M,j,H).call(x,A,M,j).call(O,A,M,j),function(ct,st,gt,wt){if(st._context.staticPlot)return;var Ot=ct.select("rect."+y.slideBoxClassName).node(),bt=ct.select("rect."+y.grabAreaMinClassName).node(),Ht=ct.select("rect."+y.grabAreaMaxClassName).node();function Dt(){var yt=n.event,ut=yt.target,it=yt.clientX||yt.touches[0].clientX,dt=it-ct.node().getBoundingClientRect().left,mt=wt.d2p(gt._rl[0]),Et=wt.d2p(gt._rl[1]),Mt=m.coverSlip();function Tt(zt){var At,Ct,qt,St=+(zt.clientX||zt.touches[0].clientX)-it;switch(ut){case Ot:qt="ew-resize",At=mt+St,Ct=Et+St;break;case bt:qt="col-resize",At=mt+St,Ct=Et;break;case Ht:qt="col-resize",At=mt,Ct=Et+St;break;default:qt="ew-resize",At=dt,Ct=dt+St}if(Ct<At){var $t=Ct;Ct=At,At=$t}wt._pixelMin=At,wt._pixelMax=Ct,v(n.select(Mt),qt),function(Zt,Yt,re,Qt){function xt(ie){return re.l2r(i.constrain(ie,Qt._rl[0],Qt._rl[1]))}var kt=xt(Qt.p2d(Qt._pixelMin)),Bt=xt(Qt.p2d(Qt._pixelMax));window.requestAnimationFrame(function(){a.call("_guiRelayout",Yt,re._name+".range",[kt,Bt])})}(0,st,gt,wt)}function Nt(){Mt.removeEventListener("mousemove",Tt),Mt.removeEventListener("mouseup",Nt),this.removeEventListener("touchmove",Tt),this.removeEventListener("touchend",Nt),i.removeElement(Mt)}this.addEventListener("touchmove",Tt),this.addEventListener("touchend",Nt),Mt.addEventListener("mousemove",Tt),Mt.addEventListener("mouseup",Nt)}ct.on("mousedown",Dt),ct.on("touchstart",Dt)}(V,A,M,j),function(ct,st,gt,wt,Ot,bt){var Ht=y.handleWidth/2;function Dt(Nt){return i.constrain(Nt,0,wt._width)}function yt(Nt){return i.constrain(Nt,0,wt._height)}function ut(Nt){return i.constrain(Nt,-Ht,wt._width+Ht)}var it=Dt(wt.d2p(gt._rl[0])),dt=Dt(wt.d2p(gt._rl[1]));if(ct.select("rect."+y.slideBoxClassName).attr("x",it).attr("width",dt-it),ct.select("rect."+y.maskMinClassName).attr("width",it),ct.select("rect."+y.maskMaxClassName).attr("x",dt).attr("width",wt._width-dt),bt.rangemode!=="match"){var mt=wt._height-yt(wt.d2pOppAxis(Ot._rl[1])),Et=wt._height-yt(wt.d2pOppAxis(Ot._rl[0]));ct.select("rect."+y.maskMinOppAxisClassName).attr("x",it).attr("height",mt).attr("width",dt-it),ct.select("rect."+y.maskMaxOppAxisClassName).attr("x",it).attr("y",Et).attr("height",wt._height-Et).attr("width",dt-it),ct.select("rect."+y.slideBoxClassName).attr("y",mt).attr("height",Et-mt)}var Mt=Math.round(ut(it-Ht))-.5,Tt=Math.round(ut(dt-Ht))+.5;ct.select("g."+y.grabberMinClassName).attr("transform",l(Mt,.5)),ct.select("g."+y.grabberMaxClassName).attr("transform",l(Tt,.5))}(V,0,M,j,W,H),M.side==="bottom"&&f.draw(A,M._id+"title",{propContainer:M,propName:M._name+".title",placeholder:C._dfltTitle.x,attributes:{x:M._offset+M._length/2,y:U+j._height+j._offsetShift+10+1.5*M.title.font.size,"text-anchor":"middle"}})}))}},{"../../lib":232,"../../lib/setcursor":252,"../../plots/cartesian":293,"../../plots/cartesian/axis_ids":283,"../../plots/plots":314,"../../registry":316,"../color":102,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":176,"@plotly/d3":11}],179:[function(t,s,c){var n=t("../../plots/cartesian/axis_ids"),a=t("../../lib/svg_text_utils"),o=t("./constants"),i=t("../../constants/alignment").LINE_SPACING,l=o.name;function p(d){var f=d&&d[l];return f&&f.visible}c.isVisible=p,c.makeData=function(d){var f=n.list({_fullLayout:d},"x",!0),u=d.margin,h=[];if(!d._has("gl2d"))for(var m=0;m<f.length;m++){var v=f[m];if(p(v)){h.push(v);var y=v[l];y._id=l+v._id,y._height=(d.height-u.b-u.t)*y.thickness,y._offsetShift=Math.floor(y.borderwidth/2)}}d._rangeSliderData=h},c.autoMarginOpts=function(d,f){var u=d._fullLayout,h=f[l],m=f._id.charAt(0),v=0,y=0;return f.side==="bottom"&&(v=f._depth,f.title.text!==u._dfltTitle[m]&&(y=1.5*f.title.font.size+10+h._offsetShift,y+=(f.title.text.match(a.BR_TAG_ALL)||[]).length*f.title.font.size*i)),{x:0,y:f._counterDomainMin,l:0,r:0,t:0,b:h._height+v+Math.max(u.margin.b,y),pad:o.extraPad+2*h._offsetShift}}},{"../../constants/alignment":207,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"./constants":176}],180:[function(t,s,c){var n=t("../../lib"),a=t("./attributes"),o=t("./oppaxis_attributes"),i=t("./helpers");s.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:n.extendFlat({},a,{yaxis:o})}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),calcAutorange:t("./calc_autorange"),draw:t("./draw"),isVisible:i.isVisible,makeData:i.makeData,autoMarginOpts:i.autoMarginOpts}},{"../../lib":232,"./attributes":174,"./calc_autorange":175,"./defaults":177,"./draw":178,"./helpers":179,"./oppaxis_attributes":181}],181:[function(t,s,c){s.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],182:[function(t,s,c){var n=t("../annotations/attributes"),a=t("../../traces/scatter/attributes").line,o=t("../drawing/attributes").dash,i=t("../../lib/extend").extendFlat,l=t("../../plot_api/plot_template").templatedArray;t("../../constants/axis_placeable_objects"),s.exports=l("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:i({},n.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:i({},n.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:i({},a.color,{editType:"arraydraw"}),width:i({},a.width,{editType:"calc+arraydraw"}),dash:i({},o,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../traces/scatter/attributes":356,"../annotations/attributes":85,"../drawing/attributes":123}],183:[function(t,s,c){var n=t("../../lib"),a=t("../../plots/cartesian/axes"),o=t("./constants"),i=t("./helpers");function l(u){return d(u.line.width,u.xsizemode,u.x0,u.x1,u.path,!1)}function p(u){return d(u.line.width,u.ysizemode,u.y0,u.y1,u.path,!0)}function d(u,h,m,v,y,k){var _=u/2,T=k;if(h==="pixel"){var b=y?i.extractPathCoords(y,k?o.paramIsY:o.paramIsX):[m,v],x=n.aggNums(Math.max,null,b),O=n.aggNums(Math.min,null,b),A=O<0?Math.abs(O)+_:_,C=x>0?x+_:_;return{ppad:_,ppadplus:T?A:C,ppadminus:T?C:A}}return{ppad:_}}function f(u,h,m,v,y){var k=u.type==="category"||u.type==="multicategory"?u.r2c:u.d2c;if(h!==void 0)return[k(h),k(m)];if(v){var _,T,b,x,O=1/0,A=-1/0,C=v.match(o.segmentRE);for(u.type==="date"&&(k=i.decodeDate(k)),_=0;_<C.length;_++)(T=y[C[_].charAt(0)].drawn)!==void 0&&(!(b=C[_].substr(1).match(o.paramRE))||b.length<T||((x=k(b[T]))<O&&(O=x),x>A&&(A=x)));return A>=O?[O,A]:void 0}}s.exports=function(u){var h=u._fullLayout,m=n.filterVisible(h.shapes);if(m.length&&u._fullData.length)for(var v=0;v<m.length;v++){var y,k,_=m[v];_._extremes={};var T=a.getRefType(_.xref),b=a.getRefType(_.yref);if(_.xref!=="paper"&&T!=="domain"){var x=_.xsizemode==="pixel"?_.xanchor:_.x0,O=_.xsizemode==="pixel"?_.xanchor:_.x1;(k=f(y=a.getFromId(u,_.xref),x,O,_.path,o.paramIsX))&&(_._extremes[y._id]=a.findExtremes(y,k,l(_)))}if(_.yref!=="paper"&&b!=="domain"){var A=_.ysizemode==="pixel"?_.yanchor:_.y0,C=_.ysizemode==="pixel"?_.yanchor:_.y1;(k=f(y=a.getFromId(u,_.yref),A,C,_.path,o.paramIsY))&&(_._extremes[y._id]=a.findExtremes(y,k,p(_)))}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"./constants":184,"./helpers":193}],184:[function(t,s,c){s.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],185:[function(t,s,c){var n=t("../../lib"),a=t("../../plots/cartesian/axes"),o=t("../../plots/array_container_defaults"),i=t("./attributes"),l=t("./helpers");function p(d,f,u){function h(H,B){return n.coerce(d,f,i,H,B)}if(h("visible")){var m=h("path"),v=h("type",m?"path":"rect");f.type!=="path"&&delete f.path,h("editable"),h("layer"),h("opacity"),h("fillcolor"),h("fillrule"),h("line.width")&&(h("line.color"),h("line.dash"));for(var y=h("xsizemode"),k=h("ysizemode"),_=["x","y"],T=0;T<2;T++){var b,x,O,A=_[T],C=A+"anchor",L=A==="x"?y:k,w={_fullLayout:u},E=a.coerceRef(d,f,w,A,void 0,"paper");if(a.getRefType(E)==="range"?((b=a.getFromId(w,E))._shapeIndices.push(f._index),O=l.rangeToShapePosition(b),x=l.shapePositionToRange(b)):x=O=n.identity,v!=="path"){var I=A+"0",M=A+"1",V=d[I],j=d[M];d[I]=x(d[I],!0),d[M]=x(d[M],!0),L==="pixel"?(h(I,0),h(M,10)):(a.coercePosition(f,w,h,E,I,.25),a.coercePosition(f,w,h,E,M,.75)),f[I]=O(f[I]),f[M]=O(f[M]),d[I]=V,d[M]=j}if(L==="pixel"){var W=d[C];d[C]=x(d[C],!0),a.coercePosition(f,w,h,E,C,.25),f[C]=O(f[C]),d[C]=W}}v==="path"?h("path"):n.noneOrAll(d,f,["x0","x1","y0","y1"])}}s.exports=function(d,f){o(d,f,{name:"shapes",handleItemDefaults:p})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":182,"./helpers":193}],186:[function(t,s,c){var n=t("../../registry"),a=t("../../lib"),o=t("../../plots/cartesian/axes"),i=t("./draw_newshape/helpers").readPaths,l=t("./draw_newshape/display_outlines"),p=t("../../plots/cartesian/handle_outline").clearOutlineControllers,d=t("../color"),f=t("../drawing"),u=t("../../plot_api/plot_template").arrayEditor,h=t("../dragelement"),m=t("../../lib/setcursor"),v=t("./constants"),y=t("./helpers");function k(L){var w=L._fullLayout;for(var E in w._shapeUpperLayer.selectAll("path").remove(),w._shapeLowerLayer.selectAll("path").remove(),w._plots){var I=w._plots[E].shapelayer;I&&I.selectAll("path").remove()}for(var M=0;M<w.shapes.length;M++)w.shapes[M].visible&&b(L,M)}function _(L){return!!L._fullLayout._drawing}function T(L){return!L._context.edits.shapePosition}function b(L,w){L._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+w+'"]').remove();var E=y.makeOptionsAndPlotinfo(L,w),I=E.options,M=E.plotinfo;I._input&&I.visible!==!1&&(I.layer!=="below"?V(L._fullLayout._shapeUpperLayer):I.xref==="paper"||I.yref==="paper"?V(L._fullLayout._shapeLowerLayer):M._hadPlotinfo?V((M.mainplotinfo||M).shapelayer):V(L._fullLayout._shapeLowerLayer));function V(j){var W=O(L,I),H={"data-index":w,"fill-rule":I.fillrule,d:W},B=I.opacity,K=I.fillcolor,et=I.line.width?I.line.color:"rgba(0,0,0,0)",G=I.line.width,Y=I.line.dash;G||I.editable!==!0||(G=5,Y="solid");var D=W[W.length-1]!=="Z",U=T(L)&&I.editable&&L._fullLayout._activeShapeIndex===w;U&&(K=D?"rgba(0,0,0,0)":L._fullLayout.activeshape.fillcolor,B=L._fullLayout.activeshape.opacity);var $,Q=j.append("path").attr(H).style("opacity",B).call(d.stroke,et).call(d.fill,K).call(f.dashLine,Y,G);if(x(Q,L,I),(U||L._context.edits.shapePosition)&&($=u(L.layout,"shapes",I)),U){Q.style({cursor:"move"});var F={element:Q.node(),plotinfo:M,gd:L,editHelpers:$,isActiveShape:!0},z=i(W,L);l(z,Q,F)}else L._context.edits.shapePosition?function(P,Z,R,q,tt,rt){var nt,ct,st,gt,wt,Ot,bt,Ht,Dt,yt,ut,it,dt,mt,Et,Mt,Tt=R.xsizemode==="pixel",Nt=R.ysizemode==="pixel",zt=R.type==="line",At=R.type==="path",Ct=rt.modifyItem,qt=o.getFromId(P,R.xref),St=o.getRefType(R.xref),$t=o.getFromId(P,R.yref),Zt=o.getRefType(R.yref),Yt=y.getDataToPixel(P,qt,!1,St),re=y.getDataToPixel(P,$t,!0,Zt),Qt=y.getPixelToData(P,qt,!1,St),xt=y.getPixelToData(P,$t,!0,Zt),kt=zt?function(){var Pt=Math.max(R.line.width,10),It=tt.append("g").attr("data-index",q);It.append("path").attr("d",Z.attr("d")).style({cursor:"move","stroke-width":Pt,"stroke-opacity":"0"});var Rt={"fill-opacity":"0"},Vt=Math.max(Pt/2,10);return It.append("circle").attr({"data-line-point":"start-point",cx:Tt?Yt(R.xanchor)+R.x0:Yt(R.x0),cy:Nt?re(R.yanchor)-R.y0:re(R.y0),r:Vt}).style(Rt).classed("cursor-grab",!0),It.append("circle").attr({"data-line-point":"end-point",cx:Tt?Yt(R.xanchor)+R.x1:Yt(R.x1),cy:Nt?re(R.yanchor)-R.y1:re(R.y1),r:Vt}).style(Rt).classed("cursor-grab",!0),It}():Z,Bt={element:kt.node(),gd:P,prepFn:function(Pt){_(P)||(Tt&&(wt=Yt(R.xanchor)),Nt&&(Ot=re(R.yanchor)),R.type==="path"?Et=R.path:(nt=Tt?R.x0:Yt(R.x0),ct=Nt?R.y0:re(R.y0),st=Tt?R.x1:Yt(R.x1),gt=Nt?R.y1:re(R.y1)),nt<st?(Dt=nt,dt="x0",yt=st,mt="x1"):(Dt=st,dt="x1",yt=nt,mt="x0"),!Nt&&ct<gt||Nt&&ct>gt?(bt=ct,ut="y0",Ht=gt,it="y1"):(bt=gt,ut="y1",Ht=ct,it="y0"),ie(Pt),ft(tt,R),function(It,Rt,Vt){var Jt=Rt.xref,ae=Rt.yref,ce=o.getFromId(Vt,Jt),le=o.getFromId(Vt,ae),se="";Jt==="paper"||ce.autorange||(se+=Jt),ae==="paper"||le.autorange||(se+=ae),f.setClipUrl(It,se?"clip"+Vt._fullLayout._uid+se:null,Vt)}(Z,R,P),Bt.moveFn=Mt==="move"?ye:ot,Bt.altKey=Pt.altKey)},doneFn:function(){_(P)||(m(Z),Lt(tt),x(Z,P,R),n.call("_guiRelayout",P,rt.getUpdateObj()))},clickFn:function(){_(P)||Lt(tt)}};function ie(Pt){if(_(P))Mt=null;else if(zt)Mt=Pt.target.tagName==="path"?"move":Pt.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var It=Bt.element.getBoundingClientRect(),Rt=It.right-It.left,Vt=It.bottom-It.top,Jt=Pt.clientX-It.left,ae=Pt.clientY-It.top,ce=!At&&Rt>10&&Vt>10&&!Pt.shiftKey?h.getCursor(Jt/Rt,1-ae/Vt):"move";m(Z,ce),Mt=ce.split("-")[0]}}function ye(Pt,It){if(R.type==="path"){var Rt=function(ae){return ae},Vt=Rt,Jt=Rt;Tt?Ct("xanchor",R.xanchor=Qt(wt+Pt)):(Vt=function(ae){return Qt(Yt(ae)+Pt)},qt&&qt.type==="date"&&(Vt=y.encodeDate(Vt))),Nt?Ct("yanchor",R.yanchor=xt(Ot+It)):(Jt=function(ae){return xt(re(ae)+It)},$t&&$t.type==="date"&&(Jt=y.encodeDate(Jt))),Ct("path",R.path=A(Et,Vt,Jt))}else Tt?Ct("xanchor",R.xanchor=Qt(wt+Pt)):(Ct("x0",R.x0=Qt(nt+Pt)),Ct("x1",R.x1=Qt(st+Pt))),Nt?Ct("yanchor",R.yanchor=xt(Ot+It)):(Ct("y0",R.y0=xt(ct+It)),Ct("y1",R.y1=xt(gt+It)));Z.attr("d",O(P,R)),ft(tt,R)}function ot(Pt,It){if(At){var Rt=function(_e){return _e},Vt=Rt,Jt=Rt;Tt?Ct("xanchor",R.xanchor=Qt(wt+Pt)):(Vt=function(_e){return Qt(Yt(_e)+Pt)},qt&&qt.type==="date"&&(Vt=y.encodeDate(Vt))),Nt?Ct("yanchor",R.yanchor=xt(Ot+It)):(Jt=function(_e){return xt(re(_e)+It)},$t&&$t.type==="date"&&(Jt=y.encodeDate(Jt))),Ct("path",R.path=A(Et,Vt,Jt))}else if(zt){if(Mt==="resize-over-start-point"){var ae=nt+Pt,ce=Nt?ct-It:ct+It;Ct("x0",R.x0=Tt?ae:Qt(ae)),Ct("y0",R.y0=Nt?ce:xt(ce))}else if(Mt==="resize-over-end-point"){var le=st+Pt,se=Nt?gt-It:gt+It;Ct("x1",R.x1=Tt?le:Qt(le)),Ct("y1",R.y1=Nt?se:xt(se))}}else{var pe=function(_e){return Mt.indexOf(_e)!==-1},we=pe("n"),me=pe("s"),ee=pe("w"),ue=pe("e"),Te=we?bt+It:bt,Me=me?Ht+It:Ht,Ce=ee?Dt+Pt:Dt,fe=ue?yt+Pt:yt;Nt&&(we&&(Te=bt-It),me&&(Me=Ht-It)),(!Nt&&Me-Te>10||Nt&&Te-Me>10)&&(Ct(ut,R[ut]=Nt?Te:xt(Te)),Ct(it,R[it]=Nt?Me:xt(Me))),fe-Ce>10&&(Ct(dt,R[dt]=Tt?Ce:Qt(Ce)),Ct(mt,R[mt]=Tt?fe:Qt(fe)))}Z.attr("d",O(P,R)),ft(tt,R)}function ft(Pt,It){(Tt||Nt)&&function(){var Rt=It.type!=="path",Vt=Pt.selectAll(".visual-cue").data([0]);Vt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Jt=Yt(Tt?It.xanchor:a.midRange(Rt?[It.x0,It.x1]:y.extractPathCoords(It.path,v.paramIsX))),ae=re(Nt?It.yanchor:a.midRange(Rt?[It.y0,It.y1]:y.extractPathCoords(It.path,v.paramIsY)));if(Jt=y.roundPositionForSharpStrokeRendering(Jt,1),ae=y.roundPositionForSharpStrokeRendering(ae,1),Tt&&Nt){var ce="M"+(Jt-1-1)+","+(ae-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Vt.attr("d",ce)}else if(Tt){var le="M"+(Jt-1-1)+","+(ae-9-1)+"v18 h2 v-18 Z";Vt.attr("d",le)}else{var se="M"+(Jt-9-1)+","+(ae-1-1)+"h18 v2 h-18 Z";Vt.attr("d",se)}}()}function Lt(Pt){Pt.selectAll(".visual-cue").remove()}h.init(Bt),kt.node().onmousemove=ie}(L,Q,I,w,j,$):I.editable===!0&&Q.style("pointer-events",D||d.opacity(K)*B<=.5?"stroke":"all");Q.node().addEventListener("click",function(){return function(P,Z){if(!!T(P)){var R=+Z.node().getAttribute("data-index");if(R>=0){if(R===P._fullLayout._activeShapeIndex)return void C(P);P._fullLayout._activeShapeIndex=R,P._fullLayout._deactivateShape=C,k(P)}}}(L,Q)})}}function x(L,w,E){var I=(E.xref+E.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");f.setClipUrl(L,I?"clip"+w._fullLayout._uid+I:null,w)}function O(L,w){var E,I,M,V,j,W,H,B,K=w.type,et=o.getRefType(w.xref),G=o.getRefType(w.yref),Y=o.getFromId(L,w.xref),D=o.getFromId(L,w.yref),U=L._fullLayout._size;if(Y?et==="domain"?I=function(tt){return Y._offset+Y._length*tt}:(E=y.shapePositionToRange(Y),I=function(tt){return Y._offset+Y.r2p(E(tt,!0))}):I=function(tt){return U.l+U.w*tt},D?G==="domain"?V=function(tt){return D._offset+D._length*(1-tt)}:(M=y.shapePositionToRange(D),V=function(tt){return D._offset+D.r2p(M(tt,!0))}):V=function(tt){return U.t+U.h*(1-tt)},K==="path")return Y&&Y.type==="date"&&(I=y.decodeDate(I)),D&&D.type==="date"&&(V=y.decodeDate(V)),function(tt,rt,nt){var ct=tt.path,st=tt.xsizemode,gt=tt.ysizemode,wt=tt.xanchor,Ot=tt.yanchor;return ct.replace(v.segmentRE,function(bt){var Ht=0,Dt=bt.charAt(0),yt=v.paramIsX[Dt],ut=v.paramIsY[Dt],it=v.numParams[Dt],dt=bt.substr(1).replace(v.paramRE,function(mt){return yt[Ht]?mt=st==="pixel"?rt(wt)+Number(mt):rt(mt):ut[Ht]&&(mt=gt==="pixel"?nt(Ot)-Number(mt):nt(mt)),++Ht>it&&(mt="X"),mt});return Ht>it&&(dt=dt.replace(/[\s,]*X.*/,""),a.log("Ignoring extra params in segment "+bt)),Dt+dt})}(w,I,V);if(w.xsizemode==="pixel"){var $=I(w.xanchor);j=$+w.x0,W=$+w.x1}else j=I(w.x0),W=I(w.x1);if(w.ysizemode==="pixel"){var Q=V(w.yanchor);H=Q-w.y0,B=Q-w.y1}else H=V(w.y0),B=V(w.y1);if(K==="line")return"M"+j+","+H+"L"+W+","+B;if(K==="rect")return"M"+j+","+H+"H"+W+"V"+B+"H"+j+"Z";var F=(j+W)/2,z=(H+B)/2,P=Math.abs(F-j),Z=Math.abs(z-H),R="A"+P+","+Z,q=F+P+","+z;return"M"+q+R+" 0 1,1 "+(F+","+(z-Z))+R+" 0 0,1 "+q+"Z"}function A(L,w,E){return L.replace(v.segmentRE,function(I){var M=0,V=I.charAt(0),j=v.paramIsX[V],W=v.paramIsY[V],H=v.numParams[V];return V+I.substr(1).replace(v.paramRE,function(B){return M>=H||(j[M]?B=w(B):W[M]&&(B=E(B)),M++),B})})}function C(L){T(L)&&L._fullLayout._activeShapeIndex>=0&&(p(L),delete L._fullLayout._activeShapeIndex,k(L))}s.exports={draw:k,drawOne:b,eraseActiveShape:function(L){if(!!T(L)){p(L);var w=L._fullLayout._activeShapeIndex,E=(L.layout||{}).shapes||[];if(w<E.length){for(var I=[],M=0;M<E.length;M++)M!==w&&I.push(E[M]);delete L._fullLayout._activeShapeIndex,n.call("_guiRelayout",L,{shapes:I})}}}}},{"../../lib":232,"../../lib/setcursor":252,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/cartesian/handle_outline":290,"../../registry":316,"../color":102,"../dragelement":121,"../drawing":124,"./constants":184,"./draw_newshape/display_outlines":190,"./draw_newshape/helpers":191,"./helpers":193}],187:[function(t,s,c){var n=t("../../drawing/attributes").dash,a=t("../../../lib/extend").extendFlat;s.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:a({},n,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":226,"../../drawing/attributes":123}],188:[function(t,s,c){s.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],189:[function(t,s,c){var n=t("../../color");s.exports=function(a,o,i){if(i("newshape.drawdirection"),i("newshape.layer"),i("newshape.fillcolor"),i("newshape.fillrule"),i("newshape.opacity"),i("newshape.line.width")){var l=(a||{}).plot_bgcolor||"#FFF";i("newshape.line.color",n.contrast(l)),i("newshape.line.dash")}i("activeshape.fillcolor"),i("activeshape.opacity")}},{"../../color":102}],190:[function(t,s,c){var n=t("../../dragelement"),a=t("../../dragelement/helpers").drawMode,o=t("../../../registry"),i=t("./constants"),l=i.i000,p=i.i090,d=i.i180,f=i.i270,u=t("../../../plots/cartesian/handle_outline").clearOutlineControllers,h=t("./helpers"),m=h.pointsShapeRectangle,v=h.pointsShapeEllipse,y=h.writePaths,k=t("./newshapes");s.exports=function _(T,b,x,O){O||(O=0);var A=x.gd;function C(){_(T,b,x,O++),v(T[0])&&L({redrawing:!0})}function L($){x.isActiveShape=!1;var Q=k(b,x);Object.keys(Q).length&&o.call(($||{}).redrawing?"relayout":"_guiRelayout",A,Q)}var w,E,I,M,V,j=x.isActiveShape,W=A._fullLayout._zoomlayer,H=x.dragmode;a(H)?A._fullLayout._drawing=!0:A._fullLayout._activeShapeIndex>=0&&u(A),b.attr("d",y(T)),j&&!O&&(V=function($,Q){for(var F=0;F<Q.length;F++){var z=Q[F];$[F]=[];for(var P=0;P<z.length;P++){$[F][P]=[];for(var Z=0;Z<z[P].length;Z++)$[F][P][Z]=z[P][Z]}}return $}([],T),function($){w=[];for(var Q=0;Q<T.length;Q++){var F=T[Q],z=!m(F)&&v(F);w[Q]=[];for(var P=0;P<F.length;P++)if(F[P][0]!=="Z"&&(!z||P===l||P===p||P===d||P===f)){var Z=F[P][1],R=F[P][2],q=$.append("circle").classed("cursor-grab",!0).attr("data-i",Q).attr("data-j",P).attr("cx",Z).attr("cy",R).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});w[Q][P]={element:q.node(),gd:A,prepFn:B,doneFn:et,clickFn:G},n.init(w[Q][P])}}}(W.append("g").attr("class","outline-controllers")),function(){E=[],!!T.length&&(E[0]={element:b[0][0],gd:A,prepFn:D,doneFn:U},n.init(E[0]))}());function B($){I=+$.srcElement.getAttribute("data-i"),M=+$.srcElement.getAttribute("data-j"),w[I][M].moveFn=K}function K($,Q){if(T.length){var F=V[I][M][1],z=V[I][M][2],P=T[I],Z=P.length;if(m(P)){for(var R=0;R<Z;R++)if(R!==M){var q=P[R];q[1]===P[M][1]&&(q[1]=F+$),q[2]===P[M][2]&&(q[2]=z+Q)}if(P[M][1]=F+$,P[M][2]=z+Q,!m(P))for(var tt=0;tt<Z;tt++)for(var rt=0;rt<P[tt].length;rt++)P[tt][rt]=V[I][tt][rt]}else P[M][1]=F+$,P[M][2]=z+Q;C()}}function et(){L()}function G($,Q){if($===2){I=+Q.srcElement.getAttribute("data-i"),M=+Q.srcElement.getAttribute("data-j");var F=T[I];m(F)||v(F)||function(){if(T.length&&T[I]&&T[I].length){for(var z=[],P=0;P<T[I].length;P++)P!==M&&z.push(T[I][P]);z.length>1&&(z.length!==2||z[1][0]!=="Z")&&(M===0&&(z[0][0]="M"),T[I]=z,C(),L())}}()}}function Y($,Q){(function(F,z){if(T.length)for(var P=0;P<T.length;P++)for(var Z=0;Z<T[P].length;Z++)for(var R=0;R+2<T[P][Z].length;R+=2)T[P][Z][R+1]=V[P][Z][R+1]+F,T[P][Z][R+2]=V[P][Z][R+2]+z})($,Q),C()}function D($){(I=+$.srcElement.getAttribute("data-i"))||(I=0),E[I].moveFn=Y}function U(){L()}}},{"../../../plots/cartesian/handle_outline":290,"../../../registry":316,"../../dragelement":121,"../../dragelement/helpers":120,"./constants":188,"./helpers":191,"./newshapes":192}],191:[function(t,s,c){var n=t("parse-svg-path"),a=t("./constants"),o=a.CIRCLE_SIDES,i=a.SQRT2,l=t("../../../plots/cartesian/helpers"),p=l.p2r,d=l.r2p,f=[0,3,4,5,6,1,2],u=[0,3,4,1,2];function h(v,y){return Math.abs(v-y)<=1e-6}function m(v,y){var k=y[1]-v[1],_=y[2]-v[2];return Math.sqrt(k*k+_*_)}c.writePaths=function(v){var y=v.length;if(!y)return"M0,0Z";for(var k="",_=0;_<y;_++)for(var T=v[_].length,b=0;b<T;b++){var x=v[_][b][0];if(x==="Z")k+="Z";else for(var O=v[_][b].length,A=0;A<O;A++){var C=A;x==="Q"||x==="S"?C=u[A]:x==="C"&&(C=f[A]),k+=v[_][b][C],A>0&&A<O-1&&(k+=",")}}return k},c.readPaths=function(v,y,k,_){var T,b,x,O=n(v),A=[],C=-1,L=0,w=0,E=function(){b=L,x=w};E();for(var I=0;I<O.length;I++){var M,V,j,W,H=[],B=O[I][0],K=B;switch(B){case"M":C++,A[C]=[],L=+O[I][1],w=+O[I][2],H.push([K,L,w]),E();break;case"Q":case"S":M=+O[I][1],j=+O[I][2],L=+O[I][3],w=+O[I][4],H.push([K,L,w,M,j]);break;case"C":M=+O[I][1],j=+O[I][2],V=+O[I][3],W=+O[I][4],L=+O[I][5],w=+O[I][6],H.push([K,L,w,M,j,V,W]);break;case"T":case"L":L=+O[I][1],w=+O[I][2],H.push([K,L,w]);break;case"H":K="L",L=+O[I][1],H.push([K,L,w]);break;case"V":K="L",w=+O[I][1],H.push([K,L,w]);break;case"A":K="L";var et=+O[I][1],G=+O[I][2];+O[I][4]||(et=-et,G=-G);var Y=L-et,D=w;for(T=1;T<=o/2;T++){var U=2*Math.PI*T/o;H.push([K,Y+et*Math.cos(U),D+G*Math.sin(U)])}break;case"Z":L===b&&w===x||(L=b,w=x,H.push([K,L,w]))}for(var $=(k||{}).domain,Q=y._fullLayout._size,F=k&&k.xsizemode==="pixel",z=k&&k.ysizemode==="pixel",P=_===!1,Z=0;Z<H.length;Z++){for(T=0;T+2<7;T+=2){var R=H[Z][T+1],q=H[Z][T+2];R!==void 0&&q!==void 0&&(L=R,w=q,k&&(k.xaxis&&k.xaxis.p2r?(P&&(R-=k.xaxis._offset),R=F?d(k.xaxis,k.xanchor)+R:p(k.xaxis,R)):(P&&(R-=Q.l),$?R=$.x[0]+R/Q.w:R/=Q.w),k.yaxis&&k.yaxis.p2r?(P&&(q-=k.yaxis._offset),q=z?d(k.yaxis,k.yanchor)-q:p(k.yaxis,q)):(P&&(q-=Q.t),q=$?$.y[1]-q/Q.h:1-q/Q.h)),H[Z][T+1]=R,H[Z][T+2]=q)}A[C].push(H[Z].slice())}}return A},c.pointsShapeRectangle=function(v){if(v.length!==5)return!1;for(var y=1;y<3;y++)if(!h(v[0][y]-v[1][y],v[3][y]-v[2][y])||!h(v[0][y]-v[3][y],v[1][y]-v[2][y]))return!1;return!(!h(v[0][1],v[1][1])&&!h(v[0][1],v[3][1]))&&!!(m(v[0],v[1])*m(v[0],v[3]))},c.pointsShapeEllipse=function(v){var y=v.length;if(y!==o+1)return!1;y=o;for(var k=0;k<y;k++){var _=(2*y-k)%y,T=(y/2+_)%y,b=(y/2+k)%y;if(!h(m(v[k],v[b]),m(v[_],v[T])))return!1}return!0},c.handleEllipse=function(v,y,k){if(!v)return[y,k];var _=c.ellipseOver({x0:y[0],y0:y[1],x1:k[0],y1:k[1]}),T=(_.x1+_.x0)/2,b=(_.y1+_.y0)/2,x=(_.x1-_.x0)/2,O=(_.y1-_.y0)/2;x||(x=O/=i),O||(O=x/=i);for(var A=[],C=0;C<o;C++){var L=2*C*Math.PI/o;A.push([T+x*Math.cos(L),b+O*Math.sin(L)])}return A},c.ellipseOver=function(v){var y=v.x0,k=v.y0,_=v.x1,T=v.y1,b=_-y,x=T-k,O=((y-=b)+_)/2,A=((k-=x)+T)/2;return{x0:O-(b*=i),y0:A-(x*=i),x1:O+b,y1:A+x}}},{"../../../plots/cartesian/helpers":291,"./constants":188,"parse-svg-path":56}],192:[function(t,s,c){var n=t("../../dragelement/helpers"),a=n.drawMode,o=n.openMode,i=t("./constants"),l=i.i000,p=i.i090,d=i.i180,f=i.i270,u=i.cos45,h=i.sin45,m=t("../../../plots/cartesian/helpers"),v=m.p2r,y=m.r2p,k=t("../../../plots/cartesian/handle_outline").clearSelect,_=t("./helpers"),T=_.readPaths,b=_.writePaths,x=_.ellipseOver;s.exports=function(O,A){if(O.length){var C=O[0][0];if(C){var L=C.getAttribute("d"),w=A.gd,E=w._fullLayout.newshape,I=A.plotinfo,M=I.xaxis,V=I.yaxis,j=!!I.domain||!I.xaxis,W=!!I.domain||!I.yaxis,H=A.isActiveShape,B=A.dragmode,K=(w.layout||{}).shapes||[];if(!a(B)&&H!==void 0){var et=w._fullLayout._activeShapeIndex;if(et<K.length)switch(w._fullLayout.shapes[et].type){case"rect":B="drawrect";break;case"circle":B="drawcircle";break;case"line":B="drawline";break;case"path":var G=K[et].path||"";B=G[G.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var Y,D=o(B),U=T(L,w,I,H),$={editable:!0,xref:j?"paper":M._id,yref:W?"paper":V._id,layer:E.layer,opacity:E.opacity,line:{color:E.line.color,width:E.line.width,dash:E.line.dash}};if(D||($.fillcolor=E.fillcolor,$.fillrule=E.fillrule),U.length===1&&(Y=U[0]),Y&&B==="drawrect")$.type="rect",$.x0=Y[0][1],$.y0=Y[0][2],$.x1=Y[2][1],$.y1=Y[2][2];else if(Y&&B==="drawline")$.type="line",$.x0=Y[0][1],$.y0=Y[0][2],$.x1=Y[1][1],$.y1=Y[1][2];else if(Y&&B==="drawcircle"){$.type="circle";var Q=Y[l][1],F=Y[p][1],z=Y[d][1],P=Y[f][1],Z=Y[l][2],R=Y[p][2],q=Y[d][2],tt=Y[f][2],rt=I.xaxis&&(I.xaxis.type==="date"||I.xaxis.type==="log"),nt=I.yaxis&&(I.yaxis.type==="date"||I.yaxis.type==="log");rt&&(Q=y(I.xaxis,Q),F=y(I.xaxis,F),z=y(I.xaxis,z),P=y(I.xaxis,P)),nt&&(Z=y(I.yaxis,Z),R=y(I.yaxis,R),q=y(I.yaxis,q),tt=y(I.yaxis,tt));var ct=(F+P)/2,st=(Z+q)/2,gt=x({x0:ct,y0:st,x1:ct+(P-F+z-Q)/2*u,y1:st+(tt-R+q-Z)/2*h});rt&&(gt.x0=v(I.xaxis,gt.x0),gt.x1=v(I.xaxis,gt.x1)),nt&&(gt.y0=v(I.yaxis,gt.y0),gt.y1=v(I.yaxis,gt.y1)),$.x0=gt.x0,$.y0=gt.y0,$.x1=gt.x1,$.y1=gt.y1}else $.type="path",M&&V&&function(ut,it,dt){var mt=it.type==="date",Et=dt.type==="date";if(!mt&&!Et)return ut;for(var Mt=0;Mt<ut.length;Mt++)for(var Tt=0;Tt<ut[Mt].length;Tt++)for(var Nt=0;Nt+2<ut[Mt][Tt].length;Nt+=2)mt&&(ut[Mt][Tt][Nt+1]=ut[Mt][Tt][Nt+1].replace(" ","_")),Et&&(ut[Mt][Tt][Nt+2]=ut[Mt][Tt][Nt+2].replace(" ","_"))}(U,M,V),$.path=b(U),Y=null;k(w);for(var wt=A.editHelpers,Ot=(wt||{}).modifyItem,bt=[],Ht=0;Ht<K.length;Ht++){var Dt=w._fullLayout.shapes[Ht];if(bt[Ht]=Dt._input,H!==void 0&&Ht===w._fullLayout._activeShapeIndex){var yt=$;switch(Dt.type){case"line":case"rect":case"circle":Ot("x0",yt.x0),Ot("x1",yt.x1),Ot("y0",yt.y0),Ot("y1",yt.y1);break;case"path":Ot("path",yt.path)}}}return H===void 0?(bt.push($),bt):wt?wt.getUpdateObj():{}}}}},{"../../../plots/cartesian/handle_outline":290,"../../../plots/cartesian/helpers":291,"../../dragelement/helpers":120,"./constants":188,"./helpers":191}],193:[function(t,s,c){var n=t("./constants"),a=t("../../lib");c.rangeToShapePosition=function(o){return o.type==="log"?o.r2d:function(i){return i}},c.shapePositionToRange=function(o){return o.type==="log"?o.d2r:function(i){return i}},c.decodeDate=function(o){return function(i){return i.replace&&(i=i.replace("_"," ")),o(i)}},c.encodeDate=function(o){return function(i){return o(i).replace(" ","_")}},c.extractPathCoords=function(o,i){var l=[];return o.match(n.segmentRE).forEach(function(p){var d=i[p.charAt(0)].drawn;if(d!==void 0){var f=p.substr(1).match(n.paramRE);!f||f.length<d||l.push(a.cleanNumber(f[d]))}}),l},c.getDataToPixel=function(o,i,l,p){var d,f=o._fullLayout._size;if(i)if(p==="domain")d=function(h){return i._length*(l?1-h:h)+i._offset};else{var u=c.shapePositionToRange(i);d=function(h){return i._offset+i.r2p(u(h,!0))},i.type==="date"&&(d=c.decodeDate(d))}else d=l?function(h){return f.t+f.h*(1-h)}:function(h){return f.l+f.w*h};return d},c.getPixelToData=function(o,i,l,p){var d,f=o._fullLayout._size;if(i)if(p==="domain")d=function(h){var m=(h-i._offset)/i._length;return l?1-m:m};else{var u=c.rangeToShapePosition(i);d=function(h){return u(i.p2r(h-i._offset))}}else d=l?function(h){return 1-(h-f.t)/f.h}:function(h){return(h-f.l)/f.w};return d},c.roundPositionForSharpStrokeRendering=function(o,i){var l=Math.round(i%2)===1,p=Math.round(o);return l?p+.5:p},c.makeOptionsAndPlotinfo=function(o,i){var l=o._fullLayout.shapes[i]||{},p=o._fullLayout._plots[l.xref+l.yref];return p?p._hadPlotinfo=!0:(p={},l.xref&&l.xref!=="paper"&&(p.xaxis=o._fullLayout[l.xref+"axis"]),l.yref&&l.yref!=="paper"&&(p.yaxis=o._fullLayout[l.yref+"axis"])),p.xsizemode=l.xsizemode,p.ysizemode=l.ysizemode,p.xanchor=l.xanchor,p.yanchor=l.yanchor,{options:l,plotinfo:p}}},{"../../lib":232,"./constants":184}],194:[function(t,s,c){var n=t("./draw");s.exports={moduleType:"component",name:"shapes",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),supplyDrawNewShapeDefaults:t("./draw_newshape/defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("shapes"),calcAutorange:t("./calc_autorange"),draw:n.draw,drawOne:n.drawOne}},{"../../plots/cartesian/include_components":292,"./attributes":182,"./calc_autorange":183,"./defaults":185,"./draw":186,"./draw_newshape/defaults":189}],195:[function(t,s,c){var n=t("../../plots/font_attributes"),a=t("../../plots/pad_attributes"),o=t("../../lib/extend").extendDeepAll,i=t("../../plot_api/edit_types").overrideAll,l=t("../../plots/animation_attributes"),p=t("../../plot_api/plot_template").templatedArray,d=t("./constants"),f=p("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});s.exports=i(p("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:f,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(a({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:l.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:n({})},font:n({}),activebgcolor:{valType:"color",dflt:d.gripBgActiveColor},bgcolor:{valType:"color",dflt:d.railBgColor},bordercolor:{valType:"color",dflt:d.railBorderColor},borderwidth:{valType:"number",min:0,dflt:d.railBorderWidth},ticklen:{valType:"number",min:0,dflt:d.tickLength},tickcolor:{valType:"color",dflt:d.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:d.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/animation_attributes":273,"../../plots/font_attributes":308,"../../plots/pad_attributes":313,"./constants":196}],196:[function(t,s,c){s.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],197:[function(t,s,c){var n=t("../../lib"),a=t("../../plots/array_container_defaults"),o=t("./attributes"),i=t("./constants").name,l=o.steps;function p(f,u,h){function m(T,b){return n.coerce(f,u,o,T,b)}for(var v=a(f,u,{name:"steps",handleItemDefaults:d}),y=0,k=0;k<v.length;k++)v[k].visible&&y++;if(y<2?u.visible=!1:m("visible")){u._stepCount=y;var _=u._visibleSteps=n.filterVisible(v);(v[m("active")]||{}).visible||(u.active=_[0]._index),m("x"),m("y"),n.noneOrAll(f,u,["x","y"]),m("xanchor"),m("yanchor"),m("len"),m("lenmode"),m("pad.t"),m("pad.r"),m("pad.b"),m("pad.l"),n.coerceFont(m,"font",h.font),m("currentvalue.visible")&&(m("currentvalue.xanchor"),m("currentvalue.prefix"),m("currentvalue.suffix"),m("currentvalue.offset"),n.coerceFont(m,"currentvalue.font",u.font)),m("transition.duration"),m("transition.easing"),m("bgcolor"),m("activebgcolor"),m("bordercolor"),m("borderwidth"),m("ticklen"),m("tickwidth"),m("tickcolor"),m("minorticklen")}}function d(f,u){function h(v,y){return n.coerce(f,u,l,v,y)}if(f.method==="skip"||Array.isArray(f.args)?h("visible"):u.visible=!1){h("method"),h("args");var m=h("label","step-"+u._index);h("value",m),h("execute")}}s.exports=function(f,u){a(f,u,{name:i,handleItemDefaults:p})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":195,"./constants":196}],198:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../plots/plots"),o=t("../color"),i=t("../drawing"),l=t("../../lib"),p=l.strTranslate,d=t("../../lib/svg_text_utils"),f=t("../../plot_api/plot_template").arrayEditor,u=t("./constants"),h=t("../../constants/alignment"),m=h.LINE_SPACING,v=h.FROM_TL,y=h.FROM_BR;function k(H){return u.autoMarginIdRoot+H._index}function _(H){return H._index}function T(H,B){var K=i.tester.selectAll("g."+u.labelGroupClass).data(B._visibleSteps);K.enter().append("g").classed(u.labelGroupClass,!0);var et=0,G=0;K.each(function(Z){var R=O(n.select(this),{step:Z},B).node();if(R){var q=i.bBox(R);G=Math.max(G,q.height),et=Math.max(et,q.width)}}),K.remove();var Y=B._dims={};Y.inputAreaWidth=Math.max(u.railWidth,u.gripHeight);var D=H._fullLayout._size;Y.lx=D.l+D.w*B.x,Y.ly=D.t+D.h*(1-B.y),B.lenmode==="fraction"?Y.outerLength=Math.round(D.w*B.len):Y.outerLength=B.len,Y.inputAreaStart=0,Y.inputAreaLength=Math.round(Y.outerLength-B.pad.l-B.pad.r);var U=(Y.inputAreaLength-2*u.stepInset)/(B._stepCount-1),$=et+u.labelPadding;if(Y.labelStride=Math.max(1,Math.ceil($/U)),Y.labelHeight=G,Y.currentValueMaxWidth=0,Y.currentValueHeight=0,Y.currentValueTotalHeight=0,Y.currentValueMaxLines=1,B.currentvalue.visible){var Q=i.tester.append("g");K.each(function(Z){var R=b(Q,B,Z.label),q=R.node()&&i.bBox(R.node())||{width:0,height:0},tt=d.lineCount(R);Y.currentValueMaxWidth=Math.max(Y.currentValueMaxWidth,Math.ceil(q.width)),Y.currentValueHeight=Math.max(Y.currentValueHeight,Math.ceil(q.height)),Y.currentValueMaxLines=Math.max(Y.currentValueMaxLines,tt)}),Y.currentValueTotalHeight=Y.currentValueHeight+B.currentvalue.offset,Q.remove()}Y.height=Y.currentValueTotalHeight+u.tickOffset+B.ticklen+u.labelOffset+Y.labelHeight+B.pad.t+B.pad.b;var F="left";l.isRightAnchor(B)&&(Y.lx-=Y.outerLength,F="right"),l.isCenterAnchor(B)&&(Y.lx-=Y.outerLength/2,F="center");var z="top";l.isBottomAnchor(B)&&(Y.ly-=Y.height,z="bottom"),l.isMiddleAnchor(B)&&(Y.ly-=Y.height/2,z="middle"),Y.outerLength=Math.ceil(Y.outerLength),Y.height=Math.ceil(Y.height),Y.lx=Math.round(Y.lx),Y.ly=Math.round(Y.ly);var P={y:B.y,b:Y.height*y[z],t:Y.height*v[z]};B.lenmode==="fraction"?(P.l=0,P.xl=B.x-B.len*v[F],P.r=0,P.xr=B.x+B.len*y[F]):(P.x=B.x,P.l=Y.outerLength*v[F],P.r=Y.outerLength*y[F]),a.autoMargin(H,k(B),P)}function b(H,B,K){if(B.currentvalue.visible){var et,G,Y=B._dims;switch(B.currentvalue.xanchor){case"right":et=Y.inputAreaLength-u.currentValueInset-Y.currentValueMaxWidth,G="left";break;case"center":et=.5*Y.inputAreaLength,G="middle";break;default:et=u.currentValueInset,G="left"}var D=l.ensureSingle(H,"text",u.labelClass,function(P){P.attr({"text-anchor":G,"data-notex":1})}),U=B.currentvalue.prefix?B.currentvalue.prefix:"";if(typeof K=="string")U+=K;else{var $=B.steps[B.active].label,Q=B._gd._fullLayout._meta;Q&&($=l.templateString($,Q)),U+=$}B.currentvalue.suffix&&(U+=B.currentvalue.suffix),D.call(i.font,B.currentvalue.font).text(U).call(d.convertToTspans,B._gd);var F=d.lineCount(D),z=(Y.currentValueMaxLines+1-F)*B.currentvalue.font.size*m;return d.positionText(D,et,z),D}}function x(H,B,K){l.ensureSingle(H,"rect",u.gripRectClass,function(et){et.call(w,B,H,K).style("pointer-events","all")}).attr({width:u.gripWidth,height:u.gripHeight,rx:u.gripRadius,ry:u.gripRadius}).call(o.stroke,K.bordercolor).call(o.fill,K.bgcolor).style("stroke-width",K.borderwidth+"px")}function O(H,B,K){var et=l.ensureSingle(H,"text",u.labelClass,function(D){D.attr({"text-anchor":"middle","data-notex":1})}),G=B.step.label,Y=K._gd._fullLayout._meta;return Y&&(G=l.templateString(G,Y)),et.call(i.font,K.font).text(G).call(d.convertToTspans,K._gd),et}function A(H,B){var K=l.ensureSingle(H,"g",u.labelsClass),et=B._dims,G=K.selectAll("g."+u.labelGroupClass).data(et.labelSteps);G.enter().append("g").classed(u.labelGroupClass,!0),G.exit().remove(),G.each(function(Y){var D=n.select(this);D.call(O,Y,B),i.setTranslate(D,M(B,Y.fraction),u.tickOffset+B.ticklen+B.font.size*m+u.labelOffset+et.currentValueTotalHeight)})}function C(H,B,K,et,G){var Y=Math.round(et*(K._stepCount-1)),D=K._visibleSteps[Y]._index;D!==K.active&&L(H,B,K,D,!0,G)}function L(H,B,K,et,G,Y){var D=K.active;K.active=et,f(H.layout,u.name,K).applyUpdate("active",et);var U=K.steps[K.active];B.call(I,K,Y),B.call(b,K),H.emit("plotly_sliderchange",{slider:K,step:K.steps[K.active],interaction:G,previousActive:D}),U&&U.method&&G&&(B._nextMethod?(B._nextMethod.step=U,B._nextMethod.doCallback=G,B._nextMethod.doTransition=Y):(B._nextMethod={step:U,doCallback:G,doTransition:Y},B._nextMethodRaf=window.requestAnimationFrame(function(){var $=B._nextMethod.step;$.method&&($.execute&&a.executeAPICommand(H,$.method,$.args),B._nextMethod=null,B._nextMethodRaf=null)})))}function w(H,B,K){var et=K.node(),G=n.select(B);function Y(){return K.data()[0]}function D(){var U=Y();B.emit("plotly_sliderstart",{slider:U});var $=K.select("."+u.gripRectClass);n.event.stopPropagation(),n.event.preventDefault(),$.call(o.fill,U.activebgcolor);var Q=V(U,n.mouse(et)[0]);function F(){var P=Y(),Z=V(P,n.mouse(et)[0]);C(B,K,P,Z,!1)}function z(){var P=Y();P._dragging=!1,$.call(o.fill,P.bgcolor),G.on("mouseup",null),G.on("mousemove",null),G.on("touchend",null),G.on("touchmove",null),B.emit("plotly_sliderend",{slider:P,step:P.steps[P.active]})}C(B,K,U,Q,!0),U._dragging=!0,G.on("mousemove",F),G.on("touchmove",F),G.on("mouseup",z),G.on("touchend",z)}H.on("mousedown",D),H.on("touchstart",D)}function E(H,B){var K=H.selectAll("rect."+u.tickRectClass).data(B._visibleSteps),et=B._dims;K.enter().append("rect").classed(u.tickRectClass,!0),K.exit().remove(),K.attr({width:B.tickwidth+"px","shape-rendering":"crispEdges"}),K.each(function(G,Y){var D=Y%et.labelStride==0,U=n.select(this);U.attr({height:D?B.ticklen:B.minorticklen}).call(o.fill,B.tickcolor),i.setTranslate(U,M(B,Y/(B._stepCount-1))-.5*B.tickwidth,(D?u.tickOffset:u.minorTickOffset)+et.currentValueTotalHeight)})}function I(H,B,K){for(var et=H.select("rect."+u.gripRectClass),G=0,Y=0;Y<B._stepCount;Y++)if(B._visibleSteps[Y]._index===B.active){G=Y;break}var D=M(B,G/(B._stepCount-1));if(!B._invokingCommand){var U=et;K&&B.transition.duration>0&&(U=U.transition().duration(B.transition.duration).ease(B.transition.easing)),U.attr("transform",p(D-.5*u.gripWidth,B._dims.currentValueTotalHeight))}}function M(H,B){var K=H._dims;return K.inputAreaStart+u.stepInset+(K.inputAreaLength-2*u.stepInset)*Math.min(1,Math.max(0,B))}function V(H,B){var K=H._dims;return Math.min(1,Math.max(0,(B-u.stepInset-K.inputAreaStart)/(K.inputAreaLength-2*u.stepInset-2*K.inputAreaStart)))}function j(H,B,K){var et=K._dims,G=l.ensureSingle(H,"rect",u.railTouchRectClass,function(Y){Y.call(w,B,H,K).style("pointer-events","all")});G.attr({width:et.inputAreaLength,height:Math.max(et.inputAreaWidth,u.tickOffset+K.ticklen+et.labelHeight)}).call(o.fill,K.bgcolor).attr("opacity",0),i.setTranslate(G,0,et.currentValueTotalHeight)}function W(H,B){var K=B._dims,et=K.inputAreaLength-2*u.railInset,G=l.ensureSingle(H,"rect",u.railRectClass);G.attr({width:et,height:u.railWidth,rx:u.railRadius,ry:u.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,B.bordercolor).call(o.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px"),i.setTranslate(G,u.railInset,.5*(K.inputAreaWidth-u.railWidth)+K.currentValueTotalHeight)}s.exports=function(H){var B=H._fullLayout,K=function($,Q){for(var F=$[u.name],z=[],P=0;P<F.length;P++){var Z=F[P];Z.visible&&(Z._gd=Q,z.push(Z))}return z}(B,H),et=B._infolayer.selectAll("g."+u.containerClassName).data(K.length>0?[0]:[]);function G($){$._commandObserver&&($._commandObserver.remove(),delete $._commandObserver),a.autoMargin(H,k($))}if(et.enter().append("g").classed(u.containerClassName,!0).style("cursor","ew-resize"),et.exit().each(function(){n.select(this).selectAll("g."+u.groupClassName).each(G)}).remove(),K.length!==0){var Y=et.selectAll("g."+u.groupClassName).data(K,_);Y.enter().append("g").classed(u.groupClassName,!0),Y.exit().each(G).remove();for(var D=0;D<K.length;D++){var U=K[D];T(H,U)}Y.each(function($){var Q=n.select(this);(function(F){var z=F._dims;z.labelSteps=[];for(var P=F._stepCount,Z=0;Z<P;Z+=z.labelStride)z.labelSteps.push({fraction:Z/(P-1),step:F._visibleSteps[Z]})})($),a.manageCommandObserver(H,$,$._visibleSteps,function(F){var z=Q.data()[0];z.active!==F.index&&(z._dragging||L(H,Q,z,F.index,!1,!0))}),function(F,z,P){(P.steps[P.active]||{}).visible||(P.active=P._visibleSteps[0]._index),z.call(b,P).call(W,P).call(A,P).call(E,P).call(j,F,P).call(x,F,P);var Z=P._dims;i.setTranslate(z,Z.lx+P.pad.l,Z.ly+P.pad.t),z.call(I,P,!1),z.call(b,P)}(H,n.select(this),$)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":314,"../color":102,"../drawing":124,"./constants":196,"@plotly/d3":11}],199:[function(t,s,c){var n=t("./constants");s.exports={moduleType:"component",name:n.name,layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw")}},{"./attributes":195,"./constants":196,"./defaults":197,"./draw":198}],200:[function(t,s,c){var n=t("@plotly/d3"),a=t("fast-isnumeric"),o=t("../../plots/plots"),i=t("../../registry"),l=t("../../lib"),p=l.strTranslate,d=t("../drawing"),f=t("../color"),u=t("../../lib/svg_text_utils"),h=t("../../constants/interactions"),m=t("../../constants/alignment").OPPOSITE_SIDE,v=/ [XY][0-9]* /;s.exports={draw:function(y,k,_){var T,b=_.propContainer,x=_.propName,O=_.placeholder,A=_.traceIndex,C=_.avoid||{},L=_.attributes,w=_.transform,E=_.containerGroup,I=y._fullLayout,M=1,V=!1,j=b.title,W=(j&&j.text?j.text:"").trim(),H=j&&j.font?j.font:{},B=H.family,K=H.size,et=H.color;x==="title.text"?T="titleText":x.indexOf("axis")!==-1?T="axisTitleText":x.indexOf(!0)&&(T="colorbarTitleText");var G=y._context.edits[T];W===""?M=0:W.replace(v," % ")===O.replace(v," % ")&&(M=.2,V=!0,G||(W="")),_._meta?W=l.templateString(W,_._meta):I._meta&&(W=l.templateString(W,I._meta));var Y=W||G;E||(E=l.ensureSingle(I._infolayer,"g","g-"+k));var D=E.selectAll("text").data(Y?[0]:[]);if(D.enter().append("text"),D.text(W).attr("class",k),D.exit().remove(),!Y)return E;function U(F){l.syncOrAsync([$,Q],F)}function $(F){var z;return w?(z="",w.rotate&&(z+="rotate("+[w.rotate,L.x,L.y]+")"),w.offset&&(z+=p(0,w.offset))):z=null,F.attr("transform",z),F.style({"font-family":B,"font-size":n.round(K,2)+"px",fill:f.rgb(et),opacity:M*f.opacity(et),"font-weight":o.fontWeight}).attr(L).call(u.convertToTspans,y),o.previousPromises(y)}function Q(F){var z=n.select(F.node().parentNode);if(C&&C.selection&&C.side&&W){z.attr("transform",null);var P=m[C.side],Z=C.side==="left"||C.side==="top"?-1:1,R=a(C.pad)?C.pad:2,q=d.bBox(z.node()),tt={left:0,top:0,right:I.width,bottom:I.height},rt=C.maxShift||Z*(tt[C.side]-q[C.side]),nt=0;if(rt<0)nt=rt;else{var ct=C.offsetLeft||0,st=C.offsetTop||0;q.left-=ct,q.right-=ct,q.top-=st,q.bottom-=st,C.selection.each(function(){var wt=d.bBox(this);l.bBoxIntersect(q,wt,R)&&(nt=Math.max(nt,Z*(wt[C.side]-q[P])+R))}),nt=Math.min(rt,nt)}if(nt>0||rt<0){var gt={left:[-nt,0],right:[nt,0],top:[0,-nt],bottom:[0,nt]}[C.side];z.attr("transform",p(gt[0],gt[1]))}}}return D.call(U),G&&(W?D.on(".opacity",null):(M=0,V=!0,D.text(O).on("mouseover.opacity",function(){n.select(this).transition().duration(h.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){n.select(this).transition().duration(h.HIDE_PLACEHOLDER).style("opacity",0)})),D.call(u.makeEditable,{gd:y}).on("edit",function(F){A!==void 0?i.call("_guiRestyle",y,x,F,A):i.call("_guiRelayout",y,x,F)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(U)}).on("input",function(F){this.text(F||" ").call(u.positionText,L.x,L.y)})),D.classed("js-placeholder",V),E}}},{"../../constants/alignment":207,"../../constants/interactions":211,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":314,"../../registry":316,"../color":102,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],201:[function(t,s,c){var n=t("../../plots/font_attributes"),a=t("../color/attributes"),o=t("../../lib/extend").extendFlat,i=t("../../plot_api/edit_types").overrideAll,l=t("../../plots/pad_attributes"),p=t("../../plot_api/plot_template").templatedArray,d=p("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});s.exports=i(p("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:d,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(l({editType:"arraydraw"}),{}),font:n({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:a.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/font_attributes":308,"../../plots/pad_attributes":313,"../color/attributes":101}],202:[function(t,s,c){s.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}},{}],203:[function(t,s,c){var n=t("../../lib"),a=t("../../plots/array_container_defaults"),o=t("./attributes"),i=t("./constants").name,l=o.buttons;function p(f,u,h){function m(v,y){return n.coerce(f,u,o,v,y)}m("visible",a(f,u,{name:"buttons",handleItemDefaults:d}).length>0)&&(m("active"),m("direction"),m("type"),m("showactive"),m("x"),m("y"),n.noneOrAll(f,u,["x","y"]),m("xanchor"),m("yanchor"),m("pad.t"),m("pad.r"),m("pad.b"),m("pad.l"),n.coerceFont(m,"font",h.font),m("bgcolor",h.paper_bgcolor),m("bordercolor"),m("borderwidth"))}function d(f,u){function h(m,v){return n.coerce(f,u,l,m,v)}h("visible",f.method==="skip"||Array.isArray(f.args))&&(h("method"),h("args"),h("args2"),h("label"),h("execute"))}s.exports=function(f,u){a(f,u,{name:i,handleItemDefaults:p})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":201,"./constants":202}],204:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../plots/plots"),o=t("../color"),i=t("../drawing"),l=t("../../lib"),p=t("../../lib/svg_text_utils"),d=t("../../plot_api/plot_template").arrayEditor,f=t("../../constants/alignment").LINE_SPACING,u=t("./constants"),h=t("./scrollbox");function m(M){return M._index}function v(M,V){return+M.attr(u.menuIndexAttrName)===V._index}function y(M,V,j,W,H,B,K,et){V.active=K,d(M.layout,u.name,V).applyUpdate("active",K),V.type==="buttons"?_(M,W,null,null,V):V.type==="dropdown"&&(H.attr(u.menuIndexAttrName,"-1"),k(M,W,H,B,V),et||_(M,W,H,B,V))}function k(M,V,j,W,H){var B=l.ensureSingle(V,"g",u.headerClassName,function(U){U.style("pointer-events","all")}),K=H._dims,et=H.active,G=H.buttons[et]||u.blankHeaderOpts,Y={y:H.pad.t,yPad:0,x:H.pad.l,xPad:0,index:0},D={width:K.headerWidth,height:K.headerHeight};B.call(T,H,G,M).call(E,H,Y,D),l.ensureSingle(V,"text",u.headerArrowClassName,function(U){U.attr("text-anchor","end").call(i.font,H.font).text(u.arrowSymbol[H.direction])}).attr({x:K.headerWidth-u.arrowOffsetX+H.pad.l,y:K.headerHeight/2+u.textOffsetY+H.pad.t}),B.on("click",function(){j.call(I,String(v(j,H)?-1:H._index)),_(M,V,j,W,H)}),B.on("mouseover",function(){B.call(A)}),B.on("mouseout",function(){B.call(C,H)}),i.setTranslate(V,K.lx,K.ly)}function _(M,V,j,W,H){j||(j=V).attr("pointer-events","all");var B=function(P){return+P.attr(u.menuIndexAttrName)==-1}(j)&&H.type!=="buttons"?[]:H.buttons,K=H.type==="dropdown"?u.dropdownButtonClassName:u.buttonClassName,et=j.selectAll("g."+K).data(l.filterVisible(B)),G=et.enter().append("g").classed(K,!0),Y=et.exit();H.type==="dropdown"?(G.attr("opacity","0").transition().attr("opacity","1"),Y.transition().attr("opacity","0").remove()):Y.remove();var D=0,U=0,$=H._dims,Q=["up","down"].indexOf(H.direction)!==-1;H.type==="dropdown"&&(Q?U=$.headerHeight+u.gapButtonHeader:D=$.headerWidth+u.gapButtonHeader),H.type==="dropdown"&&H.direction==="up"&&(U=-u.gapButtonHeader+u.gapButton-$.openHeight),H.type==="dropdown"&&H.direction==="left"&&(D=-u.gapButtonHeader+u.gapButton-$.openWidth);var F={x:$.lx+D+H.pad.l,y:$.ly+U+H.pad.t,yPad:u.gapButton,xPad:u.gapButton,index:0},z={l:F.x+H.borderwidth,t:F.y+H.borderwidth};et.each(function(P,Z){var R=n.select(this);R.call(T,H,P,M).call(E,H,F),R.on("click",function(){n.event.defaultPrevented||(P.execute&&(P.args2&&H.active===Z?(y(M,H,0,V,j,W,-1),a.executeAPICommand(M,P.method,P.args2)):(y(M,H,0,V,j,W,Z),a.executeAPICommand(M,P.method,P.args))),M.emit("plotly_buttonclicked",{menu:H,button:P,active:H.active}))}),R.on("mouseover",function(){R.call(A)}),R.on("mouseout",function(){R.call(C,H),et.call(O,H)})}),et.call(O,H),Q?(z.w=Math.max($.openWidth,$.headerWidth),z.h=F.y-z.t):(z.w=F.x-z.l,z.h=Math.max($.openHeight,$.headerHeight)),z.direction=H.direction,W&&(et.size()?function(P,Z,R,q,tt,rt){var nt,ct,st,gt=tt.direction,wt=gt==="up"||gt==="down",Ot=tt._dims,bt=tt.active;if(wt)for(ct=0,st=0;st<bt;st++)ct+=Ot.heights[st]+u.gapButton;else for(nt=0,st=0;st<bt;st++)nt+=Ot.widths[st]+u.gapButton;q.enable(rt,nt,ct),q.hbar&&q.hbar.attr("opacity","0").transition().attr("opacity","1"),q.vbar&&q.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,W,H,z):function(P){var Z=!!P.hbar,R=!!P.vbar;Z&&P.hbar.transition().attr("opacity","0").each("end",function(){Z=!1,R||P.disable()}),R&&P.vbar.transition().attr("opacity","0").each("end",function(){R=!1,Z||P.disable()})}(W))}function T(M,V,j,W){M.call(b,V).call(x,V,j,W)}function b(M,V){l.ensureSingle(M,"rect",u.itemRectClassName,function(j){j.attr({rx:u.rx,ry:u.ry,"shape-rendering":"crispEdges"})}).call(o.stroke,V.bordercolor).call(o.fill,V.bgcolor).style("stroke-width",V.borderwidth+"px")}function x(M,V,j,W){var H=l.ensureSingle(M,"text",u.itemTextClassName,function(et){et.attr({"text-anchor":"start","data-notex":1})}),B=j.label,K=W._fullLayout._meta;K&&(B=l.templateString(B,K)),H.call(i.font,V.font).text(B).call(p.convertToTspans,W)}function O(M,V){var j=V.active;M.each(function(W,H){var B=n.select(this);H===j&&V.showactive&&B.select("rect."+u.itemRectClassName).call(o.fill,u.activeColor)})}function A(M){M.select("rect."+u.itemRectClassName).call(o.fill,u.hoverColor)}function C(M,V){M.select("rect."+u.itemRectClassName).call(o.fill,V.bgcolor)}function L(M,V){var j=V._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},W=i.tester.selectAll("g."+u.dropdownButtonClassName).data(l.filterVisible(V.buttons));W.enter().append("g").classed(u.dropdownButtonClassName,!0);var H=["up","down"].indexOf(V.direction)!==-1;W.each(function(D,U){var $=n.select(this);$.call(T,V,D,M);var Q=$.select("."+u.itemTextClassName),F=Q.node()&&i.bBox(Q.node()).width,z=Math.max(F+u.textPadX,u.minWidth),P=V.font.size*f,Z=p.lineCount(Q),R=Math.max(P*Z,u.minHeight)+u.textOffsetY;R=Math.ceil(R),z=Math.ceil(z),j.widths[U]=z,j.heights[U]=R,j.height1=Math.max(j.height1,R),j.width1=Math.max(j.width1,z),H?(j.totalWidth=Math.max(j.totalWidth,z),j.openWidth=j.totalWidth,j.totalHeight+=R+u.gapButton,j.openHeight+=R+u.gapButton):(j.totalWidth+=z+u.gapButton,j.openWidth+=z+u.gapButton,j.totalHeight=Math.max(j.totalHeight,R),j.openHeight=j.totalHeight)}),H?j.totalHeight-=u.gapButton:j.totalWidth-=u.gapButton,j.headerWidth=j.width1+u.arrowPadX,j.headerHeight=j.height1,V.type==="dropdown"&&(H?(j.width1+=u.arrowPadX,j.totalHeight=j.height1):j.totalWidth=j.width1,j.totalWidth+=u.arrowPadX),W.remove();var B=j.totalWidth+V.pad.l+V.pad.r,K=j.totalHeight+V.pad.t+V.pad.b,et=M._fullLayout._size;j.lx=et.l+et.w*V.x,j.ly=et.t+et.h*(1-V.y);var G="left";l.isRightAnchor(V)&&(j.lx-=B,G="right"),l.isCenterAnchor(V)&&(j.lx-=B/2,G="center");var Y="top";l.isBottomAnchor(V)&&(j.ly-=K,Y="bottom"),l.isMiddleAnchor(V)&&(j.ly-=K/2,Y="middle"),j.totalWidth=Math.ceil(j.totalWidth),j.totalHeight=Math.ceil(j.totalHeight),j.lx=Math.round(j.lx),j.ly=Math.round(j.ly),a.autoMargin(M,w(V),{x:V.x,y:V.y,l:B*({right:1,center:.5}[G]||0),r:B*({left:1,center:.5}[G]||0),b:K*({top:1,middle:.5}[Y]||0),t:K*({bottom:1,middle:.5}[Y]||0)})}function w(M){return u.autoMarginIdRoot+M._index}function E(M,V,j,W){W=W||{};var H=M.select("."+u.itemRectClassName),B=M.select("."+u.itemTextClassName),K=V.borderwidth,et=j.index,G=V._dims;i.setTranslate(M,K+j.x,K+j.y);var Y=["up","down"].indexOf(V.direction)!==-1,D=W.height||(Y?G.heights[et]:G.height1);H.attr({x:0,y:0,width:W.width||(Y?G.width1:G.widths[et]),height:D});var U=V.font.size*f,$=(p.lineCount(B)-1)*U/2;p.positionText(B,u.textOffsetX,D/2-$+u.textOffsetY),Y?j.y+=G.heights[et]+j.yPad:j.x+=G.widths[et]+j.xPad,j.index++}function I(M,V){M.attr(u.menuIndexAttrName,V||"-1").selectAll("g."+u.dropdownButtonClassName).remove()}s.exports=function(M){var V=M._fullLayout,j=l.filterVisible(V[u.name]);function W(U){a.autoMargin(M,w(U))}var H=V._menulayer.selectAll("g."+u.containerClassName).data(j.length>0?[0]:[]);if(H.enter().append("g").classed(u.containerClassName,!0).style("cursor","pointer"),H.exit().each(function(){n.select(this).selectAll("g."+u.headerGroupClassName).each(W)}).remove(),j.length!==0){var B=H.selectAll("g."+u.headerGroupClassName).data(j,m);B.enter().append("g").classed(u.headerGroupClassName,!0);for(var K=l.ensureSingle(H,"g",u.dropdownButtonGroupClassName,function(U){U.style("pointer-events","all")}),et=0;et<j.length;et++){var G=j[et];L(M,G)}var Y="updatemenus"+V._uid,D=new h(M,K,Y);B.enter().size()&&(K.node().parentNode.appendChild(K.node()),K.call(I)),B.exit().each(function(U){K.call(I),W(U)}).remove(),B.each(function(U){var $=n.select(this),Q=U.type==="dropdown"?K:null;a.manageCommandObserver(M,U,U.buttons,function(F){y(M,U,U.buttons[F.index],$,Q,D,F.index,!0)}),U.type==="dropdown"?(k(M,$,K,D,U),v(K,U)&&_(M,$,K,D,U)):_(M,$,null,null,U)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":314,"../color":102,"../drawing":124,"./constants":202,"./scrollbox":206,"@plotly/d3":11}],205:[function(t,s,c){arguments[4][199][0].apply(c,arguments)},{"./attributes":201,"./constants":202,"./defaults":203,"./draw":204,dup:199}],206:[function(t,s,c){s.exports=l;var n=t("@plotly/d3"),a=t("../color"),o=t("../drawing"),i=t("../../lib");function l(p,d,f){this.gd=p,this.container=d,this.id=f,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}l.barWidth=2,l.barLength=20,l.barRadius=2,l.barPad=1,l.barColor="#808BA4",l.prototype.enable=function(p,d,f){var u=this.gd._fullLayout,h=u.width,m=u.height;this.position=p;var v,y,k,_,T=this.position.l,b=this.position.w,x=this.position.t,O=this.position.h,A=this.position.direction,C=A==="down",L=A==="left",w=A==="up",E=b,I=O;C||L||A==="right"||w||(this.position.direction="down",C=!0),C||w?(y=(v=T)+E,C?(k=x,I=(_=Math.min(k+I,m))-k):I=(_=x+I)-(k=Math.max(_-I,0))):(_=(k=x)+I,L?E=(y=T+E)-(v=Math.max(y-E,0)):(v=T,E=(y=Math.min(v+E,h))-v)),this._box={l:v,t:k,w:E,h:I};var M=b>E,V=l.barLength+2*l.barPad,j=l.barWidth+2*l.barPad,W=T,H=x+O;H+j>m&&(H=m-j);var B=this.container.selectAll("rect.scrollbar-horizontal").data(M?[0]:[]);B.exit().on(".drag",null).remove(),B.enter().append("rect").classed("scrollbar-horizontal",!0).call(a.fill,l.barColor),M?(this.hbar=B.attr({rx:l.barRadius,ry:l.barRadius,x:W,y:H,width:V,height:j}),this._hbarXMin=W+V/2,this._hbarTranslateMax=E-V):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var K=O>I,et=l.barWidth+2*l.barPad,G=l.barLength+2*l.barPad,Y=T+b,D=x;Y+et>h&&(Y=h-et);var U=this.container.selectAll("rect.scrollbar-vertical").data(K?[0]:[]);U.exit().on(".drag",null).remove(),U.enter().append("rect").classed("scrollbar-vertical",!0).call(a.fill,l.barColor),K?(this.vbar=U.attr({rx:l.barRadius,ry:l.barRadius,x:Y,y:D,width:et,height:G}),this._vbarYMin=D+G/2,this._vbarTranslateMax=I-G):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var $=this.id,Q=v-.5,F=K?y+et+.5:y+.5,z=k-.5,P=M?_+j+.5:_+.5,Z=u._topdefs.selectAll("#"+$).data(M||K?[0]:[]);if(Z.exit().remove(),Z.enter().append("clipPath").attr("id",$).append("rect"),M||K?(this._clipRect=Z.select("rect").attr({x:Math.floor(Q),y:Math.floor(z),width:Math.ceil(F)-Math.floor(Q),height:Math.ceil(P)-Math.floor(z)}),this.container.call(o.setClipUrl,$,this.gd),this.bg.attr({x:T,y:x,width:b,height:O})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),M||K){var R=n.behavior.drag().on("dragstart",function(){n.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(R);var q=n.behavior.drag().on("dragstart",function(){n.event.sourceEvent.preventDefault(),n.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));M&&this.hbar.on(".drag",null).call(q),K&&this.vbar.on(".drag",null).call(q)}this.setTranslate(d,f)},l.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},l.prototype._onBoxDrag=function(){var p=this.translateX,d=this.translateY;this.hbar&&(p-=n.event.dx),this.vbar&&(d-=n.event.dy),this.setTranslate(p,d)},l.prototype._onBoxWheel=function(){var p=this.translateX,d=this.translateY;this.hbar&&(p+=n.event.deltaY),this.vbar&&(d+=n.event.deltaY),this.setTranslate(p,d)},l.prototype._onBarDrag=function(){var p=this.translateX,d=this.translateY;if(this.hbar){var f=p+this._hbarXMin,u=f+this._hbarTranslateMax;p=(i.constrain(n.event.x,f,u)-f)/(u-f)*(this.position.w-this._box.w)}if(this.vbar){var h=d+this._vbarYMin,m=h+this._vbarTranslateMax;d=(i.constrain(n.event.y,h,m)-h)/(m-h)*(this.position.h-this._box.h)}this.setTranslate(p,d)},l.prototype.setTranslate=function(p,d){var f=this.position.w-this._box.w,u=this.position.h-this._box.h;if(p=i.constrain(p||0,0,f),d=i.constrain(d||0,0,u),this.translateX=p,this.translateY=d,this.container.call(o.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-d),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+d-.5)}),this.hbar){var h=p/f;this.hbar.call(o.setTranslate,p+h*this._hbarTranslateMax,d)}if(this.vbar){var m=d/u;this.vbar.call(o.setTranslate,p,d+m*this._vbarTranslateMax)}}},{"../../lib":232,"../color":102,"../drawing":124,"@plotly/d3":11}],207:[function(t,s,c){s.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],208:[function(t,s,c){s.exports={axisRefDescription:function(n,a,o){return["If set to a",n,"axis id (e.g. *"+n+"* or","*"+n+"2*), the `"+n+"` position refers to a",n,"coordinate. If set to *paper*, the `"+n+"`","position refers to the distance from the",a,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",a,"("+o+"). If set to a",n,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",a,"of the domain of that axis: e.g.,","*"+n+"2 domain* refers to the domain of the second",n," axis and a",n,"position of 0.5 refers to the","point between the",a,"and the",o,"of the domain of the","second",n,"axis."].join(" ")}}},{}],209:[function(t,s,c){s.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},{}],210:[function(t,s,c){s.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],211:[function(t,s,c){s.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],212:[function(t,s,c){s.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],213:[function(t,s,c){c.xmlns="http://www.w3.org/2000/xmlns/",c.svg="http://www.w3.org/2000/svg",c.xlink="http://www.w3.org/1999/xlink",c.svgAttrs={xmlns:c.svg,"xmlns:xlink":c.xlink}},{}],214:[function(t,s,c){c.version=t("./version").version,t("native-promise-only"),t("../build/plotcss");for(var n=t("./registry"),a=c.register=n.register,o=t("./plot_api"),i=Object.keys(o),l=0;l<i.length;l++){var p=i[l];p.charAt(0)!=="_"&&(c[p]=o[p]),a({moduleType:"apiMethod",name:p,fn:o[p]})}a(t("./traces/scatter")),a([t("./components/legend"),t("./components/fx"),t("./components/annotations"),t("./components/annotations3d"),t("./components/shapes"),t("./components/images"),t("./components/updatemenus"),t("./components/sliders"),t("./components/rangeslider"),t("./components/rangeselector"),t("./components/grid"),t("./components/errorbars"),t("./components/colorscale"),t("./components/colorbar"),t("./components/modebar")]),a([t("./locale-en"),t("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(a(window.PlotlyLocales),delete window.PlotlyLocales),c.Icons=t("./fonts/ploticon");var d=t("./components/fx"),f=t("./plots/plots");c.Plots={resize:f.resize,graphJson:f.graphJson,sendDataToCloud:f.sendDataToCloud},c.Fx={hover:d.hover,unhover:d.unhover,loneHover:d.loneHover,loneUnhover:d.loneUnhover},c.Snapshot=t("./snapshot"),c.PlotSchema=t("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":93,"./components/annotations3d":98,"./components/colorbar":108,"./components/colorscale":114,"./components/errorbars":130,"./components/fx":142,"./components/grid":146,"./components/images":151,"./components/legend":159,"./components/modebar":165,"./components/rangeselector":173,"./components/rangeslider":180,"./components/shapes":194,"./components/sliders":199,"./components/updatemenus":205,"./fonts/ploticon":215,"./locale-en":259,"./locale-en-us":258,"./plot_api":263,"./plot_api/plot_schema":267,"./plots/plots":314,"./registry":316,"./snapshot":321,"./traces/scatter":368,"./version":389,"native-promise-only":54}],215:[function(t,s,c){s.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],216:[function(t,s,c){c.isLeftAnchor=function(n){return n.xanchor==="left"||n.xanchor==="auto"&&n.x<=1/3},c.isCenterAnchor=function(n){return n.xanchor==="center"||n.xanchor==="auto"&&n.x>1/3&&n.x<2/3},c.isRightAnchor=function(n){return n.xanchor==="right"||n.xanchor==="auto"&&n.x>=2/3},c.isTopAnchor=function(n){return n.yanchor==="top"||n.yanchor==="auto"&&n.y>=2/3},c.isMiddleAnchor=function(n){return n.yanchor==="middle"||n.yanchor==="auto"&&n.y>1/3&&n.y<2/3},c.isBottomAnchor=function(n){return n.yanchor==="bottom"||n.yanchor==="auto"&&n.y<=1/3}},{}],217:[function(t,s,c){var n=t("./mod"),a=n.mod,o=n.modHalf,i=Math.PI,l=2*i;function p(h){return Math.abs(h[1]-h[0])>l-1e-14}function d(h,m){return o(m-h,l)}function f(h,m){if(p(m))return!0;var v,y;m[0]<m[1]?(v=m[0],y=m[1]):(v=m[1],y=m[0]),(v=a(v,l))>(y=a(y,l))&&(y+=l);var k=a(h,l),_=k+l;return k>=v&&k<=y||_>=v&&_<=y}function u(h,m,v,y,k,_,T){k=k||0,_=_||0;var b,x,O,A,C,L=p([v,y]);function w(V,j){return[V*Math.cos(j)+k,_-V*Math.sin(j)]}L?(b=0,x=i,O=l):v<y?(b=v,O=y):(b=y,O=v),h<m?(A=h,C=m):(A=m,C=h);var E,I=Math.abs(O-b)<=i?0:1;function M(V,j,W){return"A"+[V,V]+" "+[0,I,W]+" "+w(V,j)}return L?E=A===null?"M"+w(C,b)+M(C,x,0)+M(C,O,0)+"Z":"M"+w(A,b)+M(A,x,0)+M(A,O,0)+"ZM"+w(C,b)+M(C,x,1)+M(C,O,1)+"Z":A===null?(E="M"+w(C,b)+M(C,O,0),T&&(E+="L0,0Z")):E="M"+w(A,b)+"L"+w(C,b)+M(C,O,0)+"L"+w(A,O)+M(A,b,1)+"Z",E}s.exports={deg2rad:function(h){return h/180*i},rad2deg:function(h){return h/i*180},angleDelta:d,angleDist:function(h,m){return Math.abs(d(h,m))},isFullCircle:p,isAngleInsideSector:f,isPtInsideSector:function(h,m,v,y){return!!f(m,y)&&(v[0]<v[1]?(k=v[0],_=v[1]):(k=v[1],_=v[0]),h>=k&&h<=_);var k,_},pathArc:function(h,m,v,y,k){return u(null,h,m,v,y,k,0)},pathSector:function(h,m,v,y,k){return u(null,h,m,v,y,k,1)},pathAnnulus:function(h,m,v,y,k,_){return u(h,m,v,y,k,_,1)}}},{"./mod":239}],218:[function(t,s,c){var n=Array.isArray,a=ArrayBuffer,o=DataView;function i(d){return a.isView(d)&&!(d instanceof o)}function l(d){return n(d)||i(d)}function p(d,f,u){if(l(d)){if(l(d[0])){for(var h=u,m=0;m<d.length;m++)h=f(h,d[m].length);return h}return d.length}return 0}c.isTypedArray=i,c.isArrayOrTypedArray=l,c.isArray1D=function(d){return!l(d[0])},c.ensureArray=function(d,f){return n(d)||(d=[]),d.length=f,d},c.concat=function(){var d,f,u,h,m,v,y,k,_=[],T=!0,b=0;for(u=0;u<arguments.length;u++)(v=(h=arguments[u]).length)&&(f?_.push(h):(f=h,m=v),n(h)?d=!1:(T=!1,b?d!==h.constructor&&(d=!1):d=h.constructor),b+=v);if(!b)return[];if(!_.length)return f;if(T)return f.concat.apply(f,_);if(d){for((y=new d(b)).set(f),u=0;u<_.length;u++)h=_[u],y.set(h,m),m+=h.length;return y}for(y=new Array(b),k=0;k<f.length;k++)y[k]=f[k];for(u=0;u<_.length;u++){for(h=_[u],k=0;k<h.length;k++)y[m+k]=h[k];m+=k}return y},c.maxRowLength=function(d){return p(d,Math.max,0)},c.minRowLength=function(d){return p(d,Math.min,1/0)}},{}],219:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../constants/numerical").BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;s.exports=function(i){return typeof i=="string"&&(i=i.replace(o,"")),n(i)?Number(i):a}},{"../constants/numerical":212,"fast-isnumeric":17}],220:[function(t,s,c){s.exports=function(n){var a=n._fullLayout;a._glcanvas&&a._glcanvas.size()&&a._glcanvas.each(function(o){o.regl&&o.regl.clear({color:!0,depth:!0})})}},{}],221:[function(t,s,c){s.exports=function(n){n._responsiveChartHandler&&(window.removeEventListener("resize",n._responsiveChartHandler),delete n._responsiveChartHandler)}},{}],222:[function(t,s,c){var n=t("fast-isnumeric"),a=t("tinycolor2"),o=t("../plots/attributes"),i=t("../components/colorscale/scales"),l=t("../components/color"),p=t("../constants/interactions").DESELECTDIM,d=t("./nested_property"),f=t("./regex").counter,u=t("./mod").modHalf,h=t("./array").isArrayOrTypedArray;function m(v,y){var k=c.valObjectMeta[y.valType];if(y.arrayOk&&h(v))return!0;if(k.validateFunction)return k.validateFunction(v,y);var _={},T=_,b={set:function(x){T=x}};return k.coerceFunction(v,b,_,y),T!==_}c.valObjectMeta={data_array:{coerceFunction:function(v,y,k){h(v)?y.set(v):k!==void 0&&y.set(k)}},enumerated:{coerceFunction:function(v,y,k,_){_.coerceNumber&&(v=+v),_.values.indexOf(v)===-1?y.set(k):y.set(v)},validateFunction:function(v,y){y.coerceNumber&&(v=+v);for(var k=y.values,_=0;_<k.length;_++){var T=String(k[_]);if(T.charAt(0)==="/"&&T.charAt(T.length-1)==="/"){if(new RegExp(T.substr(1,T.length-2)).test(v))return!0}else if(v===k[_])return!0}return!1}},boolean:{coerceFunction:function(v,y,k){v===!0||v===!1?y.set(v):y.set(k)}},number:{coerceFunction:function(v,y,k,_){!n(v)||_.min!==void 0&&v<_.min||_.max!==void 0&&v>_.max?y.set(k):y.set(+v)}},integer:{coerceFunction:function(v,y,k,_){v%1||!n(v)||_.min!==void 0&&v<_.min||_.max!==void 0&&v>_.max?y.set(k):y.set(+v)}},string:{coerceFunction:function(v,y,k,_){if(typeof v!="string"){var T=typeof v=="number";_.strict!==!0&&T?y.set(String(v)):y.set(k)}else _.noBlank&&!v?y.set(k):y.set(v)}},color:{coerceFunction:function(v,y,k){a(v).isValid()?y.set(v):y.set(k)}},colorlist:{coerceFunction:function(v,y,k){Array.isArray(v)&&v.length&&v.every(function(_){return a(_).isValid()})?y.set(v):y.set(k)}},colorscale:{coerceFunction:function(v,y,k){y.set(i.get(v,k))}},angle:{coerceFunction:function(v,y,k){v==="auto"?y.set("auto"):n(v)?y.set(u(+v,360)):y.set(k)}},subplotid:{coerceFunction:function(v,y,k,_){var T=_.regex||f(k);typeof v=="string"&&T.test(v)?y.set(v):y.set(k)},validateFunction:function(v,y){var k=y.dflt;return v===k||typeof v=="string"&&!!f(k).test(v)}},flaglist:{coerceFunction:function(v,y,k,_){if(typeof v=="string")if((_.extras||[]).indexOf(v)===-1){for(var T=v.split("+"),b=0;b<T.length;){var x=T[b];_.flags.indexOf(x)===-1||T.indexOf(x)<b?T.splice(b,1):b++}T.length?y.set(T.join("+")):y.set(k)}else y.set(v);else y.set(k)}},any:{coerceFunction:function(v,y,k){v===void 0?y.set(k):y.set(v)}},info_array:{coerceFunction:function(v,y,k,_){function T(H,B,K){var et,G={set:function(Y){et=Y}};return K===void 0&&(K=B.dflt),c.valObjectMeta[B.valType].coerceFunction(H,G,K,B),et}var b=_.dimensions===2||_.dimensions==="1-2"&&Array.isArray(v)&&Array.isArray(v[0]);if(Array.isArray(v)){var x,O,A,C,L,w,E=_.items,I=[],M=Array.isArray(E),V=M&&b&&Array.isArray(E[0]),j=b&&M&&!V,W=M&&!j?E.length:v.length;if(k=Array.isArray(k)?k:[],b)for(x=0;x<W;x++)for(I[x]=[],A=Array.isArray(v[x])?v[x]:[],L=j?E.length:M?E[x].length:A.length,O=0;O<L;O++)C=j?E[O]:M?E[x][O]:E,(w=T(A[O],C,(k[x]||[])[O]))!==void 0&&(I[x][O]=w);else for(x=0;x<W;x++)(w=T(v[x],M?E[x]:E,k[x]))!==void 0&&(I[x]=w);y.set(I)}else y.set(k)},validateFunction:function(v,y){if(!Array.isArray(v))return!1;var k=y.items,_=Array.isArray(k),T=y.dimensions===2;if(!y.freeLength&&v.length!==k.length)return!1;for(var b=0;b<v.length;b++)if(T){if(!Array.isArray(v[b])||!y.freeLength&&v[b].length!==k[b].length)return!1;for(var x=0;x<v[b].length;x++)if(!m(v[b][x],_?k[b][x]:k))return!1}else if(!m(v[b],_?k[b]:k))return!1;return!0}}},c.coerce=function(v,y,k,_,T){var b=d(k,_).get(),x=d(v,_),O=d(y,_),A=x.get(),C=y._template;if(A===void 0&&C&&(A=d(C,_).get(),C=0),T===void 0&&(T=b.dflt),b.arrayOk&&h(A))return O.set(A),A;var L=c.valObjectMeta[b.valType].coerceFunction;L(A,O,T,b);var w=O.get();return C&&w===T&&!m(A,b)&&(L(A=d(C,_).get(),O,T,b),w=O.get()),w},c.coerce2=function(v,y,k,_,T){var b=d(v,_),x=c.coerce(v,y,k,_,T),O=b.get();return O!=null&&x},c.coerceFont=function(v,y,k){var _={};return k=k||{},_.family=v(y+".family",k.family),_.size=v(y+".size",k.size),_.color=v(y+".color",k.color),_},c.coercePattern=function(v,y,k,_){if(v(y+".shape")){v(y+".solidity"),v(y+".size");var T=v(y+".fillmode")==="overlay";if(!_){var b=v(y+".bgcolor",T?k:void 0);v(y+".fgcolor",T?l.contrast(b):k)}v(y+".fgopacity",T?.5:1)}},c.coerceHoverinfo=function(v,y,k){var _,T=y._module.attributes,b=T.hoverinfo?T:o,x=b.hoverinfo;if(k._dataLength===1){var O=x.dflt==="all"?x.flags.slice():x.dflt.split("+");O.splice(O.indexOf("name"),1),_=O.join("+")}return c.coerce(v,y,b,"hoverinfo",_)},c.coerceSelectionMarkerOpacity=function(v,y){if(v.marker){var k,_,T=v.marker.opacity;T!==void 0&&(h(T)||v.selected||v.unselected||(k=T,_=p*T),y("selected.marker.opacity",k),y("unselected.marker.opacity",_))}},c.validate=m},{"../components/color":102,"../components/colorscale/scales":117,"../constants/interactions":211,"../plots/attributes":275,"./array":218,"./mod":239,"./nested_property":240,"./regex":248,"fast-isnumeric":17,tinycolor2:67}],223:[function(t,s,c){var n,a,o=t("d3-time-format").timeFormat,i=t("fast-isnumeric"),l=t("./loggers"),p=t("./mod").mod,d=t("../constants/numerical"),f=d.BADNUM,u=d.ONEDAY,h=d.ONEHOUR,m=d.ONEMIN,v=d.ONESEC,y=d.EPOCHJD,k=t("../registry"),_=t("d3-time-format").utcFormat,T=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=new Date().getFullYear()-70;function O(B){return B&&k.componentsRegistry.calendars&&typeof B=="string"&&B!=="gregorian"}function A(B,K){return String(B+Math.pow(10,K)).substr(1)}c.dateTick0=function(B,K){var et=function(Y,D){return O(Y)?D?k.getComponentMethod("calendars","CANONICAL_SUNDAY")[Y]:k.getComponentMethod("calendars","CANONICAL_TICK")[Y]:D?"2000-01-02":"2000-01-01"}(B,!!K);if(K<2)return et;var G=c.dateTime2ms(et,B);return G+=u*(K-1),c.ms2DateTime(G,0,B)},c.dfltRange=function(B){return O(B)?k.getComponentMethod("calendars","DFLTRANGE")[B]:["2000-01-01","2001-01-01"]},c.isJSDate=function(B){return typeof B=="object"&&B!==null&&typeof B.getTime=="function"},c.dateTime2ms=function(B,K){if(c.isJSDate(B)){var et=B.getTimezoneOffset()*m,G=(B.getUTCMinutes()-B.getMinutes())*m+(B.getUTCSeconds()-B.getSeconds())*v+(B.getUTCMilliseconds()-B.getMilliseconds());if(G){var Y=3*m;et=et-Y/2+p(G-et+Y/2,Y)}return(B=Number(B)-et)>=n&&B<=a?B:f}if(typeof B!="string"&&typeof B!="number")return f;B=String(B);var D=O(K),U=B.charAt(0);!D||U!=="G"&&U!=="g"||(B=B.substr(1),K="");var $=D&&K.substr(0,7)==="chinese",Q=B.match($?b:T);if(!Q)return f;var F=Q[1],z=Q[3]||"1",P=Number(Q[5]||1),Z=Number(Q[7]||0),R=Number(Q[9]||0),q=Number(Q[11]||0);if(D){if(F.length===2)return f;var tt;F=Number(F);try{var rt=k.getComponentMethod("calendars","getCal")(K);if($){var nt=z.charAt(z.length-1)==="i";z=parseInt(z,10),tt=rt.newDate(F,rt.toMonthIndex(F,z,nt),P)}else tt=rt.newDate(F,Number(z),P)}catch(st){return f}return tt?(tt.toJD()-y)*u+Z*h+R*m+q*v:f}F=F.length===2?(Number(F)+2e3-x)%100+x:Number(F),z-=1;var ct=new Date(Date.UTC(2e3,z,P,Z,R));return ct.setUTCFullYear(F),ct.getUTCMonth()!==z||ct.getUTCDate()!==P?f:ct.getTime()+q*v},n=c.MIN_MS=c.dateTime2ms("-9999"),a=c.MAX_MS=c.dateTime2ms("9999-12-31 23:59:59.9999"),c.isDateTime=function(B,K){return c.dateTime2ms(B,K)!==f};var C=90*u,L=3*h,w=5*m;function E(B,K,et,G,Y){if((K||et||G||Y)&&(B+=" "+A(K,2)+":"+A(et,2),(G||Y)&&(B+=":"+A(G,2),Y))){for(var D=4;Y%10==0;)D-=1,Y/=10;B+="."+A(Y,D)}return B}c.ms2DateTime=function(B,K,et){if(typeof B!="number"||!(B>=n&&B<=a))return f;K||(K=0);var G,Y,D,U,$,Q,F=Math.floor(10*p(B+.05,1)),z=Math.round(B-F/10);if(O(et)){var P=Math.floor(z/u)+y,Z=Math.floor(p(B,u));try{G=k.getComponentMethod("calendars","getCal")(et).fromJD(P).formatDate("yyyy-mm-dd")}catch(R){G=_("G%Y-%m-%d")(new Date(z))}if(G.charAt(0)==="-")for(;G.length<11;)G="-0"+G.substr(1);else for(;G.length<10;)G="0"+G;Y=K<C?Math.floor(Z/h):0,D=K<C?Math.floor(Z%h/m):0,U=K<L?Math.floor(Z%m/v):0,$=K<w?Z%v*10+F:0}else Q=new Date(z),G=_("%Y-%m-%d")(Q),Y=K<C?Q.getUTCHours():0,D=K<C?Q.getUTCMinutes():0,U=K<L?Q.getUTCSeconds():0,$=K<w?10*Q.getUTCMilliseconds()+F:0;return E(G,Y,D,U,$)},c.ms2DateTimeLocal=function(B){if(!(B>=n+u&&B<=a-u))return f;var K=Math.floor(10*p(B+.05,1)),et=new Date(Math.round(B-K/10));return E(o("%Y-%m-%d")(et),et.getHours(),et.getMinutes(),et.getSeconds(),10*et.getUTCMilliseconds()+K)},c.cleanDate=function(B,K,et){if(B===f)return K;if(c.isJSDate(B)||typeof B=="number"&&isFinite(B)){if(O(et))return l.error("JS Dates and milliseconds are incompatible with world calendars",B),K;if(!(B=c.ms2DateTimeLocal(+B))&&K!==void 0)return K}else if(!c.isDateTime(B,et))return l.error("unrecognized date",B),K;return B};var I=/%\d?f/g,M=/%h/g,V={1:"1",2:"1",3:"2",4:"2"};function j(B,K,et,G){B=B.replace(I,function(D){var U=Math.min(+D.charAt(1)||6,6);return(K/1e3%1+2).toFixed(U).substr(2).replace(/0+$/,"")||"0"});var Y=new Date(Math.floor(K+.05));if(B=B.replace(M,function(){return V[et("%q")(Y)]}),O(G))try{B=k.getComponentMethod("calendars","worldCalFmt")(B,K,G)}catch(D){return"Invalid"}return et(B)(Y)}var W=[59,59.9,59.99,59.999,59.9999];c.formatDate=function(B,K,et,G,Y,D){if(Y=O(Y)&&Y,!K)if(et==="y")K=D.year;else if(et==="m")K=D.month;else{if(et!=="d")return function(U,$){var Q=p(U+.05,u),F=A(Math.floor(Q/h),2)+":"+A(p(Math.floor(Q/m),60),2);if($!=="M"){i($)||($=0);var z=(100+Math.min(p(U/v,60),W[$])).toFixed($).substr(1);$>0&&(z=z.replace(/0+$/,"").replace(/[\.]$/,"")),F+=":"+z}return F}(B,et)+`
`+j(D.dayMonthYear,B,G,Y);K=D.dayMonth+`
`+D.year}return j(K,B,G,Y)};var H=3*u;c.incrementMonth=function(B,K,et){et=O(et)&&et;var G=p(B,u);if(B=Math.round(B-G),et)try{var Y=Math.round(B/u)+y,D=k.getComponentMethod("calendars","getCal")(et),U=D.fromJD(Y);return K%12?D.add(U,K,"m"):D.add(U,K/12,"y"),(U.toJD()-y)*u+G}catch(Q){l.error("invalid ms "+B+" in calendar "+et)}var $=new Date(B+H);return $.setUTCMonth($.getUTCMonth()+K)+G-H},c.findExactDates=function(B,K){for(var et,G,Y=0,D=0,U=0,$=0,Q=O(K)&&k.getComponentMethod("calendars","getCal")(K),F=0;F<B.length;F++)if(G=B[F],i(G)){if(!(G%u))if(Q)try{(et=Q.fromJD(G/u+y)).day()===1?et.month()===1?Y++:D++:U++}catch(P){}else(et=new Date(G)).getUTCDate()===1?et.getUTCMonth()===0?Y++:D++:U++}else $++;U+=D+=Y;var z=B.length-$;return{exactYears:Y/z,exactMonths:D/z,exactDays:U/z}}},{"../constants/numerical":212,"../registry":316,"./loggers":236,"./mod":239,"d3-time-format":14,"fast-isnumeric":17}],224:[function(t,s,c){var n=t("@plotly/d3"),a=t("./loggers"),o=t("./matrix"),i=t("gl-mat4");function l(h){var m=h&&h.parentNode;m&&m.removeChild(h)}function p(h,m,v){var y="plotly.js-style-"+h,k=document.getElementById(y);k||((k=document.createElement("style")).setAttribute("id",y),k.appendChild(document.createTextNode("")),document.head.appendChild(k));var _=k.sheet;_.insertRule?_.insertRule(m+"{"+v+"}",0):_.addRule?_.addRule(m,v,0):a.warn("addStyleRule failed")}function d(h){var m=window.getComputedStyle(h,null),v=m.getPropertyValue("-webkit-transform")||m.getPropertyValue("-moz-transform")||m.getPropertyValue("-ms-transform")||m.getPropertyValue("-o-transform")||m.getPropertyValue("transform");return v==="none"?null:v.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(y){return+y})}function f(h){for(var m=[];u(h);)m.push(h),h=h.parentNode;return m}function u(h){return h&&(h instanceof Element||h instanceof HTMLElement)}s.exports={getGraphDiv:function(h){var m;if(typeof h=="string"){if((m=document.getElementById(h))===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return m}if(h==null)throw new Error("DOM element provided is null or undefined");return h},isPlotDiv:function(h){var m=n.select(h);return m.node()instanceof HTMLElement&&m.size()&&m.classed("js-plotly-plot")},removeElement:l,addStyleRule:function(h,m){p("global",h,m)},addRelatedStyleRule:p,deleteRelatedStyleRule:function(h){var m="plotly.js-style-"+h,v=document.getElementById(m);v&&l(v)},getFullTransformMatrix:function(h){var m=f(h),v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return m.forEach(function(y){var k=d(y);if(k){var _=o.convertCssMatrix(k);v=i.multiply(v,v,_)}}),v},getElementTransformMatrix:d,getElementAndAncestors:f,equalDomRects:function(h,m){return h&&m&&h.x===m.x&&h.y===m.y&&h.top===m.top&&h.left===m.left&&h.right===m.right&&h.bottom===m.bottom}}},{"./loggers":236,"./matrix":238,"@plotly/d3":11,"gl-mat4":33}],225:[function(t,s,c){var n=t("events").EventEmitter,a={init:function(o){if(o._ev instanceof n)return o;var i=new n,l=new n;return o._ev=i,o._internalEv=l,o.on=i.on.bind(i),o.once=i.once.bind(i),o.removeListener=i.removeListener.bind(i),o.removeAllListeners=i.removeAllListeners.bind(i),o._internalOn=l.on.bind(l),o._internalOnce=l.once.bind(l),o._removeInternalListener=l.removeListener.bind(l),o._removeAllInternalListeners=l.removeAllListeners.bind(l),o.emit=function(p,d){typeof jQuery!="undefined"&&jQuery(o).trigger(p,d),i.emit(p,d),l.emit(p,d)},o},triggerHandler:function(o,i,l){var p,d;typeof jQuery!="undefined"&&(p=jQuery(o).triggerHandler(i,l));var f=o._ev;if(!f)return p;var u,h=f._events[i];if(!h)return p;function m(v){return v.listener?(f.removeListener(i,v.listener),v.fired?void 0:(v.fired=!0,v.listener.apply(f,[l]))):v.apply(f,[l])}for(h=Array.isArray(h)?h:[h],u=0;u<h.length-1;u++)m(h[u]);return d=m(h[u]),p!==void 0?p:d},purge:function(o){return delete o._ev,delete o.on,delete o.once,delete o.removeListener,delete o.removeAllListeners,delete o.emit,delete o._ev,delete o._internalEv,delete o._internalOn,delete o._internalOnce,delete o._removeInternalListener,delete o._removeAllInternalListeners,o}};s.exports=a},{events:12}],226:[function(t,s,c){var n=t("./is_plain_object.js"),a=Array.isArray;function o(i,l,p,d){var f,u,h,m,v,y,k=i[0],_=i.length;if(_===2&&a(k)&&a(i[1])&&k.length===0){if(function(b,x){var O,A;for(O=0;O<b.length;O++){if((A=b[O])!==null&&typeof A=="object")return!1;A!==void 0&&(x[O]=A)}return!0}(i[1],k))return k;k.splice(0,k.length)}for(var T=1;T<_;T++)for(u in f=i[T])h=k[u],m=f[u],d&&a(m)?k[u]=m:l&&m&&(n(m)||(v=a(m)))?(v?(v=!1,y=h&&a(h)?h:[]):y=h&&n(h)?h:{},k[u]=o([y,m],l,p,d)):(m!==void 0||p)&&(k[u]=m);return k}c.extendFlat=function(){return o(arguments,!1,!1,!1)},c.extendDeep=function(){return o(arguments,!0,!1,!1)},c.extendDeepAll=function(){return o(arguments,!0,!0,!1)},c.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},{"./is_plain_object.js":233}],227:[function(t,s,c){s.exports=function(n){for(var a={},o=[],i=0,l=0;l<n.length;l++){var p=n[l];a[p]!==1&&(a[p]=1,o[i++]=p)}return o}},{}],228:[function(t,s,c){function n(o){return o.visible===!0}function a(o){var i=o[0].trace;return i.visible===!0&&i._length!==0}s.exports=function(o){for(var i,l=(i=o,Array.isArray(i)&&Array.isArray(i[0])&&i[0][0]&&i[0][0].trace?a:n),p=[],d=0;d<o.length;d++){var f=o[d];l(f)&&p.push(f)}return p}},{}],229:[function(t,s,c){var n,a,o,i=t("./mod").mod;function l(d,f,u,h,m,v,y,k){var _=u-d,T=m-d,b=y-m,x=h-f,O=v-f,A=k-v,C=_*A-b*x;if(C===0)return null;var L=(T*A-b*O)/C,w=(T*x-_*O)/C;return w<0||w>1||L<0||L>1?null:{x:d+_*L,y:f+x*L}}function p(d,f,u,h,m){var v=h*d+m*f;if(v<0)return h*h+m*m;if(v>u){var y=h-d,k=m-f;return y*y+k*k}var _=h*f-m*d;return _*_/u}c.segmentsIntersect=l,c.segmentDistance=function(d,f,u,h,m,v,y,k){if(l(d,f,u,h,m,v,y,k))return 0;var _=u-d,T=h-f,b=y-m,x=k-v,O=_*_+T*T,A=b*b+x*x,C=Math.min(p(_,T,O,m-d,v-f),p(_,T,O,y-d,k-f),p(b,x,A,d-m,f-v),p(b,x,A,u-m,h-v));return Math.sqrt(C)},c.getTextLocation=function(d,f,u,h){if(d===a&&h===o||(n={},a=d,o=h),n[u])return n[u];var m=d.getPointAtLength(i(u-h/2,f)),v=d.getPointAtLength(i(u+h/2,f)),y=Math.atan((v.y-m.y)/(v.x-m.x)),k=d.getPointAtLength(i(u,f)),_={x:(4*k.x+m.x+v.x)/6,y:(4*k.y+m.y+v.y)/6,theta:y};return n[u]=_,_},c.clearLocationCache=function(){a=null},c.getVisibleSegment=function(d,f,u){var h,m,v=f.left,y=f.right,k=f.top,_=f.bottom,T=0,b=d.getTotalLength(),x=b;function O(C){var L=d.getPointAtLength(C);C===0?h=L:C===b&&(m=L);var w=L.x<v?v-L.x:L.x>y?L.x-y:0,E=L.y<k?k-L.y:L.y>_?L.y-_:0;return Math.sqrt(w*w+E*E)}for(var A=O(T);A;){if((T+=A+u)>x)return;A=O(T)}for(A=O(x);A;){if(T>(x-=A+u))return;A=O(x)}return{min:T,max:x,len:x-T,total:b,isClosed:T===0&&x===b&&Math.abs(h.x-m.x)<.1&&Math.abs(h.y-m.y)<.1}},c.findPointOnPath=function(d,f,u,h){for(var m,v,y,k=(h=h||{}).pathLength||d.getTotalLength(),_=h.tolerance||.001,T=h.iterationLimit||30,b=d.getPointAtLength(0)[u]>d.getPointAtLength(k)[u]?-1:1,x=0,O=0,A=k;x<T;){if(m=(O+A)/2,y=(v=d.getPointAtLength(m))[u]-f,Math.abs(y)<_)return v;b*y>0?A=m:O=m,x++}return v}},{"./mod":239}],230:[function(t,s,c){s.exports=function(n){return n}},{}],231:[function(t,s,c){s.exports=function(n,a){if(!a)return n;var o=1/Math.abs(a),i=o>1?(o*n+o*a)/o:n+a,l=String(i).length;if(l>16){var p=String(a).length;if(l>=String(n).length+p){var d=parseFloat(i).toPrecision(12);d.indexOf("e+")===-1&&(i=+d)}}return i}},{}],232:[function(t,s,c){var n=t("@plotly/d3"),a=t("d3-time-format").utcFormat,o=t("d3-format").format,i=t("fast-isnumeric"),l=t("../constants/numerical"),p=l.FP_SAFE,d=-p,f=l.BADNUM,u=s.exports={};u.adjustFormat=function(F){return!F||/^\d[.]\df/.test(F)||/[.]\d%/.test(F)?F:F==="0.f"?"~f":/^\d%/.test(F)?"~%":/^\ds/.test(F)?"~s":!/^[~,.0$]/.test(F)&&/[&fps]/.test(F)?"~"+F:F};var h={};u.warnBadFormat=function(F){var z=String(F);h[z]||(h[z]=1,u.warn('encountered bad format: "'+z+'"'))},u.noFormat=function(F){return String(F)},u.numberFormat=function(F){var z;try{z=o(u.adjustFormat(F))}catch(P){return u.warnBadFormat(F),u.noFormat}return z},u.nestedProperty=t("./nested_property"),u.keyedContainer=t("./keyed_container"),u.relativeAttr=t("./relative_attr"),u.isPlainObject=t("./is_plain_object"),u.toLogRange=t("./to_log_range"),u.relinkPrivateKeys=t("./relink_private");var m=t("./array");u.isTypedArray=m.isTypedArray,u.isArrayOrTypedArray=m.isArrayOrTypedArray,u.isArray1D=m.isArray1D,u.ensureArray=m.ensureArray,u.concat=m.concat,u.maxRowLength=m.maxRowLength,u.minRowLength=m.minRowLength;var v=t("./mod");u.mod=v.mod,u.modHalf=v.modHalf;var y=t("./coerce");u.valObjectMeta=y.valObjectMeta,u.coerce=y.coerce,u.coerce2=y.coerce2,u.coerceFont=y.coerceFont,u.coercePattern=y.coercePattern,u.coerceHoverinfo=y.coerceHoverinfo,u.coerceSelectionMarkerOpacity=y.coerceSelectionMarkerOpacity,u.validate=y.validate;var k=t("./dates");u.dateTime2ms=k.dateTime2ms,u.isDateTime=k.isDateTime,u.ms2DateTime=k.ms2DateTime,u.ms2DateTimeLocal=k.ms2DateTimeLocal,u.cleanDate=k.cleanDate,u.isJSDate=k.isJSDate,u.formatDate=k.formatDate,u.incrementMonth=k.incrementMonth,u.dateTick0=k.dateTick0,u.dfltRange=k.dfltRange,u.findExactDates=k.findExactDates,u.MIN_MS=k.MIN_MS,u.MAX_MS=k.MAX_MS;var _=t("./search");u.findBin=_.findBin,u.sorterAsc=_.sorterAsc,u.sorterDes=_.sorterDes,u.distinctVals=_.distinctVals,u.roundUp=_.roundUp,u.sort=_.sort,u.findIndexOfMin=_.findIndexOfMin,u.sortObjectKeys=t("./sort_object_keys");var T=t("./stats");u.aggNums=T.aggNums,u.len=T.len,u.mean=T.mean,u.median=T.median,u.midRange=T.midRange,u.variance=T.variance,u.stdev=T.stdev,u.interp=T.interp;var b=t("./matrix");u.init2dArray=b.init2dArray,u.transposeRagged=b.transposeRagged,u.dot=b.dot,u.translationMatrix=b.translationMatrix,u.rotationMatrix=b.rotationMatrix,u.rotationXYMatrix=b.rotationXYMatrix,u.apply3DTransform=b.apply3DTransform,u.apply2DTransform=b.apply2DTransform,u.apply2DTransform2=b.apply2DTransform2,u.convertCssMatrix=b.convertCssMatrix,u.inverseTransformMatrix=b.inverseTransformMatrix;var x=t("./angles");u.deg2rad=x.deg2rad,u.rad2deg=x.rad2deg,u.angleDelta=x.angleDelta,u.angleDist=x.angleDist,u.isFullCircle=x.isFullCircle,u.isAngleInsideSector=x.isAngleInsideSector,u.isPtInsideSector=x.isPtInsideSector,u.pathArc=x.pathArc,u.pathSector=x.pathSector,u.pathAnnulus=x.pathAnnulus;var O=t("./anchor_utils");u.isLeftAnchor=O.isLeftAnchor,u.isCenterAnchor=O.isCenterAnchor,u.isRightAnchor=O.isRightAnchor,u.isTopAnchor=O.isTopAnchor,u.isMiddleAnchor=O.isMiddleAnchor,u.isBottomAnchor=O.isBottomAnchor;var A=t("./geometry2d");u.segmentsIntersect=A.segmentsIntersect,u.segmentDistance=A.segmentDistance,u.getTextLocation=A.getTextLocation,u.clearLocationCache=A.clearLocationCache,u.getVisibleSegment=A.getVisibleSegment,u.findPointOnPath=A.findPointOnPath;var C=t("./extend");u.extendFlat=C.extendFlat,u.extendDeep=C.extendDeep,u.extendDeepAll=C.extendDeepAll,u.extendDeepNoArrays=C.extendDeepNoArrays;var L=t("./loggers");u.log=L.log,u.warn=L.warn,u.error=L.error;var w=t("./regex");u.counterRegex=w.counter;var E=t("./throttle");u.throttle=E.throttle,u.throttleDone=E.done,u.clearThrottle=E.clear;var I=t("./dom");function M(F){var z={};for(var P in F)for(var Z=F[P],R=0;R<Z.length;R++)z[Z[R]]=+P;return z}u.getGraphDiv=I.getGraphDiv,u.isPlotDiv=I.isPlotDiv,u.removeElement=I.removeElement,u.addStyleRule=I.addStyleRule,u.addRelatedStyleRule=I.addRelatedStyleRule,u.deleteRelatedStyleRule=I.deleteRelatedStyleRule,u.getFullTransformMatrix=I.getFullTransformMatrix,u.getElementTransformMatrix=I.getElementTransformMatrix,u.getElementAndAncestors=I.getElementAndAncestors,u.equalDomRects=I.equalDomRects,u.clearResponsive=t("./clear_responsive"),u.preserveDrawingBuffer=t("./preserve_drawing_buffer"),u.makeTraceGroups=t("./make_trace_groups"),u._=t("./localize"),u.notifier=t("./notifier"),u.filterUnique=t("./filter_unique"),u.filterVisible=t("./filter_visible"),u.pushUnique=t("./push_unique"),u.increment=t("./increment"),u.cleanNumber=t("./clean_number"),u.ensureNumber=function(F){return i(F)?(F=Number(F))>p||F<d?f:F:f},u.isIndex=function(F,z){return!(z!==void 0&&F>=z)&&i(F)&&F>=0&&F%1==0},u.noop=t("./noop"),u.identity=t("./identity"),u.repeat=function(F,z){for(var P=new Array(z),Z=0;Z<z;Z++)P[Z]=F;return P},u.swapAttrs=function(F,z,P,Z){P||(P="x"),Z||(Z="y");for(var R=0;R<z.length;R++){var q=z[R],tt=u.nestedProperty(F,q.replace("?",P)),rt=u.nestedProperty(F,q.replace("?",Z)),nt=tt.get();tt.set(rt.get()),rt.set(nt)}},u.raiseToTop=function(F){F.parentNode.appendChild(F)},u.cancelTransition=function(F){return F.transition().duration(0)},u.constrain=function(F,z,P){return z>P?Math.max(P,Math.min(z,F)):Math.max(z,Math.min(P,F))},u.bBoxIntersect=function(F,z,P){return P=P||0,F.left<=z.right+P&&z.left<=F.right+P&&F.top<=z.bottom+P&&z.top<=F.bottom+P},u.simpleMap=function(F,z,P,Z,R){for(var q=F.length,tt=new Array(q),rt=0;rt<q;rt++)tt[rt]=z(F[rt],P,Z,R);return tt},u.randstr=function F(z,P,Z,R){if(Z||(Z=16),P===void 0&&(P=24),P<=0)return"0";var q,tt,rt=Math.log(Math.pow(2,P))/Math.log(Z),nt="";for(q=2;rt===1/0;q*=2)rt=Math.log(Math.pow(2,P/q))/Math.log(Z)*q;var ct=rt-Math.floor(rt);for(q=0;q<Math.floor(rt);q++)nt=Math.floor(Math.random()*Z).toString(Z)+nt;ct&&(tt=Math.pow(Z,ct),nt=Math.floor(Math.random()*tt).toString(Z)+nt);var st=parseInt(nt,Z);return z&&z[nt]||st!==1/0&&st>=Math.pow(2,P)?R>10?(u.warn("randstr failed uniqueness"),nt):F(z,P,Z,(R||0)+1):nt},u.OptionControl=function(F,z){F||(F={}),z||(z="opt");var P={optionList:[],_newoption:function(Z){Z[z]=F,P[Z.name]=Z,P.optionList.push(Z)}};return P["_"+z]=F,P},u.smooth=function(F,z){if((z=Math.round(z)||0)<2)return F;var P,Z,R,q,tt=F.length,rt=2*tt,nt=2*z-1,ct=new Array(nt),st=new Array(tt);for(P=0;P<nt;P++)ct[P]=(1-Math.cos(Math.PI*(P+1)/z))/(2*z);for(P=0;P<tt;P++){for(q=0,Z=0;Z<nt;Z++)(R=P+Z+1-z)<-tt?R-=rt*Math.round(R/rt):R>=rt&&(R-=rt*Math.floor(R/rt)),R<0?R=-1-R:R>=tt&&(R=rt-1-R),q+=F[R]*ct[Z];st[P]=q}return st},u.syncOrAsync=function(F,z,P){var Z;function R(){return u.syncOrAsync(F,z,P)}for(;F.length;)if((Z=(0,F.splice(0,1)[0])(z))&&Z.then)return Z.then(R);return P&&P(z)},u.stripTrailingSlash=function(F){return F.substr(-1)==="/"?F.substr(0,F.length-1):F},u.noneOrAll=function(F,z,P){if(F){var Z,R=!1,q=!0;for(Z=0;Z<P.length;Z++)F[P[Z]]!=null?R=!0:q=!1;if(R&&!q)for(Z=0;Z<P.length;Z++)F[P[Z]]=z[P[Z]]}},u.mergeArray=function(F,z,P,Z){var R=typeof Z=="function";if(u.isArrayOrTypedArray(F))for(var q=Math.min(F.length,z.length),tt=0;tt<q;tt++){var rt=F[tt];z[tt][P]=R?Z(rt):rt}},u.mergeArrayCastPositive=function(F,z,P){return u.mergeArray(F,z,P,function(Z){var R=+Z;return isFinite(R)&&R>0?R:0})},u.fillArray=function(F,z,P,Z){if(Z=Z||u.identity,u.isArrayOrTypedArray(F))for(var R=0;R<z.length;R++)z[R][P]=Z(F[R])},u.castOption=function(F,z,P,Z){Z=Z||u.identity;var R=u.nestedProperty(F,P).get();return u.isArrayOrTypedArray(R)?Array.isArray(z)&&u.isArrayOrTypedArray(R[z[0]])?Z(R[z[0]][z[1]]):Z(R[z]):R},u.extractOption=function(F,z,P,Z){if(P in F)return F[P];var R=u.nestedProperty(z,Z).get();return Array.isArray(R)?void 0:R},u.tagSelected=function(F,z,P){var Z,R,q=z.selectedpoints,tt=z._indexToPoints;tt&&(Z=M(tt));for(var rt=0;rt<q.length;rt++){var nt=q[rt];if(u.isIndex(nt)||u.isArrayOrTypedArray(nt)&&u.isIndex(nt[0])&&u.isIndex(nt[1])){var ct=Z?Z[nt]:nt,st=P?P[ct]:ct;(R=st)!==void 0&&R<F.length&&(F[st].selected=1)}}},u.selIndices2selPoints=function(F){var z=F.selectedpoints,P=F._indexToPoints;if(P){for(var Z=M(P),R=[],q=0;q<z.length;q++){var tt=z[q];if(u.isIndex(tt)){var rt=Z[tt];u.isIndex(rt)&&R.push(rt)}}return R}return z},u.getTargetArray=function(F,z){var P=z.target;if(typeof P=="string"&&P){var Z=u.nestedProperty(F,P).get();return!!Array.isArray(Z)&&Z}return!!Array.isArray(P)&&P},u.minExtend=function(F,z){var P={};typeof z!="object"&&(z={});var Z,R,q,tt=Object.keys(F);for(Z=0;Z<tt.length;Z++)q=F[R=tt[Z]],R.charAt(0)!=="_"&&typeof q!="function"&&(R==="module"?P[R]=q:Array.isArray(q)?P[R]=R==="colorscale"?q.slice():q.slice(0,3):u.isTypedArray(q)?P[R]=q.subarray(0,3):P[R]=q&&typeof q=="object"?u.minExtend(F[R],z[R]):q);for(tt=Object.keys(z),Z=0;Z<tt.length;Z++)typeof(q=z[R=tt[Z]])=="object"&&R in P&&typeof P[R]=="object"||(P[R]=q);return P},u.titleCase=function(F){return F.charAt(0).toUpperCase()+F.substr(1)},u.containsAny=function(F,z){for(var P=0;P<z.length;P++)if(F.indexOf(z[P])!==-1)return!0;return!1},u.isIE=function(){return window.navigator.msSaveBlob!==void 0};var V=/Version\/[\d\.]+.*Safari/;u.isSafari=function(){return V.test(window.navigator.userAgent)};var j=/iPad|iPhone|iPod/;u.isIOS=function(){return j.test(window.navigator.userAgent)};var W=/Firefox\/(\d+)\.\d+/;u.getFirefoxVersion=function(){var F=W.exec(window.navigator.userAgent);if(F&&F.length===2){var z=parseInt(F[1]);if(!isNaN(z))return z}return null},u.isD3Selection=function(F){return F instanceof n.selection},u.ensureSingle=function(F,z,P,Z){var R=F.select(z+(P?"."+P:""));if(R.size())return R;var q=F.append(z);return P&&q.classed(P,!0),Z&&q.call(Z),q},u.ensureSingleById=function(F,z,P,Z){var R=F.select(z+"#"+P);if(R.size())return R;var q=F.append(z).attr("id",P);return Z&&q.call(Z),q},u.objectFromPath=function(F,z){for(var P,Z=F.split("."),R=P={},q=0;q<Z.length;q++){var tt=Z[q],rt=null,nt=Z[q].match(/(.*)\[([0-9]+)\]/);nt?(tt=nt[1],rt=nt[2],P=P[tt]=[],q===Z.length-1?P[rt]=z:P[rt]={},P=P[rt]):(q===Z.length-1?P[tt]=z:P[tt]={},P=P[tt])}return R};var H=/^([^\[\.]+)\.(.+)?/,B=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;u.expandObjectPaths=function(F){var z,P,Z,R,q,tt,rt;if(typeof F=="object"&&!Array.isArray(F))for(P in F)F.hasOwnProperty(P)&&((z=P.match(H))?(R=F[P],Z=z[1],delete F[P],F[Z]=u.extendDeepNoArrays(F[Z]||{},u.objectFromPath(P,u.expandObjectPaths(R))[Z])):(z=P.match(B))?(R=F[P],Z=z[1],q=parseInt(z[2]),delete F[P],F[Z]=F[Z]||[],z[3]==="."?(rt=z[4],tt=F[Z][q]=F[Z][q]||{},u.extendDeepNoArrays(tt,u.objectFromPath(rt,u.expandObjectPaths(R)))):F[Z][q]=u.expandObjectPaths(R)):F[P]=u.expandObjectPaths(F[P]));return F},u.numSeparate=function(F,z,P){if(P||(P=!1),typeof z!="string"||z.length===0)throw new Error("Separator string required for formatting!");typeof F=="number"&&(F=String(F));var Z=/(\d+)(\d{3})/,R=z.charAt(0),q=z.charAt(1),tt=F.split("."),rt=tt[0],nt=tt.length>1?R+tt[1]:"";if(q&&(tt.length>1||rt.length>4||P))for(;Z.test(rt);)rt=rt.replace(Z,"$1"+q+"$2");return rt+nt},u.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var K=/^\w*$/;u.templateString=function(F,z){var P={};return F.replace(u.TEMPLATE_STRING_REGEX,function(Z,R){var q;return K.test(R)?q=z[R]:(P[R]=P[R]||u.nestedProperty(z,R).get,q=P[R]()),u.isValidTextValue(q)?q:""})};var et={max:10,count:0,name:"hovertemplate"};u.hovertemplateString=function(){return D.apply(et,arguments)};var G={max:10,count:0,name:"texttemplate"};u.texttemplateString=function(){return D.apply(G,arguments)};var Y=/^[:|\|]/;function D(F,z,P){var Z=this,R=arguments;z||(z={});var q={};return F.replace(u.TEMPLATE_STRING_REGEX,function(tt,rt,nt){var ct,st,gt,wt=rt==="_xother"||rt==="_yother",Ot=rt==="_xother_"||rt==="_yother_",bt=rt==="xother_"||rt==="yother_",Ht=rt==="xother"||rt==="yother"||wt||bt||Ot,Dt=rt;if((wt||Ot)&&(Dt=Dt.substring(1)),(bt||Ot)&&(Dt=Dt.substring(0,Dt.length-1)),Ht){if((ct=z[Dt])===void 0)return""}else for(gt=3;gt<R.length;gt++)if(st=R[gt]){if(st.hasOwnProperty(Dt)){ct=st[Dt];break}if(K.test(Dt)||(ct=u.nestedProperty(st,Dt).get(),(ct=q[Dt]||u.nestedProperty(st,Dt).get())&&(q[Dt]=ct)),ct!==void 0)break}if(ct===void 0&&Z)return Z.count<Z.max&&(u.warn("Variable '"+Dt+"' in "+Z.name+" could not be found!"),ct=tt),Z.count===Z.max&&u.warn("Too many "+Z.name+" warnings - additional warnings will be suppressed"),Z.count++,tt;if(nt){var yt;if(nt[0]===":"&&(ct=(yt=P?P.numberFormat:u.numberFormat)(nt.replace(Y,""))(ct)),nt[0]==="|"){yt=P?P.timeFormat:a;var ut=u.dateTime2ms(ct);ct=u.formatDate(ut,nt.replace(Y,""),!1,yt)}}else{var it=Dt+"Label";z.hasOwnProperty(it)&&(ct=z[it])}return Ht&&(ct="("+ct+")",(wt||Ot)&&(ct=" "+ct),(bt||Ot)&&(ct+=" ")),ct})}u.subplotSort=function(F,z){for(var P=Math.min(F.length,z.length)+1,Z=0,R=0,q=0;q<P;q++){var tt=F.charCodeAt(q)||0,rt=z.charCodeAt(q)||0,nt=tt>=48&&tt<=57,ct=rt>=48&&rt<=57;if(nt&&(Z=10*Z+tt-48),ct&&(R=10*R+rt-48),!nt||!ct){if(Z!==R)return Z-R;if(tt!==rt)return tt-rt}}return R-Z};var U=2e9;u.seedPseudoRandom=function(){U=2e9},u.pseudoRandom=function(){var F=U;return U=(69069*U+1)%4294967296,Math.abs(U-F)<429496729?u.pseudoRandom():U/4294967296},u.fillText=function(F,z,P){var Z=Array.isArray(P)?function(tt){P.push(tt)}:function(tt){P.text=tt},R=u.extractOption(F,z,"htx","hovertext");if(u.isValidTextValue(R))return Z(R);var q=u.extractOption(F,z,"tx","text");return u.isValidTextValue(q)?Z(q):void 0},u.isValidTextValue=function(F){return F||F===0},u.formatPercent=function(F,z){z=z||0;for(var P=(Math.round(100*F*Math.pow(10,z))*Math.pow(.1,z)).toFixed(z)+"%",Z=0;Z<z;Z++)P.indexOf(".")!==-1&&(P=(P=P.replace("0%","%")).replace(".%","%"));return P},u.isHidden=function(F){var z=window.getComputedStyle(F).display;return!z||z==="none"},u.strTranslate=function(F,z){return F||z?"translate("+F+","+z+")":""},u.strRotate=function(F){return F?"rotate("+F+")":""},u.strScale=function(F){return F!==1?"scale("+F+")":""},u.getTextTransform=function(F){var z=F.noCenter,P=F.textX,Z=F.textY,R=F.targetX,q=F.targetY,tt=F.anchorX||0,rt=F.anchorY||0,nt=F.rotate,ct=F.scale;return ct?ct>1&&(ct=1):ct=0,u.strTranslate(R-ct*(P+tt),q-ct*(Z+rt))+u.strScale(ct)+(nt?"rotate("+nt+(z?"":" "+P+" "+Z)+")":"")},u.ensureUniformFontSize=function(F,z){var P=u.extendFlat({},z);return P.size=Math.max(z.size,F._fullLayout.uniformtext.minsize||0),P},u.join2=function(F,z,P){var Z=F.length;return Z>1?F.slice(0,-1).join(z)+P+F[Z-1]:F.join(z)},u.bigFont=function(F){return Math.round(1.2*F)};var $=u.getFirefoxVersion(),Q=$!==null&&$<86;u.getPositionFromD3Event=function(){return Q?[n.event.layerX,n.event.layerY]:[n.event.offsetX,n.event.offsetY]}},{"../constants/numerical":212,"./anchor_utils":216,"./angles":217,"./array":218,"./clean_number":219,"./clear_responsive":221,"./coerce":222,"./dates":223,"./dom":224,"./extend":226,"./filter_unique":227,"./filter_visible":228,"./geometry2d":229,"./identity":230,"./increment":231,"./is_plain_object":233,"./keyed_container":234,"./localize":235,"./loggers":236,"./make_trace_groups":237,"./matrix":238,"./mod":239,"./nested_property":240,"./noop":241,"./notifier":242,"./preserve_drawing_buffer":245,"./push_unique":246,"./regex":248,"./relative_attr":249,"./relink_private":250,"./search":251,"./sort_object_keys":253,"./stats":254,"./throttle":256,"./to_log_range":257,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],233:[function(t,s,c){s.exports=function(n){return window&&window.process&&window.process.versions?Object.prototype.toString.call(n)==="[object Object]":Object.prototype.toString.call(n)==="[object Object]"&&Object.getPrototypeOf(n).hasOwnProperty("hasOwnProperty")}},{}],234:[function(t,s,c){var n=t("./nested_property"),a=/^\w*$/;s.exports=function(o,i,l,p){var d,f,u;l=l||"name",p=p||"value";var h={};i&&i.length?(u=n(o,i),f=u.get()):f=o,i=i||"";var m={};if(f)for(d=0;d<f.length;d++)m[f[d][l]]=d;var v=a.test(p),y={set:function(k,_){var T=_===null?4:0;if(!f){if(!u||T===4)return;f=[],u.set(f)}var b=m[k];if(b===void 0){if(T===4)return;T|=3,b=f.length,m[k]=b}else _!==(v?f[b][p]:n(f[b],p).get())&&(T|=2);var x=f[b]=f[b]||{};return x[l]=k,v?x[p]=_:n(x,p).set(_),_!==null&&(T&=-5),h[b]=h[b]|T,y},get:function(k){if(f){var _=m[k];return _===void 0?void 0:v?f[_][p]:n(f[_],p).get()}},rename:function(k,_){var T=m[k];return T===void 0||(h[T]=1|h[T],m[_]=T,delete m[k],f[T][l]=_),y},remove:function(k){var _=m[k];if(_===void 0)return y;var T=f[_];if(Object.keys(T).length>2)return h[_]=2|h[_],y.set(k,null);if(v){for(d=_;d<f.length;d++)h[d]=3|h[d];for(d=_;d<f.length;d++)m[f[d][l]]--;f.splice(_,1),delete m[k]}else n(T,p).set(null),h[_]=6|h[_];return y},constructUpdate:function(){for(var k,_,T={},b=Object.keys(h),x=0;x<b.length;x++)_=b[x],k=i+"["+_+"]",f[_]?(1&h[_]&&(T[k+"."+l]=f[_][l]),2&h[_]&&(T[k+"."+p]=v?4&h[_]?null:f[_][p]:4&h[_]?null:n(f[_],p).get())):T[k]=null;return T}};return y}},{"./nested_property":240}],235:[function(t,s,c){var n=t("../registry");s.exports=function(a,o){for(var i=a._context.locale,l=0;l<2;l++){for(var p=a._context.locales,d=0;d<2;d++){var f=(p[i]||{}).dictionary;if(f){var u=f[o];if(u)return u}p=n.localeRegistry}var h=i.split("-")[0];if(h===i)break;i=h}return o}},{"../registry":316}],236:[function(t,s,c){var n=t("../plot_api/plot_config").dfltConfig,a=t("./notifier"),o=s.exports={};o.log=function(){var i;if(n.logging>1){var l=["LOG:"];for(i=0;i<arguments.length;i++)l.push(arguments[i]);console.trace.apply(console,l)}if(n.notifyOnLogging>1){var p=[];for(i=0;i<arguments.length;i++)p.push(arguments[i]);a(p.join("<br>"),"long")}},o.warn=function(){var i;if(n.logging>0){var l=["WARN:"];for(i=0;i<arguments.length;i++)l.push(arguments[i]);console.trace.apply(console,l)}if(n.notifyOnLogging>0){var p=[];for(i=0;i<arguments.length;i++)p.push(arguments[i]);a(p.join("<br>"),"stick")}},o.error=function(){var i;if(n.logging>0){var l=["ERROR:"];for(i=0;i<arguments.length;i++)l.push(arguments[i]);console.error.apply(console,l)}if(n.notifyOnLogging>0){var p=[];for(i=0;i<arguments.length;i++)p.push(arguments[i]);a(p.join("<br>"),"stick")}}},{"../plot_api/plot_config":266,"./notifier":242}],237:[function(t,s,c){var n=t("@plotly/d3");s.exports=function(a,o,i){var l=a.selectAll("g."+i.replace(/\s/g,".")).data(o,function(d){return d[0].trace.uid});l.exit().remove(),l.enter().append("g").attr("class",i),l.order();var p=a.classed("rangeplot")?"nodeRangePlot3":"node3";return l.each(function(d){d[0][p]=n.select(this)}),l}},{"@plotly/d3":11}],238:[function(t,s,c){var n=t("gl-mat4");c.init2dArray=function(a,o){for(var i=new Array(a),l=0;l<a;l++)i[l]=new Array(o);return i},c.transposeRagged=function(a){var o,i,l=0,p=a.length;for(o=0;o<p;o++)l=Math.max(l,a[o].length);var d=new Array(l);for(o=0;o<l;o++)for(d[o]=new Array(p),i=0;i<p;i++)d[o][i]=a[i][o];return d},c.dot=function(a,o){if(!a.length||!o.length||a.length!==o.length)return null;var i,l,p=a.length;if(a[0].length)for(i=new Array(p),l=0;l<p;l++)i[l]=c.dot(a[l],o);else if(o[0].length){var d=c.transposeRagged(o);for(i=new Array(d.length),l=0;l<d.length;l++)i[l]=c.dot(a,d[l])}else for(i=0,l=0;l<p;l++)i+=a[l]*o[l];return i},c.translationMatrix=function(a,o){return[[1,0,a],[0,1,o],[0,0,1]]},c.rotationMatrix=function(a){var o=a*Math.PI/180;return[[Math.cos(o),-Math.sin(o),0],[Math.sin(o),Math.cos(o),0],[0,0,1]]},c.rotationXYMatrix=function(a,o,i){return c.dot(c.dot(c.translationMatrix(o,i),c.rotationMatrix(a)),c.translationMatrix(-o,-i))},c.apply3DTransform=function(a){return function(){var o=arguments,i=arguments.length===1?o[0]:[o[0],o[1],o[2]||0];return c.dot(a,[i[0],i[1],i[2],1]).slice(0,3)}},c.apply2DTransform=function(a){return function(){var o=arguments;o.length===3&&(o=o[0]);var i=arguments.length===1?o[0]:[o[0],o[1]];return c.dot(a,[i[0],i[1],1]).slice(0,2)}},c.apply2DTransform2=function(a){var o=c.apply2DTransform(a);return function(i){return o(i.slice(0,2)).concat(o(i.slice(2,4)))}},c.convertCssMatrix=function(a){if(a){var o=a.length;if(o===16)return a;if(o===6)return[a[0],a[1],0,0,a[2],a[3],0,0,0,0,1,0,a[4],a[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},c.inverseTransformMatrix=function(a){var o=[];return n.invert(o,a),[[o[0],o[1],o[2],o[3]],[o[4],o[5],o[6],o[7]],[o[8],o[9],o[10],o[11]],[o[12],o[13],o[14],o[15]]]}},{"gl-mat4":33}],239:[function(t,s,c){s.exports={mod:function(n,a){var o=n%a;return o<0?o+a:o},modHalf:function(n,a){return Math.abs(n)>a/2?n-Math.round(n/a)*a:n}}},{}],240:[function(t,s,c){var n=t("fast-isnumeric"),a=t("./array").isArrayOrTypedArray;function o(h,m){return function(){var v,y,k,_,T,b=h;for(_=0;_<m.length-1;_++){if((v=m[_])===-1){for(y=!0,k=[],T=0;T<b.length;T++)k[T]=o(b[T],m.slice(_+1))(),k[T]!==k[0]&&(y=!1);return y?k[0]:k}if(typeof v=="number"&&!a(b)||typeof(b=b[v])!="object"||b===null)return}if(typeof b=="object"&&b!==null&&(k=b[m[_]])!==null)return k}}s.exports=function(h,m){if(n(m))m=String(m);else if(typeof m!="string"||m.substr(m.length-4)==="[-1]")throw"bad property string";for(var v,y,k,_=0,T=m.split(".");_<T.length;){if(v=String(T[_]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(v[1])T[_]=v[1];else{if(_!==0)throw"bad property string";T.splice(0,1)}for(y=v[2].substr(1,v[2].length-2).split("]["),k=0;k<y.length;k++)_++,T.splice(_,0,Number(y[k]))}_++}return typeof h!="object"?function(b,x,O){return{set:function(){throw"bad container"},get:function(){},astr:x,parts:O,obj:b}}(h,m,T):{set:p(h,T,m),get:o(h,T),astr:m,parts:T,obj:h}};var i=/(^|\.)args\[/;function l(h,m){return h===void 0||h===null&&!m.match(i)}function p(h,m,v){return function(y){var k,_,T=h,b="",x=l(y,v);for(_=0;_<m.length-1;_++){if(typeof(k=m[_])=="number"&&!a(T))throw"array index but container is not an array";if(k===-1){if(x=!f(T,m.slice(_+1),y,v))break;return}if(!u(T,k,m[_+1],x))break;if(typeof(T=T[k])!="object"||T===null)throw"container is not an object";b=d(b,k)}if(x){if(_===m.length-1&&(delete T[m[_]],Array.isArray(T)&&+m[_]==T.length-1))for(;T.length&&T[T.length-1]===void 0;)T.pop()}else T[m[_]]=y}}function d(h,m){var v=m;return n(m)?v="["+m+"]":h&&(v="."+m),h+v}function f(h,m,v,y){var k,_=a(v),T=!0,b=v,x=y.replace("-1",0),O=!_&&l(v,x),A=m[0];for(k=0;k<h.length;k++)x=y.replace("-1",k),_&&(O=l(b=v[k%v.length],x)),O&&(T=!1),u(h,k,A,O)&&p(h[k],m,y.replace("-1",k))(b);return T}function u(h,m,v,y){if(h[m]===void 0){if(y)return!1;h[m]=typeof v=="number"?[]:{}}return!0}},{"./array":218,"fast-isnumeric":17}],241:[function(t,s,c){s.exports=function(){}},{}],242:[function(t,s,c){var n=t("@plotly/d3"),a=t("fast-isnumeric"),o=[];s.exports=function(i,l){if(o.indexOf(i)===-1){o.push(i);var p=1e3;a(l)?p=l:l==="long"&&(p=3e3);var d=n.select("body").selectAll(".plotly-notifier").data([0]);d.enter().append("div").classed("plotly-notifier",!0),d.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(u){var h=n.select(this);h.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){h.transition().call(f)});for(var m=h.append("p"),v=u.split(/<br\s*\/?>/g),y=0;y<v.length;y++)y&&m.append("br"),m.append("span").text(v[y]);l==="stick"?h.transition().duration(350).style("opacity",1):h.transition().duration(700).style("opacity",1).transition().delay(p).call(f)})}function f(u){u.duration(700).style("opacity",0).each("end",function(h){var m=o.indexOf(h);m!==-1&&o.splice(m,1),n.select(this).remove()})}}},{"@plotly/d3":11,"fast-isnumeric":17}],243:[function(t,s,c){var n=t("./setcursor"),a="data-savedcursor";s.exports=function(o,i){var l=o.attr(a);if(i){if(!l){for(var p=(o.attr("class")||"").split(" "),d=0;d<p.length;d++){var f=p[d];f.indexOf("cursor-")===0&&o.attr(a,f.substr(7)).classed(f,!1)}o.attr(a)||o.attr(a,"!!")}n(o,i)}else l&&(o.attr(a,null),l==="!!"?n(o):n(o,l))}},{"./setcursor":252}],244:[function(t,s,c){var n=t("./matrix").dot,a=t("../constants/numerical").BADNUM,o=s.exports={};o.tester=function(i){var l,p=i.slice(),d=p[0][0],f=d,u=p[0][1],h=u;for(p.push(p[0]),l=1;l<p.length;l++)d=Math.min(d,p[l][0]),f=Math.max(f,p[l][0]),u=Math.min(u,p[l][1]),h=Math.max(h,p[l][1]);var m,v=!1;p.length===5&&(p[0][0]===p[1][0]?p[2][0]===p[3][0]&&p[0][1]===p[3][1]&&p[1][1]===p[2][1]&&(v=!0,m=function(_){return _[0]===p[0][0]}):p[0][1]===p[1][1]&&p[2][1]===p[3][1]&&p[0][0]===p[3][0]&&p[1][0]===p[2][0]&&(v=!0,m=function(_){return _[1]===p[0][1]}));var y=!0,k=p[0];for(l=1;l<p.length;l++)if(k[0]!==p[l][0]||k[1]!==p[l][1]){y=!1;break}return{xmin:d,xmax:f,ymin:u,ymax:h,pts:p,contains:v?function(_,T){var b=_[0],x=_[1];return!(b===a||b<d||b>f||x===a||x<u||x>h)&&(!T||!m(_))}:function(_,T){var b=_[0],x=_[1];if(b===a||b<d||b>f||x===a||x<u||x>h)return!1;var O,A,C,L,w,E=p.length,I=p[0][0],M=p[0][1],V=0;for(O=1;O<E;O++)if(A=I,C=M,I=p[O][0],M=p[O][1],!(b<(L=Math.min(A,I))||b>Math.max(A,I)||x>Math.max(C,M)))if(x<Math.min(C,M))b!==L&&V++;else{if(x===(w=I===A?x:C+(b-A)*(M-C)/(I-A)))return O!==1||!T;x<=w&&b!==L&&V++}return V%2==1},isRect:v,degenerate:y}},o.isSegmentBent=function(i,l,p,d){var f,u,h,m=i[l],v=[i[p][0]-m[0],i[p][1]-m[1]],y=n(v,v),k=Math.sqrt(y),_=[-v[1]/k,v[0]/k];for(f=l+1;f<p;f++)if(u=[i[f][0]-m[0],i[f][1]-m[1]],(h=n(u,v))<0||h>y||Math.abs(n(u,_))>d)return!0;return!1},o.filter=function(i,l){var p=[i[0]],d=0,f=0;function u(h){i.push(h);var m=p.length,v=d;p.splice(f+1);for(var y=v+1;y<i.length;y++)(y===i.length-1||o.isSegmentBent(i,v,y+1,l))&&(p.push(i[y]),p.length<m-2&&(d=y,f=p.length-1),v=y)}return i.length>1&&u(i.pop()),{addPt:u,raw:i,filtered:p}}},{"../constants/numerical":212,"./matrix":238}],245:[function(t,s,c){var n=t("fast-isnumeric"),a=t("is-mobile");s.exports=function(o){var i;if(typeof(i=o&&o.hasOwnProperty("userAgent")?o.userAgent:function(){var m;return typeof navigator!="undefined"&&(m=navigator.userAgent),m&&m.headers&&typeof m.headers["user-agent"]=="string"&&(m=m.headers["user-agent"]),m}())!="string")return!0;var l=a({ua:{headers:{"user-agent":i}},tablet:!0,featureDetect:!1});if(!l){for(var p=i.split(" "),d=1;d<p.length;d++)if(p[d].indexOf("Safari")!==-1)for(var f=d-1;f>-1;f--){var u=p[f];if(u.substr(0,8)==="Version/"){var h=u.substr(8).split(".")[0];if(n(h)&&(h=+h),h>=13)return!0}}}return l}},{"fast-isnumeric":17,"is-mobile":51}],246:[function(t,s,c){s.exports=function(n,a){if(a instanceof RegExp){for(var o=a.toString(),i=0;i<n.length;i++)if(n[i]instanceof RegExp&&n[i].toString()===o)return n;n.push(a)}else!a&&a!==0||n.indexOf(a)!==-1||n.push(a);return n}},{}],247:[function(t,s,c){var n=t("../lib"),a=t("../plot_api/plot_config").dfltConfig,o={add:function(i,l,p,d,f){var u,h;i.undoQueue=i.undoQueue||{index:0,queue:[],sequence:!1},h=i.undoQueue.index,i.autoplay?i.undoQueue.inSequence||(i.autoplay=!1):(!i.undoQueue.sequence||i.undoQueue.beginSequence?(u={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},i.undoQueue.queue.splice(h,i.undoQueue.queue.length-h,u),i.undoQueue.index+=1):u=i.undoQueue.queue[h-1],i.undoQueue.beginSequence=!1,u&&(u.undo.calls.unshift(l),u.undo.args.unshift(p),u.redo.calls.push(d),u.redo.args.push(f)),i.undoQueue.queue.length>a.queueLength&&(i.undoQueue.queue.shift(),i.undoQueue.index--))},startSequence:function(i){i.undoQueue=i.undoQueue||{index:0,queue:[],sequence:!1},i.undoQueue.sequence=!0,i.undoQueue.beginSequence=!0},stopSequence:function(i){i.undoQueue=i.undoQueue||{index:0,queue:[],sequence:!1},i.undoQueue.sequence=!1,i.undoQueue.beginSequence=!1},undo:function(i){var l,p;if(!(i.undoQueue===void 0||isNaN(i.undoQueue.index)||i.undoQueue.index<=0)){for(i.undoQueue.index--,l=i.undoQueue.queue[i.undoQueue.index],i.undoQueue.inSequence=!0,p=0;p<l.undo.calls.length;p++)o.plotDo(i,l.undo.calls[p],l.undo.args[p]);i.undoQueue.inSequence=!1,i.autoplay=!1}},redo:function(i){var l,p;if(!(i.undoQueue===void 0||isNaN(i.undoQueue.index)||i.undoQueue.index>=i.undoQueue.queue.length)){for(l=i.undoQueue.queue[i.undoQueue.index],i.undoQueue.inSequence=!0,p=0;p<l.redo.calls.length;p++)o.plotDo(i,l.redo.calls[p],l.redo.args[p]);i.undoQueue.inSequence=!1,i.autoplay=!1,i.undoQueue.index++}}};o.plotDo=function(i,l,p){i.autoplay=!0,p=function(d,f){for(var u,h=[],m=0;m<f.length;m++)u=f[m],h[m]=u===d?u:typeof u=="object"?Array.isArray(u)?n.extendDeep([],u):n.extendDeepAll({},u):u;return h}(i,p),l.apply(null,p)},s.exports=o},{"../lib":232,"../plot_api/plot_config":266}],248:[function(t,s,c){c.counter=function(n,a,o,i){var l=(a||"")+(o?"":"$"),p=i===!1?"":"^";return n==="xy"?new RegExp(p+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+l):new RegExp(p+n+"([2-9]|[1-9][0-9]+)?"+l)}},{}],249:[function(t,s,c){var n=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,a=/^[^\.\[\]]+$/;s.exports=function(o,i){for(;i;){var l=o.match(n);if(l)o=l[1];else{if(!o.match(a))throw new Error("bad relativeAttr call:"+[o,i]);o=""}if(i.charAt(0)!=="^")break;i=i.slice(1)}return o&&i.charAt(0)!=="["?o+"."+i:o+i}},{}],250:[function(t,s,c){var n=t("./array").isArrayOrTypedArray,a=t("./is_plain_object");s.exports=function o(i,l){for(var p in l){var d=l[p],f=i[p];if(f!==d)if(p.charAt(0)==="_"||typeof d=="function"){if(p in i)continue;i[p]=d}else if(n(d)&&n(f)&&a(d[0])){if(p==="customdata"||p==="ids")continue;for(var u=Math.min(d.length,f.length),h=0;h<u;h++)f[h]!==d[h]&&a(d[h])&&a(f[h])&&o(f[h],d[h])}else a(d)&&a(f)&&(o(f,d),Object.keys(f).length||delete i[p])}}},{"./array":218,"./is_plain_object":233}],251:[function(t,s,c){var n=t("fast-isnumeric"),a=t("./loggers"),o=t("./identity"),i=t("../constants/numerical").BADNUM;function l(u,h){return u<h}function p(u,h){return u<=h}function d(u,h){return u>h}function f(u,h){return u>=h}c.findBin=function(u,h,m){if(n(h.start))return m?Math.ceil((u-h.start)/h.size-1e-9)-1:Math.floor((u-h.start)/h.size+1e-9);var v,y,k=0,_=h.length,T=0,b=_>1?(h[_-1]-h[0])/(_-1):1;for(y=b>=0?m?l:p:m?f:d,u+=1e-9*b*(m?-1:1)*(b>=0?1:-1);k<_&&T++<100;)y(h[v=Math.floor((k+_)/2)],u)?k=v+1:_=v;return T>90&&a.log("Long binary search..."),k-1},c.sorterAsc=function(u,h){return u-h},c.sorterDes=function(u,h){return h-u},c.distinctVals=function(u){var h,m=u.slice();for(m.sort(c.sorterAsc),h=m.length-1;h>-1&&m[h]===i;h--);for(var v,y=m[h]-m[0]||1,k=y/(h||1)/1e4,_=[],T=0;T<=h;T++){var b=m[T],x=b-v;v===void 0?(_.push(b),v=b):x>k&&(y=Math.min(y,x),_.push(b),v=b)}return{vals:_,minDiff:y}},c.roundUp=function(u,h,m){for(var v,y=0,k=h.length-1,_=0,T=m?0:1,b=m?1:0,x=m?Math.ceil:Math.floor;y<k&&_++<100;)h[v=x((y+k)/2)]<=u?y=v+T:k=v-b;return h[y]},c.sort=function(u,h){for(var m=0,v=0,y=1;y<u.length;y++){var k=h(u[y],u[y-1]);if(k<0?m=1:k>0&&(v=1),m&&v)return u.sort(h)}return v?u:u.reverse()},c.findIndexOfMin=function(u,h){h=h||o;for(var m,v=1/0,y=0;y<u.length;y++){var k=h(u[y]);k<v&&(v=k,m=y)}return m}},{"../constants/numerical":212,"./identity":230,"./loggers":236,"fast-isnumeric":17}],252:[function(t,s,c){s.exports=function(n,a){(n.attr("class")||"").split(" ").forEach(function(o){o.indexOf("cursor-")===0&&n.classed(o,!1)}),a&&n.classed("cursor-"+a,!0)}},{}],253:[function(t,s,c){s.exports=function(n){return Object.keys(n).sort()}},{}],254:[function(t,s,c){var n=t("fast-isnumeric"),a=t("./array").isArrayOrTypedArray;c.aggNums=function(o,i,l,p){var d,f;if((!p||p>l.length)&&(p=l.length),n(i)||(i=!1),a(l[0])){for(f=new Array(p),d=0;d<p;d++)f[d]=c.aggNums(o,i,l[d]);l=f}for(d=0;d<p;d++)n(i)?n(l[d])&&(i=o(+i,+l[d])):i=l[d];return i},c.len=function(o){return c.aggNums(function(i){return i+1},0,o)},c.mean=function(o,i){return i||(i=c.len(o)),c.aggNums(function(l,p){return l+p},0,o)/i},c.midRange=function(o){if(o!==void 0&&o.length!==0)return(c.aggNums(Math.max,null,o)+c.aggNums(Math.min,null,o))/2},c.variance=function(o,i,l){return i||(i=c.len(o)),n(l)||(l=c.mean(o,i)),c.aggNums(function(p,d){return p+Math.pow(d-l,2)},0,o)/i},c.stdev=function(o,i,l){return Math.sqrt(c.variance(o,i,l))},c.median=function(o){var i=o.slice().sort();return c.interp(i,.5)},c.interp=function(o,i){if(!n(i))throw"n should be a finite number";if((i=i*o.length-.5)<0)return o[0];if(i>o.length-1)return o[o.length-1];var l=i%1;return l*o[Math.ceil(i)]+(1-l)*o[Math.floor(i)]}},{"./array":218,"fast-isnumeric":17}],255:[function(t,s,c){var n=t("@plotly/d3"),a=t("../lib"),o=a.strTranslate,i=t("../constants/xmlns_namespaces"),l=t("../constants/alignment").LINE_SPACING;function p(W,H){return W.node().getBoundingClientRect()[H]}var d=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;c.convertToTspans=function(W,H,B){var K=W.text(),et=!W.attr("data-notex")&&typeof MathJax!="undefined"&&K.match(d),G=n.select(W.node().parentNode);if(!G.empty()){var Y=W.attr("class")?W.attr("class").split(" ")[0]:"text";return Y+="-math",G.selectAll("svg."+Y).remove(),G.selectAll("g."+Y+"-group").remove(),W.style("display",null).attr({"data-unformatted":K,"data-math":"N"}),et?(H&&H._promises||[]).push(new Promise(function(U){W.style("display","none");var $=parseInt(W.node().style.fontSize,10),Q={fontSize:$};(function(F,z,P){var Z,R,q,tt;MathJax.Hub.Queue(function(){return R=a.extendDeepAll({},MathJax.Hub.config),q=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})},function(){if((Z=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},function(){var rt="math-output-"+a.randstr({},64);return tt=n.select("body").append("div").attr({id:rt}).style({visibility:"hidden",position:"absolute"}).style({"font-size":z.fontSize+"px"}).text(F.replace(f,"\\lt ").replace(u,"\\gt ")),MathJax.Hub.Typeset(tt.node())},function(){var rt=n.select("body").select("#MathJax_SVG_glyphs");if(tt.select(".MathJax_SVG").empty()||!tt.select("svg").node())a.log("There was an error in the tex syntax.",F),P();else{var nt=tt.select("svg").node().getBoundingClientRect();P(tt.select(".MathJax_SVG"),rt,nt)}if(tt.remove(),Z!=="SVG")return MathJax.Hub.setRenderer(Z)},function(){return q!==void 0&&(MathJax.Hub.processSectionDelay=q),MathJax.Hub.Config(R)})})(et[2],Q,function(F,z,P){G.selectAll("svg."+Y).remove(),G.selectAll("g."+Y+"-group").remove();var Z=F&&F.select("svg");if(!Z||!Z.node())return D(),void U();var R=G.append("g").classed(Y+"-group",!0).attr({"pointer-events":"none","data-unformatted":K,"data-math":"Y"});R.node().appendChild(Z.node()),z&&z.node()&&Z.node().insertBefore(z.node().cloneNode(!0),Z.node().firstChild),Z.attr({class:Y,height:P.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var q=W.node().style.fill||"black",tt=Z.select("g");tt.attr({fill:q,stroke:q});var rt=p(tt,"width"),nt=p(tt,"height"),ct=+W.attr("x")-rt*{start:0,middle:.5,end:1}[W.attr("text-anchor")||"start"],st=-($||p(W,"height"))/4;Y[0]==="y"?(R.attr({transform:"rotate("+[-90,+W.attr("x"),+W.attr("y")]+")"+o(-rt/2,st-nt/2)}),Z.attr({x:+W.attr("x"),y:+W.attr("y")})):Y[0]==="l"?Z.attr({x:W.attr("x"),y:st-nt/2}):Y[0]==="a"&&Y.indexOf("atitle")!==0?Z.attr({x:0,y:st}):Z.attr({x:ct,y:+W.attr("y")+st-nt/2}),B&&B.call(W,R),U(R)})})):D(),W}function D(){G.empty()||(Y=W.attr("class")+"-math",G.select("svg."+Y).remove()),W.text("").style("white-space","pre"),function(U,$){$=$.replace(k," ");var Q,F=!1,z=[],P=-1;function Z(){P++;var ut=document.createElementNS(i.svg,"tspan");n.select(ut).attr({class:"line",dy:P*l+"em"}),U.appendChild(ut),Q=ut;var it=z;if(z=[{node:ut}],it.length>1)for(var dt=1;dt<it.length;dt++)R(it[dt])}function R(ut){var it,dt=ut.type,mt={};if(dt==="a"){it="a";var Et=ut.target,Mt=ut.href,Tt=ut.popup;Mt&&(mt={"xlink:xlink:show":Et==="_blank"||Et.charAt(0)!=="_"?"new":"replace",target:Et,"xlink:xlink:href":Mt},Tt&&(mt.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Tt+'");return false;'))}else it="tspan";ut.style&&(mt.style=ut.style);var Nt=document.createElementNS(i.svg,it);if(dt==="sup"||dt==="sub"){q(Q,"\u200B"),Q.appendChild(Nt);var zt=document.createElementNS(i.svg,"tspan");q(zt,"\u200B"),n.select(zt).attr("dy",v[dt]),mt.dy=m[dt],Q.appendChild(Nt),Q.appendChild(zt)}else Q.appendChild(Nt);n.select(Nt).attr(mt),Q=ut.node=Nt,z.push(ut)}function q(ut,it){ut.appendChild(document.createTextNode(it))}function tt(ut){if(z.length!==1){var it=z.pop();ut!==it.type&&a.log("Start tag <"+it.type+"> doesnt match end tag <"+ut+">. Pretending it did match.",$),Q=z[z.length-1].node}else a.log("Ignoring unexpected end tag </"+ut+">.",$)}b.test($)?Z():(Q=U,z=[{node:U}]);for(var rt=$.split(_),nt=0;nt<rt.length;nt++){var ct=rt[nt],st=ct.match(T),gt=st&&st[2].toLowerCase(),wt=h[gt];if(gt==="br")Z();else if(wt===void 0)q(Q,M(ct));else if(st[1])tt(gt);else{var Ot=st[4],bt={type:gt},Ht=L(Ot,x);if(Ht?(Ht=Ht.replace(w,"$1 fill:"),wt&&(Ht+=";"+wt)):wt&&(Ht=wt),Ht&&(bt.style=Ht),gt==="a"){F=!0;var Dt=L(Ot,O);if(Dt){var yt=V(Dt);yt&&(bt.href=yt,bt.target=L(Ot,A)||"_blank",bt.popup=L(Ot,C))}}R(bt)}}return F}(W.node(),K)&&W.style("pointer-events","all"),c.positionText(W),B&&B.call(W)}};var f=/(<|&lt;|&#60;)/g,u=/(>|&gt;|&#62;)/g,h={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},m={sub:"0.3em",sup:"-0.6em"},v={sub:"-0.21em",sup:"0.42em"},y=["http:","https:","mailto:","",void 0,":"],k=c.NEWLINES=/(\r\n?|\n)/g,_=/(<[^<>]*>)/,T=/<(\/?)([^ >]*)(\s+(.*))?>/i,b=/<br(\s+.*)?>/i;c.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,O=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,A=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,C=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function L(W,H){if(!W)return null;var B=W.match(H),K=B&&(B[3]||B[4]);return K&&M(K)}var w=/(^|;)\s*color:/;c.plainText=function(W,H){for(var B=(H=H||{}).len!==void 0&&H.len!==-1?H.len:1/0,K=H.allowedTags!==void 0?H.allowedTags:["br"],et="...".length,G=W.split(_),Y=[],D="",U=0,$=0;$<G.length;$++){var Q=G[$],F=Q.match(T),z=F&&F[2].toLowerCase();if(z)K.indexOf(z)!==-1&&(Y.push(Q),D=z);else{var P=Q.length;if(U+P<B)Y.push(Q),U+=P;else if(U<B){var Z=B-U;D&&(D!=="br"||Z<=et||P<=et)&&Y.pop(),B>et?Y.push(Q.substr(0,Z-et)+"..."):Y.push(Q.substr(0,Z));break}D=""}}return Y.join("")};var E={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},I=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function M(W){return W.replace(I,function(H,B){return(B.charAt(0)==="#"?function(K){if(!(K>1114111)){var et=String.fromCodePoint;if(et)return et(K);var G=String.fromCharCode;return K<=65535?G(K):G(55232+(K>>10),K%1024+56320)}}(B.charAt(1)==="x"?parseInt(B.substr(2),16):parseInt(B.substr(1),10)):E[B])||H})}function V(W){var H=encodeURI(decodeURI(W)),B=document.createElement("a"),K=document.createElement("a");B.href=W,K.href=H;var et=B.protocol,G=K.protocol;return y.indexOf(et)!==-1&&y.indexOf(G)!==-1?H:""}function j(W,H,B){var K,et,G,Y=B.horizontalAlign,D=B.verticalAlign||"top",U=W.node().getBoundingClientRect(),$=H.node().getBoundingClientRect();return et=D==="bottom"?function(){return U.bottom-K.height}:D==="middle"?function(){return U.top+(U.height-K.height)/2}:function(){return U.top},G=Y==="right"?function(){return U.right-K.width}:Y==="center"?function(){return U.left+(U.width-K.width)/2}:function(){return U.left},function(){K=this.node().getBoundingClientRect();var Q=G()-$.left,F=et()-$.top,z=B.gd||{};if(B.gd){z._fullLayout._calcInverseTransform(z);var P=a.apply3DTransform(z._fullLayout._invTransform)(Q,F);Q=P[0],F=P[1]}return this.style({top:F+"px",left:Q+"px","z-index":1e3}),this}}c.convertEntities=M,c.sanitizeHTML=function(W){W=W.replace(k," ");for(var H=document.createElement("p"),B=H,K=[],et=W.split(_),G=0;G<et.length;G++){var Y=et[G],D=Y.match(T),U=D&&D[2].toLowerCase();if(U in h)if(D[1])K.length&&(B=K.pop());else{var $=D[4],Q=L($,x),F=Q?{style:Q}:{};if(U==="a"){var z=L($,O);if(z){var P=V(z);if(P){F.href=P;var Z=L($,A);Z&&(F.target=Z)}}}var R=document.createElement(U);B.appendChild(R),n.select(R).attr(F),B=R,K.push(R)}else B.appendChild(document.createTextNode(M(Y)))}return H.innerHTML},c.lineCount=function(W){return W.selectAll("tspan.line").size()||1},c.positionText=function(W,H,B){return W.each(function(){var K=n.select(this);function et(D,U){return U===void 0?(U=K.attr(D))===null&&(K.attr(D,0),U=0):K.attr(D,U),U}var G=et("x",H),Y=et("y",B);this.nodeName==="text"&&K.selectAll("tspan.line").attr({x:G,y:Y})})},c.makeTextShadow=function(W){var H="1px ",B="1px ",K="1px ";return H+B+K+W+", -"+H+"-"+B+K+W+", "+H+"-"+B+K+W+", -"+H+B+K+W},c.makeEditable=function(W,H){var B=H.gd,K=H.delegate,et=n.dispatch("edit","input","cancel"),G=K||W;if(W.style({"pointer-events":K?"none":"all"}),W.size()!==1)throw new Error("boo");function Y(){(function(){var Q=n.select(B).select(".svg-container"),F=Q.append("div"),z=W.node().style,P=parseFloat(z.fontSize||12),Z=H.text;Z===void 0&&(Z=W.attr("data-unformatted")),F.classed("plugin-editable editable",!0).style({position:"absolute","font-family":z.fontFamily||"Arial","font-size":P,color:H.fill||z.fill||"black",opacity:1,"background-color":H.background||"transparent",outline:"#ffffff33 1px solid",margin:[-P/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Z).call(j(W,Q,H)).on("blur",function(){B._editing=!1,W.text(this.textContent).style({opacity:1});var R,q=n.select(this).attr("class");(R=q?"."+q.split(" ")[0]+"-math-group":"[class*=-math-group]")&&n.select(W.node().parentNode).select(R).style({opacity:0});var tt=this.textContent;n.select(this).transition().duration(0).remove(),n.select(document).on("mouseup",null),et.edit.call(W,tt)}).on("focus",function(){var R=this;B._editing=!0,n.select(document).on("mouseup",function(){if(n.event.target===R)return!1;document.activeElement===F.node()&&F.node().blur()})}).on("keyup",function(){n.event.which===27?(B._editing=!1,W.style({opacity:1}),n.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),et.cancel.call(W,this.textContent)):(et.input.call(W,this.textContent),n.select(this).call(j(W,Q,H)))}).on("keydown",function(){n.event.which===13&&this.blur()}).call(D)})(),W.style({opacity:0});var U,$=G.attr("class");(U=$?"."+$.split(" ")[0]+"-math-group":"[class*=-math-group]")&&n.select(W.node().parentNode).select(U).style({opacity:0})}function D(U){var $=U.node(),Q=document.createRange();Q.selectNodeContents($);var F=window.getSelection();F.removeAllRanges(),F.addRange(Q),$.focus()}return H.immediate?Y():G.on("click",Y),n.rebind(W,et,"on")}},{"../constants/alignment":207,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],256:[function(t,s,c){var n={};function a(o){o&&o.timer!==null&&(clearTimeout(o.timer),o.timer=null)}c.throttle=function(o,i,l){var p=n[o],d=Date.now();if(!p){for(var f in n)n[f].ts<d-6e4&&delete n[f];p=n[o]={ts:0,timer:null}}function u(){l(),p.ts=Date.now(),p.onDone&&(p.onDone(),p.onDone=null)}a(p),d>p.ts+i?u():p.timer=setTimeout(function(){u(),p.timer=null},i)},c.done=function(o){var i=n[o];return i&&i.timer?new Promise(function(l){var p=i.onDone;i.onDone=function(){p&&p(),l(),i.onDone=null}}):Promise.resolve()},c.clear=function(o){if(o)a(n[o]),delete n[o];else for(var i in n)c.clear(i)}},{}],257:[function(t,s,c){var n=t("fast-isnumeric");s.exports=function(a,o){if(a>0)return Math.log(a)/Math.LN10;var i=Math.log(Math.min(o[0],o[1]))/Math.LN10;return n(i)||(i=Math.log(Math.max(o[0],o[1]))/Math.LN10-6),i}},{"fast-isnumeric":17}],258:[function(t,s,c){s.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],259:[function(t,s,c){s.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],260:[function(t,s,c){var n=t("../registry");s.exports=function(a){for(var o,i,l=n.layoutArrayContainers,p=n.layoutArrayRegexes,d=a.split("[")[0],f=0;f<p.length;f++)if((i=a.match(p[f]))&&i.index===0){o=i[0];break}if(o||(o=l[l.indexOf(d)]),!o)return!1;var u=a.substr(o.length);return u?!!(i=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:o,index:Number(i[1]),property:i[3]||""}:{array:o,index:"",property:""}}},{"../registry":316}],261:[function(t,s,c){var n=t("../lib"),a=n.extendFlat,o=n.isPlainObject,i={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},l={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},p=i.flags.slice().concat(["fullReplot"]),d=l.flags.slice().concat("layoutReplot");function f(m){for(var v={},y=0;y<m.length;y++)v[m[y]]=!1;return v}function u(m,v,y){var k=a({},m);for(var _ in k){var T=k[_];o(T)&&(k[_]=h(T,v,y,_))}return y==="from-root"&&(k.editType=v),k}function h(m,v,y,k){if(m.valType){var _=a({},m);if(_.editType=v,Array.isArray(m.items)){_.items=new Array(m.items.length);for(var T=0;T<m.items.length;T++)_.items[T]=h(m.items[T],v)}return _}return u(m,v,k.charAt(0)==="_"?"nested":"from-root")}s.exports={traces:i,layout:l,traceFlags:function(){return f(p)},layoutFlags:function(){return f(d)},update:function(m,v){var y=v.editType;if(y&&y!=="none")for(var k=y.split("+"),_=0;_<k.length;_++)m[k[_]]=!0},overrideAll:u}},{"../lib":232}],262:[function(t,s,c){var n=t("fast-isnumeric"),a=t("gl-mat4/fromQuat"),o=t("../registry"),i=t("../lib"),l=t("../plots/plots"),p=t("../plots/cartesian/axis_ids"),d=t("../components/color"),f=p.cleanId,u=p.getFromTrace,h=o.traceIs;function m(A,C){var L=A[C],w=C.charAt(0);L&&L!=="paper"&&(A[C]=f(L,w,!0))}function v(A){function C(L,w){var E=A[L],I=A.title&&A.title[w];E&&!I&&(A.title||(A.title={}),A.title[w]=A[L],delete A[L])}A&&(typeof A.title!="string"&&typeof A.title!="number"||(A.title={text:A.title}),C("titlefont","font"),C("titleposition","position"),C("titleside","side"),C("titleoffset","offset"))}function y(A){if(!i.isPlainObject(A))return!1;var C=A.name;return delete A.name,delete A.showlegend,(typeof C=="string"||typeof C=="number")&&String(C)}function k(A,C,L,w){if(L&&!w)return A;if(w&&!L||!A.trim())return C;if(!C.trim())return A;var E,I=Math.min(A.length,C.length);for(E=0;E<I&&A.charAt(E)===C.charAt(E);E++);return A.substr(0,E).trim()}function _(A){var C="middle",L="center";return typeof A=="string"&&(A.indexOf("top")!==-1?C="top":A.indexOf("bottom")!==-1&&(C="bottom"),A.indexOf("left")!==-1?L="left":A.indexOf("right")!==-1&&(L="right")),C+" "+L}function T(A,C){return C in A&&typeof A[C]=="object"&&Object.keys(A[C]).length===0}c.clearPromiseQueue=function(A){Array.isArray(A._promises)&&A._promises.length>0&&i.log("Clearing previous rejected promises from queue."),A._promises=[]},c.cleanLayout=function(A){var C,L;A||(A={}),A.xaxis1&&(A.xaxis||(A.xaxis=A.xaxis1),delete A.xaxis1),A.yaxis1&&(A.yaxis||(A.yaxis=A.yaxis1),delete A.yaxis1),A.scene1&&(A.scene||(A.scene=A.scene1),delete A.scene1);var w=(l.subplotsRegistry.cartesian||{}).attrRegex,E=(l.subplotsRegistry.polar||{}).attrRegex,I=(l.subplotsRegistry.ternary||{}).attrRegex,M=(l.subplotsRegistry.gl3d||{}).attrRegex,V=Object.keys(A);for(C=0;C<V.length;C++){var j=V[C];if(w&&w.test(j)){var W=A[j];W.anchor&&W.anchor!=="free"&&(W.anchor=f(W.anchor)),W.overlaying&&(W.overlaying=f(W.overlaying)),W.type||(W.isdate?W.type="date":W.islog?W.type="log":W.isdate===!1&&W.islog===!1&&(W.type="linear")),W.autorange!=="withzero"&&W.autorange!=="tozero"||(W.autorange=!0,W.rangemode="tozero"),delete W.islog,delete W.isdate,delete W.categories,T(W,"domain")&&delete W.domain,W.autotick!==void 0&&(W.tickmode===void 0&&(W.tickmode=W.autotick?"auto":"linear"),delete W.autotick),v(W)}else if(E&&E.test(j))v(A[j].radialaxis);else if(I&&I.test(j)){var H=A[j];v(H.aaxis),v(H.baxis),v(H.caxis)}else if(M&&M.test(j)){var B=A[j],K=B.cameraposition;if(Array.isArray(K)&&K[0].length===4){var et=K[0],G=K[1],Y=K[2],D=a([],et),U=[];for(L=0;L<3;++L)U[L]=G[L]+Y*D[2+4*L];B.camera={eye:{x:U[0],y:U[1],z:U[2]},center:{x:G[0],y:G[1],z:G[2]},up:{x:0,y:0,z:1}},delete B.cameraposition}v(B.xaxis),v(B.yaxis),v(B.zaxis)}}var $=Array.isArray(A.annotations)?A.annotations.length:0;for(C=0;C<$;C++){var Q=A.annotations[C];i.isPlainObject(Q)&&(Q.ref&&(Q.ref==="paper"?(Q.xref="paper",Q.yref="paper"):Q.ref==="data"&&(Q.xref="x",Q.yref="y"),delete Q.ref),m(Q,"xref"),m(Q,"yref"))}var F=Array.isArray(A.shapes)?A.shapes.length:0;for(C=0;C<F;C++){var z=A.shapes[C];i.isPlainObject(z)&&(m(z,"xref"),m(z,"yref"))}var P=Array.isArray(A.images)?A.images.length:0;for(C=0;C<P;C++){var Z=A.images[C];i.isPlainObject(Z)&&(m(Z,"xref"),m(Z,"yref"))}var R=A.legend;return R&&(R.x>3?(R.x=1.02,R.xanchor="left"):R.x<-2&&(R.x=-.02,R.xanchor="right"),R.y>3?(R.y=1.02,R.yanchor="bottom"):R.y<-2&&(R.y=-.02,R.yanchor="top")),v(A),A.dragmode==="rotate"&&(A.dragmode="orbit"),d.clean(A),A.template&&A.template.layout&&c.cleanLayout(A.template.layout),A},c.cleanData=function(A){for(var C=0;C<A.length;C++){var L,w=A[C];if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var E=d.defaults,I=w.error_y.color||(h(w,"bar")?d.defaultLine:E[C%E.length]);w.error_y.color=d.addOpacity(d.rgb(I),d.opacity(I)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir!=="h"||!h(w,"bar")&&w.type.substr(0,9)!=="histogram"||(w.orientation="h",c.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&c.swapXYData(w),w.type!=="histogramx"&&w.type!=="histogramy"||(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=f(w.xaxis,"x")),w.yaxis&&(w.yaxis=f(w.yaxis,"y")),h(w,"gl3d")&&w.scene&&(w.scene=l.subplotsRegistry.gl3d.cleanId(w.scene)),!h(w,"pie-like")&&!h(w,"bar-like"))if(Array.isArray(w.textposition))for(L=0;L<w.textposition.length;L++)w.textposition[L]=_(w.textposition[L]);else w.textposition&&(w.textposition=_(w.textposition));var M=o.getModule(w);if(M&&M.colorbar){var V=M.colorbar.container,j=V?w[V]:w;j&&j.colorscale&&(j.colorscale==="YIGnBu"&&(j.colorscale="YlGnBu"),j.colorscale==="YIOrRd"&&(j.colorscale="YlOrRd"))}if(w.type==="surface"&&i.isPlainObject(w.contours)){var W=["x","y","z"];for(L=0;L<W.length;L++){var H=w.contours[W[L]];i.isPlainObject(H)&&(H.highlightColor&&(H.highlightcolor=H.highlightColor,delete H.highlightColor),H.highlightWidth&&(H.highlightwidth=H.highlightWidth,delete H.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var B=(w.increasing||{}).showlegend!==!1,K=(w.decreasing||{}).showlegend!==!1,et=y(w.increasing),G=y(w.decreasing);if(et!==!1&&G!==!1){var Y=k(et,G,B,K);Y&&(w.name=Y)}else!et&&!G||w.name||(w.name=et||G)}if(Array.isArray(w.transforms)){var D=w.transforms;for(L=0;L<D.length;L++){var U=D[L];if(i.isPlainObject(U))switch(U.type){case"filter":U.filtersrc&&(U.target=U.filtersrc,delete U.filtersrc),U.calendar&&(U.valuecalendar||(U.valuecalendar=U.calendar),delete U.calendar);break;case"groupby":if(U.styles=U.styles||U.style,U.styles&&!Array.isArray(U.styles)){var $=U.styles,Q=Object.keys($);U.styles=[];for(var F=0;F<Q.length;F++)U.styles.push({target:Q[F],value:$[Q[F]]})}}}}T(w,"line")&&delete w.line,"marker"in w&&(T(w.marker,"line")&&delete w.marker.line,T(w,"marker")&&delete w.marker),d.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),v(w),w.colorbar&&v(w.colorbar),w.marker&&w.marker.colorbar&&v(w.marker.colorbar),w.line&&w.line.colorbar&&v(w.line.colorbar),w.aaxis&&v(w.aaxis),w.baxis&&v(w.baxis)}},c.swapXYData=function(A){var C;if(i.swapAttrs(A,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(A.z)&&Array.isArray(A.z[0])&&(A.transpose?delete A.transpose:A.transpose=!0),A.error_x&&A.error_y){var L=A.error_y,w="copy_ystyle"in L?L.copy_ystyle:!(L.color||L.thickness||L.width);i.swapAttrs(A,["error_?.copy_ystyle"]),w&&i.swapAttrs(A,["error_?.color","error_?.thickness","error_?.width"])}if(typeof A.hoverinfo=="string"){var E=A.hoverinfo.split("+");for(C=0;C<E.length;C++)E[C]==="x"?E[C]="y":E[C]==="y"&&(E[C]="x");A.hoverinfo=E.join("+")}},c.coerceTraceIndices=function(A,C){if(n(C))return[C];if(!Array.isArray(C)||!C.length)return A.data.map(function(E,I){return I});if(Array.isArray(C)){for(var L=[],w=0;w<C.length;w++)i.isIndex(C[w],A.data.length)?L.push(C[w]):i.warn("trace index (",C[w],") is not a number or is out of bounds");return L}return C},c.manageArrayContainers=function(A,C,L){var w=A.obj,E=A.parts,I=E.length,M=E[I-1],V=n(M);if(V&&C===null){var j=E.slice(0,I-1).join(".");i.nestedProperty(w,j).get().splice(M,1)}else V&&A.get()===void 0&&A.get()===void 0&&(L[A.astr]=null),A.set(C)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function x(A){var C=A.search(b);if(C>0)return A.substr(0,C)}c.hasParent=function(A,C){for(var L=x(C);L;){if(L in A)return!0;L=x(L)}return!1};var O=["x","y","z"];c.clearAxisTypes=function(A,C,L){for(var w=0;w<C.length;w++)for(var E=A._fullData[w],I=0;I<3;I++){var M=u(A,E,O[I]);if(M&&M.type!=="log"){var V=M._name,j=M._id.substr(1);if(j.substr(0,5)==="scene"){if(L[j]!==void 0)continue;V=j+"."+V}var W=V+".type";L[V]===void 0&&L[W]===void 0&&i.nestedProperty(A.layout,W).set(null)}}}},{"../components/color":102,"../lib":232,"../plots/cartesian/axis_ids":283,"../plots/plots":314,"../registry":316,"fast-isnumeric":17,"gl-mat4/fromQuat":23}],263:[function(t,s,c){var n=t("./plot_api");c._doPlot=n._doPlot,c.newPlot=n.newPlot,c.restyle=n.restyle,c.relayout=n.relayout,c.redraw=n.redraw,c.update=n.update,c._guiRestyle=n._guiRestyle,c._guiRelayout=n._guiRelayout,c._guiUpdate=n._guiUpdate,c._storeDirectGUIEdit=n._storeDirectGUIEdit,c.react=n.react,c.extendTraces=n.extendTraces,c.prependTraces=n.prependTraces,c.addTraces=n.addTraces,c.deleteTraces=n.deleteTraces,c.moveTraces=n.moveTraces,c.purge=n.purge,c.addFrames=n.addFrames,c.deleteFrames=n.deleteFrames,c.animate=n.animate,c.setPlotConfig=n.setPlotConfig,c.toImage=t("./to_image"),c.validate=t("./validate"),c.downloadImage=t("../snapshot/download");var a=t("./template_api");c.makeTemplate=a.makeTemplate,c.validateTemplate=a.validateTemplate},{"../snapshot/download":318,"./plot_api":265,"./template_api":270,"./to_image":271,"./validate":272}],264:[function(t,s,c){var n=t("../lib/is_plain_object"),a=t("../lib/noop"),o=t("../lib/loggers"),i=t("../lib/search").sorterAsc,l=t("../registry");c.containerArrayMatch=t("./container_array_match");var p=c.isAddVal=function(f){return f==="add"||n(f)},d=c.isRemoveVal=function(f){return f===null||f==="remove"};c.applyContainerArrayChanges=function(f,u,h,m,v){var y=u.astr,k=l.getComponentMethod(y,"supplyLayoutDefaults"),_=l.getComponentMethod(y,"draw"),T=l.getComponentMethod(y,"drawOne"),b=m.replot||m.recalc||k===a||_===a,x=f.layout,O=f._fullLayout;if(h[""]){Object.keys(h).length>1&&o.warn("Full array edits are incompatible with other edits",y);var A=h[""][""];if(d(A))u.set(null);else{if(!Array.isArray(A))return o.warn("Unrecognized full array edit value",y,A),!0;u.set(A)}return!b&&(k(x,O),_(f),!0)}var C,L,w,E,I,M,V,j,W=Object.keys(h).map(Number).sort(i),H=u.get(),B=H||[],K=v(O,y).get(),et=[],G=-1,Y=B.length;for(C=0;C<W.length;C++)if(E=h[w=W[C]],I=Object.keys(E),M=E[""],V=p(M),w<0||w>B.length-(V?0:1))o.warn("index out of range",y,w);else if(M!==void 0)I.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",y,w),d(M)?et.push(w):V?(M==="add"&&(M={}),B.splice(w,0,M),K&&K.splice(w,0,{})):o.warn("Unrecognized full object edit value",y,w,M),G===-1&&(G=w);else for(L=0;L<I.length;L++)j=y+"["+w+"].",v(B[w],I[L],j).set(E[I[L]]);for(C=et.length-1;C>=0;C--)B.splice(et[C],1),K&&K.splice(et[C],1);if(B.length?H||u.set(B):u.set(null),b)return!1;if(k(x,O),T!==a){var D;if(G===-1)D=W;else{for(Y=Math.max(B.length,Y),D=[],C=0;C<W.length&&!((w=W[C])>=G);C++)D.push(w);for(C=G;C<Y;C++)D.push(C)}for(C=0;C<D.length;C++)T(f,D[C])}else _(f);return!0}},{"../lib/is_plain_object":233,"../lib/loggers":236,"../lib/noop":241,"../lib/search":251,"../registry":316,"./container_array_match":260}],265:[function(t,s,c){var n=t("@plotly/d3"),a=t("fast-isnumeric"),o=t("has-hover"),i=t("../lib"),l=i.nestedProperty,p=t("../lib/events"),d=t("../lib/queue"),f=t("../registry"),u=t("./plot_schema"),h=t("../plots/plots"),m=t("../plots/cartesian/axes"),v=t("../components/drawing"),y=t("../components/color"),k=t("../plots/cartesian/graph_interact").initInteractions,_=t("../constants/xmlns_namespaces"),T=t("../plots/cartesian/select").clearSelect,b=t("./plot_config").dfltConfig,x=t("./manage_arrays"),O=t("./helpers"),A=t("./subroutines"),C=t("./edit_types"),L=t("../plots/cartesian/constants").AX_NAME_PATTERN,w=0;function E(ut){var it=ut._fullLayout;it._redrawFromAutoMarginCount?it._redrawFromAutoMarginCount--:ut.emit("plotly_afterplot")}function I(ut,it){try{ut._fullLayout._paper.style("background",it)}catch(dt){i.error(dt)}}function M(ut,it){I(ut,y.combine(it,"white"))}function V(ut,it){if(!ut._context){ut._context=i.extendDeep({},b);var dt=n.select("base");ut._context._baseUrl=dt.size()&&dt.attr("href")?window.location.href.split("#")[0]:""}var mt,Et,Mt,Tt=ut._context;if(it){for(Et=Object.keys(it),mt=0;mt<Et.length;mt++)(Mt=Et[mt])!=="editable"&&Mt!=="edits"&&Mt in Tt&&(Mt==="setBackground"&&it[Mt]==="opaque"?Tt[Mt]=M:Tt[Mt]=it[Mt]);it.plot3dPixelRatio&&!Tt.plotGlPixelRatio&&(Tt.plotGlPixelRatio=Tt.plot3dPixelRatio);var Nt=it.editable;if(Nt!==void 0)for(Tt.editable=Nt,Et=Object.keys(Tt.edits),mt=0;mt<Et.length;mt++)Tt.edits[Et[mt]]=Nt;if(it.edits)for(Et=Object.keys(it.edits),mt=0;mt<Et.length;mt++)(Mt=Et[mt])in Tt.edits&&(Tt.edits[Mt]=it.edits[Mt]);Tt._exportedPlot=it._exportedPlot}Tt.staticPlot&&(Tt.editable=!1,Tt.edits={},Tt.autosizable=!1,Tt.scrollZoom=!1,Tt.doubleClick=!1,Tt.showTips=!1,Tt.showLink=!1,Tt.displayModeBar=!1),Tt.displayModeBar!=="hover"||o||(Tt.displayModeBar=!0),Tt.setBackground!=="transparent"&&typeof Tt.setBackground=="function"||(Tt.setBackground=I),Tt._hasZeroHeight=Tt._hasZeroHeight||ut.clientHeight===0,Tt._hasZeroWidth=Tt._hasZeroWidth||ut.clientWidth===0;var zt=Tt.scrollZoom,At=Tt._scrollZoom={};if(zt===!0)At.cartesian=1,At.gl3d=1,At.geo=1,At.mapbox=1;else if(typeof zt=="string"){var Ct=zt.split("+");for(mt=0;mt<Ct.length;mt++)At[Ct[mt]]=1}else zt!==!1&&(At.gl3d=1,At.geo=1,At.mapbox=1)}function j(ut,it){var dt,mt,Et=it+1,Mt=[];for(dt=0;dt<ut.length;dt++)(mt=ut[dt])<0?Mt.push(Et+mt):Mt.push(mt);return Mt}function W(ut,it,dt){var mt,Et;for(mt=0;mt<it.length;mt++){if((Et=it[mt])!==parseInt(Et,10))throw new Error("all values in "+dt+" must be integers");if(Et>=ut.data.length||Et<-ut.data.length)throw new Error(dt+" must be valid indices for gd.data.");if(it.indexOf(Et,mt+1)>-1||Et>=0&&it.indexOf(-ut.data.length+Et)>-1||Et<0&&it.indexOf(ut.data.length+Et)>-1)throw new Error("each index in "+dt+" must be unique.")}}function H(ut,it,dt){if(!Array.isArray(ut.data))throw new Error("gd.data must be an array.");if(it===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(it)||(it=[it]),W(ut,it,"currentIndices"),dt===void 0||Array.isArray(dt)||(dt=[dt]),dt!==void 0&&W(ut,dt,"newIndices"),dt!==void 0&&it.length!==dt.length)throw new Error("current and new indices must be of equal length.")}function B(ut,it,dt,mt,Et){(function(St,$t,Zt,Yt){var re=i.isPlainObject(Yt);if(!Array.isArray(St.data))throw new Error("gd.data must be an array");if(!i.isPlainObject($t))throw new Error("update must be a key:value object");if(Zt===void 0)throw new Error("indices must be an integer or array of integers");for(var Qt in W(St,Zt,"indices"),$t){if(!Array.isArray($t[Qt])||$t[Qt].length!==Zt.length)throw new Error("attribute "+Qt+" must be an array of length equal to indices array length");if(re&&(!(Qt in Yt)||!Array.isArray(Yt[Qt])||Yt[Qt].length!==$t[Qt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(ut,it,dt,mt);for(var Mt=function(St,$t,Zt,Yt){var re,Qt,xt,kt,Bt,ie=i.isPlainObject(Yt),ye=[];for(var ot in Array.isArray(Zt)||(Zt=[Zt]),Zt=j(Zt,St.data.length-1),$t)for(var ft=0;ft<Zt.length;ft++){if(re=St.data[Zt[ft]],Qt=(xt=l(re,ot)).get(),kt=$t[ot][ft],!i.isArrayOrTypedArray(kt))throw new Error("attribute: "+ot+" index: "+ft+" must be an array");if(!i.isArrayOrTypedArray(Qt))throw new Error("cannot extend missing or non-array attribute: "+ot);if(Qt.constructor!==kt.constructor)throw new Error("cannot extend array with an array of a different type: "+ot);Bt=ie?Yt[ot][ft]:Yt,a(Bt)||(Bt=-1),ye.push({prop:xt,target:Qt,insert:kt,maxp:Math.floor(Bt)})}return ye}(ut,it,dt,mt),Tt={},Nt={},zt=0;zt<Mt.length;zt++){var At=Mt[zt].prop,Ct=Mt[zt].maxp,qt=Et(Mt[zt].target,Mt[zt].insert,Ct);At.set(qt[0]),Array.isArray(Tt[At.astr])||(Tt[At.astr]=[]),Tt[At.astr].push(qt[1]),Array.isArray(Nt[At.astr])||(Nt[At.astr]=[]),Nt[At.astr].push(Mt[zt].target.length)}return{update:Tt,maxPoints:Nt}}function K(ut,it){var dt=new ut.constructor(ut.length+it.length);return dt.set(ut),dt.set(it,ut.length),dt}function et(ut,it,dt,mt){ut=i.getGraphDiv(ut),O.clearPromiseQueue(ut);var Et={};if(typeof it=="string")Et[it]=dt;else{if(!i.isPlainObject(it))return i.warn("Restyle fail.",it,dt,mt),Promise.reject();Et=i.extendFlat({},it),mt===void 0&&(mt=dt)}Object.keys(Et).length&&(ut.changed=!0);var Mt=O.coerceTraceIndices(ut,mt),Tt=U(ut,Et,Mt),Nt=Tt.flags;Nt.calc&&(ut.calcdata=void 0),Nt.clearAxisTypes&&O.clearAxisTypes(ut,Mt,{});var zt=[];Nt.fullReplot?zt.push(c._doPlot):(zt.push(h.previousPromises),h.supplyDefaults(ut),Nt.markerSize&&(h.doCalcdata(ut),z(zt)),Nt.style&&zt.push(A.doTraceStyle),Nt.colorbars&&zt.push(A.doColorBars),zt.push(E)),zt.push(h.rehover,h.redrag),d.add(ut,et,[ut,Tt.undoit,Tt.traces],et,[ut,Tt.redoit,Tt.traces]);var At=i.syncOrAsync(zt,ut);return At&&At.then||(At=Promise.resolve()),At.then(function(){return ut.emit("plotly_restyle",Tt.eventData),ut})}function G(ut){return ut===void 0?null:ut}function Y(ut,it){return it?function(dt,mt,Et){var Mt=l(dt,mt),Tt=Mt.set;return Mt.set=function(Nt){D((Et||"")+mt,Mt.get(),Nt,ut),Tt(Nt)},Mt}:l}function D(ut,it,dt,mt){if(Array.isArray(it)||Array.isArray(dt))for(var Et=Array.isArray(it)?it:[],Mt=Array.isArray(dt)?dt:[],Tt=Math.max(Et.length,Mt.length),Nt=0;Nt<Tt;Nt++)D(ut+"["+Nt+"]",Et[Nt],Mt[Nt],mt);else if(i.isPlainObject(it)||i.isPlainObject(dt)){var zt=i.isPlainObject(it)?it:{},At=i.isPlainObject(dt)?dt:{},Ct=i.extendFlat({},zt,At);for(var qt in Ct)D(ut+"."+qt,zt[qt],At[qt],mt)}else mt[ut]===void 0&&(mt[ut]=G(it))}function U(ut,it,dt){var mt,Et=ut._fullLayout,Mt=ut._fullData,Tt=ut.data,Nt=Et._guiEditing,zt=Y(Et._preGUI,Nt),At=i.extendDeepAll({},it);$(it);var Ct,qt=C.traceFlags(),St={},$t={};function Zt(){return dt.map(function(){})}function Yt(he){var Se=m.id2name(he);Ct.indexOf(Se)===-1&&Ct.push(Se)}function re(he){return"LAYOUT"+he+".autorange"}function Qt(he){return"LAYOUT"+he+".range"}function xt(he){for(var Se=he;Se<Mt.length;Se++)if(Mt[Se]._input===Tt[he])return Mt[Se]}function kt(he,Se,de){if(Array.isArray(he))he.forEach(function(De){kt(De,Se,de)});else if(!(he in it)&&!O.hasParent(it,he)){var Re;if(he.substr(0,6)==="LAYOUT")Re=zt(ut.layout,he.replace("LAYOUT",""));else{var Ee=dt[de];Re=Y(Et._tracePreGUI[xt(Ee)._fullInput.uid],Nt)(Tt[Ee],he)}he in $t||($t[he]=Zt()),$t[he][de]===void 0&&($t[he][de]=G(Re.get())),Se!==void 0&&Re.set(Se)}}function Bt(he){return function(Se){return Mt[Se][he]}}function ie(he){return function(Se,de){return Se===!1?Mt[dt[de]][he]:null}}for(var ye in it){if(O.hasParent(it,ye))throw new Error("cannot set "+ye+" and a parent attribute simultaneously");var ot,ft,Lt,Pt,It,Rt,Vt=it[ye];if(ye!=="autobinx"&&ye!=="autobiny"||(ye=ye.charAt(ye.length-1)+"bins",Vt=Array.isArray(Vt)?Vt.map(ie(ye)):Vt===!1?dt.map(Bt(ye)):null),St[ye]=Vt,ye.substr(0,6)!=="LAYOUT"){for($t[ye]=Zt(),mt=0;mt<dt.length;mt++)if(ot=Tt[dt[mt]],ft=xt(dt[mt]),Pt=(Lt=Y(Et._tracePreGUI[ft._fullInput.uid],Nt)(ot,ye)).get(),(It=Array.isArray(Vt)?Vt[mt%Vt.length]:Vt)!==void 0){var Jt=Lt.parts[Lt.parts.length-1],ae=ye.substr(0,ye.length-Jt.length-1),ce=ae?ae+".":"",le=ae?l(ft,ae).get():ft;if((Rt=u.getTraceValObject(ft,Lt.parts))&&Rt.impliedEdits&&It!==null)for(var se in Rt.impliedEdits)kt(i.relativeAttr(ye,se),Rt.impliedEdits[se],mt);else if(Jt!=="thicknessmode"&&Jt!=="lenmode"||Pt===It||It!=="fraction"&&It!=="pixels"||!le){if(ye==="type"&&(It==="pie"!=(Pt==="pie")||It==="funnelarea"!=(Pt==="funnelarea"))){var pe="x",we="y";It!=="bar"&&Pt!=="bar"||ot.orientation!=="h"||(pe="y",we="x"),i.swapAttrs(ot,["?","?src"],"labels",pe),i.swapAttrs(ot,["d?","?0"],"label",pe),i.swapAttrs(ot,["?","?src"],"values",we),Pt==="pie"||Pt==="funnelarea"?(l(ot,"marker.color").set(l(ot,"marker.colors").get()),Et._pielayer.selectAll("g.trace").remove()):f.traceIs(ot,"cartesian")&&l(ot,"marker.colors").set(l(ot,"marker.color").get())}}else{var me=Et._size,ee=le.orient,ue=ee==="top"||ee==="bottom";if(Jt==="thicknessmode"){var Te=ue?me.h:me.w;kt(ce+"thickness",le.thickness*(It==="fraction"?1/Te:Te),mt)}else{var Me=ue?me.w:me.h;kt(ce+"len",le.len*(It==="fraction"?1/Me:Me),mt)}}if($t[ye][mt]=G(Pt),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(ye)!==-1){if(ye==="orientation"){Lt.set(It);var Ce=ot.x&&!ot.y?"h":"v";if((Lt.get()||Ce)===ft.orientation)continue}else ye==="orientationaxes"&&(ot.orientation={v:"h",h:"v"}[ft.orientation]);O.swapXYData(ot),qt.calc=qt.clearAxisTypes=!0}else h.dataArrayContainers.indexOf(Lt.parts[0])!==-1?(O.manageArrayContainers(Lt,It,$t),qt.calc=!0):(Rt?Rt.arrayOk&&!f.traceIs(ft,"regl")&&(i.isArrayOrTypedArray(It)||i.isArrayOrTypedArray(Pt))?qt.calc=!0:C.update(qt,Rt):qt.calc=!0,Lt.set(It))}if(["swapxyaxes","orientationaxes"].indexOf(ye)!==-1&&m.swap(ut,dt),ye==="orientationaxes"){var fe=l(ut.layout,"hovermode"),_e=fe.get();_e==="x"?fe.set("y"):_e==="y"?fe.set("x"):_e==="x unified"?fe.set("y unified"):_e==="y unified"&&fe.set("x unified")}if(["orientation","type"].indexOf(ye)!==-1){for(Ct=[],mt=0;mt<dt.length;mt++){var Le=Tt[dt[mt]];f.traceIs(Le,"cartesian")&&(Yt(Le.xaxis||"x"),Yt(Le.yaxis||"y"))}kt(Ct.map(re),!0,0),kt(Ct.map(Qt),[0,1],0)}}else Lt=zt(ut.layout,ye.replace("LAYOUT","")),$t[ye]=[G(Lt.get())],Lt.set(Array.isArray(Vt)?Vt[0]:Vt),qt.calc=!0}return(qt.calc||qt.plot)&&(qt.fullReplot=!0),{flags:qt,undoit:$t,redoit:St,traces:dt,eventData:i.extendDeepNoArrays([],[At,dt])}}function $(ut){var it,dt,mt,Et=i.counterRegex("axis",".title",!1,!1),Mt=/colorbar\.title$/,Tt=Object.keys(ut);for(it=0;it<Tt.length;it++)dt=Tt[it],mt=ut[dt],dt!=="title"&&!Et.test(dt)&&!Mt.test(dt)||typeof mt!="string"&&typeof mt!="number"?dt.indexOf("titlefont")>-1?Nt(dt,dt.replace("titlefont","title.font")):dt.indexOf("titleposition")>-1?Nt(dt,dt.replace("titleposition","title.position")):dt.indexOf("titleside")>-1?Nt(dt,dt.replace("titleside","title.side")):dt.indexOf("titleoffset")>-1&&Nt(dt,dt.replace("titleoffset","title.offset")):Nt(dt,dt.replace("title","title.text"));function Nt(zt,At){ut[At]=ut[zt],delete ut[zt]}}function Q(ut,it,dt){ut=i.getGraphDiv(ut),O.clearPromiseQueue(ut);var mt={};if(typeof it=="string")mt[it]=dt;else{if(!i.isPlainObject(it))return i.warn("Relayout fail.",it,dt),Promise.reject();mt=i.extendFlat({},it)}Object.keys(mt).length&&(ut.changed=!0);var Et=q(ut,mt),Mt=Et.flags;Mt.calc&&(ut.calcdata=void 0);var Tt=[h.previousPromises];Mt.layoutReplot?Tt.push(A.layoutReplot):Object.keys(mt).length&&(F(ut,Mt,Et)||h.supplyDefaults(ut),Mt.legend&&Tt.push(A.doLegend),Mt.layoutstyle&&Tt.push(A.layoutStyles),Mt.axrange&&z(Tt,Et.rangesAltered),Mt.ticks&&Tt.push(A.doTicksRelayout),Mt.modebar&&Tt.push(A.doModeBar),Mt.camera&&Tt.push(A.doCamera),Mt.colorbars&&Tt.push(A.doColorBars),Tt.push(E)),Tt.push(h.rehover,h.redrag),d.add(ut,Q,[ut,Et.undoit],Q,[ut,Et.redoit]);var Nt=i.syncOrAsync(Tt,ut);return Nt&&Nt.then||(Nt=Promise.resolve(ut)),Nt.then(function(){return ut.emit("plotly_relayout",Et.eventData),ut})}function F(ut,it,dt){var mt=ut._fullLayout;if(!it.axrange)return!1;for(var Et in it)if(Et!=="axrange"&&it[Et])return!1;for(var Mt in dt.rangesAltered){var Tt=m.id2name(Mt),Nt=ut.layout[Tt],zt=mt[Tt];if(zt.autorange=Nt.autorange,Nt.range&&(zt.range=Nt.range.slice()),zt.cleanRange(),zt._matchGroup){for(var At in zt._matchGroup)if(At!==Mt){var Ct=mt[m.id2name(At)];Ct.autorange=zt.autorange,Ct.range=zt.range.slice(),Ct._input.range=zt.range.slice()}}}return!0}function z(ut,it){var dt=it?function(mt){var Et=[],Mt=!0;for(var Tt in it){var Nt=m.getFromId(mt,Tt);if(Et.push(Tt),(Nt.ticklabelposition||"").indexOf("inside")!==-1&&Nt._anchorAxis&&Et.push(Nt._anchorAxis._id),Nt._matchGroup)for(var zt in Nt._matchGroup)it[zt]||Et.push(zt);Nt.automargin&&(Mt=!1)}return m.draw(mt,Et,{skipTitle:Mt})}:function(mt){return m.draw(mt,"redraw")};ut.push(T,A.doAutoRangeAndConstraints,dt,A.drawData,A.finalDraw)}var P=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Z=/^[xyz]axis[0-9]*\.autorange$/,R=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function q(ut,it){var dt,mt,Et,Mt=ut.layout,Tt=ut._fullLayout,Nt=Tt._guiEditing,zt=Y(Tt._preGUI,Nt),At=Object.keys(it),Ct=m.list(ut),qt=i.extendDeepAll({},it),St={};for($(it),At=Object.keys(it),mt=0;mt<At.length;mt++)if(At[mt].indexOf("allaxes")===0){for(Et=0;Et<Ct.length;Et++){var $t=Ct[Et]._id.substr(1),Zt=$t.indexOf("scene")!==-1?$t+".":"",Yt=At[mt].replace("allaxes",Zt+Ct[Et]._name);it[Yt]||(it[Yt]=it[At[mt]])}delete it[At[mt]]}var re=C.layoutFlags(),Qt={},xt={};function kt(Ee,De){if(Array.isArray(Ee))Ee.forEach(function(Je){kt(Je,De)});else if(!(Ee in it)&&!O.hasParent(it,Ee)){var je=zt(Mt,Ee);Ee in xt||(xt[Ee]=G(je.get())),De!==void 0&&je.set(De)}}var Bt,ie={};function ye(Ee){var De=m.name2id(Ee.split(".")[0]);return ie[De]=1,De}for(var ot in it){if(O.hasParent(it,ot))throw new Error("cannot set "+ot+" and a parent attribute simultaneously");for(var ft=zt(Mt,ot),Lt=it[ot],Pt=ft.parts.length-1;Pt>0&&typeof ft.parts[Pt]!="string";)Pt--;var It=ft.parts[Pt],Rt=ft.parts[Pt-1]+"."+It,Vt=ft.parts.slice(0,Pt).join("."),Jt=l(ut.layout,Vt).get(),ae=l(Tt,Vt).get(),ce=ft.get();if(Lt!==void 0){Qt[ot]=Lt,xt[ot]=It==="reverse"?Lt:G(ce);var le=u.getLayoutValObject(Tt,ft.parts);if(le&&le.impliedEdits&&Lt!==null)for(var se in le.impliedEdits)kt(i.relativeAttr(ot,se),le.impliedEdits[se]);if(["width","height"].indexOf(ot)!==-1)if(Lt){kt("autosize",null);var pe=ot==="height"?"width":"height";kt(pe,Tt[pe])}else Tt[ot]=ut._initialAutoSize[ot];else if(ot==="autosize")kt("width",Lt?null:Tt.width),kt("height",Lt?null:Tt.height);else if(Rt.match(P))ye(Rt),l(Tt,Vt+"._inputRange").set(null);else if(Rt.match(Z)){ye(Rt),l(Tt,Vt+"._inputRange").set(null);var we=l(Tt,Vt).get();we._inputDomain&&(we._input.domain=we._inputDomain.slice())}else Rt.match(R)&&l(Tt,Vt+"._inputDomain").set(null);if(It==="type"){Bt=Jt;var me=ae.type==="linear"&&Lt==="log",ee=ae.type==="log"&&Lt==="linear";if(me||ee){if(Bt&&Bt.range)if(ae.autorange)me&&(Bt.range=Bt.range[1]>Bt.range[0]?[1,2]:[2,1]);else{var ue=Bt.range[0],Te=Bt.range[1];me?(ue<=0&&Te<=0&&kt(Vt+".autorange",!0),ue<=0?ue=Te/1e6:Te<=0&&(Te=ue/1e6),kt(Vt+".range[0]",Math.log(ue)/Math.LN10),kt(Vt+".range[1]",Math.log(Te)/Math.LN10)):(kt(Vt+".range[0]",Math.pow(10,ue)),kt(Vt+".range[1]",Math.pow(10,Te)))}else kt(Vt+".autorange",!0);Array.isArray(Tt._subplots.polar)&&Tt._subplots.polar.length&&Tt[ft.parts[0]]&&ft.parts[1]==="radialaxis"&&delete Tt[ft.parts[0]]._subplot.viewInitial["radialaxis.range"],f.getComponentMethod("annotations","convertCoords")(ut,ae,Lt,kt),f.getComponentMethod("images","convertCoords")(ut,ae,Lt,kt)}else kt(Vt+".autorange",!0),kt(Vt+".range",null);l(Tt,Vt+"._inputRange").set(null)}else if(It.match(L)){var Me=l(Tt,ot).get(),Ce=(Lt||{}).type;Ce&&Ce!=="-"||(Ce="linear"),f.getComponentMethod("annotations","convertCoords")(ut,Me,Ce,kt),f.getComponentMethod("images","convertCoords")(ut,Me,Ce,kt)}var fe=x.containerArrayMatch(ot);if(fe){dt=fe.array,mt=fe.index;var _e=fe.property,Le=le||{editType:"calc"};mt!==""&&_e===""&&(x.isAddVal(Lt)?xt[ot]=null:x.isRemoveVal(Lt)?xt[ot]=(l(Mt,dt).get()||[])[mt]:i.warn("unrecognized full object value",it)),C.update(re,Le),St[dt]||(St[dt]={});var he=St[dt][mt];he||(he=St[dt][mt]={}),he[_e]=Lt,delete it[ot]}else It==="reverse"?(Jt.range?Jt.range.reverse():(kt(Vt+".autorange",!0),Jt.range=[1,0]),ae.autorange?re.calc=!0:re.plot=!0):(Tt._has("scatter-like")&&Tt._has("regl")&&ot==="dragmode"&&(Lt==="lasso"||Lt==="select")&&ce!=="lasso"&&ce!=="select"||Tt._has("gl2d")?re.plot=!0:le?C.update(re,le):re.calc=!0,ft.set(Lt))}}for(dt in St)x.applyContainerArrayChanges(ut,zt(Mt,dt),St[dt],re,zt)||(re.plot=!0);for(var Se in ie){var de=(Bt=m.getFromId(ut,Se))&&Bt._constraintGroup;if(de)for(var Re in re.calc=!0,de)ie[Re]||(m.getFromId(ut,Re)._constraintShrinkable=!0)}return(tt(ut)||it.height||it.width)&&(re.plot=!0),(re.plot||re.calc)&&(re.layoutReplot=!0),{flags:re,rangesAltered:ie,undoit:xt,redoit:Qt,eventData:qt}}function tt(ut){var it=ut._fullLayout,dt=it.width,mt=it.height;return ut.layout.autosize&&h.plotAutoSize(ut,ut.layout,it),it.width!==dt||it.height!==mt}function rt(ut,it,dt,mt){ut=i.getGraphDiv(ut),O.clearPromiseQueue(ut),i.isPlainObject(it)||(it={}),i.isPlainObject(dt)||(dt={}),Object.keys(it).length&&(ut.changed=!0),Object.keys(dt).length&&(ut.changed=!0);var Et=O.coerceTraceIndices(ut,mt),Mt=U(ut,i.extendFlat({},it),Et),Tt=Mt.flags,Nt=q(ut,i.extendFlat({},dt)),zt=Nt.flags;(Tt.calc||zt.calc)&&(ut.calcdata=void 0),Tt.clearAxisTypes&&O.clearAxisTypes(ut,Et,dt);var At=[];zt.layoutReplot?At.push(A.layoutReplot):Tt.fullReplot?At.push(c._doPlot):(At.push(h.previousPromises),F(ut,zt,Nt)||h.supplyDefaults(ut),Tt.style&&At.push(A.doTraceStyle),(Tt.colorbars||zt.colorbars)&&At.push(A.doColorBars),zt.legend&&At.push(A.doLegend),zt.layoutstyle&&At.push(A.layoutStyles),zt.axrange&&z(At,Nt.rangesAltered),zt.ticks&&At.push(A.doTicksRelayout),zt.modebar&&At.push(A.doModeBar),zt.camera&&At.push(A.doCamera),At.push(E)),At.push(h.rehover,h.redrag),d.add(ut,rt,[ut,Mt.undoit,Nt.undoit,Mt.traces],rt,[ut,Mt.redoit,Nt.redoit,Mt.traces]);var Ct=i.syncOrAsync(At,ut);return Ct&&Ct.then||(Ct=Promise.resolve(ut)),Ct.then(function(){return ut.emit("plotly_update",{data:Mt.eventData,layout:Nt.eventData}),ut})}function nt(ut){return function(it){it._fullLayout._guiEditing=!0;var dt=ut.apply(null,arguments);return it._fullLayout._guiEditing=!1,dt}}var ct=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],st=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function gt(ut,it){for(var dt=0;dt<it.length;dt++){var mt=it[dt],Et=ut.match(mt.pattern);if(Et)return{head:Et[1],attr:mt.attr}}}function wt(ut,it){var dt=l(it,ut).get();if(dt!==void 0)return dt;var mt=ut.split(".");for(mt.pop();mt.length>1;)if(mt.pop(),(dt=l(it,mt.join(".")+".uirevision").get())!==void 0)return dt;return it.uirevision}function Ot(ut,it){for(var dt=0;dt<it.length;dt++)if(it[dt]._fullInput.uid===ut)return dt;return-1}function bt(ut,it,dt){for(var mt=0;mt<it.length;mt++)if(it[mt].uid===ut)return mt;return!it[dt]||it[dt].uid?-1:dt}function Ht(ut,it){var dt=i.isPlainObject(ut),mt=Array.isArray(ut);return dt||mt?(dt&&i.isPlainObject(it)||mt&&Array.isArray(it))&&JSON.stringify(ut)===JSON.stringify(it):ut===it}function Dt(ut,it,dt,mt){var Et,Mt,Tt,Nt=mt.getValObject,zt=mt.flags,At=mt.immutable,Ct=mt.inArray,qt=mt.arrayIndex;function St(){var Jt=Et.editType;Ct&&Jt.indexOf("arraydraw")!==-1?i.pushUnique(zt.arrays[Ct],qt):(C.update(zt,Et),Jt!=="none"&&zt.nChanges++,mt.transition&&Et.anim&&zt.nChangesAnim++,(P.test(Tt)||Z.test(Tt))&&(zt.rangesAltered[dt[0]]=1),R.test(Tt)&&l(it,"_inputDomain").set(null),Mt==="datarevision"&&(zt.newDataRevision=1))}function $t(Jt){return Jt.valType==="data_array"||Jt.arrayOk}for(Mt in ut){if(zt.calc&&!mt.transition)return;var Zt=ut[Mt],Yt=it[Mt],re=dt.concat(Mt);if(Tt=re.join("."),Mt.charAt(0)!=="_"&&typeof Zt!="function"&&Zt!==Yt){if((Mt==="tick0"||Mt==="dtick")&&dt[0]!=="geo"){var Qt=it.tickmode;if(Qt==="auto"||Qt==="array"||!Qt)continue}if((Mt!=="range"||!it.autorange)&&(Mt!=="zmin"&&Mt!=="zmax"||it.type!=="contourcarpet")&&(Et=Nt(re))&&(!Et._compareAsJSON||JSON.stringify(Zt)!==JSON.stringify(Yt))){var xt,kt=Et.valType,Bt=$t(Et),ie=Array.isArray(Zt),ye=Array.isArray(Yt);if(ie&&ye){var ot="_input_"+Mt,ft=ut[ot],Lt=it[ot];if(Array.isArray(ft)&&ft===Lt)continue}if(Yt===void 0)Bt&&ie?zt.calc=!0:St();else if(Et._isLinkedToArray){var Pt=[],It=!1;Ct||(zt.arrays[Mt]=Pt);var Rt=Math.min(Zt.length,Yt.length),Vt=Math.max(Zt.length,Yt.length);if(Rt!==Vt){if(Et.editType!=="arraydraw"){St();continue}It=!0}for(xt=0;xt<Rt;xt++)Dt(Zt[xt],Yt[xt],re.concat(xt),i.extendFlat({inArray:Mt,arrayIndex:xt},mt));if(It)for(xt=Rt;xt<Vt;xt++)Pt.push(xt)}else!kt&&i.isPlainObject(Zt)?Dt(Zt,Yt,re,mt):Bt?ie&&ye?(At&&(zt.calc=!0),(At||mt.newDataRevision)&&St()):ie!==ye?zt.calc=!0:St():ie&&ye&&Zt.length===Yt.length&&String(Zt)===String(Yt)||St()}}}for(Mt in it)if(!(Mt in ut)&&Mt.charAt(0)!=="_"&&typeof it[Mt]!="function"){if($t(Et=Nt(dt.concat(Mt)))&&Array.isArray(it[Mt]))return void(zt.calc=!0);St()}}function yt(ut){var it=ut._fullLayout,dt=ut.getBoundingClientRect();if(!i.equalDomRects(dt,it._lastBBox)){var mt=it._invTransform=i.inverseTransformMatrix(i.getFullTransformMatrix(ut));it._invScaleX=Math.sqrt(mt[0][0]*mt[0][0]+mt[0][1]*mt[0][1]+mt[0][2]*mt[0][2]),it._invScaleY=Math.sqrt(mt[1][0]*mt[1][0]+mt[1][1]*mt[1][1]+mt[1][2]*mt[1][2]),it._lastBBox=dt}}c.animate=function(ut,it,dt){if(ut=i.getGraphDiv(ut),!i.isPlotDiv(ut))throw new Error("This element is not a Plotly plot: "+ut+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var mt=ut._transitionData;mt._frameQueue||(mt._frameQueue=[]);var Et=(dt=h.supplyAnimationDefaults(dt)).transition,Mt=dt.frame;function Tt(At){return Array.isArray(Et)?At>=Et.length?Et[0]:Et[At]:Et}function Nt(At){return Array.isArray(Mt)?At>=Mt.length?Mt[0]:Mt[At]:Mt}function zt(At,Ct){var qt=0;return function(){if(At&&++qt===Ct)return At()}}return mt._frameWaitingCnt===void 0&&(mt._frameWaitingCnt=0),new Promise(function(At,Ct){function qt(){mt._currentFrame&&mt._currentFrame.onComplete&&mt._currentFrame.onComplete();var ft=mt._currentFrame=mt._frameQueue.shift();if(ft){var Lt=ft.name?ft.name.toString():null;ut._fullLayout._currentFrame=Lt,mt._lastFrameAt=Date.now(),mt._timeToNext=ft.frameOpts.duration,h.transition(ut,ft.frame.data,ft.frame.layout,O.coerceTraceIndices(ut,ft.frame.traces),ft.frameOpts,ft.transitionOpts).then(function(){ft.onComplete&&ft.onComplete()}),ut.emit("plotly_animatingframe",{name:Lt,frame:ft.frame,animation:{frame:ft.frameOpts,transition:ft.transitionOpts}})}else ut.emit("plotly_animated"),window.cancelAnimationFrame(mt._animationRaf),mt._animationRaf=null}function St(){ut.emit("plotly_animating"),mt._lastFrameAt=-1/0,mt._timeToNext=0,mt._runningTransitions=0,mt._currentFrame=null;var ft=function(){mt._animationRaf=window.requestAnimationFrame(ft),Date.now()-mt._lastFrameAt>mt._timeToNext&&qt()};ft()}var $t,Zt,Yt=0;function re(ft){return Array.isArray(Et)?Yt>=Et.length?ft.transitionOpts=Et[Yt]:ft.transitionOpts=Et[0]:ft.transitionOpts=Et,Yt++,ft}var Qt=[],xt=it==null,kt=Array.isArray(it);if(!xt&&!kt&&i.isPlainObject(it))Qt.push({type:"object",data:re(i.extendFlat({},it))});else if(xt||["string","number"].indexOf(typeof it)!==-1)for($t=0;$t<mt._frames.length;$t++)(Zt=mt._frames[$t])&&(xt||String(Zt.group)===String(it))&&Qt.push({type:"byname",name:String(Zt.name),data:re({name:Zt.name})});else if(kt)for($t=0;$t<it.length;$t++){var Bt=it[$t];["number","string"].indexOf(typeof Bt)!==-1?(Bt=String(Bt),Qt.push({type:"byname",name:Bt,data:re({name:Bt})})):i.isPlainObject(Bt)&&Qt.push({type:"object",data:re(i.extendFlat({},Bt))})}for($t=0;$t<Qt.length;$t++)if((Zt=Qt[$t]).type==="byname"&&!mt._frameHash[Zt.data.name])return i.warn('animate failure: frame not found: "'+Zt.data.name+'"'),void Ct();["next","immediate"].indexOf(dt.mode)!==-1&&function(){if(mt._frameQueue.length!==0){for(;mt._frameQueue.length;){var ft=mt._frameQueue.pop();ft.onInterrupt&&ft.onInterrupt()}ut.emit("plotly_animationinterrupted",[])}}(),dt.direction==="reverse"&&Qt.reverse();var ie=ut._fullLayout._currentFrame;if(ie&&dt.fromcurrent){var ye=-1;for($t=0;$t<Qt.length;$t++)if((Zt=Qt[$t]).type==="byname"&&Zt.name===ie){ye=$t;break}if(ye>0&&ye<Qt.length-1){var ot=[];for($t=0;$t<Qt.length;$t++)Zt=Qt[$t],(Qt[$t].type!=="byname"||$t>ye)&&ot.push(Zt);Qt=ot}}Qt.length>0?function(ft){if(ft.length!==0){for(var Lt=0;Lt<ft.length;Lt++){var Pt;Pt=ft[Lt].type==="byname"?h.computeFrame(ut,ft[Lt].name):ft[Lt].data;var It=Nt(Lt),Rt=Tt(Lt);Rt.duration=Math.min(Rt.duration,It.duration);var Vt={frame:Pt,name:ft[Lt].name,frameOpts:It,transitionOpts:Rt};Lt===ft.length-1&&(Vt.onComplete=zt(At,2),Vt.onInterrupt=Ct),mt._frameQueue.push(Vt)}dt.mode==="immediate"&&(mt._lastFrameAt=-1/0),mt._animationRaf||St()}}(Qt):(ut.emit("plotly_animated"),At())})},c.addFrames=function(ut,it,dt){if(ut=i.getGraphDiv(ut),it==null)return Promise.resolve();if(!i.isPlotDiv(ut))throw new Error("This element is not a Plotly plot: "+ut+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var mt,Et,Mt,Tt,Nt=ut._transitionData._frames,zt=ut._transitionData._frameHash;if(!Array.isArray(it))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+it);var At=Nt.length+2*it.length,Ct=[],qt={};for(mt=it.length-1;mt>=0;mt--)if(i.isPlainObject(it[mt])){var St=it[mt].name,$t=(zt[St]||qt[St]||{}).name,Zt=it[mt].name,Yt=zt[$t]||qt[$t];$t&&Zt&&typeof Zt=="number"&&Yt&&w<5&&(w++,i.warn('addFrames: overwriting frame "'+(zt[$t]||qt[$t]).name+'" with a frame whose name of type "number" also equates to "'+$t+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),w===5&&i.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),qt[St]={name:St},Ct.push({frame:h.supplyFrameDefaults(it[mt]),index:dt&&dt[mt]!==void 0&&dt[mt]!==null?dt[mt]:At+mt})}Ct.sort(function(ot,ft){return ot.index>ft.index?-1:ot.index<ft.index?1:0});var re=[],Qt=[],xt=Nt.length;for(mt=Ct.length-1;mt>=0;mt--){if(typeof(Et=Ct[mt].frame).name=="number"&&i.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Et.name)for(;zt[Et.name="frame "+ut._transitionData._counter++];);if(zt[Et.name]){for(Mt=0;Mt<Nt.length&&(Nt[Mt]||{}).name!==Et.name;Mt++);re.push({type:"replace",index:Mt,value:Et}),Qt.unshift({type:"replace",index:Mt,value:Nt[Mt]})}else Tt=Math.max(0,Math.min(Ct[mt].index,xt)),re.push({type:"insert",index:Tt,value:Et}),Qt.unshift({type:"delete",index:Tt}),xt++}var kt=h.modifyFrames,Bt=h.modifyFrames,ie=[ut,Qt],ye=[ut,re];return d&&d.add(ut,kt,ie,Bt,ye),h.modifyFrames(ut,re)},c.deleteFrames=function(ut,it){if(ut=i.getGraphDiv(ut),!i.isPlotDiv(ut))throw new Error("This element is not a Plotly plot: "+ut);var dt,mt,Et=ut._transitionData._frames,Mt=[],Tt=[];if(!it)for(it=[],dt=0;dt<Et.length;dt++)it.push(dt);for((it=it.slice()).sort(),dt=it.length-1;dt>=0;dt--)mt=it[dt],Mt.push({type:"delete",index:mt}),Tt.unshift({type:"insert",index:mt,value:Et[mt]});var Nt=h.modifyFrames,zt=h.modifyFrames,At=[ut,Tt],Ct=[ut,Mt];return d&&d.add(ut,Nt,At,zt,Ct),h.modifyFrames(ut,Mt)},c.addTraces=function ut(it,dt,mt){it=i.getGraphDiv(it);var Et,Mt,Tt=[],Nt=c.deleteTraces,zt=ut,At=[it,Tt],Ct=[it,dt];for(function(qt,St,$t){var Zt,Yt;if(!Array.isArray(qt.data))throw new Error("gd.data must be an array.");if(St===void 0)throw new Error("traces must be defined.");for(Array.isArray(St)||(St=[St]),Zt=0;Zt<St.length;Zt++)if(typeof(Yt=St[Zt])!="object"||Array.isArray(Yt)||Yt===null)throw new Error("all values in traces array must be non-array objects");if($t===void 0||Array.isArray($t)||($t=[$t]),$t!==void 0&&$t.length!==St.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(it,dt,mt),Array.isArray(dt)||(dt=[dt]),dt=dt.map(function(qt){return i.extendFlat({},qt)}),O.cleanData(dt),Et=0;Et<dt.length;Et++)it.data.push(dt[Et]);for(Et=0;Et<dt.length;Et++)Tt.push(-dt.length+Et);if(mt===void 0)return Mt=c.redraw(it),d.add(it,Nt,At,zt,Ct),Mt;Array.isArray(mt)||(mt=[mt]);try{H(it,Tt,mt)}catch(qt){throw it.data.splice(it.data.length-dt.length,dt.length),qt}return d.startSequence(it),d.add(it,Nt,At,zt,Ct),Mt=c.moveTraces(it,Tt,mt),d.stopSequence(it),Mt},c.deleteTraces=function ut(it,dt){it=i.getGraphDiv(it);var mt,Et,Mt=[],Tt=c.addTraces,Nt=ut,zt=[it,Mt,dt],At=[it,dt];if(dt===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(dt)||(dt=[dt]),W(it,dt,"indices"),(dt=j(dt,it.data.length-1)).sort(i.sorterDes),mt=0;mt<dt.length;mt+=1)Et=it.data.splice(dt[mt],1)[0],Mt.push(Et);var Ct=c.redraw(it);return d.add(it,Tt,zt,Nt,At),Ct},c.extendTraces=function ut(it,dt,mt,Et){function Mt(At,Ct,qt){var St,$t;if(i.isTypedArray(At))if(qt<0){var Zt=new At.constructor(0),Yt=K(At,Ct);qt<0?(St=Yt,$t=Zt):(St=Zt,$t=Yt)}else if(St=new At.constructor(qt),$t=new At.constructor(At.length+Ct.length-qt),qt===Ct.length)St.set(Ct),$t.set(At);else if(qt<Ct.length){var re=Ct.length-qt;St.set(Ct.subarray(re)),$t.set(At),$t.set(Ct.subarray(0,re),At.length)}else{var Qt=qt-Ct.length,xt=At.length-Qt;St.set(At.subarray(xt)),St.set(Ct,Qt),$t.set(At.subarray(0,xt))}else St=At.concat(Ct),$t=qt>=0&&qt<St.length?St.splice(0,St.length-qt):[];return[St,$t]}var Tt=B(it=i.getGraphDiv(it),dt,mt,Et,Mt),Nt=c.redraw(it),zt=[it,Tt.update,mt,Tt.maxPoints];return d.add(it,c.prependTraces,zt,ut,arguments),Nt},c.moveTraces=function ut(it,dt,mt){var Et,Mt=[],Tt=[],Nt=ut,zt=ut,At=[it=i.getGraphDiv(it),mt,dt],Ct=[it,dt,mt];if(H(it,dt,mt),dt=Array.isArray(dt)?dt:[dt],mt===void 0)for(mt=[],Et=0;Et<dt.length;Et++)mt.push(-dt.length+Et);for(mt=Array.isArray(mt)?mt:[mt],dt=j(dt,it.data.length-1),mt=j(mt,it.data.length-1),Et=0;Et<it.data.length;Et++)dt.indexOf(Et)===-1&&Mt.push(it.data[Et]);for(Et=0;Et<dt.length;Et++)Tt.push({newIndex:mt[Et],trace:it.data[dt[Et]]});for(Tt.sort(function(St,$t){return St.newIndex-$t.newIndex}),Et=0;Et<Tt.length;Et+=1)Mt.splice(Tt[Et].newIndex,0,Tt[Et].trace);it.data=Mt;var qt=c.redraw(it);return d.add(it,Nt,At,zt,Ct),qt},c.prependTraces=function ut(it,dt,mt,Et){function Mt(At,Ct,qt){var St,$t;if(i.isTypedArray(At))if(qt<=0){var Zt=new At.constructor(0),Yt=K(Ct,At);qt<0?(St=Yt,$t=Zt):(St=Zt,$t=Yt)}else if(St=new At.constructor(qt),$t=new At.constructor(At.length+Ct.length-qt),qt===Ct.length)St.set(Ct),$t.set(At);else if(qt<Ct.length){var re=Ct.length-qt;St.set(Ct.subarray(0,re)),$t.set(Ct.subarray(re)),$t.set(At,re)}else{var Qt=qt-Ct.length;St.set(Ct),St.set(At.subarray(0,Qt),Ct.length),$t.set(At.subarray(Qt))}else St=Ct.concat(At),$t=qt>=0&&qt<St.length?St.splice(qt,St.length):[];return[St,$t]}var Tt=B(it=i.getGraphDiv(it),dt,mt,Et,Mt),Nt=c.redraw(it),zt=[it,Tt.update,mt,Tt.maxPoints];return d.add(it,c.extendTraces,zt,ut,arguments),Nt},c.newPlot=function(ut,it,dt,mt){return ut=i.getGraphDiv(ut),h.cleanPlot([],{},ut._fullData||[],ut._fullLayout||{}),h.purge(ut),c._doPlot(ut,it,dt,mt)},c._doPlot=function(ut,it,dt,mt){var Et;if(ut=i.getGraphDiv(ut),p.init(ut),i.isPlainObject(it)){var Mt=it;it=Mt.data,dt=Mt.layout,mt=Mt.config,Et=Mt.frames}if(p.triggerHandler(ut,"plotly_beforeplot",[it,dt,mt])===!1)return Promise.reject();it||dt||i.isPlotDiv(ut)||i.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ut),V(ut,mt),dt||(dt={}),n.select(ut).classed("js-plotly-plot",!0),v.makeTester(),Array.isArray(ut._promises)||(ut._promises=[]);var Tt=(ut.data||[]).length===0&&Array.isArray(it);Array.isArray(it)&&(O.cleanData(it),Tt?ut.data=it:ut.data.push.apply(ut.data,it),ut.empty=!1),ut.layout&&!Tt||(ut.layout=O.cleanLayout(dt)),h.supplyDefaults(ut);var Nt=ut._fullLayout,zt=Nt._has("cartesian");Nt._replotting=!0,(Tt||Nt._shouldCreateBgLayer)&&(function(Qt){var xt=n.select(Qt),kt=Qt._fullLayout;if(kt._calcInverseTransform=yt,kt._calcInverseTransform(Qt),kt._container=xt.selectAll(".plot-container").data([0]),kt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),kt._paperdiv=kt._container.selectAll(".svg-container").data([0]),kt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),kt._glcontainer=kt._paperdiv.selectAll(".gl-container").data([{}]),kt._glcontainer.enter().append("div").classed("gl-container",!0),kt._paperdiv.selectAll(".main-svg").remove(),kt._paperdiv.select(".modebar-container").remove(),kt._paper=kt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),kt._toppaper=kt._paperdiv.append("svg").classed("main-svg",!0),kt._modebardiv=kt._paperdiv.append("div"),delete kt._modeBar,kt._hoverpaper=kt._paperdiv.append("svg").classed("main-svg",!0),!kt._uid){var Bt={};n.selectAll("defs").each(function(){this.id&&(Bt[this.id.split("-")[1]]=1)}),kt._uid=i.randstr(Bt)}kt._paperdiv.selectAll(".main-svg").attr(_.svgAttrs),kt._defs=kt._paper.append("defs").attr("id","defs-"+kt._uid),kt._clips=kt._defs.append("g").classed("clips",!0),kt._topdefs=kt._toppaper.append("defs").attr("id","topdefs-"+kt._uid),kt._topclips=kt._topdefs.append("g").classed("clips",!0),kt._bgLayer=kt._paper.append("g").classed("bglayer",!0),kt._draggers=kt._paper.append("g").classed("draglayer",!0);var ie=kt._paper.append("g").classed("layer-below",!0);kt._imageLowerLayer=ie.append("g").classed("imagelayer",!0),kt._shapeLowerLayer=ie.append("g").classed("shapelayer",!0),kt._cartesianlayer=kt._paper.append("g").classed("cartesianlayer",!0),kt._polarlayer=kt._paper.append("g").classed("polarlayer",!0),kt._ternarylayer=kt._paper.append("g").classed("ternarylayer",!0),kt._geolayer=kt._paper.append("g").classed("geolayer",!0),kt._funnelarealayer=kt._paper.append("g").classed("funnelarealayer",!0),kt._pielayer=kt._paper.append("g").classed("pielayer",!0),kt._iciclelayer=kt._paper.append("g").classed("iciclelayer",!0),kt._treemaplayer=kt._paper.append("g").classed("treemaplayer",!0),kt._sunburstlayer=kt._paper.append("g").classed("sunburstlayer",!0),kt._indicatorlayer=kt._toppaper.append("g").classed("indicatorlayer",!0),kt._glimages=kt._paper.append("g").classed("glimages",!0);var ye=kt._toppaper.append("g").classed("layer-above",!0);kt._imageUpperLayer=ye.append("g").classed("imagelayer",!0),kt._shapeUpperLayer=ye.append("g").classed("shapelayer",!0),kt._infolayer=kt._toppaper.append("g").classed("infolayer",!0),kt._menulayer=kt._toppaper.append("g").classed("menulayer",!0),kt._zoomlayer=kt._toppaper.append("g").classed("zoomlayer",!0),kt._hoverlayer=kt._hoverpaper.append("g").classed("hoverlayer",!0),kt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Qt.emit("plotly_framework")}(ut),Nt._shouldCreateBgLayer&&delete Nt._shouldCreateBgLayer),v.initGradients(ut),v.initPatterns(ut),Tt&&m.saveShowSpikeInitial(ut);var At=!ut.calcdata||ut.calcdata.length!==(ut._fullData||[]).length;At&&h.doCalcdata(ut);for(var Ct=0;Ct<ut.calcdata.length;Ct++)ut.calcdata[Ct][0].trace=ut._fullData[Ct];ut._context.responsive?ut._responsiveChartHandler||(ut._responsiveChartHandler=function(){i.isHidden(ut)||h.resize(ut)},window.addEventListener("resize",ut._responsiveChartHandler)):i.clearResponsive(ut);var qt=i.extendFlat({},Nt._size),St=0;function $t(){if(h.clearAutoMarginIds(ut),A.drawMarginPushers(ut),m.allowAutoMargin(ut),Nt._has("pie"))for(var Qt=ut._fullData,xt=0;xt<Qt.length;xt++){var kt=Qt[xt];kt.type==="pie"&&kt.automargin&&h.allowAutoMargin(ut,"pie."+kt.uid+".automargin")}return h.doAutoMargin(ut),h.previousPromises(ut)}function Zt(){ut._transitioning||(A.doAutoRangeAndConstraints(ut),Tt&&m.saveRangeInitial(ut),f.getComponentMethod("rangeslider","calcAutorange")(ut))}var Yt=[h.previousPromises,function(){if(Et)return c.addFrames(ut,Et)},function Qt(){for(var xt=Nt._basePlotModules,kt=0;kt<xt.length;kt++)xt[kt].drawFramework&&xt[kt].drawFramework(ut);!Nt._glcanvas&&Nt._has("gl")&&(Nt._glcanvas=Nt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(ot){return ot.key}),Nt._glcanvas.enter().append("canvas").attr("class",function(ot){return"gl-canvas gl-canvas-"+ot.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Bt=ut._context.plotGlPixelRatio;if(Nt._glcanvas){Nt._glcanvas.attr("width",Nt.width*Bt).attr("height",Nt.height*Bt).style("width",Nt.width+"px").style("height",Nt.height+"px");var ie=Nt._glcanvas.data()[0].regl;if(ie&&(Math.floor(Nt.width*Bt)!==ie._gl.drawingBufferWidth||Math.floor(Nt.height*Bt)!==ie._gl.drawingBufferHeight)){var ye="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!St)return i.log(ye+" Clearing graph and plotting again."),h.cleanPlot([],{},ut._fullData,Nt),h.supplyDefaults(ut),Nt=ut._fullLayout,h.doCalcdata(ut),St++,Qt();i.error(ye)}}return Nt.modebar.orientation==="h"?Nt._modebardiv.style("height",null).style("width","100%"):Nt._modebardiv.style("width",null).style("height",Nt.height+"px"),h.previousPromises(ut)},$t,function(){if(h.didMarginChange(qt,Nt._size))return i.syncOrAsync([$t,A.layoutStyles],ut)}];zt&&Yt.push(function(){if(At)return i.syncOrAsync([f.getComponentMethod("shapes","calcAutorange"),f.getComponentMethod("annotations","calcAutorange"),Zt],ut);Zt()}),Yt.push(A.layoutStyles),zt&&Yt.push(function(){return m.draw(ut,Tt?"":"redraw")},function(Qt){Qt._fullLayout._insideTickLabelsAutorange&&Q(Qt,Qt._fullLayout._insideTickLabelsAutorange).then(function(){Qt._fullLayout._insideTickLabelsAutorange=void 0})}),Yt.push(A.drawData,A.finalDraw,k,h.addLinks,h.rehover,h.redrag,h.doAutoMargin,function(Qt){Qt._fullLayout._insideTickLabelsAutorange&&Tt&&m.saveRangeInitial(Qt,!0)},h.previousPromises);var re=i.syncOrAsync(Yt,ut);return re&&re.then||(re=Promise.resolve()),re.then(function(){return E(ut),ut})},c.purge=function(ut){var it=(ut=i.getGraphDiv(ut))._fullLayout||{},dt=ut._fullData||[];return h.cleanPlot([],{},dt,it),h.purge(ut),p.purge(ut),it._container&&it._container.remove(),delete ut._context,ut},c.react=function(ut,it,dt,mt){var Et,Mt;ut=i.getGraphDiv(ut),O.clearPromiseQueue(ut);var Tt=ut._fullData,Nt=ut._fullLayout;if(i.isPlotDiv(ut)&&Tt&&Nt){if(i.isPlainObject(it)){var zt=it;it=zt.data,dt=zt.layout,mt=zt.config,Et=zt.frames}var At=!1;if(mt){var Ct=i.extendDeep({},ut._context);ut._context=void 0,V(ut,mt),At=function Vt(Jt,ae){var ce;for(ce in Jt)if(ce.charAt(0)!=="_"){var le=Jt[ce],se=ae[ce];if(le!==se)if(i.isPlainObject(le)&&i.isPlainObject(se)){if(Vt(le,se))return!0}else{if(!Array.isArray(le)||!Array.isArray(se)||le.length!==se.length)return!0;for(var pe=0;pe<le.length;pe++)if(le[pe]!==se[pe]&&(!i.isPlainObject(le[pe])||!i.isPlainObject(se[pe])||Vt(le[pe],se[pe])))return!0}}}(Ct,ut._context)}ut.data=it||[],O.cleanData(ut.data),ut.layout=dt||{},O.cleanLayout(ut.layout),function(Vt,Jt,ae,ce){var le,se,pe,we,me,ee,ue,Te,Me=ce._preGUI,Ce=[],fe={};for(le in Me){if(me=gt(le,ct)){if(se=me.attr||me.head+".uirevision",(we=(pe=l(ce,se).get())&&wt(se,Jt))&&we===pe&&((ee=Me[le])===null&&(ee=void 0),Ht(Te=(ue=l(Jt,le)).get(),ee))){Te===void 0&&le.substr(le.length-9)==="autorange"&&Ce.push(le.substr(0,le.length-10)),ue.set(G(l(ce,le).get()));continue}}else i.warn("unrecognized GUI edit: "+le);delete Me[le],le.substr(le.length-8,6)==="range["&&(fe[le.substr(0,le.length-9)]=1)}for(var _e=0;_e<Ce.length;_e++){var Le=Ce[_e];if(fe[Le]){var he=l(Jt,Le).get();he&&delete he.autorange}}var Se=ce._tracePreGUI;for(var de in Se){var Re,Ee=Se[de],De=null;for(le in Ee){if(!De){var je=Ot(de,ae);if(je<0){delete Se[de];break}var Je=bt(de,Vt,(Re=ae[je]._fullInput).index);if(Je<0){delete Se[de];break}De=Vt[Je]}if(me=gt(le,st)){if(me.attr?we=(pe=l(ce,me.attr).get())&&wt(me.attr,Jt):(pe=Re.uirevision,(we=De.uirevision)===void 0&&(we=Jt.uirevision)),we&&we===pe&&((ee=Ee[le])===null&&(ee=void 0),Ht(Te=(ue=l(De,le)).get(),ee))){ue.set(G(l(Re,le).get()));continue}}else i.warn("unrecognized GUI edit: "+le+" in trace uid "+de);delete Ee[le]}}}(ut.data,ut.layout,Tt,Nt),h.supplyDefaults(ut,{skipUpdateCalc:!0});var qt=ut._fullData,St=ut._fullLayout,$t=St.datarevision===void 0,Zt=St.transition,Yt=function(Vt,Jt,ae,ce,le){var se=C.layoutFlags();function pe(we){return u.getLayoutValObject(ae,we)}return se.arrays={},se.rangesAltered={},se.nChanges=0,se.nChangesAnim=0,Dt(Jt,ae,[],{getValObject:pe,flags:se,immutable:ce,transition:le,gd:Vt}),(se.plot||se.calc)&&(se.layoutReplot=!0),le&&se.nChanges&&se.nChangesAnim&&(se.anim=se.nChanges===se.nChangesAnim?"all":"some"),se}(ut,Nt,St,$t,Zt),re=Yt.newDataRevision,Qt=function(Vt,Jt,ae,ce,le,se){var pe=Jt.length===ae.length;if(!le&&!pe)return{fullReplot:!0,calc:!0};var we,me,ee=C.traceFlags();ee.arrays={},ee.nChanges=0,ee.nChangesAnim=0;var ue={getValObject:function(Me){var Ce=u.getTraceValObject(me,Me);return!me._module.animatable&&Ce.anim&&(Ce.anim=!1),Ce},flags:ee,immutable:ce,transition:le,newDataRevision:se,gd:Vt},Te={};for(we=0;we<Jt.length;we++)if(ae[we]){if(me=ae[we]._fullInput,h.hasMakesDataTransform(me)&&(me=ae[we]),Te[me.uid])continue;Te[me.uid]=1,Dt(Jt[we]._fullInput,me,[],ue)}return(ee.calc||ee.plot)&&(ee.fullReplot=!0),le&&ee.nChanges&&ee.nChangesAnim&&(ee.anim=ee.nChanges===ee.nChangesAnim&&pe?"all":"some"),ee}(ut,Tt,qt,$t,Zt,re);if(tt(ut)&&(Yt.layoutReplot=!0),Qt.calc||Yt.calc){ut.calcdata=void 0;for(var xt=Object.getOwnPropertyNames(St),kt=0;kt<xt.length;kt++){var Bt=xt[kt],ie=Bt.substring(0,5);if(ie==="xaxis"||ie==="yaxis"){var ye=St[Bt]._emptyCategories;ye&&ye()}}}else h.supplyDefaultsUpdateCalc(ut.calcdata,qt);var ot=[];if(Et&&(ut._transitionData={},h.createTransitionData(ut),ot.push(function(){return c.addFrames(ut,Et)})),St.transition&&!At&&(Qt.anim||Yt.anim))Yt.ticks&&ot.push(A.doTicksRelayout),h.doCalcdata(ut),A.doAutoRangeAndConstraints(ut),ot.push(function(){return h.transitionFromReact(ut,Qt,Yt,Nt)});else if(Qt.fullReplot||Yt.layoutReplot||At)ut._fullLayout._skipDefaults=!0,ot.push(c._doPlot);else{for(var ft in Yt.arrays){var Lt=Yt.arrays[ft];if(Lt.length){var Pt=f.getComponentMethod(ft,"drawOne");if(Pt!==i.noop)for(var It=0;It<Lt.length;It++)Pt(ut,Lt[It]);else{var Rt=f.getComponentMethod(ft,"draw");if(Rt===i.noop)throw new Error("cannot draw components: "+ft);Rt(ut)}}}ot.push(h.previousPromises),Qt.style&&ot.push(A.doTraceStyle),(Qt.colorbars||Yt.colorbars)&&ot.push(A.doColorBars),Yt.legend&&ot.push(A.doLegend),Yt.layoutstyle&&ot.push(A.layoutStyles),Yt.axrange&&z(ot),Yt.ticks&&ot.push(A.doTicksRelayout),Yt.modebar&&ot.push(A.doModeBar),Yt.camera&&ot.push(A.doCamera),ot.push(E)}ot.push(h.rehover,h.redrag),(Mt=i.syncOrAsync(ot,ut))&&Mt.then||(Mt=Promise.resolve(ut))}else Mt=c.newPlot(ut,it,dt,mt);return Mt.then(function(){return ut.emit("plotly_react",{data:it,layout:dt}),ut})},c.redraw=function(ut){if(ut=i.getGraphDiv(ut),!i.isPlotDiv(ut))throw new Error("This element is not a Plotly plot: "+ut);return O.cleanData(ut.data),O.cleanLayout(ut.layout),ut.calcdata=void 0,c._doPlot(ut).then(function(){return ut.emit("plotly_redraw"),ut})},c.relayout=Q,c.restyle=et,c.setPlotConfig=function(ut){return i.extendFlat(b,ut)},c.update=rt,c._guiRelayout=nt(Q),c._guiRestyle=nt(et),c._guiUpdate=nt(rt),c._storeDirectGUIEdit=function(ut,it,dt){for(var mt in dt)D(mt,l(ut,mt).get(),dt[mt],it)}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"../lib/events":225,"../lib/queue":247,"../plots/cartesian/axes":279,"../plots/cartesian/constants":286,"../plots/cartesian/graph_interact":289,"../plots/cartesian/select":299,"../plots/plots":314,"../registry":316,"./edit_types":261,"./helpers":262,"./manage_arrays":264,"./plot_config":266,"./plot_schema":267,"./subroutines":269,"@plotly/d3":11,"fast-isnumeric":17,"has-hover":48}],266:[function(t,s,c){var n={staticPlot:{valType:"boolean",dflt:!1},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},a={};(function o(i,l){for(var p in i){var d=i[p];d.valType?l[p]=d.dflt:(l[p]||(l[p]={}),o(d,l[p]))}})(n,a),s.exports={configAttributes:n,dfltConfig:a}},{}],267:[function(t,s,c){var n=t("../registry"),a=t("../lib"),o=t("../plots/attributes"),i=t("../plots/layout_attributes"),l=t("../plots/frame_attributes"),p=t("../plots/animation_attributes"),d=t("./plot_config").configAttributes,f=t("./edit_types"),u=a.extendDeepAll,h=a.isPlainObject,m=a.isArrayOrTypedArray,v=a.nestedProperty,y=a.valObjectMeta,k=["_isSubplotObj","_isLinkedToArray","_arrayAttrRegexps","_deprecated"];function _(L,w,E){if(!L)return!1;if(L._isLinkedToArray){if(T(w[E]))E++;else if(E<w.length)return!1}for(;E<w.length;E++){var I=L[w[E]];if(!h(I)||(L=I,E===w.length-1))break;if(L._isLinkedToArray){if(!T(w[++E]))return!1}else if(L.valType==="info_array"){var M=w[++E];if(!T(M))return!1;var V=L.items;if(Array.isArray(V)){if(M>=V.length)return!1;if(L.dimensions===2){if(E++,w.length===E)return L;var j=w[E];if(!T(j))return!1;L=V[M][j]}else L=V[M]}else L=V}}return L}function T(L){return L===Math.round(L)&&L>=0}function b(){var L,w,E={};for(L in u(E,i),n.subplotsRegistry)if((w=n.subplotsRegistry[L]).layoutAttributes)if(Array.isArray(w.attr))for(var I=0;I<w.attr.length;I++)A(E,w,w.attr[I]);else A(E,w,w.attr==="subplot"?w.name:w.attr);for(L in n.componentsRegistry){var M=(w=n.componentsRegistry[L]).schema;if(M&&(M.subplots||M.layout)){var V=M.subplots;if(V&&V.xaxis&&!V.yaxis)for(var j in V.xaxis)delete E.yaxis[j]}else w.name==="colorscale"?u(E,w.layoutAttributes):w.layoutAttributes&&C(E,w.layoutAttributes,w.name)}return{layoutAttributes:O(E)}}function x(){var L={frames:u({},l)};return O(L),L.frames}function O(L){return function(w){c.crawl(w,function(E,I,M){c.isValObject(E)?E.arrayOk!==!0&&E.valType!=="data_array"||(M[I+"src"]={valType:"string",editType:"none"}):h(E)&&(E.role="object")})}(L),function(w){c.crawl(w,function(E,I,M){if(E){var V=E._isLinkedToArray;V&&(delete E._isLinkedToArray,M[I]={items:{}},M[I].items[V]=E,M[I].role="object")}})}(L),function(w){(function E(I){for(var M in I)if(h(I[M]))E(I[M]);else if(Array.isArray(I[M]))for(var V=0;V<I[M].length;V++)E(I[M][V]);else I[M]instanceof RegExp&&(I[M]=I[M].toString())})(w)}(L),L}function A(L,w,E){var I=v(L,E),M=u({},w.layoutAttributes);M._isSubplotObj=!0,I.set(M)}function C(L,w,E){var I=v(L,E);I.set(u(I.get()||{},w))}c.IS_SUBPLOT_OBJ="_isSubplotObj",c.IS_LINKED_TO_ARRAY="_isLinkedToArray",c.DEPRECATED="_deprecated",c.UNDERSCORE_ATTRS=k,c.get=function(){var L={};n.allTypes.forEach(function(E){L[E]=function(I){var M,V;M=n.modules[I]._module,V=M.basePlotModule;var j={type:null},W=u({},o),H=u({},M.attributes);c.crawl(H,function(et,G,Y,D,U){v(W,U).set(void 0),et===void 0&&v(H,U).set(void 0)}),u(j,W),n.traceIs(I,"noOpacity")&&delete j.opacity,n.traceIs(I,"showLegend")||(delete j.showlegend,delete j.legendgroup),n.traceIs(I,"noHover")&&(delete j.hoverinfo,delete j.hoverlabel),M.selectPoints||delete j.selectedpoints,u(j,H),V.attributes&&u(j,V.attributes),j.type=I;var B={meta:M.meta||{},categories:M.categories||{},animatable:Boolean(M.animatable),type:I,attributes:O(j)};if(M.layoutAttributes){var K={};u(K,M.layoutAttributes),B.layoutAttributes=O(K)}return M.animatable||c.crawl(B,function(et){c.isValObject(et)&&"anim"in et&&delete et.anim}),B}(E)});var w={};return Object.keys(n.transformsRegistry).forEach(function(E){w[E]=function(I){var M=n.transformsRegistry[I],V=u({},M.attributes);return Object.keys(n.componentsRegistry).forEach(function(j){var W=n.componentsRegistry[j];W.schema&&W.schema.transforms&&W.schema.transforms[I]&&Object.keys(W.schema.transforms[I]).forEach(function(H){C(V,W.schema.transforms[I][H],H)})}),{attributes:O(V)}}(E)}),{defs:{valObjects:y,metaKeys:k.concat(["description","role","editType","impliedEdits"]),editType:{traces:f.traces,layout:f.layout},impliedEdits:{}},traces:L,layout:b(),transforms:w,frames:x(),animation:O(p),config:O(d)}},c.crawl=function(L,w,E,I){var M=E||0;I=I||"",Object.keys(L).forEach(function(V){var j=L[V];if(k.indexOf(V)===-1){var W=(I?I+".":"")+V;w(j,V,L,M,W),c.isValObject(j)||h(j)&&V!=="impliedEdits"&&c.crawl(j,w,M+1,W)}})},c.isValObject=function(L){return L&&L.valType!==void 0},c.findArrayAttributes=function(L){var w,E,I=[],M=[],V=[];function j(et,G,Y,D){M=M.slice(0,D).concat([G]),V=V.slice(0,D).concat([et&&et._isLinkedToArray]),et&&(et.valType==="data_array"||et.arrayOk===!0)&&!(M[D-1]==="colorbar"&&(G==="ticktext"||G==="tickvals"))&&function U($,Q,F){var z=$[M[Q]],P=F+M[Q];if(Q===M.length-1)m(z)&&I.push(E+P);else if(V[Q]){if(Array.isArray(z))for(var Z=0;Z<z.length;Z++)h(z[Z])&&U(z[Z],Q+1,P+"["+Z+"].")}else h(z)&&U(z,Q+1,P+".")}(w,0,"")}w=L,E="",c.crawl(o,j),L._module&&L._module.attributes&&c.crawl(L._module.attributes,j);var W=L.transforms;if(W)for(var H=0;H<W.length;H++){var B=W[H],K=B._module;K&&(E="transforms["+H+"].",w=B,c.crawl(K.attributes,j))}return I},c.getTraceValObject=function(L,w){var E,I,M=w[0],V=1;if(M==="transforms"){if(w.length===1)return o.transforms;var j=L.transforms;if(!Array.isArray(j)||!j.length)return!1;var W=w[1];if(!T(W)||W>=j.length)return!1;I=(E=(n.transformsRegistry[j[W].type]||{}).attributes)&&E[w[2]],V=3}else{var H=L._module;if(H||(H=(n.modules[L.type||o.type.dflt]||{})._module),!H)return!1;if(!(I=(E=H.attributes)&&E[M])){var B=H.basePlotModule;B&&B.attributes&&(I=B.attributes[M])}I||(I=o[M])}return _(I,w,V)},c.getLayoutValObject=function(L,w){return _(function(E,I){var M,V,j,W,H=E._basePlotModules;if(H){var B;for(M=0;M<H.length;M++){if((j=H[M]).attrRegex&&j.attrRegex.test(I)){if(j.layoutAttrOverrides)return j.layoutAttrOverrides;!B&&j.layoutAttributes&&(B=j.layoutAttributes)}var K=j.baseLayoutAttrOverrides;if(K&&I in K)return K[I]}if(B)return B}var et=E._modules;if(et){for(M=0;M<et.length;M++)if((W=et[M].layoutAttributes)&&I in W)return W[I]}for(V in n.componentsRegistry){if((j=n.componentsRegistry[V]).name==="colorscale"&&I.indexOf("coloraxis")===0)return j.layoutAttributes[I];if(!j.schema&&I===j.name)return j.layoutAttributes}return I in i&&i[I]}(L,w[0]),w,1)}},{"../lib":232,"../plots/animation_attributes":273,"../plots/attributes":275,"../plots/frame_attributes":309,"../plots/layout_attributes":312,"../registry":316,"./edit_types":261,"./plot_config":266}],268:[function(t,s,c){var n=t("../lib"),a=t("../plots/attributes"),o={name:{valType:"string",editType:"none"}};function i(p){return p&&typeof p=="string"}function l(p){var d=p.length-1;return p.charAt(d)!=="s"&&n.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}o.templateitemname={valType:"string",editType:"calc"},c.templatedArray=function(p,d){return d._isLinkedToArray=p,d.name=o.name,d.templateitemname=o.templateitemname,d},c.traceTemplater=function(p){var d,f,u={};for(d in p)f=p[d],Array.isArray(f)&&f.length&&(u[d]=0);return{newTrace:function(h){var m={type:d=n.coerce(h,{},a,"type"),_template:null};if(d in u){f=p[d];var v=u[d]%f.length;u[d]++,m._template=f[v]}return m}}},c.newContainer=function(p,d,f){var u=p._template,h=u&&(u[d]||f&&u[f]);return n.isPlainObject(h)||(h=null),p[d]={_template:h}},c.arrayTemplater=function(p,d,f){var u=p._template,h=u&&u[l(d)],m=u&&u[d];Array.isArray(m)&&m.length||(m=[]);var v={};return{newItem:function(y){var k={name:y.name,_input:y},_=k.templateitemname=y.templateitemname;if(!i(_))return k._template=h,k;for(var T=0;T<m.length;T++){var b=m[T];if(b.name===_)return v[_]=1,k._template=b,k}return k[f]=y[f]||!1,k._template=!1,k},defaultItems:function(){for(var y=[],k=0;k<m.length;k++){var _=m[k],T=_.name;if(i(T)&&!v[T]){var b={_template:_,name:T,_input:{_templateitemname:T}};b.templateitemname=_.templateitemname,y.push(b),v[T]=1}}return y}}},c.arrayDefaultKey=l,c.arrayEditor=function(p,d,f){var u=(n.nestedProperty(p,d).get()||[]).length,h=f._index,m=h>=u&&(f._input||{})._templateitemname;m&&(h=u);var v,y=d+"["+h+"]";function k(){v={},m&&(v[y]={},v[y].templateitemname=m)}function _(b,x){m?n.nestedProperty(v[y],b).set(x):v[y+"."+b]=x}function T(){var b=v;return k(),b}return k(),{modifyBase:function(b,x){v[b]=x},modifyItem:_,getUpdateObj:T,applyUpdate:function(b,x){b&&_(b,x);var O=T();for(var A in O)n.nestedProperty(p,A).set(O[A])}}}},{"../lib":232,"../plots/attributes":275}],269:[function(t,s,c){var n=t("@plotly/d3"),a=t("../registry"),o=t("../plots/plots"),i=t("../lib"),l=t("../lib/clear_gl_canvases"),p=t("../components/color"),d=t("../components/drawing"),f=t("../components/titles"),u=t("../components/modebar"),h=t("../plots/cartesian/axes"),m=t("../constants/alignment"),v=t("../plots/cartesian/constraints"),y=v.enforce,k=v.clean,_=t("../plots/cartesian/autorange").doAutoRange;function T(w,E,I){for(var M=0;M<I.length;M++){var V=I[M][0],j=I[M][1];if(!(V[0]>=w[1]||V[1]<=w[0])&&j[0]<E[1]&&j[1]>E[0])return!0}return!1}function b(w){var E,I,M,V,j,W,H=w._fullLayout,B=H._size,K=B.p,et=h.list(w,"",!0);if(H._paperdiv.style({width:w._context.responsive&&H.autosize&&!w._context._hasZeroWidth&&!w.layout.width?"100%":H.width+"px",height:w._context.responsive&&H.autosize&&!w._context._hasZeroHeight&&!w.layout.height?"100%":H.height+"px"}).selectAll(".main-svg").call(d.setSize,H.width,H.height),w._context.setBackground(w,H.paper_bgcolor),c.drawMainTitle(w),u.manage(w),!H._has("cartesian"))return o.previousPromises(w);function G(St,$t,Zt){var Yt=St._lw/2;return St._id.charAt(0)==="x"?$t?Zt==="top"?$t._offset-K-Yt:$t._offset+$t._length+K+Yt:B.t+B.h*(1-(St.position||0))+Yt%1:$t?Zt==="right"?$t._offset+$t._length+K+Yt:$t._offset-K-Yt:B.l+B.w*(St.position||0)+Yt%1}for(E=0;E<et.length;E++){var Y=(V=et[E])._anchorAxis;V._linepositions={},V._lw=d.crispRound(w,V.linewidth,1),V._mainLinePosition=G(V,Y,V.side),V._mainMirrorPosition=V.mirror&&Y?G(V,Y,m.OPPOSITE_SIDE[V.side]):null}var D=[],U=[],$=[],Q=p.opacity(H.paper_bgcolor)===1&&p.opacity(H.plot_bgcolor)===1&&H.paper_bgcolor===H.plot_bgcolor;for(I in H._plots)if((M=H._plots[I]).mainplot)M.bg&&M.bg.remove(),M.bg=void 0;else{var F=M.xaxis.domain,z=M.yaxis.domain,P=M.plotgroup;if(T(F,z,$)){var Z=P.node(),R=M.bg=i.ensureSingle(P,"rect","bg");Z.insertBefore(R.node(),Z.childNodes[0]),U.push(I)}else P.select("rect.bg").remove(),$.push([F,z]),Q||(D.push(I),U.push(I))}var q,tt,rt,nt,ct,st,gt,wt,Ot,bt,Ht,Dt,yt,ut=H._bgLayer.selectAll(".bg").data(D);for(ut.enter().append("rect").classed("bg",!0),ut.exit().remove(),ut.each(function(St){H._plots[St].bg=n.select(this)}),E=0;E<U.length;E++)M=H._plots[U[E]],j=M.xaxis,W=M.yaxis,M.bg&&j._offset!==void 0&&W._offset!==void 0&&M.bg.call(d.setRect,j._offset-K,W._offset-K,j._length+2*K,W._length+2*K).call(p.fill,H.plot_bgcolor).style("stroke-width",0);if(!H._hasOnlyLargeSploms)for(I in H._plots){M=H._plots[I],j=M.xaxis,W=M.yaxis;var it,dt,mt=M.clipId="clip"+H._uid+I+"plot",Et=i.ensureSingleById(H._clips,"clipPath",mt,function(St){St.classed("plotclip",!0).append("rect")});M.clipRect=Et.select("rect").attr({width:j._length,height:W._length}),d.setTranslate(M.plot,j._offset,W._offset),M._hasClipOnAxisFalse?(it=null,dt=mt):(it=mt,dt=null),d.setClipUrl(M.plot,it,w),M.layerClipId=dt}function Mt(St){return"M"+q+","+St+"H"+tt}function Tt(St){return"M"+j._offset+","+St+"h"+j._length}function Nt(St){return"M"+St+","+wt+"V"+gt}function zt(St){return"M"+St+","+W._offset+"v"+W._length}function At(St,$t,Zt){if(!St.showline||I!==St._mainSubplot)return"";if(!St._anchorAxis)return Zt(St._mainLinePosition);var Yt=$t(St._mainLinePosition);return St.mirror&&(Yt+=$t(St._mainMirrorPosition)),Yt}for(I in H._plots){M=H._plots[I],j=M.xaxis,W=M.yaxis;var Ct="M0,0";x(j,I)&&(ct=A(j,"left",W,et),q=j._offset-(ct?K+ct:0),st=A(j,"right",W,et),tt=j._offset+j._length+(st?K+st:0),rt=G(j,W,"bottom"),nt=G(j,W,"top"),!(yt=!j._anchorAxis||I!==j._mainSubplot)||j.mirror!=="allticks"&&j.mirror!=="all"||(j._linepositions[I]=[rt,nt]),Ct=At(j,Mt,Tt),yt&&j.showline&&(j.mirror==="all"||j.mirror==="allticks")&&(Ct+=Mt(rt)+Mt(nt)),M.xlines.style("stroke-width",j._lw+"px").call(p.stroke,j.showline?j.linecolor:"rgba(0,0,0,0)")),M.xlines.attr("d",Ct);var qt="M0,0";x(W,I)&&(Ht=A(W,"bottom",j,et),gt=W._offset+W._length+(Ht?K:0),Dt=A(W,"top",j,et),wt=W._offset-(Dt?K:0),Ot=G(W,j,"left"),bt=G(W,j,"right"),!(yt=!W._anchorAxis||I!==W._mainSubplot)||W.mirror!=="allticks"&&W.mirror!=="all"||(W._linepositions[I]=[Ot,bt]),qt=At(W,Nt,zt),yt&&W.showline&&(W.mirror==="all"||W.mirror==="allticks")&&(qt+=Nt(Ot)+Nt(bt)),M.ylines.style("stroke-width",W._lw+"px").call(p.stroke,W.showline?W.linecolor:"rgba(0,0,0,0)")),M.ylines.attr("d",qt)}return h.makeClipPaths(w),o.previousPromises(w)}function x(w,E){return(w.ticks||w.showline)&&(E===w._mainSubplot||w.mirror==="all"||w.mirror==="allticks")}function O(w,E,I){if(!I.showline||!I._lw)return!1;if(I.mirror==="all"||I.mirror==="allticks")return!0;var M=I._anchorAxis;if(!M)return!1;var V=m.FROM_BL[E];return I.side===E?M.domain[V]===w.domain[V]:I.mirror&&M.domain[1-V]===w.domain[1-V]}function A(w,E,I,M){if(O(w,E,I))return I._lw;for(var V=0;V<M.length;V++){var j=M[V];if(j._mainAxis===I._mainAxis&&O(w,E,j))return j._lw}return 0}function C(w,E){var I=w.title,M=w._size,V=0;switch(E==="start"?V=I.pad.l:E==="end"&&(V=-I.pad.r),I.xref){case"paper":return M.l+M.w*I.x+V;case"container":default:return w.width*I.x+V}}function L(w,E){var I=w.title,M=w._size,V=0;if(E!=="0em"&&E?E===m.CAP_SHIFT+"em"&&(V=I.pad.t):V=-I.pad.b,I.y==="auto")return M.t/2;switch(I.yref){case"paper":return M.t+M.h-M.h*I.y+V;case"container":default:return w.height-w.height*I.y+V}}c.layoutStyles=function(w){return i.syncOrAsync([o.doAutoMargin,b],w)},c.drawMainTitle=function(w){var E=w._fullLayout,I=function(V){var j=V.title,W="middle";return i.isRightAnchor(j)?W="end":i.isLeftAnchor(j)&&(W="start"),W}(E),M=function(V){var j=V.title,W="0em";return i.isTopAnchor(j)?W=m.CAP_SHIFT+"em":i.isMiddleAnchor(j)&&(W=m.MID_SHIFT+"em"),W}(E);f.draw(w,"gtitle",{propContainer:E,propName:"title.text",placeholder:E._dfltTitle.plot,attributes:{x:C(E,I),y:L(E,M),"text-anchor":I,dy:M}})},c.doTraceStyle=function(w){var E,I=w.calcdata,M=[];for(E=0;E<I.length;E++){var V=I[E],j=V[0]||{},W=j.trace||{},H=W._module||{},B=H.arraysToCalcdata;B&&B(V,W);var K=H.editStyle;K&&M.push({fn:K,cd0:j})}if(M.length){for(E=0;E<M.length;E++){var et=M[E];et.fn(w,et.cd0)}l(w),c.redrawReglTraces(w)}return o.style(w),a.getComponentMethod("legend","draw")(w),o.previousPromises(w)},c.doColorBars=function(w){return a.getComponentMethod("colorbar","draw")(w),o.previousPromises(w)},c.layoutReplot=function(w){var E=w.layout;return w.layout=void 0,a.call("_doPlot",w,"",E)},c.doLegend=function(w){return a.getComponentMethod("legend","draw")(w),o.previousPromises(w)},c.doTicksRelayout=function(w){return h.draw(w,"redraw"),w._fullLayout._hasOnlyLargeSploms&&(a.subplotsRegistry.splom.updateGrid(w),l(w),c.redrawReglTraces(w)),c.drawMainTitle(w),o.previousPromises(w)},c.doModeBar=function(w){var E=w._fullLayout;u.manage(w);for(var I=0;I<E._basePlotModules.length;I++){var M=E._basePlotModules[I].updateFx;M&&M(w)}return o.previousPromises(w)},c.doCamera=function(w){for(var E=w._fullLayout,I=E._subplots.gl3d,M=0;M<I.length;M++){var V=E[I[M]];V._scene.setViewport(V)}},c.drawData=function(w){var E=w._fullLayout;l(w);for(var I=E._basePlotModules,M=0;M<I.length;M++)I[M].plot(w);return c.redrawReglTraces(w),o.style(w),a.getComponentMethod("shapes","draw")(w),a.getComponentMethod("annotations","draw")(w),a.getComponentMethod("images","draw")(w),E._replotting=!1,o.previousPromises(w)},c.redrawReglTraces=function(w){var E=w._fullLayout;if(E._has("regl")){var I,M,V=w._fullData,j=[],W=[];for(E._hasOnlyLargeSploms&&E._splomGrid.draw(),I=0;I<V.length;I++){var H=V[I];H.visible===!0&&H._length!==0&&(H.type==="splom"?E._splomScenes[H.uid].draw():H.type==="scattergl"?i.pushUnique(j,H.xaxis+H.yaxis):H.type==="scatterpolargl"&&i.pushUnique(W,H.subplot))}for(I=0;I<j.length;I++)(M=E._plots[j[I]])._scene&&M._scene.draw();for(I=0;I<W.length;I++)(M=E[W[I]]._subplot)._scene&&M._scene.draw()}},c.doAutoRangeAndConstraints=function(w){for(var E,I=h.list(w,"",!0),M={},V=0;V<I.length;V++)if(!M[(E=I[V])._id]){M[E._id]=1,k(w,E),_(w,E);var j=E._matchGroup;if(j)for(var W in j){var H=h.getFromId(w,W);_(w,H,E.range),M[W]=1}}y(w)},c.finalDraw=function(w){a.getComponentMethod("rangeslider","draw")(w),a.getComponentMethod("rangeselector","draw")(w)},c.drawMarginPushers=function(w){a.getComponentMethod("legend","draw")(w),a.getComponentMethod("rangeselector","draw")(w),a.getComponentMethod("sliders","draw")(w),a.getComponentMethod("updatemenus","draw")(w),a.getComponentMethod("colorbar","draw")(w)}},{"../components/color":102,"../components/drawing":124,"../components/modebar":165,"../components/titles":200,"../constants/alignment":207,"../lib":232,"../lib/clear_gl_canvases":220,"../plots/cartesian/autorange":278,"../plots/cartesian/axes":279,"../plots/cartesian/constraints":287,"../plots/plots":314,"../registry":316,"@plotly/d3":11}],270:[function(t,s,c){var n=t("../lib"),a=n.isPlainObject,o=t("./plot_schema"),i=t("../plots/plots"),l=t("../plots/attributes"),p=t("./plot_template"),d=t("./plot_config").dfltConfig;function f(T,b){T=n.extendDeep({},T);var x,O,A=Object.keys(T).sort();function C(M,V,j){if(a(V)&&a(M))f(M,V);else if(Array.isArray(V)&&Array.isArray(M)){var W=p.arrayTemplater({_template:T},j);for(O=0;O<V.length;O++){var H=V[O],B=W.newItem(H)._template;B&&f(B,H)}var K=W.defaultItems();for(O=0;O<K.length;O++)V.push(K[O]._template);for(O=0;O<V.length;O++)delete V[O].templateitemname}}for(x=0;x<A.length;x++){var L=A[x],w=T[L];if(L in b?C(w,b[L],L):b[L]=w,u(L)===L)for(var E in b){var I=u(E);E===I||I!==L||E in T||C(w,b[E],L)}}}function u(T){return T.replace(/[0-9]+$/,"")}function h(T,b,x,O,A){var C=A&&x(A);for(var L in T){var w=T[L],E=y(T,L,O),I=y(T,L,A),M=x(I);if(!M){var V=u(L);V!==L&&(M=x(I=y(T,V,A)))}if((!C||C!==M)&&!(!M||M._noTemplating||M.valType==="data_array"||M.arrayOk&&Array.isArray(w)))if(!M.valType&&a(w))h(w,b,x,E,I);else if(M._isLinkedToArray&&Array.isArray(w))for(var j=!1,W=0,H={},B=0;B<w.length;B++){var K=w[B];if(a(K)){var et=K.name;if(et)H[et]||(h(K,b,x,y(w,W,E),y(w,W,I)),W++,H[et]=1);else if(!j){var G=y(T,p.arrayDefaultKey(L),O),Y=y(w,W,E);h(K,b,x,Y,y(w,W,I));var D=n.nestedProperty(b,Y);n.nestedProperty(b,G).set(D.get()),D.set(null),j=!0}}}else n.nestedProperty(b,E).set(w)}}function m(T,b){return o.getLayoutValObject(T,n.nestedProperty({},b).parts)}function v(T,b){return o.getTraceValObject(T,n.nestedProperty({},b).parts)}function y(T,b,x){return x?Array.isArray(T)?x+"["+b+"]":x+"."+b:b}function k(T){for(var b=0;b<T.length;b++)if(a(T[b]))return!0}function _(T){var b;switch(T.code){case"data":b="The template has no key data.";break;case"layout":b="The template has no key layout.";break;case"missing":b=T.path?"There are no templates for item "+T.path+" with name "+T.templateitemname:"There are no templates for trace "+T.index+", of type "+T.traceType+".";break;case"unused":b=T.path?"The template item at "+T.path+" was not used in constructing the plot.":T.dataCount?"Some of the templates of type "+T.traceType+" were not used. The template has "+T.templateCount+" traces, the data only has "+T.dataCount+" of this type.":"The template has "+T.templateCount+" traces of type "+T.traceType+" but there are none in the data.";break;case"reused":b="Some of the templates of type "+T.traceType+" were used more than once. The template has "+T.templateCount+" traces, the data has "+T.dataCount+" of this type."}return T.msg=b,T}c.makeTemplate=function(T){T=n.isPlainObject(T)?T:n.getGraphDiv(T),T=n.extendDeep({_context:d},{data:T.data,layout:T.layout}),i.supplyDefaults(T);var b=T.data||[],x=T.layout||{};x._basePlotModules=T._fullLayout._basePlotModules,x._modules=T._fullLayout._modules;var O={data:{},layout:{}};b.forEach(function(W){var H={};h(W,H,v.bind(null,W));var B=n.coerce(W,{},l,"type"),K=O.data[B];K||(K=O.data[B]=[]),K.push(H)}),h(x,O.layout,m.bind(null,x)),delete O.layout.template;var A=x.template;if(a(A)){var C,L,w,E,I,M,V=A.layout;a(V)&&f(V,O.layout);var j=A.data;if(a(j)){for(L in O.data)if(w=j[L],Array.isArray(w)){for(M=(I=O.data[L]).length,E=w.length,C=0;C<M;C++)f(w[C%E],I[C]);for(C=M;C<E;C++)I.push(n.extendDeep({},w[C]))}for(L in j)L in O.data||(O.data[L]=n.extendDeep([],j[L]))}}return O},c.validateTemplate=function(T,b){var x=n.extendDeep({},{_context:d,data:T.data,layout:T.layout}),O=x.layout||{};a(b)||(b=O.template||{});var A=b.layout,C=b.data,L=[];x.layout=O,x.layout.template=b,i.supplyDefaults(x);var w=x._fullLayout,E=x._fullData,I={};if(a(A)?(function K(et,G){for(var Y in et)if(Y.charAt(0)!=="_"&&a(et[Y])){var D,U=u(Y),$=[];for(D=0;D<G.length;D++)$.push(y(et,Y,G[D])),U!==Y&&$.push(y(et,U,G[D]));for(D=0;D<$.length;D++)I[$[D]]=1;K(et[Y],$)}}(w,["layout"]),function K(et,G){for(var Y in et)if(Y.indexOf("defaults")===-1&&a(et[Y])){var D=y(et,Y,G);I[D]?K(et[Y],D):L.push({code:"unused",path:D})}}(A,"layout")):L.push({code:"layout"}),a(C)){for(var M,V={},j=0;j<E.length;j++){var W=E[j];V[M=W.type]=(V[M]||0)+1,W._fullInput._template||L.push({code:"missing",index:W._fullInput.index,traceType:M})}for(M in C){var H=C[M].length,B=V[M]||0;H>B?L.push({code:"unused",traceType:M,templateCount:H,dataCount:B}):B>H&&L.push({code:"reused",traceType:M,templateCount:H,dataCount:B})}}else L.push({code:"data"});if(function K(et,G){for(var Y in et)if(Y.charAt(0)!=="_"){var D=et[Y],U=y(et,Y,G);a(D)?(Array.isArray(et)&&D._template===!1&&D.templateitemname&&L.push({code:"missing",path:U,templateitemname:D.templateitemname}),K(D,U)):Array.isArray(D)&&k(D)&&K(D,U)}}({data:E,layout:w},""),L.length)return L.map(_)}},{"../lib":232,"../plots/attributes":275,"../plots/plots":314,"./plot_config":266,"./plot_schema":267,"./plot_template":268}],271:[function(t,s,c){var n=t("fast-isnumeric"),a=t("./plot_api"),o=t("../plots/plots"),i=t("../lib"),l=t("../snapshot/helpers"),p=t("../snapshot/tosvg"),d=t("../snapshot/svgtoimg"),f=t("../version").version,u={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};s.exports=function(h,m){var v,y,k,_;function T(B){return!(B in m)||i.validate(m[B],u[B])}if(m=m||{},i.isPlainObject(h)?(v=h.data||[],y=h.layout||{},k=h.config||{},_={}):(h=i.getGraphDiv(h),v=i.extendDeep([],h.data),y=i.extendDeep({},h.layout),k=h._context,_=h._fullLayout||{}),!T("width")&&m.width!==null||!T("height")&&m.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+i.join2(u.format.values,", "," or ")+".");var b={};function x(B,K){return i.coerce(m,b,u,B,K)}var O=x("format"),A=x("width"),C=x("height"),L=x("scale"),w=x("setBackground"),E=x("imageDataOnly"),I=document.createElement("div");I.style.position="absolute",I.style.left="-5000px",document.body.appendChild(I);var M=i.extendFlat({},y);A?M.width=A:m.width===null&&n(_.width)&&(M.width=_.width),C?M.height=C:m.height===null&&n(_.height)&&(M.height=_.height);var V=i.extendFlat({},k,{_exportedPlot:!0,staticPlot:!0,setBackground:w}),j=l.getRedrawFunc(I);function W(){return new Promise(function(B){setTimeout(B,l.getDelay(I._fullLayout))})}function H(){return new Promise(function(B,K){var et=p(I,O,L),G=I._fullLayout.width,Y=I._fullLayout.height;function D(){a.purge(I),document.body.removeChild(I)}if(O==="full-json"){var U=o.graphJson(I,!1,"keepdata","object",!0,!0);return U.version=f,U=JSON.stringify(U),D(),B(E?U:l.encodeJSON(U))}if(D(),O==="svg")return B(E?et:l.encodeSVG(et));var $=document.createElement("canvas");$.id=i.randstr(),d({format:O,width:G,height:Y,scale:L,canvas:$,svg:et,promise:!0}).then(B).catch(K)})}return new Promise(function(B,K){a.newPlot(I,v,M,V).then(j).then(W).then(H).then(function(et){B(function(G){return E?G.replace(l.IMAGE_URL_PREFIX,""):G}(et))}).catch(function(et){K(et)})})}},{"../lib":232,"../plots/plots":314,"../snapshot/helpers":320,"../snapshot/svgtoimg":322,"../snapshot/tosvg":324,"../version":389,"./plot_api":265,"fast-isnumeric":17}],272:[function(t,s,c){var n=t("../lib"),a=t("../plots/plots"),o=t("./plot_schema"),i=t("./plot_config").dfltConfig,l=n.isPlainObject,p=Array.isArray,d=n.isArrayOrTypedArray;function f(b,x,O,A,C,L){L=L||[];for(var w=Object.keys(b),E=0;E<w.length;E++){var I=w[E];if(I!=="transforms"){var M=L.slice();M.push(I);var V=b[I],j=x[I],W=k(O,I),H=(W||{}).valType,B=H==="info_array",K=H==="colorscale",et=(W||{}).items;if(y(O,I))if(l(V)&&l(j)&&H!=="any")f(V,j,W,A,C,M);else if(B&&p(V)){V.length>j.length&&A.push(v("unused",C,M.concat(j.length)));var G,Y,D,U,$,Q=j.length,F=Array.isArray(et);if(F&&(Q=Math.min(Q,et.length)),W.dimensions===2)for(Y=0;Y<Q;Y++)if(p(V[Y])){V[Y].length>j[Y].length&&A.push(v("unused",C,M.concat(Y,j[Y].length)));var z=j[Y].length;for(G=0;G<(F?Math.min(z,et[Y].length):z);G++)D=F?et[Y][G]:et,U=V[Y][G],$=j[Y][G],n.validate(U,D)?$!==U&&$!==+U&&A.push(v("dynamic",C,M.concat(Y,G),U,$)):A.push(v("value",C,M.concat(Y,G),U))}else A.push(v("array",C,M.concat(Y),V[Y]));else for(Y=0;Y<Q;Y++)D=F?et[Y]:et,U=V[Y],$=j[Y],n.validate(U,D)?$!==U&&$!==+U&&A.push(v("dynamic",C,M.concat(Y),U,$)):A.push(v("value",C,M.concat(Y),U))}else if(W.items&&!B&&p(V)){var P,Z,R=et[Object.keys(et)[0]],q=[];for(P=0;P<j.length;P++){var tt=j[P]._index||P;if((Z=M.slice()).push(tt),l(V[tt])&&l(j[P])){q.push(tt);var rt=V[tt],nt=j[P];l(rt)&&rt.visible!==!1&&nt.visible===!1?A.push(v("invisible",C,Z)):f(rt,nt,R,A,C,Z)}}for(P=0;P<V.length;P++)(Z=M.slice()).push(P),l(V[P])?q.indexOf(P)===-1&&A.push(v("unused",C,Z)):A.push(v("object",C,Z,V[P]))}else!l(V)&&l(j)?A.push(v("object",C,M,V)):d(V)||!d(j)||B||K?I in x?n.validate(V,W)?W.valType==="enumerated"&&(W.coerceNumber&&V!==+j||V!==j)&&A.push(v("dynamic",C,M,V,j)):A.push(v("value",C,M,V)):A.push(v("unused",C,M,V)):A.push(v("array",C,M,V));else A.push(v("schema",C,M))}}return A}function u(b,x){for(var O=b.layout.layoutAttributes,A=0;A<x.length;A++){var C=x[A],L=b.traces[C.type],w=L.layoutAttributes;w&&(C.subplot?n.extendFlat(O[L.attributes.subplot.dflt],w):n.extendFlat(O,w))}return O}s.exports=function(b,x){b===void 0&&(b=[]),x===void 0&&(x={});var O,A,C=o.get(),L=[],w={_context:n.extendFlat({},i)};p(b)?(w.data=n.extendDeep([],b),O=b):(w.data=[],O=[],L.push(v("array","data"))),l(x)?(w.layout=n.extendDeep({},x),A=x):(w.layout={},A={},arguments.length>1&&L.push(v("object","layout"))),a.supplyDefaults(w);for(var E=w._fullData,I=O.length,M=0;M<I;M++){var V=O[M],j=["data",M];if(l(V)){var W=E[M],H=W.type,B=C.traces[H].attributes;B.type={valType:"enumerated",values:[H]},W.visible===!1&&V.visible!==!1&&L.push(v("invisible",j)),f(V,W,B,L,j);var K=V.transforms,et=W.transforms;if(K){p(K)||L.push(v("array",j,["transforms"])),j.push("transforms");for(var G=0;G<K.length;G++){var Y=["transforms",G],D=K[G].type;if(l(K[G])){var U=C.transforms[D]?C.transforms[D].attributes:{};U.type={valType:"enumerated",values:Object.keys(C.transforms)},f(K[G],et[G],U,L,j,Y)}else L.push(v("object",j,Y))}}}else L.push(v("object",j))}var $=w._fullLayout,Q=u(C,E);return f(A,$,Q,L,"layout"),L.length===0?void 0:L};var h={object:function(b,x){return(b==="layout"&&x===""?"The layout argument":b[0]==="data"&&x===""?"Trace "+b[1]+" in the data argument":m(b)+"key "+x)+" must be linked to an object container"},array:function(b,x){return(b==="data"?"The data argument":m(b)+"key "+x)+" must be linked to an array container"},schema:function(b,x){return m(b)+"key "+x+" is not part of the schema"},unused:function(b,x,O){var A=l(O)?"container":"key";return m(b)+A+" "+x+" did not get coerced"},dynamic:function(b,x,O,A){return[m(b)+"key",x,"(set to '"+O+"')","got reset to","'"+A+"'","during defaults."].join(" ")},invisible:function(b,x){return(x?m(b)+"item "+x:"Trace "+b[1])+" got defaulted to be not visible"},value:function(b,x,O){return[m(b)+"key "+x,"is set to an invalid value ("+O+")"].join(" ")}};function m(b){return p(b)?"In data trace "+b[1]+", ":"In "+b+", "}function v(b,x,O,A,C){var L,w;O=O||"",p(x)?(L=x[0],w=x[1]):(L=x,w=null);var E=function(M){if(!p(M))return String(M);for(var V="",j=0;j<M.length;j++){var W=M[j];typeof W=="number"?V=V.substr(0,V.length-1)+"["+W+"]":V+=W,j<M.length-1&&(V+=".")}return V}(O),I=h[b](x,E,A,C);return n.log(I),{code:b,container:L,trace:w,path:O,astr:E,msg:I}}function y(b,x){var O=T(x),A=O.keyMinusId,C=O.id;return!!(A in b&&b[A]._isSubplotObj&&C)||x in b}function k(b,x){return x in b?b[x]:b[T(x).keyMinusId]}var _=n.counterRegex("([a-z]+)");function T(b){var x=b.match(_);return{keyMinusId:x&&x[1],id:x&&x[2]}}},{"../lib":232,"../plots/plots":314,"./plot_config":266,"./plot_schema":267}],273:[function(t,s,c){s.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],274:[function(t,s,c){var n=t("../lib"),a=t("../plot_api/plot_template");s.exports=function(o,i,l){var p,d,f=l.name,u=l.inclusionAttr||"visible",h=i[f],m=n.isArrayOrTypedArray(o[f])?o[f]:[],v=i[f]=[],y=a.arrayTemplater(i,f,u);for(p=0;p<m.length;p++){var k=m[p];n.isPlainObject(k)?d=y.newItem(k):(d=y.newItem({}))[u]=!1,d._index=p,d[u]!==!1&&l.handleItemDefaults(k,d,i,l),v.push(d)}var _=y.defaultItems();for(p=0;p<_.length;p++)(d=_[p])._index=v.length,l.handleItemDefaults({},d,i,l,{}),v.push(d);if(n.isArrayOrTypedArray(h)){var T=Math.min(h.length,v.length);for(p=0;p<T;p++)n.relinkPrivateKeys(v[p],h[p])}return v}},{"../lib":232,"../plot_api/plot_template":268}],275:[function(t,s,c){var n=t("./font_attributes"),a=t("../components/fx/attributes");s.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:n({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:a.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":133,"./font_attributes":308}],276:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../../lib"),o=a.dateTime2ms,i=a.incrementMonth,l=t("../../constants/numerical").ONEAVGMONTH;s.exports=function(p,d,f,u){if(d.type!=="date")return{vals:u};var h=p[f+"periodalignment"];if(!h)return{vals:u};var m,v=p[f+"period"];if(n(v)){if((v=+v)<=0)return{vals:u}}else if(typeof v=="string"&&v.charAt(0)==="M"){var y=+v.substring(1);if(!(y>0&&Math.round(y)===y))return{vals:u};m=y}for(var k=d.calendar,_=h==="start",T=h==="end",b=p[f+"period0"],x=o(b,k)||0,O=[],A=[],C=[],L=u.length,w=0;w<L;w++){var E,I,M,V=u[w];if(m){for(E=Math.round((V-x)/(m*l)),M=i(x,m*E,k);M>V;)M=i(M,-m,k);for(;M<=V;)M=i(M,m,k);I=i(M,-m,k)}else{for(M=x+(E=Math.round((V-x)/v))*v;M>V;)M-=v;for(;M<=V;)M+=v;I=M-v}O[w]=_?I:T?M:(I+M)/2,A[w]=I,C[w]=M}return{vals:O,starts:A,ends:C}}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],277:[function(t,s,c){s.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],278:[function(t,s,c){var n=t("@plotly/d3"),a=t("fast-isnumeric"),o=t("../../lib"),i=t("../../constants/numerical").FP_SAFE,l=t("../../registry"),p=t("../../components/drawing"),d=t("./axis_ids"),f=d.getFromId,u=d.isLinked;function h(A,C){var L,w,E=[],I=A._fullLayout,M=v(I,C,0),V=v(I,C,1),j=y(A,C),W=j.min,H=j.max;if(W.length===0||H.length===0)return o.simpleMap(C.range,C.r2l);var B=W[0].val,K=H[0].val;for(L=1;L<W.length&&B===K;L++)B=Math.min(B,W[L].val);for(L=1;L<H.length&&B===K;L++)K=Math.max(K,H[L].val);var et=!1;if(C.range){var G=o.simpleMap(C.range,C.r2l);et=G[1]<G[0]}C.autorange==="reversed"&&(et=!0,C.autorange=!0);var Y,D,U,$,Q,F,z=C.rangemode,P=z==="tozero",Z=z==="nonnegative",R=C._length,q=R/10,tt=0;for(L=0;L<W.length;L++)for(Y=W[L],w=0;w<H.length;w++)(F=(D=H[w]).val-Y.val-m(C,Y.val,D.val))>0&&((Q=R-M(Y)-V(D))>q?F/Q>tt&&(U=Y,$=D,tt=F/Q):F/R>tt&&(U={val:Y.val,nopad:1},$={val:D.val,nopad:1},tt=F/R));if(B===K){var rt=B-1,nt=B+1;if(P)if(B===0)E=[0,1];else{var ct=(B>0?H:W).reduce(function(gt,wt){return Math.max(gt,V(wt))},0),st=B/(1-Math.min(.5,ct/R));E=B>0?[0,st]:[st,0]}else E=Z?[Math.max(0,rt),Math.max(1,nt)]:[rt,nt]}else P?(U.val>=0&&(U={val:0,nopad:1}),$.val<=0&&($={val:0,nopad:1})):Z&&(U.val-tt*M(U)<0&&(U={val:0,nopad:1}),$.val<=0&&($={val:1,nopad:1})),tt=($.val-U.val-m(C,Y.val,D.val))/(R-M(U)-V($)),E=[U.val-tt*M(U),$.val+tt*V($)];return et&&E.reverse(),o.simpleMap(E,C.l2r||Number)}function m(A,C,L){var w=0;if(A.rangebreaks)for(var E=A.locateBreaks(C,L),I=0;I<E.length;I++){var M=E[I];w+=M.max-M.min}return w}function v(A,C,L){var w=.05*C._length,E=C._anchorAxis||{};if((C.ticklabelposition||"").indexOf("inside")!==-1||(E.ticklabelposition||"").indexOf("inside")!==-1){var I=C.autorange==="reversed";if(!I){var M=o.simpleMap(C.range,C.r2l);I=M[1]<M[0]}I&&(L=!L)}var V=0;return u(A,C._id)||(V=function(j,W,H){var B=0,K=W._id.charAt(0)==="x";for(var et in j._plots){var G=j._plots[et];if(W._id===G.xaxis._id||W._id===G.yaxis._id){var Y=(K?G.yaxis:G.xaxis)||{};if((Y.ticklabelposition||"").indexOf("inside")!==-1&&(!H&&(Y.side==="left"||Y.side==="bottom")||H&&(Y.side==="top"||Y.side==="right"))){if(Y._vals){var D=o.deg2rad(Y._tickAngles[Y._id+"tick"]||0),U=Math.abs(Math.cos(D)),$=Math.abs(Math.sin(D));if(!Y._vals[0].bb){var Q=Y._id+"tick";Y._selections[Q].each(function(R){var q=n.select(this);q.select(".text-math-group").empty()&&(R.bb=p.bBox(q.node()))})}for(var F=0;F<Y._vals.length;F++){var z=Y._vals[F].bb;if(z){var P=6+z.width,Z=6+z.height;B=Math.max(B,K?Math.max(P*U,Z*$):Math.max(Z*U,P*$))}}}Y.ticks==="inside"&&Y.ticklabelposition==="inside"&&(B+=Y.ticklen||0)}}}return B}(A,C,L)),w=Math.max(V,w),C.constrain==="domain"&&C._inputDomain&&(w*=(C._inputDomain[1]-C._inputDomain[0])/(C.domain[1]-C.domain[0])),function(j){return j.nopad?0:j.pad+(j.extrapad?w:V)}}s.exports={getAutoRange:h,makePadFn:v,doAutoRange:function(A,C,L){if(C.setScale(),C.autorange){C.range=L?L.slice():h(A,C),C._r=C.range.slice(),C._rl=o.simpleMap(C._r,C.r2l);var w=C._input,E={};E[C._attr+".range"]=C.range,E[C._attr+".autorange"]=C.autorange,l.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,E),w.range=C.range.slice(),w.autorange=C.autorange}var I=C._anchorAxis;if(I&&I.rangeslider){var M=I.rangeslider[C._name];M&&M.rangemode==="auto"&&(M.range=h(A,C)),I._input.rangeslider[C._name]=o.extendFlat({},M)}},findExtremes:function(A,C,L){L||(L={}),A._m||A.setScale();var w,E,I,M,V,j,W,H,B,K=[],et=[],G=C.length,Y=L.padded||!1,D=L.tozero&&(A.type==="linear"||A.type==="-"),U=A.type==="log",$=!1,Q=L.vpadLinearized||!1;function F(nt){if(Array.isArray(nt))return $=!0,function(st){return Math.max(Number(nt[st]||0),0)};var ct=Math.max(Number(nt||0),0);return function(){return ct}}var z=F((A._m>0?L.ppadplus:L.ppadminus)||L.ppad||0),P=F((A._m>0?L.ppadminus:L.ppadplus)||L.ppad||0),Z=F(L.vpadplus||L.vpad),R=F(L.vpadminus||L.vpad);if(!$){if(H=1/0,B=-1/0,U)for(w=0;w<G;w++)(E=C[w])<H&&E>0&&(H=E),E>B&&E<i&&(B=E);else for(w=0;w<G;w++)(E=C[w])<H&&E>-i&&(H=E),E>B&&E<i&&(B=E);C=[H,B],G=2}var q={tozero:D,extrapad:Y};function tt(nt){I=C[nt],a(I)&&(j=z(nt),W=P(nt),Q?(M=A.c2l(I)-R(nt),V=A.c2l(I)+Z(nt)):(H=I-R(nt),B=I+Z(nt),U&&H<B/10&&(H=B/10),M=A.c2l(H),V=A.c2l(B)),D&&(M=Math.min(0,M),V=Math.max(0,V)),b(M)&&k(K,M,W,q),b(V)&&_(et,V,j,q))}var rt=Math.min(6,G);for(w=0;w<rt;w++)tt(w);for(w=G-1;w>=rt;w--)tt(w);return{min:K,max:et,opts:L}},concatExtremes:y};function y(A,C,L){var w,E,I,M=C._id,V=A._fullData,j=A._fullLayout,W=[],H=[];function B(D,U){for(w=0;w<U.length;w++){var $=D[U[w]],Q=($._extremes||{})[M];if($.visible===!0&&Q){for(E=0;E<Q.min.length;E++)I=Q.min[E],k(W,I.val,I.pad,{extrapad:I.extrapad});for(E=0;E<Q.max.length;E++)I=Q.max[E],_(H,I.val,I.pad,{extrapad:I.extrapad})}}}if(B(V,C._traceIndices),B(j.annotations||[],C._annIndices||[]),B(j.shapes||[],C._shapeIndices||[]),C._matchGroup&&!L){for(var K in C._matchGroup)if(K!==C._id){var et=f(A,K),G=y(A,et,!0),Y=C._length/et._length;for(E=0;E<G.min.length;E++)I=G.min[E],k(W,I.val,I.pad*Y,{extrapad:I.extrapad});for(E=0;E<G.max.length;E++)I=G.max[E],_(H,I.val,I.pad*Y,{extrapad:I.extrapad})}}return{min:W,max:H}}function k(A,C,L,w){T(A,C,L,w,x)}function _(A,C,L,w){T(A,C,L,w,O)}function T(A,C,L,w,E){for(var I=w.tozero,M=w.extrapad,V=!0,j=0;j<A.length&&V;j++){var W=A[j];if(E(W.val,C)&&W.pad>=L&&(W.extrapad||!M)){V=!1;break}E(C,W.val)&&W.pad<=L&&(M||!W.extrapad)&&(A.splice(j,1),j--)}if(V){var H=I&&C===0;A.push({val:C,pad:H?0:L,extrapad:!H&&M})}}function b(A){return a(A)&&Math.abs(A)<i}function x(A,C){return A<=C}function O(A,C){return A>=C}},{"../../components/drawing":124,"../../constants/numerical":212,"../../lib":232,"../../registry":316,"./axis_ids":283,"@plotly/d3":11,"fast-isnumeric":17}],279:[function(t,s,c){var n=t("@plotly/d3"),a=t("fast-isnumeric"),o=t("../../plots/plots"),i=t("../../registry"),l=t("../../lib"),p=l.strTranslate,d=t("../../lib/svg_text_utils"),f=t("../../components/titles"),u=t("../../components/color"),h=t("../../components/drawing"),m=t("./layout_attributes"),v=t("./clean_ticks"),y=t("../../constants/numerical"),k=y.ONEMAXYEAR,_=y.ONEAVGYEAR,T=y.ONEMINYEAR,b=y.ONEMAXQUARTER,x=y.ONEAVGQUARTER,O=y.ONEMINQUARTER,A=y.ONEMAXMONTH,C=y.ONEAVGMONTH,L=y.ONEMINMONTH,w=y.ONEWEEK,E=y.ONEDAY,I=E/2,M=y.ONEHOUR,V=y.ONEMIN,j=y.ONESEC,W=y.MINUS_SIGN,H=y.BADNUM,B={K:"zeroline"},K={K:"gridline",L:"path"},et={K:"tick",L:"path"},G={K:"tick",L:"text"},Y=t("../../constants/alignment"),D=Y.MID_SHIFT,U=Y.CAP_SHIFT,$=Y.LINE_SPACING,Q=Y.OPPOSITE_SIDE,F=s.exports={};F.setConvert=t("./set_convert");var z=t("./axis_autotype"),P=t("./axis_ids"),Z=P.idSort,R=P.isLinked;F.id2name=P.id2name,F.name2id=P.name2id,F.cleanId=P.cleanId,F.list=P.list,F.listIds=P.listIds,F.getFromId=P.getFromId,F.getFromTrace=P.getFromTrace;var q=t("./autorange");F.getAutoRange=q.getAutoRange,F.findExtremes=q.findExtremes;function tt(ot){var ft=1e-4*(ot[1]-ot[0]);return[ot[0]-ft,ot[1]+ft]}F.coerceRef=function(ot,ft,Lt,Pt,It,Rt){var Vt=Pt.charAt(Pt.length-1),Jt=Lt._fullLayout._subplots[Vt+"axis"],ae=Pt+"ref",ce={};return It||(It=Jt[0]||(typeof Rt=="string"?Rt:Rt[0])),Rt||(Rt=It),Jt=Jt.concat(Jt.map(function(le){return le+" domain"})),ce[ae]={valType:"enumerated",values:Jt.concat(Rt?typeof Rt=="string"?[Rt]:Rt:[]),dflt:It},l.coerce(ot,ft,ce,ae)},F.getRefType=function(ot){return ot===void 0?ot:ot==="paper"?"paper":ot==="pixel"?"pixel":/( domain)$/.test(ot)?"domain":"range"},F.coercePosition=function(ot,ft,Lt,Pt,It,Rt){var Vt,Jt;if(F.getRefType(Pt)!=="range")Vt=l.ensureNumber,Jt=Lt(It,Rt);else{var ae=F.getFromId(ft,Pt);Jt=Lt(It,Rt=ae.fraction2r(Rt)),Vt=ae.cleanPos}ot[It]=Vt(Jt)},F.cleanPosition=function(ot,ft,Lt){return(Lt==="paper"||Lt==="pixel"?l.ensureNumber:F.getFromId(ft,Lt).cleanPos)(ot)},F.redrawComponents=function(ot,ft){ft=ft||F.listIds(ot);var Lt=ot._fullLayout;function Pt(It,Rt,Vt,Jt){for(var ae=i.getComponentMethod(It,Rt),ce={},le=0;le<ft.length;le++)for(var se=Lt[F.id2name(ft[le])][Vt],pe=0;pe<se.length;pe++){var we=se[pe];if(!ce[we]&&(ae(ot,we),ce[we]=1,Jt))return}}Pt("annotations","drawOne","_annIndices"),Pt("shapes","drawOne","_shapeIndices"),Pt("images","draw","_imgIndices",!0)};var rt=F.getDataConversions=function(ot,ft,Lt,Pt){var It,Rt=Lt==="x"||Lt==="y"||Lt==="z"?Lt:Pt;if(Array.isArray(Rt)){if(It={type:z(Pt,void 0,{autotypenumbers:ot._fullLayout.autotypenumbers}),_categories:[]},F.setConvert(It),It.type==="category")for(var Vt=0;Vt<Pt.length;Vt++)It.d2c(Pt[Vt])}else It=F.getFromTrace(ot,ft,Rt);return It?{d2c:It.d2c,c2d:It.c2d}:Rt==="ids"?{d2c:ct,c2d:ct}:{d2c:nt,c2d:nt}};function nt(ot){return+ot}function ct(ot){return String(ot)}function st(ot){return+ot.substring(1)}F.getDataToCoordFunc=function(ot,ft,Lt,Pt){return rt(ot,ft,Lt,Pt).d2c},F.counterLetter=function(ot){var ft=ot.charAt(0);return ft==="x"?"y":ft==="y"?"x":void 0},F.minDtick=function(ot,ft,Lt,Pt){["log","category","multicategory"].indexOf(ot.type)===-1&&Pt?ot._minDtick===void 0?(ot._minDtick=ft,ot._forceTick0=Lt):ot._minDtick&&((ot._minDtick/ft+1e-6)%1<2e-6&&((Lt-ot._forceTick0)/ft%1+1.000001)%1<2e-6?(ot._minDtick=ft,ot._forceTick0=Lt):((ft/ot._minDtick+1e-6)%1>2e-6||((Lt-ot._forceTick0)/ot._minDtick%1+1.000001)%1>2e-6)&&(ot._minDtick=0)):ot._minDtick=0},F.saveRangeInitial=function(ot,ft){for(var Lt=F.list(ot,"",!0),Pt=!1,It=0;It<Lt.length;It++){var Rt=Lt[It],Vt=Rt._rangeInitial===void 0,Jt=Vt||!(Rt.range[0]===Rt._rangeInitial[0]&&Rt.range[1]===Rt._rangeInitial[1]);(Vt&&Rt.autorange===!1||ft&&Jt)&&(Rt._rangeInitial=Rt.range.slice(),Pt=!0)}return Pt},F.saveShowSpikeInitial=function(ot,ft){for(var Lt=F.list(ot,"",!0),Pt=!1,It="on",Rt=0;Rt<Lt.length;Rt++){var Vt=Lt[Rt],Jt=Vt._showSpikeInitial===void 0,ae=Jt||Vt.showspikes!==Vt._showspikes;(Jt||ft&&ae)&&(Vt._showSpikeInitial=Vt.showspikes,Pt=!0),It!=="on"||Vt.showspikes||(It="off")}return ot._fullLayout._cartesianSpikesEnabled=It,Pt},F.autoBin=function(ot,ft,Lt,Pt,It,Rt){var Vt,Jt=l.aggNums(Math.min,null,ot),ae=l.aggNums(Math.max,null,ot);if(ft.type==="category"||ft.type==="multicategory")return{start:Jt-.5,end:ae+.5,size:Math.max(1,Math.round(Rt)||1),_dataSpan:ae-Jt};if(It||(It=ft.calendar),Vt=ft.type==="log"?{type:"linear",range:[Jt,ae]}:{type:ft.type,range:l.simpleMap([Jt,ae],ft.c2r,0,It),calendar:It},F.setConvert(Vt),Rt=Rt&&v.dtick(Rt,Vt.type))Vt.dtick=Rt,Vt.tick0=v.tick0(void 0,Vt.type,It);else{var ce;if(Lt)ce=(ae-Jt)/Lt;else{var le=l.distinctVals(ot),se=Math.pow(10,Math.floor(Math.log(le.minDiff)/Math.LN10)),pe=se*l.roundUp(le.minDiff/se,[.9,1.9,4.9,9.9],!0);ce=Math.max(pe,2*l.stdev(ot)/Math.pow(ot.length,Pt?.25:.4)),a(ce)||(ce=1)}F.autoTicks(Vt,ce)}var we,me=Vt.dtick,ee=F.tickIncrement(F.tickFirst(Vt),me,"reverse",It);if(typeof me=="number")we=(ee=function(ue,Te,Me,Ce,fe){var _e=0,Le=0,he=0,Se=0;function de(je){return(1+100*(je-ue)/Me.dtick)%100<2}for(var Re=0;Re<Te.length;Re++)Te[Re]%1==0?he++:a(Te[Re])||Se++,de(Te[Re])&&_e++,de(Te[Re]+Me.dtick/2)&&Le++;var Ee=Te.length-Se;if(he===Ee&&Me.type!=="date")Me.dtick<1?ue=Ce-.5*Me.dtick:(ue-=.5)+Me.dtick<Ce&&(ue+=Me.dtick);else if(Le<.1*Ee&&(_e>.3*Ee||de(Ce)||de(fe))){var De=Me.dtick/2;ue+=ue+De<Ce?De:-De}return ue}(ee,ot,Vt,Jt,ae))+(1+Math.floor((ae-ee)/me))*me;else for(Vt.dtick.charAt(0)==="M"&&(ee=function(ue,Te,Me,Ce,fe){var _e=l.findExactDates(Te,fe);if(_e.exactDays>.8){var Le=Number(Me.substr(1));_e.exactYears>.8&&Le%12==0?ue=F.tickIncrement(ue,"M6","reverse")+1.5*E:_e.exactMonths>.8?ue=F.tickIncrement(ue,"M1","reverse")+15.5*E:ue-=I;var he=F.tickIncrement(ue,Me);if(he<=Ce)return he}return ue}(ee,ot,me,Jt,It)),we=ee,0;we<=ae;)we=F.tickIncrement(we,me,!1,It);return{start:ft.c2r(ee,0,It),end:ft.c2r(we,0,It),size:me,_dataSpan:ae-Jt}},F.prepTicks=function(ot,ft){var Lt=l.simpleMap(ot.range,ot.r2l,void 0,void 0,ft);if(ot._dtickInit=ot.dtick,ot._tick0Init=ot.tick0,ot.tickmode==="auto"||!ot.dtick){var Pt,It=ot.nticks;It||(ot.type==="category"||ot.type==="multicategory"?(Pt=ot.tickfont?l.bigFont(ot.tickfont.size||12):15,It=ot._length/Pt):(Pt=ot._id.charAt(0)==="y"?40:80,It=l.constrain(ot._length/Pt,4,9)+1),ot._name==="radialaxis"&&(It*=2)),ot.tickmode==="array"&&(It*=100),ot._roughDTick=Math.abs(Lt[1]-Lt[0])/It,F.autoTicks(ot,ot._roughDTick),ot._minDtick>0&&ot.dtick<2*ot._minDtick&&(ot.dtick=ot._minDtick,ot.tick0=ot.l2r(ot._forceTick0))}ot.ticklabelmode==="period"&&function(Rt){var Vt;function Jt(){return!(a(Rt.dtick)||Rt.dtick.charAt(0)!=="M")}var ae=Jt(),ce=F.getTickFormat(Rt);if(ce){var le=Rt._dtickInit!==Rt.dtick;/%[fLQsSMX]/.test(ce)||(/%[HI]/.test(ce)?(Vt=M,le&&!ae&&Rt.dtick<M&&(Rt.dtick=M)):/%p/.test(ce)?(Vt=I,le&&!ae&&Rt.dtick<I&&(Rt.dtick=I)):/%[Aadejuwx]/.test(ce)?(Vt=E,le&&!ae&&Rt.dtick<E&&(Rt.dtick=E)):/%[UVW]/.test(ce)?(Vt=w,le&&!ae&&Rt.dtick<w&&(Rt.dtick=w)):/%[Bbm]/.test(ce)?(Vt=C,le&&(ae?st(Rt.dtick)<1:Rt.dtick<L)&&(Rt.dtick="M1")):/%[q]/.test(ce)?(Vt=x,le&&(ae?st(Rt.dtick)<3:Rt.dtick<O)&&(Rt.dtick="M3")):/%[Yy]/.test(ce)&&(Vt=_,le&&(ae?st(Rt.dtick)<12:Rt.dtick<T)&&(Rt.dtick="M12")))}(ae=Jt())&&Rt.tick0===Rt._dowTick0&&(Rt.tick0=Rt._rawTick0),Rt._definedDelta=Vt}(ot),ot.tick0||(ot.tick0=ot.type==="date"?"2000-01-01":0),ot.type==="date"&&ot.dtick<.1&&(ot.dtick=.1),it(ot)},F.calcTicks=function(ot,ft){F.prepTicks(ot,ft);var Lt=l.simpleMap(ot.range,ot.r2l,void 0,void 0,ft);if(ot.tickmode==="array")return function(Re){var Ee=Re.tickvals,De=Re.ticktext,je=new Array(Ee.length),Je=tt(l.simpleMap(Re.range,Re.r2l)),en=Math.min(Je[0],Je[1]),be=Math.max(Je[0],Je[1]),Ae=0;Array.isArray(De)||(De=[]);var Oe=Re.type==="category"?Re.d2l_noadd:Re.d2l;Re.type==="log"&&String(Re.dtick).charAt(0)!=="L"&&(Re.dtick="L"+Math.pow(10,Math.floor(Math.min(Re.range[0],Re.range[1]))-1));for(var Fe=0;Fe<Ee.length;Fe++){var ve=Oe(Ee[Fe]);ve>en&&ve<be&&(De[Fe]===void 0?je[Ae]=F.tickText(Re,ve):je[Ae]=dt(Re,ve,String(De[Fe])),Ae++)}return Ae<Ee.length&&je.splice(Ae,Ee.length-Ae),Re.rangebreaks&&(je=je.filter(function(Ve){return Re.maskBreaks(Ve.x)!==H})),je}(ot);var Pt=tt(Lt),It=Pt[0],Rt=Pt[1],Vt=Lt[1]<Lt[0],Jt=Math.min(Lt[0],Lt[1]),ae=Math.max(Lt[0],Lt[1]),ce=ot.type==="log"&&!(a(ot.dtick)||ot.dtick.charAt(0)==="L"),le=ot.ticklabelmode==="period";if(ot._tmin=F.tickFirst(ot,ft),ot._tmin<It!==Vt)return[];ot.type!=="category"&&ot.type!=="multicategory"||(Rt=Vt?Math.max(-.5,Rt):Math.min(ot._categories.length-.5,Rt));var se=ot._tmin;ot.rangebreaks&&ot._tick0Init!==ot.tick0&&(se=Bt(se,ot),Vt||(se=F.tickIncrement(se,ot.dtick,!Vt,ot.calendar))),le&&(se=F.tickIncrement(se,ot.dtick,!Vt,ot.calendar));for(var pe,we=Math.max(1e3,ot._length||0),me=[],ee=null;Vt?se>=Rt:se<=Rt;se=F.tickIncrement(se,ot.dtick,Vt,ot.calendar)){if(ot.rangebreaks&&!Vt){if(se<It)continue;if(ot.maskBreaks(se)===H&&Bt(se,ot)>=ae)break}if(me.length>we||se===ee)break;ee=se;var ue=!1;ce&&se!==(0|se)&&(ue=!0),me.push({minor:ue,value:se})}if(le&&function(Re,Ee,De){for(var je=0;je<Re.length;je++){var Je=Re[je].value,en=je,be=je+1;je<Re.length-1?(en=je,be=je+1):je>0?(en=je-1,be=je):(en=je,be=je);var Ae,Oe=Re[en].value,Fe=Re[be].value,ve=Math.abs(Fe-Oe),Ve=De||ve,We=0;Ve>=T?We=ve>=T&&ve<=k?ve:_:De===x&&Ve>=O?We=ve>=O&&ve<=b?ve:x:Ve>=L?We=ve>=L&&ve<=A?ve:C:De===w&&Ve>=w?We=w:Ve>=E?We=E:De===I&&Ve>=I?We=I:De===M&&Ve>=M&&(We=M),We>=ve&&(We=ve,Ae=!0);var ln=Je+We;if(Ee.rangebreaks&&We>0){for(var on=0,sn=0;sn<84;sn++){var un=(sn+.5)/84;Ee.maskBreaks(Je*(1-un)+un*ln)!==H&&on++}(We*=on/84)||(Re[je].drop=!0),Ae&&ve>w&&(We=ve)}(We>0||je===0)&&(Re[je].periodX=Je+We/2)}}(me,ot,ot._definedDelta),ot.rangebreaks){var Te=ot._id.charAt(0)==="y",Me=1;ot.tickmode==="auto"&&(Me=ot.tickfont?ot.tickfont.size:12);var Ce=NaN;for(pe=me.length-1;pe>-1;pe--)if(me[pe].drop)me.splice(pe,1);else{me[pe].value=Bt(me[pe].value,ot);var fe=ot.c2p(me[pe].value);(Te?Ce>fe-Me:Ce<fe+Me)?me.splice(Vt?pe+1:pe,1):Ce=fe}}kt(ot)&&Math.abs(Lt[1]-Lt[0])===360&&me.pop(),ot._tmax=(me[me.length-1]||{}).value,ot._prevDateHead="",ot._inCalcTicks=!0;var _e,Le,he=[];for(pe=0;pe<me.length;pe++){var Se=me[pe].minor,de=me[pe].value;_e=F.tickText(ot,de,!1,Se),(Le=me[pe].periodX)!==void 0&&(_e.periodX=Le,(Le>ae||Le<Jt)&&(Le>ae&&(_e.periodX=ae),Le<Jt&&(_e.periodX=Jt),_e.text=" ",ot._prevDateHead="")),he.push(_e)}return ot._inCalcTicks=!1,he};var gt=[2,5,10],wt=[1,2,3,6,12],Ot=[1,2,5,10,15,30],bt=[1,2,3,7,14],Ht=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Dt=[-.301,0,.301,.699,1],yt=[15,30,45,90,180];function ut(ot,ft,Lt){return ft*l.roundUp(ot/ft,Lt)}function it(ot){var ft=ot.dtick;if(ot._tickexponent=0,a(ft)||typeof ft=="string"||(ft=1),ot.type!=="category"&&ot.type!=="multicategory"||(ot._tickround=null),ot.type==="date"){var Lt=ot.r2l(ot.tick0),Pt=ot.l2r(Lt).replace(/(^-|i)/g,""),It=Pt.length;if(String(ft).charAt(0)==="M")It>10||Pt.substr(5)!=="01-01"?ot._tickround="d":ot._tickround=+ft.substr(1)%12==0?"y":"m";else if(ft>=E&&It<=10||ft>=15*E)ot._tickround="d";else if(ft>=V&&It<=16||ft>=M)ot._tickround="M";else if(ft>=j&&It<=19||ft>=V)ot._tickround="S";else{var Rt=ot.l2r(Lt+ft).replace(/^-/,"").length;ot._tickround=Math.max(It,Rt)-20,ot._tickround<0&&(ot._tickround=4)}}else if(a(ft)||ft.charAt(0)==="L"){var Vt=ot.range.map(ot.r2d||Number);a(ft)||(ft=Number(ft.substr(1))),ot._tickround=2-Math.floor(Math.log(ft)/Math.LN10+.01);var Jt=Math.max(Math.abs(Vt[0]),Math.abs(Vt[1])),ae=Math.floor(Math.log(Jt)/Math.LN10+.01),ce=ot.minexponent===void 0?3:ot.minexponent;Math.abs(ae)>ce&&(Et(ot.exponentformat)&&!Mt(ae)?ot._tickexponent=3*Math.round((ae-1)/3):ot._tickexponent=ae)}else ot._tickround=null}function dt(ot,ft,Lt){var Pt=ot.tickfont||{};return{x:ft,dx:0,dy:0,text:Lt||"",fontSize:Pt.size,font:Pt.family,fontColor:Pt.color}}F.autoTicks=function(ot,ft){var Lt;function Pt(le){return Math.pow(le,Math.floor(Math.log(ft)/Math.LN10))}if(ot.type==="date"){ot.tick0=l.dateTick0(ot.calendar,0);var It=2*ft;if(It>_)ft/=_,Lt=Pt(10),ot.dtick="M"+12*ut(ft,Lt,gt);else if(It>C)ft/=C,ot.dtick="M"+ut(ft,1,wt);else if(It>E){ot.dtick=ut(ft,E,ot._hasDayOfWeekBreaks?[1,2,7,14]:bt);var Rt=F.getTickFormat(ot),Vt=ot.ticklabelmode==="period";Vt&&(ot._rawTick0=ot.tick0),/%[uVW]/.test(Rt)?ot.tick0=l.dateTick0(ot.calendar,2):ot.tick0=l.dateTick0(ot.calendar,1),Vt&&(ot._dowTick0=ot.tick0)}else It>M?ot.dtick=ut(ft,M,wt):It>V?ot.dtick=ut(ft,V,Ot):It>j?ot.dtick=ut(ft,j,Ot):(Lt=Pt(10),ot.dtick=ut(ft,Lt,gt))}else if(ot.type==="log"){ot.tick0=0;var Jt=l.simpleMap(ot.range,ot.r2l);if(ft>.7)ot.dtick=Math.ceil(ft);else if(Math.abs(Jt[1]-Jt[0])<1){var ae=1.5*Math.abs((Jt[1]-Jt[0])/ft);ft=Math.abs(Math.pow(10,Jt[1])-Math.pow(10,Jt[0]))/ae,Lt=Pt(10),ot.dtick="L"+ut(ft,Lt,gt)}else ot.dtick=ft>.3?"D2":"D1"}else ot.type==="category"||ot.type==="multicategory"?(ot.tick0=0,ot.dtick=Math.ceil(Math.max(ft,1))):kt(ot)?(ot.tick0=0,Lt=1,ot.dtick=ut(ft,Lt,yt)):(ot.tick0=0,Lt=Pt(10),ot.dtick=ut(ft,Lt,gt));if(ot.dtick===0&&(ot.dtick=1),!a(ot.dtick)&&typeof ot.dtick!="string"){var ce=ot.dtick;throw ot.dtick=1,"ax.dtick error: "+String(ce)}},F.tickIncrement=function(ot,ft,Lt,Pt){var It=Lt?-1:1;if(a(ft))return l.increment(ot,It*ft);var Rt=ft.charAt(0),Vt=It*Number(ft.substr(1));if(Rt==="M")return l.incrementMonth(ot,Vt,Pt);if(Rt==="L")return Math.log(Math.pow(10,ot)+Vt)/Math.LN10;if(Rt==="D"){var Jt=ft==="D2"?Dt:Ht,ae=ot+.01*It,ce=l.roundUp(l.mod(ae,1),Jt,Lt);return Math.floor(ae)+Math.log(n.round(Math.pow(10,ce),1))/Math.LN10}throw"unrecognized dtick "+String(ft)},F.tickFirst=function(ot,ft){var Lt=ot.r2l||Number,Pt=l.simpleMap(ot.range,Lt,void 0,void 0,ft),It=Pt[1]<Pt[0],Rt=It?Math.floor:Math.ceil,Vt=tt(Pt)[0],Jt=ot.dtick,ae=Lt(ot.tick0);if(a(Jt)){var ce=Rt((Vt-ae)/Jt)*Jt+ae;return ot.type!=="category"&&ot.type!=="multicategory"||(ce=l.constrain(ce,0,ot._categories.length-1)),ce}var le=Jt.charAt(0),se=Number(Jt.substr(1));if(le==="M"){for(var pe,we,me,ee=0,ue=ae;ee<10;){if(((pe=F.tickIncrement(ue,Jt,It,ot.calendar))-Vt)*(ue-Vt)<=0)return It?Math.min(ue,pe):Math.max(ue,pe);we=(Vt-(ue+pe)/2)/(pe-ue),me=le+(Math.abs(Math.round(we))||1)*se,ue=F.tickIncrement(ue,me,we<0?!It:It,ot.calendar),ee++}return l.error("tickFirst did not converge",ot),ue}if(le==="L")return Math.log(Rt((Math.pow(10,Vt)-ae)/se)*se+ae)/Math.LN10;if(le==="D"){var Te=Jt==="D2"?Dt:Ht,Me=l.roundUp(l.mod(Vt,1),Te,It);return Math.floor(Vt)+Math.log(n.round(Math.pow(10,Me),1))/Math.LN10}throw"unrecognized dtick "+String(Jt)},F.tickText=function(ot,ft,Lt,Pt){var It,Rt=dt(ot,ft),Vt=ot.tickmode==="array",Jt=Lt||Vt,ae=ot.type,ce=ae==="category"?ot.d2l_noadd:ot.d2l;if(Vt&&Array.isArray(ot.ticktext)){var le=l.simpleMap(ot.range,ot.r2l),se=(Math.abs(le[1]-le[0])-(ot._lBreaks||0))/1e4;for(It=0;It<ot.ticktext.length&&!(Math.abs(ft-ce(ot.tickvals[It]))<se);It++);if(It<ot.ticktext.length)return Rt.text=String(ot.ticktext[It]),Rt}function pe(ee){if(ee===void 0)return!0;if(Lt)return ee==="none";var ue={first:ot._tmin,last:ot._tmax}[ee];return ee!=="all"&&ft!==ue}var we=Lt?"never":ot.exponentformat!=="none"&&pe(ot.showexponent)?"hide":"";if(ae==="date"?function(ee,ue,Te,Me){var Ce=ee._tickround,fe=Te&&ee.hoverformat||F.getTickFormat(ee);Me&&(Ce=a(Ce)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Ce]);var _e,Le=l.formatDate(ue.x,fe,Ce,ee._dateFormat,ee.calendar,ee._extraFormat),he=Le.indexOf(`
`);if(he!==-1&&(_e=Le.substr(he+1),Le=Le.substr(0,he)),Me&&(Le==="00:00:00"||Le==="00:00"?(Le=_e,_e=""):Le.length===8&&(Le=Le.replace(/:00$/,""))),_e)if(Te)Ce==="d"?Le+=", "+_e:Le=_e+(Le?", "+Le:"");else if(ee._inCalcTicks&&ee._prevDateHead===_e){var Se=ie(ee),de=ee._realSide||ee.side;(!Se&&de==="top"||Se&&de==="bottom")&&(Le+="<br> ")}else ee._prevDateHead=_e,Le+="<br>"+_e;ue.text=Le}(ot,Rt,Lt,Jt):ae==="log"?function(ee,ue,Te,Me,Ce){var fe=ee.dtick,_e=ue.x,Le=ee.tickformat,he=typeof fe=="string"&&fe.charAt(0);if(Ce==="never"&&(Ce=""),Me&&he!=="L"&&(fe="L3",he="L"),Le||he==="L")ue.text=Tt(Math.pow(10,_e),ee,Ce,Me);else if(a(fe)||he==="D"&&l.mod(_e+.01,1)<.1){var Se=Math.round(_e),de=Math.abs(Se),Re=ee.exponentformat;Re==="power"||Et(Re)&&Mt(Se)?(ue.text=Se===0?1:Se===1?"10":"10<sup>"+(Se>1?"":W)+de+"</sup>",ue.fontSize*=1.25):(Re==="e"||Re==="E")&&de>2?ue.text="1"+Re+(Se>0?"+":W)+de:(ue.text=Tt(Math.pow(10,_e),ee,"","fakehover"),fe==="D1"&&ee._id.charAt(0)==="y"&&(ue.dy-=ue.fontSize/6))}else{if(he!=="D")throw"unrecognized dtick "+String(fe);ue.text=String(Math.round(Math.pow(10,l.mod(_e,1)))),ue.fontSize*=.75}if(ee.dtick==="D1"){var Ee=String(ue.text).charAt(0);Ee!=="0"&&Ee!=="1"||(ee._id.charAt(0)==="y"?ue.dx-=ue.fontSize/4:(ue.dy+=ue.fontSize/2,ue.dx+=(ee.range[1]>ee.range[0]?1:-1)*ue.fontSize*(_e<0?.5:.25)))}}(ot,Rt,0,Jt,we):ae==="category"?function(ee,ue){var Te=ee._categories[Math.round(ue.x)];Te===void 0&&(Te=""),ue.text=String(Te)}(ot,Rt):ae==="multicategory"?function(ee,ue,Te){var Me=Math.round(ue.x),Ce=ee._categories[Me]||[],fe=Ce[1]===void 0?"":String(Ce[1]),_e=Ce[0]===void 0?"":String(Ce[0]);Te?ue.text=_e+" - "+fe:(ue.text=fe,ue.text2=_e)}(ot,Rt,Lt):kt(ot)?function(ee,ue,Te,Me,Ce){if(ee.thetaunit!=="radians"||Te)ue.text=Tt(ue.x,ee,Ce,Me);else{var fe=ue.x/180;if(fe===0)ue.text="0";else{var _e=function(he){function Se(De,je){return Math.abs(De-je)<=1e-6}var de=function(De){for(var je=1;!Se(Math.round(De*je)/je,De);)je*=10;return je}(he),Re=he*de,Ee=Math.abs(function De(je,Je){return Se(Je,0)?je:De(Je,je%Je)}(Re,de));return[Math.round(Re/Ee),Math.round(de/Ee)]}(fe);if(_e[1]>=100)ue.text=Tt(l.deg2rad(ue.x),ee,Ce,Me);else{var Le=ue.x<0;_e[1]===1?_e[0]===1?ue.text="\u03C0":ue.text=_e[0]+"\u03C0":ue.text=["<sup>",_e[0],"</sup>","\u2044","<sub>",_e[1],"</sub>","\u03C0"].join(""),Le&&(ue.text=W+ue.text)}}}}(ot,Rt,Lt,Jt,we):function(ee,ue,Te,Me,Ce){Ce==="never"?Ce="":ee.showexponent==="all"&&Math.abs(ue.x/ee.dtick)<1e-6&&(Ce="hide"),ue.text=Tt(ue.x,ee,Ce,Me)}(ot,Rt,0,Jt,we),Pt||(ot.tickprefix&&!pe(ot.showtickprefix)&&(Rt.text=ot.tickprefix+Rt.text),ot.ticksuffix&&!pe(ot.showticksuffix)&&(Rt.text+=ot.ticksuffix)),ot.tickson==="boundaries"||ot.showdividers){var me=function(ee){var ue=ot.l2p(ee);return ue>=0&&ue<=ot._length?ee:null};Rt.xbnd=[me(Rt.x-.5),me(Rt.x+ot.dtick-.5)]}return Rt},F.hoverLabelText=function(ot,ft,Lt){Lt&&(ot=l.extendFlat({},ot,{hoverformat:Lt}));var Pt=Array.isArray(ft)?ft[0]:ft,It=Array.isArray(ft)?ft[1]:void 0;if(It!==void 0&&It!==Pt)return F.hoverLabelText(ot,Pt,Lt)+" - "+F.hoverLabelText(ot,It,Lt);var Rt=ot.type==="log"&&Pt<=0,Vt=F.tickText(ot,ot.c2l(Rt?-Pt:Pt),"hover").text;return Rt?Pt===0?"0":W+Vt:Vt};var mt=["f","p","n","\u03BC","m","","k","M","G","T"];function Et(ot){return ot==="SI"||ot==="B"}function Mt(ot){return ot>14||ot<-15}function Tt(ot,ft,Lt,Pt){var It=ot<0,Rt=ft._tickround,Vt=Lt||ft.exponentformat||"B",Jt=ft._tickexponent,ae=F.getTickFormat(ft),ce=ft.separatethousands;if(Pt){var le={exponentformat:Vt,minexponent:ft.minexponent,dtick:ft.showexponent==="none"?ft.dtick:a(ot)&&Math.abs(ot)||1,range:ft.showexponent==="none"?ft.range.map(ft.r2d):[0,ot||1]};it(le),Rt=(Number(le._tickround)||0)+4,Jt=le._tickexponent,ft.hoverformat&&(ae=ft.hoverformat)}if(ae)return ft._numFormat(ae)(ot).replace(/-/g,W);var se,pe=Math.pow(10,-Rt)/2;if(Vt==="none"&&(Jt=0),(ot=Math.abs(ot))<pe)ot="0",It=!1;else{if(ot+=pe,Jt&&(ot*=Math.pow(10,-Jt),Rt+=Jt),Rt===0)ot=String(Math.floor(ot));else if(Rt<0){ot=(ot=String(Math.round(ot))).substr(0,ot.length+Rt);for(var we=Rt;we<0;we++)ot+="0"}else{var me=(ot=String(ot)).indexOf(".")+1;me&&(ot=ot.substr(0,me+Rt).replace(/\.?0+$/,""))}ot=l.numSeparate(ot,ft._separators,ce)}return Jt&&Vt!=="hide"&&(Et(Vt)&&Mt(Jt)&&(Vt="power"),se=Jt<0?W+-Jt:Vt!=="power"?"+"+Jt:String(Jt),Vt==="e"||Vt==="E"?ot+=Vt+se:Vt==="power"?ot+="\xD710<sup>"+se+"</sup>":Vt==="B"&&Jt===9?ot+="B":Et(Vt)&&(ot+=mt[Jt/3+5])),It?W+ot:ot}function Nt(ot,ft){for(var Lt=[],Pt={},It=0;It<ft.length;It++){var Rt=ft[It];Pt[Rt.text2]?Pt[Rt.text2].push(Rt.x):Pt[Rt.text2]=[Rt.x]}for(var Vt in Pt)Lt.push(dt(ot,l.interp(Pt[Vt],.5),Vt));return Lt}function zt(ot){return ot.periodX!==void 0?ot.periodX:ot.x}function At(ot){return[ot.text,ot.x,ot.axInfo,ot.font,ot.fontSize,ot.fontColor].join("_")}function Ct(ot){var ft=ot.title.font.size,Lt=(ot.title.text.match(d.BR_TAG_ALL)||[]).length;return ot.title.hasOwnProperty("standoff")?Lt?ft*(U+Lt*$):ft*U:Lt?ft*(Lt+1)*$:ft}function qt(ot,ft){var Lt=ot.l2p(ft);return Lt>1&&Lt<ot._length-1}function St(ot){var ft=n.select(ot),Lt=ft.select(".text-math-group");return Lt.empty()?ft.select("text"):Lt}function $t(ot){return ot._id+".automargin"}function Zt(ot){return $t(ot)+".mirror"}function Yt(ot){return ot._id+".rangeslider"}function re(ot,ft){for(var Lt=0;Lt<ft.length;Lt++)ot.indexOf(ft[Lt])===-1&&ot.push(ft[Lt])}function Qt(ot,ft,Lt){var Pt,It,Rt=[],Vt=[],Jt=ot.layout;for(Pt=0;Pt<ft.length;Pt++)Rt.push(F.getFromId(ot,ft[Pt]));for(Pt=0;Pt<Lt.length;Pt++)Vt.push(F.getFromId(ot,Lt[Pt]));var ae=Object.keys(m),ce=["anchor","domain","overlaying","position","side","tickangle","editType"],le=["linear","log"];for(Pt=0;Pt<ae.length;Pt++){var se=ae[Pt],pe=Rt[0][se],we=Vt[0][se],me=!0,ee=!1,ue=!1;if(se.charAt(0)!=="_"&&typeof pe!="function"&&ce.indexOf(se)===-1){for(It=1;It<Rt.length&&me;It++){var Te=Rt[It][se];se==="type"&&le.indexOf(pe)!==-1&&le.indexOf(Te)!==-1&&pe!==Te?ee=!0:Te!==pe&&(me=!1)}for(It=1;It<Vt.length&&me;It++){var Me=Vt[It][se];se==="type"&&le.indexOf(we)!==-1&&le.indexOf(Me)!==-1&&we!==Me?ue=!0:Vt[It][se]!==we&&(me=!1)}me&&(ee&&(Jt[Rt[0]._name].type="linear"),ue&&(Jt[Vt[0]._name].type="linear"),xt(Jt,se,Rt,Vt,ot._fullLayout._dfltTitle))}}for(Pt=0;Pt<ot._fullLayout.annotations.length;Pt++){var Ce=ot._fullLayout.annotations[Pt];ft.indexOf(Ce.xref)!==-1&&Lt.indexOf(Ce.yref)!==-1&&l.swapAttrs(Jt.annotations[Pt],["?"])}}function xt(ot,ft,Lt,Pt,It){var Rt,Vt=l.nestedProperty,Jt=Vt(ot[Lt[0]._name],ft).get(),ae=Vt(ot[Pt[0]._name],ft).get();for(ft==="title"&&(Jt&&Jt.text===It.x&&(Jt.text=It.y),ae&&ae.text===It.y&&(ae.text=It.x)),Rt=0;Rt<Lt.length;Rt++)Vt(ot,Lt[Rt]._name+"."+ft).set(ae);for(Rt=0;Rt<Pt.length;Rt++)Vt(ot,Pt[Rt]._name+"."+ft).set(Jt)}function kt(ot){return ot._id==="angularaxis"}function Bt(ot,ft){for(var Lt=ft._rangebreaks.length,Pt=0;Pt<Lt;Pt++){var It=ft._rangebreaks[Pt];if(ot>=It.min&&ot<It.max)return It.max}return ot}function ie(ot){return(ot.ticklabelposition||"").indexOf("inside")!==-1}function ye(ot,ft){ie(ot._anchorAxis||{})&&ot._hideCounterAxisInsideTickLabels&&ot._hideCounterAxisInsideTickLabels(ft)}F.getTickFormat=function(ot){var ft,Lt,Pt,It,Rt,Vt,Jt,ae;function ce(pe){return typeof pe!="string"?pe:Number(pe.replace("M",""))*C}function le(pe,we){var me=["L","D"];if(typeof pe==typeof we){if(typeof pe=="number")return pe-we;var ee=me.indexOf(pe.charAt(0)),ue=me.indexOf(we.charAt(0));return ee===ue?Number(pe.replace(/(L|D)/g,""))-Number(we.replace(/(L|D)/g,"")):ee-ue}return typeof pe=="number"?1:-1}function se(pe,we){var me=we[0]===null,ee=we[1]===null,ue=le(pe,we[0])>=0,Te=le(pe,we[1])<=0;return(me||ue)&&(ee||Te)}if(ot.tickformatstops&&ot.tickformatstops.length>0)switch(ot.type){case"date":case"linear":for(ft=0;ft<ot.tickformatstops.length;ft++)if((Pt=ot.tickformatstops[ft]).enabled&&(It=ot.dtick,Rt=Pt.dtickrange,Vt=void 0,Jt=void 0,ae=void 0,Vt=ce||function(pe){return pe},Jt=Rt[0],ae=Rt[1],(!Jt&&typeof Jt!="number"||Vt(Jt)<=Vt(It))&&(!ae&&typeof ae!="number"||Vt(ae)>=Vt(It)))){Lt=Pt;break}break;case"log":for(ft=0;ft<ot.tickformatstops.length;ft++)if((Pt=ot.tickformatstops[ft]).enabled&&se(ot.dtick,Pt.dtickrange)){Lt=Pt;break}}return Lt?Lt.value:ot.tickformat},F.getSubplots=function(ot,ft){var Lt=ot._fullLayout._subplots,Pt=Lt.cartesian.concat(Lt.gl2d||[]),It=ft?F.findSubplotsWithAxis(Pt,ft):Pt;return It.sort(function(Rt,Vt){var Jt=Rt.substr(1).split("y"),ae=Vt.substr(1).split("y");return Jt[0]===ae[0]?+Jt[1]-+ae[1]:+Jt[0]-+ae[0]}),It},F.findSubplotsWithAxis=function(ot,ft){for(var Lt=new RegExp(ft._id.charAt(0)==="x"?"^"+ft._id+"y":ft._id+"$"),Pt=[],It=0;It<ot.length;It++){var Rt=ot[It];Lt.test(Rt)&&Pt.push(Rt)}return Pt},F.makeClipPaths=function(ot){var ft=ot._fullLayout;if(!ft._hasOnlyLargeSploms){var Lt,Pt,It={_offset:0,_length:ft.width,_id:""},Rt={_offset:0,_length:ft.height,_id:""},Vt=F.list(ot,"x",!0),Jt=F.list(ot,"y",!0),ae=[];for(Lt=0;Lt<Vt.length;Lt++)for(ae.push({x:Vt[Lt],y:Rt}),Pt=0;Pt<Jt.length;Pt++)Lt===0&&ae.push({x:It,y:Jt[Pt]}),ae.push({x:Vt[Lt],y:Jt[Pt]});var ce=ft._clips.selectAll(".axesclip").data(ae,function(le){return le.x._id+le.y._id});ce.enter().append("clipPath").classed("axesclip",!0).attr("id",function(le){return"clip"+ft._uid+le.x._id+le.y._id}).append("rect"),ce.exit().remove(),ce.each(function(le){n.select(this).select("rect").attr({x:le.x._offset||0,y:le.y._offset||0,width:le.x._length||1,height:le.y._length||1})})}},F.draw=function(ot,ft,Lt){var Pt=ot._fullLayout;ft==="redraw"&&Pt._paper.selectAll("g.subplot").each(function(Rt){var Vt=Rt[0],Jt=Pt._plots[Vt];if(Jt){var ae=Jt.xaxis,ce=Jt.yaxis;Jt.xaxislayer.selectAll("."+ae._id+"tick").remove(),Jt.yaxislayer.selectAll("."+ce._id+"tick").remove(),Jt.xaxislayer.selectAll("."+ae._id+"tick2").remove(),Jt.yaxislayer.selectAll("."+ce._id+"tick2").remove(),Jt.xaxislayer.selectAll("."+ae._id+"divider").remove(),Jt.yaxislayer.selectAll("."+ce._id+"divider").remove(),Jt.gridlayer&&Jt.gridlayer.selectAll("path").remove(),Jt.zerolinelayer&&Jt.zerolinelayer.selectAll("path").remove(),Pt._infolayer.select(".g-"+ae._id+"title").remove(),Pt._infolayer.select(".g-"+ce._id+"title").remove()}});var It=ft&&ft!=="redraw"?ft:F.listIds(ot);return l.syncOrAsync(It.map(function(Rt){return function(){if(Rt){var Vt=F.getFromId(ot,Rt),Jt=F.drawOne(ot,Vt,Lt);return Vt._r=Vt.range.slice(),Vt._rl=l.simpleMap(Vt._r,Vt.r2l),Jt}}}))},F.drawOne=function(ot,ft,Lt){var Pt,It,Rt;Lt=Lt||{},ft.setScale();var Vt=ot._fullLayout,Jt=ft._id,ae=Jt.charAt(0),ce=F.counterLetter(Jt),le=Vt._plots[ft._mainSubplot];if(le){var se=le[ae+"axislayer"],pe=ft._mainLinePosition,we=ft._mainMirrorPosition,me=ft._vals=F.calcTicks(ft),ee=[ft.mirror,pe,we].join("_");for(Pt=0;Pt<me.length;Pt++)me[Pt].axInfo=ee;ft._selections={},ft._tickAngles&&(ft._prevTickAngles=ft._tickAngles),ft._tickAngles={},ft._depth=null;var ue={};if(ft.visible){var Te,Me,Ce=F.makeTransTickFn(ft),fe=F.makeTransTickLabelFn(ft),_e=ft.ticks==="inside",Le=ft.ticks==="outside";if(ft.tickson==="boundaries"){var he=function($e,ke){var Ge,He=[],Ue=function(Be,tn){var rn=Be.xbnd[tn];rn!==null&&He.push(l.extendFlat({},Be,{x:rn}))};if(ke.length){for(Ge=0;Ge<ke.length;Ge++)Ue(ke[Ge],0);Ue(ke[Ge-1],1)}return He}(0,me);Me=F.clipEnds(ft,he),Te=_e?Me:he}else Me=F.clipEnds(ft,me),Te=_e&&ft.ticklabelmode!=="period"?Me:me;var Se=ft._gridVals=Me,de=function($e,ke){var Ge,He,Ue=[],Be=ke.length&&ke[ke.length-1].x<ke[0].x,tn=function(dn,Xe){var an=dn.xbnd[Xe];an!==null&&Ue.push(l.extendFlat({},dn,{x:an}))};if($e.showdividers&&ke.length){for(Ge=0;Ge<ke.length;Ge++){var rn=ke[Ge];rn.text2!==He&&tn(rn,Be?1:0),He=rn.text2}tn(ke[Ge-1],Be?0:1)}return Ue}(ft,me);if(!Vt._hasOnlyLargeSploms){var Re=ft._subplotsWith,Ee={};for(Pt=0;Pt<Re.length;Pt++){It=Re[Pt];var De=(Rt=Vt._plots[It])[ce+"axis"],je=De._mainAxis._id;if(!Ee[je]){Ee[je]=1;var Je=ae==="x"?"M0,"+De._offset+"v"+De._length:"M"+De._offset+",0h"+De._length;F.drawGrid(ot,ft,{vals:Se,counterAxis:De,layer:Rt.gridlayer.select("."+Jt),path:Je,transFn:Ce}),F.drawZeroLine(ot,ft,{counterAxis:De,layer:Rt.zerolinelayer,path:Je,transFn:Ce})}}}var en=F.getTickSigns(ft),be=[];if(ft.ticks){var Ae,Oe,Fe,ve=F.makeTickPath(ft,pe,en[2]);if(ft._anchorAxis&&ft.mirror&&ft.mirror!==!0?(Ae=F.makeTickPath(ft,we,en[3]),Oe=ve+Ae):(Ae="",Oe=ve),ft.showdividers&&Le&&ft.tickson==="boundaries"){var Ve={};for(Pt=0;Pt<de.length;Pt++)Ve[de[Pt].x]=1;Fe=function($e){return Ve[$e.x]?Ae:Oe}}else Fe=Oe;F.drawTicks(ot,ft,{vals:Te,layer:se,path:Fe,transFn:Ce}),ft.mirror==="allticks"&&(be=Object.keys(ft._linepositions||{}))}for(Pt=0;Pt<be.length;Pt++){It=be[Pt],Rt=Vt._plots[It];var We=ft._linepositions[It]||[],ln=F.makeTickPath(ft,We[0],en[0])+F.makeTickPath(ft,We[1],en[1]);F.drawTicks(ot,ft,{vals:Te,layer:Rt[ae+"axislayer"],path:ln,transFn:Ce})}var on=[];if(on.push(function(){return F.drawLabels(ot,ft,{vals:me,layer:se,plotinfo:Rt,transFn:fe,labelFns:F.makeLabelFns(ft,pe)})}),ft.type==="multicategory"){var sn={x:2,y:10}[ae];on.push(function(){var $e={x:"height",y:"width"}[ae],ke=cn()[$e]+sn+(ft._tickAngles[Jt+"tick"]?ft.tickfont.size*$:0);return F.drawLabels(ot,ft,{vals:Nt(ft,me),layer:se,cls:Jt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Ce,labelFns:F.makeLabelFns(ft,pe+ke*en[4])})}),on.push(function(){return ft._depth=en[4]*(cn("tick2")[ft.side]-pe),function($e,ke,Ge){var He=ke._id+"divider",Ue=Ge.vals,Be=Ge.layer.selectAll("path."+He).data(Ue,At);Be.exit().remove(),Be.enter().insert("path",":first-child").classed(He,1).classed("crisp",1).call(u.stroke,ke.dividercolor).style("stroke-width",h.crispRound($e,ke.dividerwidth,1)+"px"),Be.attr("transform",Ge.transFn).attr("d",Ge.path)}(ot,ft,{vals:de,layer:se,path:F.makeTickPath(ft,pe,en[4],ft._depth),transFn:Ce})})}else ft.title.hasOwnProperty("standoff")&&on.push(function(){ft._depth=en[4]*(cn()[ft.side]-pe)});var un=i.getComponentMethod("rangeslider","isVisible")(ft);return on.push(function(){var $e,ke,Ge,He,Ue=ft.side.charAt(0),Be=Q[ft.side].charAt(0),tn=F.getPxPosition(ot,ft),rn=Le?ft.ticklen:0;if((ft.automargin||un)&&(ft.type==="multicategory"?$e=cn("tick2"):($e=cn(),ae==="x"&&Ue==="b"&&(ft._depth=Math.max($e.width>0?$e.bottom-tn:0,rn)))),ft.automargin){ke={x:0,y:0,r:0,l:0,t:0,b:0};var dn=[0,1];if(ae==="x"){if(Ue==="b"?ke[Ue]=ft._depth:(ke[Ue]=ft._depth=Math.max($e.width>0?tn-$e.top:0,rn),dn.reverse()),$e.width>0){var Xe=$e.right-(ft._offset+ft._length);Xe>0&&(ke.xr=1,ke.r=Xe);var an=ft._offset-$e.left;an>0&&(ke.xl=0,ke.l=an)}}else if(Ue==="l"?ke[Ue]=ft._depth=Math.max($e.height>0?tn-$e.left:0,rn):(ke[Ue]=ft._depth=Math.max($e.height>0?$e.right-tn:0,rn),dn.reverse()),$e.height>0){var Cn=$e.bottom-(ft._offset+ft._length);Cn>0&&(ke.yb=0,ke.b=Cn);var Fn=ft._offset-$e.top;Fn>0&&(ke.yt=1,ke.t=Fn)}ke[ce]=ft.anchor==="free"?ft.position:ft._anchorAxis.domain[dn[0]],ft.title.text!==Vt._dfltTitle[ae]&&(ke[Ue]+=Ct(ft)+(ft.title.standoff||0)),ft.mirror&&ft.anchor!=="free"&&((Ge={x:0,y:0,r:0,l:0,t:0,b:0})[Be]=ft.linewidth,ft.mirror&&ft.mirror!==!0&&(Ge[Be]+=rn),ft.mirror===!0||ft.mirror==="ticks"?Ge[ce]=ft._anchorAxis.domain[dn[1]]:ft.mirror!=="all"&&ft.mirror!=="allticks"||(Ge[ce]=[ft._counterDomainMin,ft._counterDomainMax][dn[1]]))}un&&(He=i.getComponentMethod("rangeslider","autoMarginOpts")(ot,ft)),o.autoMargin(ot,$t(ft),ke),o.autoMargin(ot,Zt(ft),Ge),o.autoMargin(ot,Yt(ft),He)}),Lt.skipTitle||un&&ft.side==="bottom"||on.push(function(){return function($e,ke){var Ge,He=$e._fullLayout,Ue=ke._id,Be=Ue.charAt(0),tn=ke.title.font.size;if(ke.title.hasOwnProperty("standoff"))Ge=ke._depth+ke.title.standoff+Ct(ke);else{var rn=ie(ke);if(ke.type==="multicategory")Ge=ke._depth;else{var dn=1.5*tn;rn&&(dn=.5*tn,ke.ticks==="outside"&&(dn+=ke.ticklen)),Ge=10+dn+(ke.linewidth?ke.linewidth-1:0)}rn||(Ge+=Be==="x"?ke.side==="top"?tn*(ke.showticklabels?1:0):tn*(ke.showticklabels?1.5:.5):ke.side==="right"?tn*(ke.showticklabels?1:.5):tn*(ke.showticklabels?.5:0))}var Xe,an,Cn,Fn,Gn=F.getPxPosition($e,ke);if(Be==="x"?(an=ke._offset+ke._length/2,Cn=ke.side==="top"?Gn-Ge:Gn+Ge):(Cn=ke._offset+ke._length/2,an=ke.side==="right"?Gn+Ge:Gn-Ge,Xe={rotate:"-90",offset:0}),ke.type!=="multicategory"){var Yn=ke._selections[ke._id+"tick"];if(Fn={selection:Yn,side:ke.side},Yn&&Yn.node()&&Yn.node().parentNode){var tr=h.getTranslate(Yn.node().parentNode);Fn.offsetLeft=tr.x,Fn.offsetTop=tr.y}ke.title.hasOwnProperty("standoff")&&(Fn.pad=0)}return f.draw($e,Ue+"title",{propContainer:ke,propName:ke._name+".title.text",placeholder:He._dfltTitle[Be],avoid:Fn,transform:Xe,attributes:{x:an,y:Cn,"text-anchor":"middle"}})}(ot,ft)}),l.syncOrAsync(on)}}function cn($e){var ke=Jt+($e||"tick");return ue[ke]||(ue[ke]=function(Ge,He){var Ue,Be,tn,rn;return Ge._selections[He].size()?(Ue=1/0,Be=-1/0,tn=1/0,rn=-1/0,Ge._selections[He].each(function(){var dn=St(this),Xe=h.bBox(dn.node().parentNode);Ue=Math.min(Ue,Xe.top),Be=Math.max(Be,Xe.bottom),tn=Math.min(tn,Xe.left),rn=Math.max(rn,Xe.right)})):(Ue=0,Be=0,tn=0,rn=0),{top:Ue,bottom:Be,left:tn,right:rn,height:Be-Ue,width:rn-tn}}(ft,ke)),ue[ke]}},F.getTickSigns=function(ot){var ft=ot._id.charAt(0),Lt={x:"top",y:"right"}[ft],Pt=ot.side===Lt?1:-1,It=[-1,1,Pt,-Pt];return ot.ticks!=="inside"==(ft==="x")&&(It=It.map(function(Rt){return-Rt})),ot.side&&It.push({l:-1,t:-1,r:1,b:1}[ot.side.charAt(0)]),It},F.makeTransTickFn=function(ot){return ot._id.charAt(0)==="x"?function(ft){return p(ot._offset+ot.l2p(ft.x),0)}:function(ft){return p(0,ot._offset+ot.l2p(ft.x))}},F.makeTransTickLabelFn=function(ot){var ft=function(It){var Rt=It.ticklabelposition||"",Vt=function(Te){return Rt.indexOf(Te)!==-1},Jt=Vt("top"),ae=Vt("left"),ce=Vt("right"),le=Vt("bottom"),se=Vt("inside"),pe=le||ae||Jt||ce;if(!pe&&!se)return[0,0];var we=It.side,me=pe?(It.tickwidth||0)/2:0,ee=3,ue=It.tickfont?It.tickfont.size:12;return(le||Jt)&&(me+=ue*U,ee+=(It.linewidth||0)/2),(ae||ce)&&(me+=(It.linewidth||0)/2,ee+=3),se&&we==="top"&&(ee-=ue*(1-U)),(ae||Jt)&&(me=-me),we!=="bottom"&&we!=="right"||(ee=-ee),[pe?me:0,se?ee:0]}(ot),Lt=ft[0],Pt=ft[1];return ot._id.charAt(0)==="x"?function(It){return p(Lt+ot._offset+ot.l2p(zt(It)),Pt)}:function(It){return p(Pt,Lt+ot._offset+ot.l2p(zt(It)))}},F.makeTickPath=function(ot,ft,Lt,Pt){Pt=Pt!==void 0?Pt:ot.ticklen;var It=ot._id.charAt(0),Rt=(ot.linewidth||1)/2;return It==="x"?"M0,"+(ft+Rt*Lt)+"v"+Pt*Lt:"M"+(ft+Rt*Lt)+",0h"+Pt*Lt},F.makeLabelFns=function(ot,ft,Lt){var Pt=ot.ticklabelposition||"",It=function(Ee){return Pt.indexOf(Ee)!==-1},Rt=It("top"),Vt=It("left"),Jt=It("right"),ae=It("bottom")||Vt||Rt||Jt,ce=It("inside"),le=Pt==="inside"&&ot.ticks==="inside"||!ce&&ot.ticks==="outside"&&ot.tickson!=="boundaries",se=0,pe=0,we=le?ot.ticklen:0;if(ce?we*=-1:ae&&(we=0),le&&(se+=we,Lt)){var me=l.deg2rad(Lt);se=we*Math.cos(me)+1,pe=we*Math.sin(me)}ot.showticklabels&&(le||ot.showline)&&(se+=.2*ot.tickfont.size);var ee,ue,Te,Me,Ce,fe={labelStandoff:se+=(ot.linewidth||1)/2*(ce?-1:1),labelShift:pe},_e=0,Le=ot.side,he=ot._id.charAt(0),Se=ot.tickangle;if(he==="x")Me=(Ce=!ce&&Le==="bottom"||ce&&Le==="top")?1:-1,ce&&(Me*=-1),ee=pe*Me,ue=ft+se*Me,Te=Ce?1:-.2,Math.abs(Se)===90&&(ce?Te+=D:Te=Se===-90&&Le==="bottom"?U:Se===90&&Le==="top"?D:.5,_e=D/2*(Se/90)),fe.xFn=function(Ee){return Ee.dx+ee+_e*Ee.fontSize},fe.yFn=function(Ee){return Ee.dy+ue+Ee.fontSize*Te},fe.anchorFn=function(Ee,De){if(ae){if(Vt)return"end";if(Jt)return"start"}return a(De)&&De!==0&&De!==180?De*Me<0!==ce?"end":"start":"middle"},fe.heightFn=function(Ee,De,je){return De<-60||De>60?-.5*je:ot.side==="top"!==ce?-je:0};else if(he==="y"){if(Me=(Ce=!ce&&Le==="left"||ce&&Le==="right")?1:-1,ce&&(Me*=-1),ee=se,ue=pe*Me,Te=0,ce||Math.abs(Se)!==90||(Te=Se===-90&&Le==="left"||Se===90&&Le==="right"?U:.5),ce){var de=a(Se)?+Se:0;if(de!==0){var Re=l.deg2rad(de);_e=Math.abs(Math.sin(Re))*U*Me,Te=0}}fe.xFn=function(Ee){return Ee.dx+ft-(ee+Ee.fontSize*Te)*Me+_e*Ee.fontSize},fe.yFn=function(Ee){return Ee.dy+ue+Ee.fontSize*D},fe.anchorFn=function(Ee,De){return a(De)&&Math.abs(De)===90?"middle":Ce?"end":"start"},fe.heightFn=function(Ee,De,je){return ot.side==="right"&&(De*=-1),De<-30?-je:De<30?-.5*je:0}}return fe},F.drawTicks=function(ot,ft,Lt){Lt=Lt||{};var Pt=ft._id+"tick",It=Lt.vals;ft.ticklabelmode==="period"&&(It=It.slice()).shift();var Rt=Lt.layer.selectAll("path."+Pt).data(ft.ticks?It:[],At);Rt.exit().remove(),Rt.enter().append("path").classed(Pt,1).classed("ticks",1).classed("crisp",Lt.crisp!==!1).call(u.stroke,ft.tickcolor).style("stroke-width",h.crispRound(ot,ft.tickwidth,1)+"px").attr("d",Lt.path).style("display",null),ye(ft,[et]),Rt.attr("transform",Lt.transFn)},F.drawGrid=function(ot,ft,Lt){Lt=Lt||{};var Pt=ft._id+"grid",It=Lt.vals,Rt=Lt.counterAxis;if(ft.showgrid===!1)It=[];else if(Rt&&F.shouldShowZeroLine(ot,ft,Rt))for(var Vt=ft.tickmode==="array",Jt=0;Jt<It.length;Jt++){var ae=It[Jt].x;if(Vt?!ae:Math.abs(ae)<ft.dtick/100){if(It=It.slice(0,Jt).concat(It.slice(Jt+1)),!Vt)break;Jt--}}var ce=Lt.layer.selectAll("path."+Pt).data(It,At);ce.exit().remove(),ce.enter().append("path").classed(Pt,1).classed("crisp",Lt.crisp!==!1),ft._gw=h.crispRound(ot,ft.gridwidth,1),ce.attr("transform",Lt.transFn).attr("d",Lt.path).call(u.stroke,ft.gridcolor||"#ddd").style("stroke-width",ft._gw+"px").style("display",null),ye(ft,[K]),typeof Lt.path=="function"&&ce.attr("d",Lt.path)},F.drawZeroLine=function(ot,ft,Lt){Lt=Lt||Lt;var Pt=ft._id+"zl",It=F.shouldShowZeroLine(ot,ft,Lt.counterAxis),Rt=Lt.layer.selectAll("path."+Pt).data(It?[{x:0,id:ft._id}]:[]);Rt.exit().remove(),Rt.enter().append("path").classed(Pt,1).classed("zl",1).classed("crisp",Lt.crisp!==!1).each(function(){Lt.layer.selectAll("path").sort(function(Vt,Jt){return Z(Vt.id,Jt.id)})}),Rt.attr("transform",Lt.transFn).attr("d",Lt.path).call(u.stroke,ft.zerolinecolor||u.defaultLine).style("stroke-width",h.crispRound(ot,ft.zerolinewidth,ft._gw||1)+"px").style("display",null),ye(ft,[B])},F.drawLabels=function(ot,ft,Lt){Lt=Lt||{};var Pt=ot._fullLayout,It=ft._id,Rt=It.charAt(0),Vt=Lt.cls||It+"tick",Jt=Lt.vals,ae=Lt.labelFns,ce=Lt.secondary?0:ft.tickangle,le=(ft._prevTickAngles||{})[Vt],se=Lt.layer.selectAll("g."+Vt).data(ft.showticklabels?Jt:[],At),pe=[];function we(Me,Ce){Me.each(function(fe){var _e=n.select(this),Le=_e.select(".text-math-group"),he=ae.anchorFn(fe,Ce),Se=Lt.transFn.call(_e.node(),fe)+(a(Ce)&&+Ce!=0?" rotate("+Ce+","+ae.xFn(fe)+","+(ae.yFn(fe)-fe.fontSize/2)+")":""),de=d.lineCount(_e),Re=$*fe.fontSize,Ee=ae.heightFn(fe,a(Ce)?+Ce:0,(de-1)*Re);if(Ee&&(Se+=p(0,Ee)),Le.empty()){var De=_e.select("text");De.attr({transform:Se,"text-anchor":he}),De.style("opacity",1),ft._adjustTickLabelsOverflow&&ft._adjustTickLabelsOverflow()}else{var je=h.bBox(Le.node()).width*{end:-.5,start:.5}[he];Le.attr("transform",Se+p(je,0))}})}se.enter().append("g").classed(Vt,1).append("text").attr("text-anchor","middle").each(function(Me){var Ce=n.select(this),fe=ot._promises.length;Ce.call(d.positionText,ae.xFn(Me),ae.yFn(Me)).call(h.font,Me.font,Me.fontSize,Me.fontColor).text(Me.text).call(d.convertToTspans,ot),ot._promises[fe]?pe.push(ot._promises.pop().then(function(){we(Ce,ce)})):we(Ce,ce)}),ye(ft,[G]),se.exit().remove(),Lt.repositionOnUpdate&&se.each(function(Me){n.select(this).select("text").call(d.positionText,ae.xFn(Me),ae.yFn(Me))}),ft._adjustTickLabelsOverflow=function(){var Me=ft.ticklabeloverflow;if(Me&&Me!=="allow"){var Ce=Me.indexOf("hide")!==-1,fe=ft._id.charAt(0)==="x",_e=0,Le=fe?ot._fullLayout.width:ot._fullLayout.height;if(Me.indexOf("domain")!==-1){var he=l.simpleMap(ft.range,ft.r2l);_e=ft.l2p(he[0])+ft._offset,Le=ft.l2p(he[1])+ft._offset}var Se=Math.min(_e,Le),de=Math.max(_e,Le),Re=ft.side,Ee=1/0,De=-1/0;for(var je in se.each(function(be){var Ae=n.select(this);if(Ae.select(".text-math-group").empty()){var Oe=h.bBox(Ae.node()),Fe=0;fe?(Oe.right>de||Oe.left<Se)&&(Fe=1):(Oe.bottom>de||Oe.top+(ft.tickangle?0:be.fontSize/4)<Se)&&(Fe=1);var ve=Ae.select("text");Fe?Ce&&ve.style("opacity",0):(ve.style("opacity",1),Ee=Re==="bottom"||Re==="right"?Math.min(Ee,fe?Oe.top:Oe.left):-1/0,De=Re==="top"||Re==="left"?Math.max(De,fe?Oe.bottom:Oe.right):1/0)}}),Pt._plots){var Je=Pt._plots[je];if(ft._id===Je.xaxis._id||ft._id===Je.yaxis._id){var en=fe?Je.yaxis:Je.xaxis;en&&(en["_visibleLabelMin_"+ft._id]=Ee,en["_visibleLabelMax_"+ft._id]=De)}}}},ft._hideCounterAxisInsideTickLabels=function(Me){var Ce=ft._id.charAt(0)==="x",fe=[];for(var _e in Pt._plots){var Le=Pt._plots[_e];ft._id!==Le.xaxis._id&&ft._id!==Le.yaxis._id||fe.push(Ce?Le.yaxis:Le.xaxis)}fe.forEach(function(he,Se){he&&ie(he)&&(Me||[B,K,et,G]).forEach(function(de){var Re=de.K==="tick"&&de.L==="text"&&ft.ticklabelmode==="period",Ee=Pt._plots[ft._mainSubplot];(de.K===B.K?Ee.zerolinelayer.selectAll("."+ft._id+"zl"):de.K===K.K?Ee.gridlayer.selectAll("."+ft._id):Ee[ft._id.charAt(0)+"axislayer"]).each(function(){var De=n.select(this);de.L&&(De=De.selectAll(de.L)),De.each(function(je){var Je=ft.l2p(Re?zt(je):je.x)+ft._offset,en=n.select(this);Je<ft["_visibleLabelMax_"+he._id]&&Je>ft["_visibleLabelMin_"+he._id]?en.style("display","none"):de.K!=="tick"||Se||en.style("display",null)})})})})},we(se,le+1?le:ce);var me=null;ft._selections&&(ft._selections[Vt]=se);var ee=[function(){return pe.length&&Promise.all(pe)}];ft.automargin&&Pt._redrawFromAutoMarginCount&&le===90?(me=90,ee.push(function(){we(se,le)})):ee.push(function(){if(we(se,ce),Jt.length&&Rt==="x"&&!a(ce)&&(ft.type!=="log"||String(ft.dtick).charAt(0)!=="D")){me=0;var Me,Ce=0,fe=[];if(se.each(function(Ae){Ce=Math.max(Ce,Ae.fontSize);var Oe=ft.l2p(Ae.x),Fe=St(this),ve=h.bBox(Fe.node());fe.push({top:0,bottom:10,height:10,left:Oe-ve.width/2,right:Oe+ve.width/2+2,width:ve.width+2})}),ft.tickson!=="boundaries"&&!ft.showdividers||Lt.secondary){var _e=Jt.length,Le=Math.abs((Jt[_e-1].x-Jt[0].x)*ft._m)/(_e-1),he=ft.ticklabelposition||"",Se=function(Ae){return he.indexOf(Ae)!==-1},de=Se("top"),Re=Se("left"),Ee=Se("right"),De=Se("bottom")||Re||de||Ee?(ft.tickwidth||0)+6:0,je=Le<2.5*Ce||ft.type==="multicategory";for(Me=0;Me<fe.length-1;Me++)if(l.bBoxIntersect(fe[Me],fe[Me+1],De)){me=je?90:30;break}}else{var Je=2;for(ft.ticks&&(Je+=ft.tickwidth/2),Me=0;Me<fe.length;Me++){var en=Jt[Me].xbnd,be=fe[Me];if(en[0]!==null&&be.left-ft.l2p(en[0])<Je||en[1]!==null&&ft.l2p(en[1])-be.right<Je){me=90;break}}}me&&we(se,me)}}),ft._tickAngles&&ee.push(function(){ft._tickAngles[Vt]=me===null?a(ce)?ce:0:me});var ue=ft._anchorAxis;ue&&ue.autorange&&ie(ft)&&!R(Pt,ft._id)&&(Pt._insideTickLabelsAutorange||(Pt._insideTickLabelsAutorange={}),Pt._insideTickLabelsAutorange[ue._name+".autorange"]=ue.autorange,ee.push(function(){se.each(function(Me,Ce){var fe=St(this);fe.select(".text-math-group").empty()&&(ft._vals[Ce].bb=h.bBox(fe.node()))})}));var Te=l.syncOrAsync(ee);return Te&&Te.then&&ot._promises.push(Te),Te},F.getPxPosition=function(ot,ft){var Lt,Pt=ot._fullLayout._size,It=ft._id.charAt(0),Rt=ft.side;return ft.anchor!=="free"?Lt=ft._anchorAxis:It==="x"?Lt={_offset:Pt.t+(1-(ft.position||0))*Pt.h,_length:0}:It==="y"&&(Lt={_offset:Pt.l+(ft.position||0)*Pt.w,_length:0}),Rt==="top"||Rt==="left"?Lt._offset:Rt==="bottom"||Rt==="right"?Lt._offset+Lt._length:void 0},F.shouldShowZeroLine=function(ot,ft,Lt){var Pt=l.simpleMap(ft.range,ft.r2l);return Pt[0]*Pt[1]<=0&&ft.zeroline&&(ft.type==="linear"||ft.type==="-")&&!(ft.rangebreaks&&ft.maskBreaks(0)===H)&&(qt(ft,0)||!function(It,Rt,Vt,Jt){var ae=Vt._mainAxis;if(!ae)return;var ce=It._fullLayout,le=Rt._id.charAt(0),se=F.counterLetter(Rt._id),pe=Rt._offset+(Math.abs(Jt[0])<Math.abs(Jt[1])==(le==="x")?0:Rt._length);function we(Me){if(!Me.showline||!Me.linewidth)return!1;var Ce=Math.max((Me.linewidth+Rt.zerolinewidth)/2,1);function fe(he){return typeof he=="number"&&Math.abs(he-pe)<Ce}if(fe(Me._mainLinePosition)||fe(Me._mainMirrorPosition))return!0;var _e=Me._linepositions||{};for(var Le in _e)if(fe(_e[Le][0])||fe(_e[Le][1]))return!0}var me=ce._plots[Vt._mainSubplot];if(!(me.mainplotinfo||me).overlays.length)return we(Vt);for(var ee=F.list(It,se),ue=0;ue<ee.length;ue++){var Te=ee[ue];if(Te._mainAxis===ae&&we(Te))return!0}}(ot,ft,Lt,Pt)||function(It,Rt){for(var Vt=It._fullData,Jt=Rt._mainSubplot,ae=Rt._id.charAt(0),ce=0;ce<Vt.length;ce++){var le=Vt[ce];if(le.visible===!0&&le.xaxis+le.yaxis===Jt&&(i.traceIs(le,"bar-like")&&le.orientation==={x:"h",y:"v"}[ae]||le.fill&&le.fill.charAt(le.fill.length-1)===ae))return!0}return!1}(ot,ft))},F.clipEnds=function(ot,ft){return ft.filter(function(Lt){return qt(ot,Lt.x)})},F.allowAutoMargin=function(ot){for(var ft=F.list(ot,"",!0),Lt=0;Lt<ft.length;Lt++){var Pt=ft[Lt];Pt.automargin&&(o.allowAutoMargin(ot,$t(Pt)),Pt.mirror&&o.allowAutoMargin(ot,Zt(Pt))),i.getComponentMethod("rangeslider","isVisible")(Pt)&&o.allowAutoMargin(ot,Yt(Pt))}},F.swap=function(ot,ft){for(var Lt=function(It,Rt){var Vt,Jt,ae=[];for(Vt=0;Vt<Rt.length;Vt++){var ce=[],le=It._fullData[Rt[Vt]].xaxis,se=It._fullData[Rt[Vt]].yaxis;if(le&&se){for(Jt=0;Jt<ae.length;Jt++)ae[Jt].x.indexOf(le)===-1&&ae[Jt].y.indexOf(se)===-1||ce.push(Jt);if(ce.length){var pe,we=ae[ce[0]];if(ce.length>1)for(Jt=1;Jt<ce.length;Jt++)pe=ae[ce[Jt]],re(we.x,pe.x),re(we.y,pe.y);re(we.x,[le]),re(we.y,[se])}else ae.push({x:[le],y:[se]})}}return ae}(ot,ft),Pt=0;Pt<Lt.length;Pt++)Qt(ot,Lt[Pt].x,Lt[Pt].y)}},{"../../components/color":102,"../../components/drawing":124,"../../components/titles":200,"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":314,"../../registry":316,"./autorange":278,"./axis_autotype":280,"./axis_ids":283,"./clean_ticks":285,"./layout_attributes":294,"./set_convert":300,"@plotly/d3":11,"fast-isnumeric":17}],280:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../../lib"),o=t("../../constants/numerical").BADNUM,i=a.isArrayOrTypedArray,l=a.isDateTime,p=a.cleanNumber,d=Math.round;function f(h,m){return m?n(h):typeof h=="number"}function u(h){return Math.max(1,(h-1)/1e3)}s.exports=function(h,m,v){var y=h,k=v.noMultiCategory;if(i(y)&&!y.length)return"-";if(!k&&function(O){return i(O[0])&&i(O[1])}(y))return"multicategory";if(k&&Array.isArray(y[0])){for(var _=[],T=0;T<y.length;T++)if(i(y[T]))for(var b=0;b<y[T].length;b++)_.push(y[T][b]);y=_}if(function(O,A){for(var C=O.length,L=u(C),w=0,E=0,I={},M=0;M<C;M+=L){var V=d(M),j=O[V],W=String(j);I[W]||(I[W]=1,l(j,A)&&w++,n(j)&&E++)}return w>2*E}(y,m))return"date";var x=v.autotypenumbers!=="strict";return function(O,A){for(var C=O.length,L=u(C),w=0,E=0,I={},M=0;M<C;M+=L){var V=d(M),j=O[V],W=String(j);if(!I[W]){I[W]=1;var H=typeof j;H==="boolean"?E++:(A?p(j)!==o:H==="number")?w++:H==="string"&&E++}}return E>2*w}(y,x)?"category":function(O,A){for(var C=O.length,L=0;L<C;L++)if(f(O[L],A))return!0;return!1}(y,x)?"linear":"-"}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],281:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../../registry"),o=t("../../lib"),i=t("../array_container_defaults"),l=t("./layout_attributes"),p=t("./tick_value_defaults"),d=t("./tick_mark_defaults"),f=t("./tick_label_defaults"),u=t("./category_order_defaults"),h=t("./line_grid_defaults"),m=t("./set_convert"),v=t("./constants").WEEKDAY_PATTERN,y=t("./constants").HOUR_PATTERN;function k(b,x,O){function A(j,W){return o.coerce(b,x,l.rangebreaks,j,W)}if(A("enabled")){var C=A("bounds");if(C&&C.length>=2){var L,w,E="";if(C.length===2){for(L=0;L<2;L++)if(w=T(C[L])){E=v;break}}var I=A("pattern",E);if(I===v)for(L=0;L<2;L++)(w=T(C[L]))&&(x.bounds[L]=C[L]=w-1);if(I)for(L=0;L<2;L++)switch(w=C[L],I){case v:if(!n(w)||(w=+w)!==Math.floor(w)||w<0||w>=7)return void(x.enabled=!1);x.bounds[L]=C[L]=w;break;case y:if(!n(w)||(w=+w)<0||w>24)return void(x.enabled=!1);x.bounds[L]=C[L]=w}if(O.autorange===!1){var M=O.range;if(M[0]<M[1]){if(C[0]<M[0]&&C[1]>M[1])return void(x.enabled=!1)}else if(C[0]>M[0]&&C[1]<M[1])return void(x.enabled=!1)}}else{var V=A("values");if(!V||!V.length)return void(x.enabled=!1);A("dvalue")}}}s.exports=function(b,x,O,A,C){var L,w=A.letter,E=A.font||{},I=A.splomStash||{},M=O("visible",!A.visibleDflt),V=x._template||{},j=x.type||V.type||"-";j==="date"&&(a.getComponentMethod("calendars","handleDefaults")(b,x,"calendar",A.calendar),A.noTicklabelmode||(L=O("ticklabelmode")));var W="";A.noTicklabelposition&&j!=="multicategory"||(W=o.coerce(b,x,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:L==="period"?["outside","inside"]:w==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),A.noTicklabeloverflow||O("ticklabeloverflow",W.indexOf("inside")!==-1?"hide past domain":j==="category"||j==="multicategory"?"allow":"hide past div"),m(x,C);var H=!x.isValidRange(b.range);H&&A.reverseDflt&&(H="reversed"),!O("autorange",H)||j!=="linear"&&j!=="-"||O("rangemode"),O("range"),x.cleanRange(),u(b,x,O,A),j==="category"||A.noHover||O("hoverformat");var B=O("color"),K=B!==l.color.dflt?B:E.color,et=I.label||C._dfltTitle[w];if(f(b,x,O,j,A,{pass:1}),!M)return x;O("title.text",et),o.coerceFont(O,"title.font",{family:E.family,size:o.bigFont(E.size),color:K}),p(b,x,O,j),f(b,x,O,j,A,{pass:2}),d(b,x,O,A),h(b,x,O,{dfltColor:B,bgColor:A.bgColor,showGrid:A.showGrid,attributes:l}),(x.showline||x.ticks)&&O("mirror"),A.automargin&&O("automargin");var G,Y=j==="multicategory";if(A.noTickson||j!=="category"&&!Y||!x.ticks&&!x.showgrid||(Y&&(G="boundaries"),O("tickson",G)==="boundaries"&&delete x.ticklabelposition),Y&&O("showdividers")&&(O("dividercolor"),O("dividerwidth")),j==="date")if(i(b,x,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:k}),x.rangebreaks.length){for(var D=0;D<x.rangebreaks.length;D++)if(x.rangebreaks[D].pattern===v){x._hasDayOfWeekBreaks=!0;break}if(m(x,C),C._has("scattergl")||C._has("splom"))for(var U=0;U<A.data.length;U++){var $=A.data[U];$.type!=="scattergl"&&$.type!=="splom"||($.visible=!1,o.warn($.type+" traces do not work on axes with rangebreaks. Setting trace "+$.index+" to `visible: false`."))}}else delete x.rangebreaks;return x};var _={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function T(b){if(typeof b=="string")return _[b.substr(0,3).toLowerCase()]}},{"../../lib":232,"../../registry":316,"../array_container_defaults":274,"./category_order_defaults":284,"./constants":286,"./layout_attributes":294,"./line_grid_defaults":296,"./set_convert":300,"./tick_label_defaults":301,"./tick_mark_defaults":302,"./tick_value_defaults":303,"fast-isnumeric":17}],282:[function(t,s,c){var n=t("../../constants/docs"),a=n.FORMAT_LINK,o=n.DATE_FORMAT_LINK;function i(p,d){return["Sets the "+p+" formatting rule"+(d?"for `"+d+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+a+"."].join(" ")}function l(p,d){return i(p,d)+[" And for dates see: "+o+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}s.exports={axisHoverFormat:function(p,d){return{valType:"string",dflt:"",editType:"none",description:(d?i:l)("hover text",p)+["By default the values are formatted using "+(d?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:i,descriptionWithDates:l}},{"../../constants/docs":209}],283:[function(t,s,c){var n=t("../../registry"),a=t("./constants");function o(i,l){if(l&&l.length){for(var p=0;p<l.length;p++)if(l[p][i])return!0}return!1}c.id2name=function(i){if(typeof i=="string"&&i.match(a.AX_ID_PATTERN)){var l=i.split(" ")[0].substr(1);return l==="1"&&(l=""),i.charAt(0)+"axis"+l}},c.name2id=function(i){if(i.match(a.AX_NAME_PATTERN)){var l=i.substr(5);return l==="1"&&(l=""),i.charAt(0)+l}},c.cleanId=function(i,l,p){var d=/( domain)$/.test(i);if(typeof i=="string"&&i.match(a.AX_ID_PATTERN)&&(!l||i.charAt(0)===l)&&(!d||p)){var f=i.split(" ")[0].substr(1).replace(/^0+/,"");return f==="1"&&(f=""),i.charAt(0)+f+(d&&p?" domain":"")}},c.list=function(i,l,p){var d=i._fullLayout;if(!d)return[];var f,u=c.listIds(i,l),h=new Array(u.length);for(f=0;f<u.length;f++){var m=u[f];h[f]=d[m.charAt(0)+"axis"+m.substr(1)]}if(!p){var v=d._subplots.gl3d||[];for(f=0;f<v.length;f++){var y=d[v[f]];l?h.push(y[l+"axis"]):h.push(y.xaxis,y.yaxis,y.zaxis)}}return h},c.listIds=function(i,l){var p=i._fullLayout;if(!p)return[];var d=p._subplots;return l?d[l+"axis"]:d.xaxis.concat(d.yaxis)},c.getFromId=function(i,l,p){var d=i._fullLayout;return l=l===void 0||typeof l!="string"?l:l.replace(" domain",""),p==="x"?l=l.replace(/y[0-9]*/,""):p==="y"&&(l=l.replace(/x[0-9]*/,"")),d[c.id2name(l)]},c.getFromTrace=function(i,l,p){var d=i._fullLayout,f=null;if(n.traceIs(l,"gl3d")){var u=l.scene;u.substr(0,5)==="scene"&&(f=d[u][p+"axis"])}else f=c.getFromId(i,l[p+"axis"]||p);return f},c.idSort=function(i,l){var p=i.charAt(0),d=l.charAt(0);return p!==d?p>d?1:-1:+(i.substr(1)||1)-+(l.substr(1)||1)},c.ref2id=function(i){return!!/^[xyz]/.test(i)&&i.split(" ")[0]},c.isLinked=function(i,l){return o(l,i._axisMatchGroups)||o(l,i._axisConstraintGroups)}},{"../../registry":316,"./constants":286}],284:[function(t,s,c){s.exports=function(n,a,o,i){if(a.type==="category"){var l,p=n.categoryarray,d=Array.isArray(p)&&p.length>0;d&&(l="array");var f,u=o("categoryorder",l);u==="array"&&(f=o("categoryarray")),d||u!=="array"||(u=a.categoryorder="trace"),u==="trace"?a._initialCategories=[]:u==="array"?a._initialCategories=f.slice():(f=function(h,m){var v,y,k,_=m.dataAttr||h._id.charAt(0),T={};if(m.axData)v=m.axData;else for(v=[],y=0;y<m.data.length;y++){var b=m.data[y];b[_+"axis"]===h._id&&v.push(b)}for(y=0;y<v.length;y++){var x=v[y][_];for(k=0;k<x.length;k++){var O=x[k];O!=null&&(T[O]=1)}}return Object.keys(T)}(a,i).sort(),u==="category ascending"?a._initialCategories=f:u==="category descending"&&(a._initialCategories=f.reverse()))}}},{}],285:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../../lib"),o=t("../../constants/numerical"),i=o.ONEDAY,l=o.ONEWEEK;c.dtick=function(p,d){var f=d==="log",u=d==="date",h=d==="category",m=u?i:1;if(!p)return m;if(n(p))return(p=Number(p))<=0?m:h?Math.max(1,Math.round(p)):u?Math.max(.1,p):p;if(typeof p!="string"||!u&&!f)return m;var v=p.charAt(0),y=p.substr(1);return(y=n(y)?Number(y):0)<=0||!(u&&v==="M"&&y===Math.round(y)||f&&v==="L"||f&&v==="D"&&(y===1||y===2))?m:p},c.tick0=function(p,d,f,u){return d==="date"?a.cleanDate(p,a.dateTick0(f,u%l==0?1:0)):u!=="D1"&&u!=="D2"?n(p)?Number(p):0:void 0}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],286:[function(t,s,c){var n=t("../../lib/regex").counter;s.exports={idRegex:{x:n("x","( domain)?"),y:n("y","( domain)?")},attrRegex:n("[xy]axis"),xAxisMatch:n("xaxis"),yAxisMatch:n("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":248}],287:[function(t,s,c){var n=t("../../lib"),a=t("./autorange"),o=t("./axis_ids").id2name,i=t("./layout_attributes"),l=t("./scale_zoom"),p=t("./set_convert"),d=t("../../constants/numerical").ALMOST_EQUAL,f=t("../../constants/alignment").FROM_BL;function u(T,b,x){var O=x.axIds,A=x.layoutOut,C=x.hasImage,L=A._axisConstraintGroups,w=A._axisMatchGroups,E=b._id,I=E.charAt(0),M=((A._splomAxes||{})[I]||{})[E]||{},V=b._id,j=V.charAt(0)==="x";function W(Z,R){return n.coerce(T,b,i,Z,R)}b._matchGroup=null,b._constraintGroup=null,W("constrain",C?"domain":"range"),n.coerce(T,b,{constraintoward:{valType:"enumerated",values:j?["left","center","right"]:["bottom","middle","top"],dflt:j?"center":"middle"}},"constraintoward");var H,B,K=b.type,et=[];for(H=0;H<O.length;H++)(B=O[H])!==V&&A[o(B)].type===K&&et.push(B);var G=m(L,V);if(G){var Y=[];for(H=0;H<et.length;H++)G[B=et[H]]||Y.push(B);et=Y}var D,U,$=et.length;$&&(T.matches||M.matches)&&(D=n.coerce(T,b,{matches:{valType:"enumerated",values:et,dflt:et.indexOf(M.matches)!==-1?M.matches:void 0}},"matches"));var Q=C&&!j?b.anchor:void 0;if($&&!D&&(T.scaleanchor||Q)&&(U=n.coerce(T,b,{scaleanchor:{valType:"enumerated",values:et}},"scaleanchor",Q)),D){b._matchGroup=v(w,V,D,1);var F=A[o(D)],z=h(A,b)/h(A,F);j!==(D.charAt(0)==="x")&&(z=(j?"x":"y")+z),v(L,V,D,z)}else T.matches&&O.indexOf(T.matches)!==-1&&n.warn("ignored "+b._name+'.matches: "'+T.matches+'" to avoid an infinite loop');if(U){var P=W("scaleratio");P||(P=b.scaleratio=1),v(L,V,U,P)}else T.scaleanchor&&O.indexOf(T.scaleanchor)!==-1&&n.warn("ignored "+b._name+'.scaleanchor: "'+T.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function h(T,b){var x=b.domain;return x||(x=T[o(b.overlaying)].domain),x[1]-x[0]}function m(T,b){for(var x=0;x<T.length;x++)if(T[x][b])return T[x];return null}function v(T,b,x,O){var A,C,L,w,E,I=m(T,b);I===null?((I={})[b]=1,E=T.length,T.push(I)):E=T.indexOf(I);var M=Object.keys(I);for(A=0;A<T.length;A++)if(L=T[A],A!==E&&L[x]){var V=L[x];for(C=0;C<M.length;C++)L[w=M[C]]=y(V,y(O,I[w]));return void T.splice(E,1)}if(O!==1)for(C=0;C<M.length;C++){var j=M[C];I[j]=y(O,I[j])}I[x]=1}function y(T,b){var x,O,A="",C="";typeof T=="string"&&(x=(A=T.match(/^[xy]*/)[0]).length,T=+T.substr(x)),typeof b=="string"&&(O=(C=b.match(/^[xy]*/)[0]).length,b=+b.substr(O));var L=T*b;return x||O?x&&O&&A.charAt(0)!==C.charAt(0)?x===O?L:(x>O?A.substr(O):C.substr(x))+L:A+C+T*b:L}function k(T,b){for(var x=b._size,O=x.h/x.w,A={},C=Object.keys(T),L=0;L<C.length;L++){var w=C[L],E=T[w];if(typeof E=="string"){var I=E.match(/^[xy]*/)[0],M=I.length;E=+E.substr(M);for(var V=I.charAt(0)==="y"?O:1/O,j=0;j<M;j++)E*=V}A[w]=E}return A}function _(T,b){var x=T._inputDomain,O=f[T.constraintoward],A=x[0]+(x[1]-x[0])*O;T.domain=T._input.domain=[A+(x[0]-A)/b,A+(x[1]-A)/b],T.setScale()}c.handleDefaults=function(T,b,x){var O,A,C,L,w,E,I,M,V=x.axIds,j=x.axHasImage,W=b._axisConstraintGroups=[],H=b._axisMatchGroups=[];for(O=0;O<V.length;O++)u(w=T[L=o(V[O])],E=b[L],{axIds:V,layoutOut:b,hasImage:j[L]});function B(F,z){for(O=0;O<F.length;O++)for(C in A=F[O])b[o(C)][z]=A}for(B(H,"_matchGroup"),O=0;O<W.length;O++)for(C in A=W[O])if((E=b[o(C)]).fixedrange){for(var K in A){var et=o(K);(T[et]||{}).fixedrange===!1&&n.warn("fixedrange was specified as false for axis "+et+" but was overridden because another axis in its constraint group has fixedrange true"),b[et].fixedrange=!0}break}for(O=0;O<W.length;){for(C in A=W[O]){(E=b[o(C)])._matchGroup&&Object.keys(E._matchGroup).length===Object.keys(A).length&&(W.splice(O,1),O--);break}O++}B(W,"_constraintGroup");var G=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],Y=!1,D=!1;function U(){M=E[I],I==="rangebreaks"&&(D=E._hasDayOfWeekBreaks)}for(O=0;O<H.length;O++){A=H[O];for(var $=0;$<G.length;$++){var Q;for(C in I=G[$],M=null,A)if(w=T[L=o(C)],E=b[L],I in E){if(!E.matches&&(Q=E,I in w)){U();break}M===null&&I in w&&U()}if(I==="range"&&M&&(Y=!0),I==="autorange"&&M===null&&Y&&(M=!1),M===null&&I in Q&&(M=Q[I]),M!==null)for(C in A)(E=b[o(C)])[I]=I==="range"?M.slice():M,I==="rangebreaks"&&(E._hasDayOfWeekBreaks=D,p(E,b))}}},c.enforce=function(T){var b,x,O,A,C,L,w,E,I=T._fullLayout,M=I._axisConstraintGroups||[];for(b=0;b<M.length;b++){O=k(M[b],I);var V=Object.keys(O),j=1/0,W=0,H=1/0,B={},K={},et=!1;for(x=0;x<V.length;x++)K[A=V[x]]=C=I[o(A)],C._inputDomain?C.domain=C._inputDomain.slice():C._inputDomain=C.domain.slice(),C._inputRange||(C._inputRange=C.range.slice()),C.setScale(),B[A]=L=Math.abs(C._m)/O[A],j=Math.min(j,L),C.constrain!=="domain"&&C._constraintShrinkable||(H=Math.min(H,L)),delete C._constraintShrinkable,W=Math.max(W,L),C.constrain==="domain"&&(et=!0);if(!(j>d*W)||et){for(x=0;x<V.length;x++)if(L=B[A=V[x]],w=(C=K[A]).constrain,L!==H||w==="domain")if(E=L/H,w==="range")l(C,E);else{var G=C._inputDomain,Y=(C.domain[1]-C.domain[0])/(G[1]-G[0]),D=(C.r2l(C.range[1])-C.r2l(C.range[0]))/(C.r2l(C._inputRange[1])-C.r2l(C._inputRange[0]));if((E/=Y)*D<1){C.domain=C._input.domain=G.slice(),l(C,E);continue}if(D<1&&(C.range=C._input.range=C._inputRange.slice(),E*=D),C.autorange){var U=C.r2l(C.range[0]),$=C.r2l(C.range[1]),Q=(U+$)/2,F=Q,z=Q,P=Math.abs($-Q),Z=Q-P*E*1.0001,R=Q+P*E*1.0001,q=a.makePadFn(I,C,0),tt=a.makePadFn(I,C,1);_(C,E);var rt,nt,ct=Math.abs(C._m),st=a.concatExtremes(T,C),gt=st.min,wt=st.max;for(nt=0;nt<gt.length;nt++)(rt=gt[nt].val-q(gt[nt])/ct)>Z&&rt<F&&(F=rt);for(nt=0;nt<wt.length;nt++)(rt=wt[nt].val+tt(wt[nt])/ct)<R&&rt>z&&(z=rt);E/=(z-F)/(2*P),F=C.l2r(F),z=C.l2r(z),C.range=C._input.range=U<$?[F,z]:[z,F]}_(C,E)}}}},c.getAxisGroup=function(T,b){for(var x=T._axisMatchGroups,O=0;O<x.length;O++)if(x[O][b])return"g"+O;return b},c.clean=function(T,b){if(b._inputDomain){for(var x=!1,O=b._id,A=T._fullLayout._axisConstraintGroups,C=0;C<A.length;C++)if(A[C][O]){x=!0;break}x&&b.constrain==="domain"||(b._input.domain=b.domain=b._inputDomain,delete b._inputDomain)}}},{"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"./autorange":278,"./axis_ids":283,"./layout_attributes":294,"./scale_zoom":298,"./set_convert":300}],288:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../lib"),o=a.numberFormat,i=t("tinycolor2"),l=t("has-passive-events"),p=t("../../registry"),d=a.strTranslate,f=t("../../lib/svg_text_utils"),u=t("../../components/color"),h=t("../../components/drawing"),m=t("../../components/fx"),v=t("./axes"),y=t("../../lib/setcursor"),k=t("../../components/dragelement"),_=t("../../components/dragelement/helpers"),T=_.selectingOrDrawing,b=_.freeMode,x=t("../../constants/alignment").FROM_TL,O=t("../../lib/clear_gl_canvases"),A=t("../../plot_api/subroutines").redrawReglTraces,C=t("../plots"),L=t("./axis_ids").getFromId,w=t("./select").prepSelect,E=t("./select").clearSelect,I=t("./select").selectOnClick,M=t("./scale_zoom"),V=t("./constants"),j=V.MINDRAG,W=V.MINZOOM,H=!0;function B(rt,nt,ct,st){var gt=a.ensureSingle(rt.draglayer,nt,ct,function(wt){wt.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",rt.id)});return gt.call(y,st),gt.node()}function K(rt,nt,ct,st,gt,wt,Ot){var bt=B(rt,"rect",nt,ct);return n.select(bt).call(h.setRect,st,gt,wt,Ot),bt}function et(rt,nt){for(var ct=0;ct<rt.length;ct++)if(!rt[ct].fixedrange)return nt;return""}function G(rt,nt,ct,st,gt){for(var wt=0;wt<rt.length;wt++){var Ot=rt[wt];if(!Ot.fixedrange)if(Ot.rangebreaks){var bt=Ot._id.charAt(0)==="y",Ht=bt?1-nt:nt,Dt=bt?1-ct:ct;st[Ot._name+".range[0]"]=Ot.l2r(Ot.p2l(Ht*Ot._length)),st[Ot._name+".range[1]"]=Ot.l2r(Ot.p2l(Dt*Ot._length))}else{var yt=Ot._rl[0],ut=Ot._rl[1]-yt;st[Ot._name+".range[0]"]=Ot.l2r(yt+ut*nt),st[Ot._name+".range[1]"]=Ot.l2r(yt+ut*ct)}}if(gt&&gt.length){var it=(nt+(1-ct))/2;G(gt,it,1-it,st,[])}}function Y(rt,nt){for(var ct=0;ct<rt.length;ct++){var st=rt[ct];if(!st.fixedrange)if(st.rangebreaks){var gt=st._length,wt=(st.p2l(0+nt)-st.p2l(0)+(st.p2l(gt+nt)-st.p2l(gt)))/2;st.range=[st.l2r(st._rl[0]-wt),st.l2r(st._rl[1]-wt)]}else st.range=[st.l2r(st._rl[0]-nt/st._m),st.l2r(st._rl[1]-nt/st._m)]}}function D(rt){return 1-(rt>=0?Math.min(rt,.9):1/(1/Math.max(rt,-.3)+3.222))}function U(rt,nt,ct,st,gt){return rt.append("path").attr("class","zoombox").style({fill:nt>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",d(ct,st)).attr("d",gt+"Z")}function $(rt,nt,ct){return rt.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform",d(nt,ct)).attr("d","M0,0Z")}function Q(rt,nt,ct,st,gt,wt){rt.attr("d",st+"M"+ct.l+","+ct.t+"v"+ct.h+"h"+ct.w+"v-"+ct.h+"h-"+ct.w+"Z"),F(rt,nt,gt,wt)}function F(rt,nt,ct,st){ct||(rt.transition().style("fill",st>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),nt.transition().style("opacity",1).duration(200))}function z(rt){n.select(rt).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function P(rt){H&&rt.data&&rt._context.showTips&&(a.notifier(a._(rt,"Double-click to zoom back out"),"long"),H=!1)}function Z(rt){var nt=Math.floor(Math.min(rt.b-rt.t,rt.r-rt.l,W)/2);return"M"+(rt.l-3.5)+","+(rt.t-.5+nt)+"h3v"+-nt+"h"+nt+"v-3h-"+(nt+3)+"ZM"+(rt.r+3.5)+","+(rt.t-.5+nt)+"h-3v"+-nt+"h"+-nt+"v-3h"+(nt+3)+"ZM"+(rt.r+3.5)+","+(rt.b+.5-nt)+"h-3v"+nt+"h"+-nt+"v3h"+(nt+3)+"ZM"+(rt.l-3.5)+","+(rt.b+.5-nt)+"h3v"+nt+"h"+nt+"v3h-"+(nt+3)+"Z"}function R(rt,nt,ct,st,gt){for(var wt,Ot,bt,Ht,Dt=!1,yt={},ut={},it=(gt||{}).xaHash,dt=(gt||{}).yaHash,mt=0;mt<nt.length;mt++){var Et=nt[mt];for(wt in ct)if(Et[wt]){for(bt in Et)gt&&(it[bt]||dt[bt])||(bt.charAt(0)==="x"?ct:st)[bt]||(yt[bt]=wt);for(Ot in st)gt&&(it[Ot]||dt[Ot])||!Et[Ot]||(Dt=!0)}for(Ot in st)if(Et[Ot])for(Ht in Et)gt&&(it[Ht]||dt[Ht])||(Ht.charAt(0)==="x"?ct:st)[Ht]||(ut[Ht]=Ot)}Dt&&(a.extendFlat(yt,ut),ut={});var Mt={},Tt=[];for(bt in yt){var Nt=L(rt,bt);Tt.push(Nt),Mt[Nt._id]=Nt}var zt={},At=[];for(Ht in ut){var Ct=L(rt,Ht);At.push(Ct),zt[Ct._id]=Ct}return{xaHash:Mt,yaHash:zt,xaxes:Tt,yaxes:At,xLinks:yt,yLinks:ut,isSubplotConstrained:Dt}}function q(rt,nt){if(l){var ct=rt.onwheel!==void 0?"wheel":"mousewheel";rt._onwheel&&rt.removeEventListener(ct,rt._onwheel),rt._onwheel=nt,rt.addEventListener(ct,nt,{passive:!1})}else rt.onwheel!==void 0?rt.onwheel=nt:rt.onmousewheel!==void 0?rt.onmousewheel=nt:rt.isAddedWheelEvent||(rt.isAddedWheelEvent=!0,rt.addEventListener("wheel",nt,{passive:!1}))}function tt(rt){var nt=[];for(var ct in rt)nt.push(rt[ct]);return nt}s.exports={makeDragBox:function(rt,nt,ct,st,gt,wt,Ot,bt){var Ht,Dt,yt,ut,it,dt,mt,Et,Mt,Tt,Nt,zt,At,Ct,qt,St,$t,Zt,Yt,re,Qt,xt,kt,Bt=rt._fullLayout._zoomlayer,ie=Ot+bt==="nsew",ye=(Ot+bt).length===1;function ot(){if(Ht=nt.xaxis,Dt=nt.yaxis,Mt=Ht._length,Tt=Dt._length,mt=Ht._offset,Et=Dt._offset,(yt={})[Ht._id]=Ht,(ut={})[Dt._id]=Dt,Ot&&bt)for(var be=nt.overlays,Ae=0;Ae<be.length;Ae++){var Oe=be[Ae].xaxis;yt[Oe._id]=Oe;var Fe=be[Ae].yaxis;ut[Fe._id]=Fe}it=tt(yt),dt=tt(ut),At=et(it,bt),Ct=et(dt,Ot),qt=!Ct&&!At,zt=R(rt,rt._fullLayout._axisMatchGroups,yt,ut);var ve=(Nt=R(rt,rt._fullLayout._axisConstraintGroups,yt,ut,zt)).isSubplotConstrained||zt.isSubplotConstrained;St=bt||ve,$t=Ot||ve;var Ve=rt._fullLayout;Zt=Ve._has("scattergl"),Yt=Ve._has("splom"),re=Ve._has("svg")}ot();var ft=function(be,Ae,Oe){return be?be==="nsew"?Oe?"":Ae==="pan"?"move":"crosshair":be.toLowerCase()+"-resize":"pointer"}(Ct+At,rt._fullLayout.dragmode,ie),Lt=K(nt,Ot+bt+"drag",ft,ct,st,gt,wt);if(qt&&!ie)return Lt.onmousedown=null,Lt.style.pointerEvents="none",Lt;var Pt,It,Rt,Vt,Jt,ae,ce,le,se,pe,we={element:Lt,gd:rt,plotinfo:nt};function me(){we.plotinfo.selection=!1,E(rt)}function ee(be,Ae){var Oe=we.gd;if(Oe._fullLayout._activeShapeIndex>=0)Oe._fullLayout._deactivateShape(Oe);else{var Fe=Oe._fullLayout.clickmode;if(z(Oe),be!==2||ye||Re(),ie)Fe.indexOf("select")>-1&&I(Ae,Oe,it,dt,nt.id,we),Fe.indexOf("event")>-1&&m.click(Oe,Ae,nt.id);else if(be===1&&ye){var ve=Ot?Dt:Ht,Ve=Ot==="s"||bt==="w"?0:1,We=ve._name+".range["+Ve+"]",ln=function(un,cn){var $e,ke=un.range[cn],Ge=Math.abs(ke-un.range[1-cn]);return un.type==="date"?ke:un.type==="log"?($e=Math.ceil(Math.max(0,-Math.log(Ge)/Math.LN10))+3,o("."+$e+"g")(Math.pow(10,ke))):($e=Math.floor(Math.log(Math.abs(ke))/Math.LN10)-Math.floor(Math.log(Ge)/Math.LN10)+4,o("."+String($e)+"g")(ke))}(ve,Ve),on="left",sn="middle";if(ve.fixedrange)return;Ot?(sn=Ot==="n"?"top":"bottom",ve.side==="right"&&(on="right")):bt==="e"&&(on="right"),Oe._context.showAxisRangeEntryBoxes&&n.select(Lt).call(f.makeEditable,{gd:Oe,immediate:!0,background:Oe._fullLayout.paper_bgcolor,text:String(ln),fill:ve.tickfont?ve.tickfont.color:"#444",horizontalAlign:on,verticalAlign:sn}).on("edit",function(un){var cn=ve.d2r(un);cn!==void 0&&p.call("_guiRelayout",Oe,We,cn)})}}}function ue(be,Ae){if(rt._transitioningWithDuration)return!1;var Oe=Math.max(0,Math.min(Mt,xt*be+Pt)),Fe=Math.max(0,Math.min(Tt,kt*Ae+It)),ve=Math.abs(Oe-Pt),Ve=Math.abs(Fe-It);function We(){ce="",Rt.r=Rt.l,Rt.t=Rt.b,se.attr("d","M0,0Z")}if(Rt.l=Math.min(Pt,Oe),Rt.r=Math.max(Pt,Oe),Rt.t=Math.min(It,Fe),Rt.b=Math.max(It,Fe),Nt.isSubplotConstrained)ve>W||Ve>W?(ce="xy",ve/Mt>Ve/Tt?(Ve=ve*Tt/Mt,It>Fe?Rt.t=It-Ve:Rt.b=It+Ve):(ve=Ve*Mt/Tt,Pt>Oe?Rt.l=Pt-ve:Rt.r=Pt+ve),se.attr("d",Z(Rt))):We();else if(zt.isSubplotConstrained)if(ve>W||Ve>W){ce="xy";var ln=Math.min(Rt.l/Mt,(Tt-Rt.b)/Tt),on=Math.max(Rt.r/Mt,(Tt-Rt.t)/Tt);Rt.l=ln*Mt,Rt.r=on*Mt,Rt.b=(1-ln)*Tt,Rt.t=(1-on)*Tt,se.attr("d",Z(Rt))}else We();else!Ct||Ve<Math.min(Math.max(.6*ve,j),W)?ve<j||!At?We():(Rt.t=0,Rt.b=Tt,ce="x",se.attr("d",function(sn,un){return"M"+(sn.l-.5)+","+(un-W-.5)+"h-3v"+(2*W+1)+"h3ZM"+(sn.r+.5)+","+(un-W-.5)+"h3v"+(2*W+1)+"h-3Z"}(Rt,It))):!At||ve<Math.min(.6*Ve,W)?(Rt.l=0,Rt.r=Mt,ce="y",se.attr("d",function(sn,un){return"M"+(un-W-.5)+","+(sn.t-.5)+"v-3h"+(2*W+1)+"v3ZM"+(un-W-.5)+","+(sn.b+.5)+"v3h"+(2*W+1)+"v-3Z"}(Rt,Pt))):(ce="xy",se.attr("d",Z(Rt)));Rt.w=Rt.r-Rt.l,Rt.h=Rt.b-Rt.t,ce&&(pe=!0),rt._dragged=pe,Q(le,se,Rt,Jt,ae,Vt),Te(),rt.emit("plotly_relayouting",Qt),ae=!0}function Te(){Qt={},ce!=="xy"&&ce!=="x"||(G(it,Rt.l/Mt,Rt.r/Mt,Qt,Nt.xaxes),Se("x",Qt)),ce!=="xy"&&ce!=="y"||(G(dt,(Tt-Rt.b)/Tt,(Tt-Rt.t)/Tt,Qt,Nt.yaxes),Se("y",Qt))}function Me(){Te(),z(rt),Ee(),P(rt)}we.prepFn=function(be,Ae,Oe){var Fe=we.dragmode,ve=rt._fullLayout.dragmode;ve!==Fe&&(we.dragmode=ve),ot(),xt=rt._fullLayout._invScaleX,kt=rt._fullLayout._invScaleY,qt||(ie?be.shiftKey?ve==="pan"?ve="zoom":T(ve)||(ve="pan"):be.ctrlKey&&(ve="pan"):ve="pan"),b(ve)?we.minDrag=1:we.minDrag=void 0,T(ve)?(we.xaxes=it,we.yaxes=dt,w(be,Ae,Oe,we,ve)):(we.clickFn=ee,T(Fe)&&me(),qt||(ve==="zoom"?(we.moveFn=ue,we.doneFn=Me,we.minDrag=1,function(Ve,We,ln){var on=Lt.getBoundingClientRect();Pt=We-on.left,It=ln-on.top,rt._fullLayout._calcInverseTransform(rt);var sn=a.apply3DTransform(rt._fullLayout._invTransform)(Pt,It);Pt=sn[0],It=sn[1],Rt={l:Pt,r:Pt,w:0,t:It,b:It,h:0},Vt=rt._hmpixcount?rt._hmlumcount/rt._hmpixcount:i(rt._fullLayout.plot_bgcolor).getLuminance(),ae=!1,ce="xy",pe=!1,le=U(Bt,Vt,mt,Et,Jt="M0,0H"+Mt+"V"+Tt+"H0V0"),se=$(Bt,mt,Et)}(0,Ae,Oe)):ve==="pan"&&(we.moveFn=he,we.doneFn=Ee))),rt._fullLayout._redrag=function(){var Ve=rt._dragdata;if(Ve&&Ve.element===Lt){var We=rt._fullLayout.dragmode;T(We)||(ot(),De([0,0,Mt,Tt]),we.moveFn(Ve.dx,Ve.dy))}}},k.init(we);var Ce=[0,0,Mt,Tt],fe=null,_e=V.REDRAWDELAY,Le=nt.mainplot?rt._fullLayout._plots[nt.mainplot]:nt;function he(be,Ae){if(be*=xt,Ae*=kt,!rt._transitioningWithDuration){if(rt._fullLayout._replotting=!0,At==="ew"||Ct==="ns"){var Oe=At?-be:0,Fe=Ct?-Ae:0;if(zt.isSubplotConstrained){if(At&&Ct){var ve=(be/Mt-Ae/Tt)/2;Oe=-(be=ve*Mt),Fe=-(Ae=-ve*Tt)}Ct?Oe=-Fe*Mt/Tt:Fe=-Oe*Tt/Mt}return At&&(Y(it,be),Se("x")),Ct&&(Y(dt,Ae),Se("y")),De([Oe,Fe,Mt,Tt]),de(),void rt.emit("plotly_relayouting",Qt)}var Ve,We,ln=At==="w"==(Ct==="n")?1:-1;if(At&&Ct&&(Nt.isSubplotConstrained||zt.isSubplotConstrained)){var on=(be/Mt+ln*Ae/Tt)/2;be=on*Mt,Ae=ln*on*Tt}if(At==="w"?be=$e(it,0,be):At==="e"?be=$e(it,1,-be):At||(be=0),Ct==="n"?Ae=$e(dt,1,Ae):Ct==="s"?Ae=$e(dt,0,-Ae):Ct||(Ae=0),Ve=At==="w"?be:0,We=Ct==="n"?Ae:0,Nt.isSubplotConstrained&&!zt.isSubplotConstrained||zt.isSubplotConstrained&&At&&Ct&&ln>0){var sn;if(zt.isSubplotConstrained||!At&&Ct.length===1){for(sn=0;sn<it.length;sn++)it[sn].range=it[sn]._r.slice(),M(it[sn],1-Ae/Tt);Ve=(be=Ae*Mt/Tt)/2}if(zt.isSubplotConstrained||!Ct&&At.length===1){for(sn=0;sn<dt.length;sn++)dt[sn].range=dt[sn]._r.slice(),M(dt[sn],1-be/Mt);We=(Ae=be*Tt/Mt)/2}}zt.isSubplotConstrained&&Ct||Se("x"),zt.isSubplotConstrained&&At||Se("y");var un=Mt-be,cn=Tt-Ae;!zt.isSubplotConstrained||At&&Ct||(At?(We=Ve?0:be*Tt/Mt,cn=un*Tt/Mt):(Ve=We?0:Ae*Mt/Tt,un=cn*Mt/Tt)),De([Ve,We,un,cn]),de(),rt.emit("plotly_relayouting",Qt)}function $e(ke,Ge,He){for(var Ue,Be,tn=1-Ge,rn=0;rn<ke.length;rn++){var dn=ke[rn];if(!dn.fixedrange){Ue=dn,Be=dn._rl[tn]+(dn._rl[Ge]-dn._rl[tn])/D(He/dn._length);var Xe=dn.l2r(Be);Xe!==!1&&Xe!==void 0&&(dn.range[Ge]=Xe)}}return Ue._length*(Ue._rl[Ge]-Be)/(Ue._rl[Ge]-Ue._rl[tn])}}function Se(be,Ae){for(var Oe=zt.isSubplotConstrained?{x:dt,y:it}[be]:zt[be+"axes"],Fe=zt.isSubplotConstrained?{x:it,y:dt}[be]:[],ve=0;ve<Oe.length;ve++){var Ve=Oe[ve],We=Ve._id,ln=zt.xLinks[We]||zt.yLinks[We],on=Fe[0]||yt[ln]||ut[ln];on&&(Ae?(Ae[Ve._name+".range[0]"]=Ae[on._name+".range[0]"],Ae[Ve._name+".range[1]"]=Ae[on._name+".range[1]"]):Ve.range=on.range.slice())}}function de(){var be,Ae=[];function Oe(Ve){for(be=0;be<Ve.length;be++)Ve[be].fixedrange||Ae.push(Ve[be]._id)}for(St&&(Oe(it),Oe(Nt.xaxes),Oe(zt.xaxes)),$t&&(Oe(dt),Oe(Nt.yaxes),Oe(zt.yaxes)),Qt={},be=0;be<Ae.length;be++){var Fe=Ae[be],ve=L(rt,Fe);v.drawOne(rt,ve,{skipTitle:!0}),Qt[ve._name+".range[0]"]=ve.range[0],Qt[ve._name+".range[1]"]=ve.range[1]}v.redrawComponents(rt,Ae)}function Re(){if(!rt._transitioningWithDuration){var be=rt._context.doubleClick,Ae=[];At&&(Ae=Ae.concat(it)),Ct&&(Ae=Ae.concat(dt)),zt.xaxes&&(Ae=Ae.concat(zt.xaxes)),zt.yaxes&&(Ae=Ae.concat(zt.yaxes));var Oe,Fe,ve,Ve={};if(be==="reset+autosize"){for(be="autosize",Fe=0;Fe<Ae.length;Fe++)if((Oe=Ae[Fe])._rangeInitial&&(Oe.range[0]!==Oe._rangeInitial[0]||Oe.range[1]!==Oe._rangeInitial[1])||!Oe._rangeInitial&&!Oe.autorange){be="reset";break}}if(be==="autosize")for(Fe=0;Fe<Ae.length;Fe++)(Oe=Ae[Fe]).fixedrange||(Ve[Oe._name+".autorange"]=!0);else if(be==="reset")for((At||Nt.isSubplotConstrained)&&(Ae=Ae.concat(Nt.xaxes)),Ct&&!Nt.isSubplotConstrained&&(Ae=Ae.concat(Nt.yaxes)),Nt.isSubplotConstrained&&(At?Ct||(Ae=Ae.concat(dt)):Ae=Ae.concat(it)),Fe=0;Fe<Ae.length;Fe++)(Oe=Ae[Fe]).fixedrange||(Oe._rangeInitial?(ve=Oe._rangeInitial,Ve[Oe._name+".range[0]"]=ve[0],Ve[Oe._name+".range[1]"]=ve[1]):Ve[Oe._name+".autorange"]=!0);rt.emit("plotly_doubleclick",null),p.call("_guiRelayout",rt,Ve)}}function Ee(){De([0,0,Mt,Tt]),a.syncOrAsync([C.previousPromises,function(){rt._fullLayout._replotting=!1,p.call("_guiRelayout",rt,Qt)}],rt)}function De(be){var Ae,Oe,Fe,ve,Ve=rt._fullLayout,We=Ve._plots,ln=Ve._subplots.cartesian;if(Yt&&p.subplotsRegistry.splom.drag(rt),Zt){for(Ae=0;Ae<ln.length;Ae++)if(Fe=(Oe=We[ln[Ae]]).xaxis,ve=Oe.yaxis,Oe._scene){var on=a.simpleMap(Fe.range,Fe.r2l),sn=a.simpleMap(ve.range,ve.r2l);Oe._scene.update({range:[on[0],sn[0],on[1],sn[1]]})}}if((Yt||Zt)&&(O(rt),A(rt)),re){var un=be[2]/Ht._length,cn=be[3]/Dt._length;for(Ae=0;Ae<ln.length;Ae++){Fe=(Oe=We[ln[Ae]]).xaxis,ve=Oe.yaxis;var $e,ke,Ge,He,Ue=(St||zt.isSubplotConstrained)&&!Fe.fixedrange&&yt[Fe._id],Be=($t||zt.isSubplotConstrained)&&!ve.fixedrange&&ut[ve._id];if(Ue?($e=un,Ge=bt||zt.isSubplotConstrained?be[0]:en(Fe,$e)):zt.xaHash[Fe._id]?($e=un,Ge=be[0]*Fe._length/Ht._length):zt.yaHash[Fe._id]?($e=cn,Ge=Ct==="ns"?-be[1]*Fe._length/Dt._length:en(Fe,$e,{n:"top",s:"bottom"}[Ct])):Ge=Je(Fe,$e=je(Fe,un,cn)),Be?(ke=cn,He=Ot||zt.isSubplotConstrained?be[1]:en(ve,ke)):zt.yaHash[ve._id]?(ke=cn,He=be[1]*ve._length/Dt._length):zt.xaHash[ve._id]?(ke=un,He=At==="ew"?-be[0]*ve._length/Ht._length:en(ve,ke,{e:"right",w:"left"}[At])):He=Je(ve,ke=je(ve,un,cn)),$e||ke){$e||($e=1),ke||(ke=1);var tn=Fe._offset-Ge/$e,rn=ve._offset-He/ke;Oe.clipRect.call(h.setTranslate,Ge,He).call(h.setScale,$e,ke),Oe.plot.call(h.setTranslate,tn,rn).call(h.setScale,1/$e,1/ke),$e===Oe.xScaleFactor&&ke===Oe.yScaleFactor||(h.setPointGroupScale(Oe.zoomScalePts,$e,ke),h.setTextPointsScale(Oe.zoomScaleTxt,$e,ke)),h.hideOutsideRangePoints(Oe.clipOnAxisFalseTraces,Oe),Oe.xScaleFactor=$e,Oe.yScaleFactor=ke}}}}function je(be,Ae,Oe){return be.fixedrange?0:St&&Nt.xaHash[be._id]?Ae:$t&&(Nt.isSubplotConstrained?Nt.xaHash:Nt.yaHash)[be._id]?Oe:0}function Je(be,Ae){return Ae?(be.range=be._r.slice(),M(be,Ae),en(be,Ae)):0}function en(be,Ae,Oe){return be._length*(1-Ae)*x[Oe||be.constraintoward||"middle"]}return Ot.length*bt.length!=1&&q(Lt,function(be){if(rt._context._scrollZoom.cartesian||rt._fullLayout._enablescrollzoom){if(me(),rt._transitioningWithDuration)return be.preventDefault(),void be.stopPropagation();ot(),clearTimeout(fe);var Ae=-be.deltaY;if(isFinite(Ae)||(Ae=be.wheelDelta/10),isFinite(Ae)){var Oe,Fe=Math.exp(-Math.min(Math.max(Ae,-20),20)/200),ve=Le.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Ve=(be.clientX-ve.left)/ve.width,We=(ve.bottom-be.clientY)/ve.height;if(St){for(bt||(Ve=.5),Oe=0;Oe<it.length;Oe++)ln(it[Oe],Ve,Fe);Se("x"),Ce[2]*=Fe,Ce[0]+=Ce[2]*Ve*(1/Fe-1)}if($t){for(Ot||(We=.5),Oe=0;Oe<dt.length;Oe++)ln(dt[Oe],We,Fe);Se("y"),Ce[3]*=Fe,Ce[1]+=Ce[3]*(1-We)*(1/Fe-1)}De(Ce),de(),rt.emit("plotly_relayouting",Qt),fe=setTimeout(function(){rt._fullLayout&&(Ce=[0,0,Mt,Tt],Ee())},_e),be.preventDefault()}else a.log("Did not find wheel motion attributes: ",be)}function ln(on,sn,un){if(!on.fixedrange){var cn=a.simpleMap(on.range,on.r2l),$e=cn[0]+(cn[1]-cn[0])*sn;on.range=cn.map(function(ke){return on.l2r($e+(ke-$e)*un)})}}}),Lt},makeDragger:B,makeRectDragger:K,makeZoombox:U,makeCorners:$,updateZoombox:Q,xyCorners:Z,transitionZoombox:F,removeZoombox:z,showDoubleClickNotifier:P,attachWheelEventHandler:q}},{"../../components/color":102,"../../components/dragelement":121,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../constants/alignment":207,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/subroutines":269,"../../registry":316,"../plots":314,"./axes":279,"./axis_ids":283,"./constants":286,"./scale_zoom":298,"./select":299,"@plotly/d3":11,"has-passive-events":49,tinycolor2:67}],289:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../components/fx"),o=t("../../components/dragelement"),i=t("../../lib/setcursor"),l=t("./dragbox").makeDragBox,p=t("./constants").DRAGGERSIZE;c.initInteractions=function(d){var f=d._fullLayout;if(d._context.staticPlot)n.select(d).selectAll(".drag").remove();else if(f._has("cartesian")||f._has("splom")){Object.keys(f._plots||{}).sort(function(h,m){if((f._plots[h].mainplot&&!0)===(f._plots[m].mainplot&&!0)){var v=h.split("y"),y=m.split("y");return v[0]===y[0]?Number(v[1]||1)-Number(y[1]||1):Number(v[0]||1)-Number(y[0]||1)}return f._plots[h].mainplot?1:-1}).forEach(function(h){var m=f._plots[h],v=m.xaxis,y=m.yaxis;if(!m.mainplot){var k=l(d,m,v._offset,y._offset,v._length,y._length,"ns","ew");k.onmousemove=function(b){d._fullLayout._rehover=function(){d._fullLayout._hoversubplot===h&&d._fullLayout._plots[h]&&a.hover(d,b,h)},a.hover(d,b,h),d._fullLayout._lasthover=k,d._fullLayout._hoversubplot=h},k.onmouseout=function(b){d._dragging||(d._fullLayout._hoversubplot=null,o.unhover(d,b))},d._context.showAxisDragHandles&&(l(d,m,v._offset-p,y._offset-p,p,p,"n","w"),l(d,m,v._offset+v._length,y._offset-p,p,p,"n","e"),l(d,m,v._offset-p,y._offset+y._length,p,p,"s","w"),l(d,m,v._offset+v._length,y._offset+y._length,p,p,"s","e"))}if(d._context.showAxisDragHandles){if(h===v._mainSubplot){var _=v._mainLinePosition;v.side==="top"&&(_-=p),l(d,m,v._offset+.1*v._length,_,.8*v._length,p,"","ew"),l(d,m,v._offset,_,.1*v._length,p,"","w"),l(d,m,v._offset+.9*v._length,_,.1*v._length,p,"","e")}if(h===y._mainSubplot){var T=y._mainLinePosition;y.side!=="right"&&(T-=p),l(d,m,T,y._offset+.1*y._length,p,.8*y._length,"ns",""),l(d,m,T,y._offset+.9*y._length,p,.1*y._length,"s",""),l(d,m,T,y._offset,p,.1*y._length,"n","")}}});var u=f._hoverlayer.node();u.onmousemove=function(h){h.target=d._fullLayout._lasthover,a.hover(d,h,f._hoversubplot)},u.onclick=function(h){h.target=d._fullLayout._lasthover,a.click(d,h)},u.onmousedown=function(h){d._fullLayout._lasthover.onmousedown(h)},c.updateFx(d)}},c.updateFx=function(d){var f=d._fullLayout,u=f.dragmode==="pan"?"move":"crosshair";i(f._draggers,u)}},{"../../components/dragelement":121,"../../components/fx":142,"../../lib/setcursor":252,"./constants":286,"./dragbox":288,"@plotly/d3":11}],290:[function(t,s,c){s.exports={clearOutlineControllers:function(n){var a=n._fullLayout._zoomlayer;a&&a.selectAll(".outline-controllers").remove()},clearSelect:function(n){var a=n._fullLayout._zoomlayer;a&&a.selectAll(".select-outline").remove(),n._fullLayout._drawing=!1}}},{}],291:[function(t,s,c){var n=t("../../lib").strTranslate;function a(o,i){switch(o.type){case"log":return o.p2d(i);case"date":return o.p2r(i,0,o.calendar);default:return o.p2r(i)}}s.exports={p2r:a,r2p:function(o,i){switch(o.type){case"log":return o.d2p(i);case"date":return o.r2p(i,0,o.calendar);default:return o.r2p(i)}},axValue:function(o){var i=o._id.charAt(0)==="y"?1:0;return function(l){return a(o,l[i])}},getTransform:function(o){return n(o.xaxis._offset,o.yaxis._offset)}}},{"../../lib":232}],292:[function(t,s,c){var n=t("../../registry"),a=t("../../lib"),o=t("./axis_ids");s.exports=function(i){return function(l,p){var d=l[i];if(Array.isArray(d))for(var f=n.subplotsRegistry.cartesian,u=f.idRegex,h=p._subplots,m=h.xaxis,v=h.yaxis,y=h.cartesian,k=p._has("cartesian")||p._has("gl2d"),_=0;_<d.length;_++){var T=d[_];if(a.isPlainObject(T)){var b=o.cleanId(T.xref,"x",!1),x=o.cleanId(T.yref,"y",!1),O=u.x.test(b),A=u.y.test(x);if(O||A){k||a.pushUnique(p._basePlotModules,f);var C=!1;O&&m.indexOf(b)===-1&&(m.push(b),C=!0),A&&v.indexOf(x)===-1&&(v.push(x),C=!0),C&&O&&A&&y.push(b+x)}}}}}},{"../../lib":232,"../../registry":316,"./axis_ids":283}],293:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../registry"),o=t("../../lib"),i=t("../plots"),l=t("../../components/drawing"),p=t("../get_data").getModuleCalcData,d=t("./axis_ids"),f=t("./constants"),u=t("../../constants/xmlns_namespaces"),h=o.ensureSingle;function m(T,b,x){return o.ensureSingle(T,b,x,function(O){O.datum(x)})}function v(T,b,x,O,A){for(var C,L,w,E=f.traceLayerClasses,I=T._fullLayout,M=I._modules,V=[],j=[],W=0;W<M.length;W++){var H=(C=M[W]).name,B=a.modules[H].categories;if(B.svg){var K=C.layerName||H+"layer",et=C.plot;w=(L=p(x,et))[0],x=L[1],w.length&&V.push({i:E.indexOf(K),className:K,plotMethod:et,cdModule:w}),B.zoomScale&&j.push("."+K)}}V.sort(function(D,U){return D.i-U.i});var G=b.plot.selectAll("g.mlayer").data(V,function(D){return D.className});if(G.enter().append("g").attr("class",function(D){return D.className}).classed("mlayer",!0).classed("rangeplot",b.isRangePlot),G.exit().remove(),G.order(),G.each(function(D){var U=n.select(this),$=D.className;D.plotMethod(T,b,D.cdModule,U,O,A),f.clipOnAxisFalseQuery.indexOf("."+$)===-1&&l.setClipUrl(U,b.layerClipId,T)}),I._has("scattergl")&&(C=a.getModule("scattergl"),w=p(x,C)[0],C.plot(T,b,w)),!T._context.staticPlot&&(b._hasClipOnAxisFalse&&(b.clipOnAxisFalseTraces=b.plot.selectAll(f.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),j.length)){var Y=b.plot.selectAll(j.join(",")).selectAll(".trace");b.zoomScalePts=Y.selectAll("path.point"),b.zoomScaleTxt=Y.selectAll(".textpoint")}}function y(T,b){var x=b.plotgroup,O=b.id,A=f.layerValue2layerClass[b.xaxis.layer],C=f.layerValue2layerClass[b.yaxis.layer],L=T._fullLayout._hasOnlyLargeSploms;if(b.mainplot){var w=b.mainplotinfo,E=w.plotgroup,I=O+"-x",M=O+"-y";b.gridlayer=w.gridlayer,b.zerolinelayer=w.zerolinelayer,h(w.overlinesBelow,"path",I),h(w.overlinesBelow,"path",M),h(w.overaxesBelow,"g",I),h(w.overaxesBelow,"g",M),b.plot=h(w.overplot,"g",O),h(w.overlinesAbove,"path",I),h(w.overlinesAbove,"path",M),h(w.overaxesAbove,"g",I),h(w.overaxesAbove,"g",M),b.xlines=E.select(".overlines-"+A).select("."+I),b.ylines=E.select(".overlines-"+C).select("."+M),b.xaxislayer=E.select(".overaxes-"+A).select("."+I),b.yaxislayer=E.select(".overaxes-"+C).select("."+M)}else if(L)b.xlines=h(x,"path","xlines-above"),b.ylines=h(x,"path","ylines-above"),b.xaxislayer=h(x,"g","xaxislayer-above"),b.yaxislayer=h(x,"g","yaxislayer-above");else{var V=h(x,"g","layer-subplot");b.shapelayer=h(V,"g","shapelayer"),b.imagelayer=h(V,"g","imagelayer"),b.gridlayer=h(x,"g","gridlayer"),b.zerolinelayer=h(x,"g","zerolinelayer"),h(x,"path","xlines-below"),h(x,"path","ylines-below"),b.overlinesBelow=h(x,"g","overlines-below"),h(x,"g","xaxislayer-below"),h(x,"g","yaxislayer-below"),b.overaxesBelow=h(x,"g","overaxes-below"),b.plot=h(x,"g","plot"),b.overplot=h(x,"g","overplot"),b.xlines=h(x,"path","xlines-above"),b.ylines=h(x,"path","ylines-above"),b.overlinesAbove=h(x,"g","overlines-above"),h(x,"g","xaxislayer-above"),h(x,"g","yaxislayer-above"),b.overaxesAbove=h(x,"g","overaxes-above"),b.xlines=x.select(".xlines-"+A),b.ylines=x.select(".ylines-"+C),b.xaxislayer=x.select(".xaxislayer-"+A),b.yaxislayer=x.select(".yaxislayer-"+C)}L||(m(b.gridlayer,"g",b.xaxis._id),m(b.gridlayer,"g",b.yaxis._id),b.gridlayer.selectAll("g").map(function(j){return j[0]}).sort(d.idSort)),b.xlines.style("fill","none").classed("crisp",!0),b.ylines.style("fill","none").classed("crisp",!0)}function k(T,b){if(T){var x={};for(var O in T.each(function(w){var E=w[0];n.select(this).remove(),_(E,b),x[E]=!0}),b._plots)for(var A=b._plots[O].overlays||[],C=0;C<A.length;C++){var L=A[C];x[L.id]&&L.plot.selectAll(".trace").remove()}}}function _(T,b){b._draggers.selectAll("g."+T).remove(),b._defs.select("#clip"+b._uid+T+"plot").remove()}c.name="cartesian",c.attr=["xaxis","yaxis"],c.idRoot=["x","y"],c.idRegex=f.idRegex,c.attrRegex=f.attrRegex,c.attributes=t("./attributes"),c.layoutAttributes=t("./layout_attributes"),c.supplyLayoutDefaults=t("./layout_defaults"),c.transitionAxes=t("./transition_axes"),c.finalizeSubplots=function(T,b){var x,O,A,C=b._subplots,L=C.xaxis,w=C.yaxis,E=C.cartesian,I=E.concat(C.gl2d||[]),M={},V={};for(x=0;x<I.length;x++){var j=I[x].split("y");M[j[0]]=1,V["y"+j[1]]=1}for(x=0;x<L.length;x++)M[O=L[x]]||(A=(T[d.id2name(O)]||{}).anchor,f.idRegex.y.test(A)||(A="y"),E.push(O+A),I.push(O+A),V[A]||(V[A]=1,o.pushUnique(w,A)));for(x=0;x<w.length;x++)V[A=w[x]]||(O=(T[d.id2name(A)]||{}).anchor,f.idRegex.x.test(O)||(O="x"),E.push(O+A),I.push(O+A),M[O]||(M[O]=1,o.pushUnique(L,O)));if(!I.length){for(var W in O="",A="",T)f.attrRegex.test(W)&&(W.charAt(0)==="x"?(!O||+W.substr(5)<+O.substr(5))&&(O=W):(!A||+W.substr(5)<+A.substr(5))&&(A=W));O=O?d.name2id(O):"x",A=A?d.name2id(A):"y",L.push(O),w.push(A),E.push(O+A)}},c.plot=function(T,b,x,O){var A,C=T._fullLayout,L=C._subplots.cartesian,w=T.calcdata;if(!Array.isArray(b))for(b=[],A=0;A<w.length;A++)b.push(A);for(A=0;A<L.length;A++){for(var E,I=L[A],M=C._plots[I],V=[],j=0;j<w.length;j++){var W=w[j],H=W[0].trace;H.xaxis+H.yaxis===I&&((b.indexOf(H.index)!==-1||H.carpet)&&(E&&E[0].trace.xaxis+E[0].trace.yaxis===I&&["tonextx","tonexty","tonext"].indexOf(H.fill)!==-1&&V.indexOf(E)===-1&&V.push(E),V.push(W)),E=W)}v(T,M,V,x,O)}},c.clean=function(T,b,x,O){var A,C,L,w=O._plots||{},E=b._plots||{},I=O._subplots||{};if(O._hasOnlyLargeSploms&&!b._hasOnlyLargeSploms)for(L in w)(A=w[L]).plotgroup&&A.plotgroup.remove();var M=O._has&&O._has("gl"),V=b._has&&b._has("gl");if(M&&!V)for(L in w)(A=w[L])._scene&&A._scene.destroy();if(I.xaxis&&I.yaxis){var j=d.listIds({_fullLayout:O});for(C=0;C<j.length;C++){var W=j[C];b[d.id2name(W)]||O._infolayer.selectAll(".g-"+W+"title").remove()}}var H=O._has&&O._has("cartesian"),B=b._has&&b._has("cartesian");if(H&&!B)k(O._cartesianlayer.selectAll(".subplot"),O),O._defs.selectAll(".axesclip").remove(),delete O._axisConstraintGroups,delete O._axisMatchGroups;else if(I.cartesian)for(C=0;C<I.cartesian.length;C++){var K=I.cartesian[C];if(!E[K]){var et="."+K+",."+K+"-x,."+K+"-y";O._cartesianlayer.selectAll(et).remove(),_(K,O)}}},c.drawFramework=function(T){var b=T._fullLayout,x=function(A){var C,L,w,E,I,M,V=A._fullLayout,j=V._subplots.cartesian,W=j.length,H=[],B=[];for(C=0;C<W;C++){w=j[C],E=V._plots[w],I=E.xaxis,M=E.yaxis;var K=I._mainAxis,et=M._mainAxis,G=K._id+et._id,Y=V._plots[G];E.overlays=[],G!==w&&Y?(E.mainplot=G,E.mainplotinfo=Y,B.push(w)):(E.mainplot=void 0,E.mainplotinfo=void 0,H.push(w))}for(C=0;C<B.length;C++)w=B[C],(E=V._plots[w]).mainplotinfo.overlays.push(E);var D=H.concat(B),U=new Array(W);for(C=0;C<W;C++){w=D[C],E=V._plots[w],I=E.xaxis,M=E.yaxis;var $=[w,I.layer,M.layer,I.overlaying||"",M.overlaying||""];for(L=0;L<E.overlays.length;L++)$.push(E.overlays[L].id);U[C]=$}return U}(T),O=b._cartesianlayer.selectAll(".subplot").data(x,String);O.enter().append("g").attr("class",function(A){return"subplot "+A[0]}),O.order(),O.exit().call(k,b),O.each(function(A){var C=A[0],L=b._plots[C];L.plotgroup=n.select(this),y(T,L),L.draglayer=h(b._draggers,"g",C)})},c.rangePlot=function(T,b,x){y(T,b),v(T,b,x),i.style(T)},c.toSVG=function(T){var b=T._fullLayout._glimages,x=n.select(T).selectAll(".svg-container");x.filter(function(O,A){return A===x.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var O=this.toDataURL("image/png");b.append("svg:image").attr({xmlns:u.svg,"xlink:href":O,preserveAspectRatio:"none",x:0,y:0,width:this.style.width,height:this.style.height})})},c.updateFx=t("./graph_interact").updateFx},{"../../components/drawing":124,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../registry":316,"../get_data":310,"../plots":314,"./attributes":277,"./axis_ids":283,"./constants":286,"./graph_interact":289,"./layout_attributes":294,"./layout_defaults":295,"./transition_axes":304,"@plotly/d3":11}],294:[function(t,s,c){var n=t("../font_attributes"),a=t("../../components/color/attributes"),o=t("../../components/drawing/attributes").dash,i=t("../../lib/extend").extendFlat,l=t("../../plot_api/plot_template").templatedArray,p=t("../../plots/cartesian/axis_format_attributes").descriptionWithDates,d=t("../../constants/numerical").ONEDAY,f=t("./constants"),u=f.HOUR_PATTERN,h=f.WEEKDAY_PATTERN;s.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:a.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:n({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[f.idRegex.x.toString(),f.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[f.idRegex.x.toString(),f.idRegex.y.toString()],editType:"calc"},rangebreaks:l("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[h,u,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:d},editType:"calc"}),tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:i({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:n({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:p("tick label")},tickformatstops:l("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:p("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:a.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:a.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",f.idRegex.x.toString(),f.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",f.idRegex.x.toString(),f.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:n({editType:"ticks"})}}},{"../../components/color/attributes":101,"../../components/drawing/attributes":123,"../../constants/numerical":212,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_format_attributes":282,"../font_attributes":308,"./constants":286}],295:[function(t,s,c){var n=t("../../lib"),a=t("../../components/color"),o=t("../../components/fx/helpers").isUnifiedHover,i=t("../../components/fx/hovermode_defaults"),l=t("../../plot_api/plot_template"),p=t("../layout_attributes"),d=t("./layout_attributes"),f=t("./type_defaults"),u=t("./axis_defaults"),h=t("./constraints"),m=t("./position_defaults"),v=t("./axis_ids"),y=v.id2name,k=v.name2id,_=t("./constants").AX_ID_PATTERN,T=t("../../registry"),b=T.traceIs,x=T.getComponentMethod;function O(A,C,L){Array.isArray(A[C])?A[C].push(L):A[C]=[L]}s.exports=function(A,C,L){var w,E,I=C.autotypenumbers,M={},V={},j={},W={},H={},B={},K={},et={},G={},Y={};for(w=0;w<L.length;w++){var D=L[w];if(b(D,"cartesian")||b(D,"gl2d")){var U,$;if(D.xaxis)U=y(D.xaxis),O(M,U,D);else if(D.xaxes)for(E=0;E<D.xaxes.length;E++)O(M,y(D.xaxes[E]),D);if(D.yaxis)$=y(D.yaxis),O(M,$,D);else if(D.yaxes)for(E=0;E<D.yaxes.length;E++)O(M,y(D.yaxes[E]),D);D.type==="funnel"?D.orientation==="h"?(U&&(V[U]=!0),$&&(K[$]=!0)):$&&(j[$]=!0):D.type==="image"?($&&(et[$]=!0),U&&(et[U]=!0)):($&&(H[$]=!0,B[$]=!0),b(D,"carpet")&&(D.type!=="carpet"||D._cheater)||U&&(W[U]=!0)),D.type==="carpet"&&D._cheater&&U&&(V[U]=!0),b(D,"2dMap")&&(G[U]=!0,G[$]=!0),b(D,"oriented")&&(Y[D.orientation==="h"?$:U]=!0)}}var Q=C._subplots,F=Q.xaxis,z=Q.yaxis,P=n.simpleMap(F,y),Z=n.simpleMap(z,y),R=P.concat(Z),q=a.background;F.length&&z.length&&(q=n.coerce(A,C,p,"plot_bgcolor"));var tt,rt,nt,ct,st,gt=a.combine(q,C.paper_bgcolor);function wt(){var kt=M[tt]||[];st._traceIndices=kt.map(function(Bt){return Bt._expandedIndex}),st._annIndices=[],st._shapeIndices=[],st._imgIndices=[],st._subplotsWith=[],st._counterAxes=[],st._name=st._attr=tt,st._id=rt}function Ot(kt,Bt){return n.coerce(ct,st,d,kt,Bt)}function bt(kt,Bt){return n.coerce2(ct,st,d,kt,Bt)}function Ht(kt){return kt==="x"?z:F}function Dt(kt,Bt){for(var ie=kt==="x"?P:Z,ye=[],ot=0;ot<ie.length;ot++){var ft=ie[ot];ft===Bt||(A[ft]||{}).overlaying||ye.push(k(ft))}return ye}var yt={x:Ht("x"),y:Ht("y")},ut=yt.x.concat(yt.y),it={},dt=[];function mt(){var kt=ct.matches;_.test(kt)&&ut.indexOf(kt)===-1&&(it[kt]=ct.type,dt=Object.keys(it))}var Et=i(A,C),Mt=o(Et);for(w=0;w<R.length;w++){tt=R[w],rt=k(tt),nt=tt.charAt(0),n.isPlainObject(A[tt])||(A[tt]={}),ct=A[tt],st=l.newContainer(C,tt,nt+"axis"),wt();var Tt=nt==="x"&&!W[tt]&&V[tt]||nt==="y"&&!H[tt]&&j[tt],Nt=nt==="y"&&(!B[tt]&&K[tt]||et[tt]),zt={letter:nt,font:C.font,outerTicks:G[tt],showGrid:!Y[tt],data:M[tt]||[],bgColor:gt,calendar:C.calendar,automargin:!0,visibleDflt:Tt,reverseDflt:Nt,autotypenumbersDflt:I,splomStash:((C._splomAxes||{})[nt]||{})[rt]};Ot("uirevision",C.uirevision),f(ct,st,Ot,zt),u(ct,st,Ot,zt,C);var At=Mt&&nt===Et.charAt(0),Ct=bt("spikecolor",Mt?st.color:void 0),qt=bt("spikethickness",Mt?1.5:void 0),St=bt("spikedash",Mt?"dot":void 0),$t=bt("spikemode",Mt?"across":void 0),Zt=bt("spikesnap");Ot("showspikes",!!(At||Ct||qt||St||$t||Zt))||(delete st.spikecolor,delete st.spikethickness,delete st.spikedash,delete st.spikemode,delete st.spikesnap),m(ct,st,Ot,{letter:nt,counterAxes:yt[nt],overlayableAxes:Dt(nt,tt),grid:C.grid}),Ot("title.standoff"),mt(),st._input=ct}for(w=0;w<dt.length;){rt=dt[w++],nt=(tt=y(rt)).charAt(0),n.isPlainObject(A[tt])||(A[tt]={}),ct=A[tt],st=l.newContainer(C,tt,nt+"axis"),wt();var Yt={letter:nt,font:C.font,outerTicks:G[tt],showGrid:!Y[tt],data:[],bgColor:gt,calendar:C.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:I,splomStash:((C._splomAxes||{})[nt]||{})[rt]};Ot("uirevision",C.uirevision),st.type=it[rt]||"linear",u(ct,st,Ot,Yt,C),m(ct,st,Ot,{letter:nt,counterAxes:yt[nt],overlayableAxes:Dt(nt,tt),grid:C.grid}),Ot("fixedrange"),mt(),st._input=ct}var re=x("rangeslider","handleDefaults"),Qt=x("rangeselector","handleDefaults");for(w=0;w<P.length;w++)tt=P[w],ct=A[tt],st=C[tt],re(A,C,tt),st.type==="date"&&Qt(ct,st,C,Z,st.calendar),Ot("fixedrange");for(w=0;w<Z.length;w++){tt=Z[w],ct=A[tt],st=C[tt];var xt=C[y(st.anchor)];Ot("fixedrange",x("rangeslider","isVisible")(xt))}h.handleDefaults(A,C,{axIds:ut.concat(dt).sort(v.idSort),axHasImage:et})}},{"../../components/color":102,"../../components/fx/helpers":138,"../../components/fx/hovermode_defaults":141,"../../lib":232,"../../plot_api/plot_template":268,"../../registry":316,"../layout_attributes":312,"./axis_defaults":281,"./axis_ids":283,"./constants":286,"./constraints":287,"./layout_attributes":294,"./position_defaults":297,"./type_defaults":305}],296:[function(t,s,c){var n=t("tinycolor2").mix,a=t("../../components/color/attributes").lightFraction,o=t("../../lib");s.exports=function(i,l,p,d){var f=(d=d||{}).dfltColor;function u(T,b){return o.coerce2(i,l,d.attributes,T,b)}var h=u("linecolor",f),m=u("linewidth");p("showline",d.showLine||!!h||!!m)||(delete l.linecolor,delete l.linewidth);var v=u("gridcolor",n(f,d.bgColor,d.blend||a).toRgbString()),y=u("gridwidth");if(p("showgrid",d.showGrid||!!v||!!y)||(delete l.gridcolor,delete l.gridwidth),!d.noZeroLine){var k=u("zerolinecolor",f),_=u("zerolinewidth");p("zeroline",d.showGrid||!!k||!!_)||(delete l.zerolinecolor,delete l.zerolinewidth)}}},{"../../components/color/attributes":101,"../../lib":232,tinycolor2:67}],297:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../../lib");s.exports=function(o,i,l,p){var d,f,u,h,m=p.counterAxes||[],v=p.overlayableAxes||[],y=p.letter,k=p.grid;k&&(f=k._domains[y][k._axisMap[i._id]],d=k._anchors[i._id],f&&(u=k[y+"side"].split(" ")[0],h=k.domain[y][u==="right"||u==="top"?1:0])),f=f||[0,1],d=d||(n(o.position)?"free":m[0]||"free"),u=u||(y==="x"?"bottom":"left"),h=h||0,a.coerce(o,i,{anchor:{valType:"enumerated",values:["free"].concat(m),dflt:d}},"anchor")==="free"&&l("position",h),a.coerce(o,i,{side:{valType:"enumerated",values:y==="x"?["bottom","top"]:["left","right"],dflt:u}},"side");var _=!1;if(v.length&&(_=a.coerce(o,i,{overlaying:{valType:"enumerated",values:[!1].concat(v),dflt:!1}},"overlaying")),!_){var T=l("domain",f);T[0]>T[1]-1/4096&&(i.domain=f),a.noneOrAll(o.domain,i.domain,f)}return l("layer"),i}},{"../../lib":232,"fast-isnumeric":17}],298:[function(t,s,c){var n=t("../../constants/alignment").FROM_BL;s.exports=function(a,o,i){i===void 0&&(i=n[a.constraintoward||"center"]);var l=[a.r2l(a.range[0]),a.r2l(a.range[1])],p=l[0]+(l[1]-l[0])*i;a.range=a._input.range=[a.l2r(p+(l[0]-p)*o),a.l2r(p+(l[1]-p)*o)],a.setScale()}},{"../../constants/alignment":207}],299:[function(t,s,c){var n=t("polybooljs"),a=t("../../registry"),o=t("../../components/drawing").dashStyle,i=t("../../components/color"),l=t("../../components/fx"),p=t("../../components/fx/helpers").makeEventData,d=t("../../components/dragelement/helpers"),f=d.freeMode,u=d.rectMode,h=d.drawMode,m=d.openMode,v=d.selectMode,y=t("../../components/shapes/draw_newshape/display_outlines"),k=t("../../components/shapes/draw_newshape/helpers").handleEllipse,_=t("../../components/shapes/draw_newshape/newshapes"),T=t("../../lib"),b=t("../../lib/polygon"),x=t("../../lib/throttle"),O=t("./axis_ids").getFromId,A=t("../../lib/clear_gl_canvases"),C=t("../../plot_api/subroutines").redrawReglTraces,L=t("./constants"),w=L.MINSELECT,E=b.filter,I=b.tester,M=t("./handle_outline").clearSelect,V=t("./helpers"),j=V.p2r,W=V.axValue,H=V.getTransform;function B(P,Z,R,q,tt,rt,nt){var ct,st,gt,wt,Ot,bt,Ht,Dt,yt,ut=Z._hoverdata,it=Z._fullLayout.clickmode.indexOf("event")>-1,dt=[];if(function(Nt){return Nt&&Array.isArray(Nt)&&Nt[0].hoverOnBox!==!0}(ut)){Y(P,Z,rt);var mt=function(Nt,zt){var At,Ct,qt=Nt[0],St=-1,$t=[];for(Ct=0;Ct<zt.length;Ct++)if(At=zt[Ct],qt.fullData._expandedIndex===At.cd[0].trace._expandedIndex){if(qt.hoverOnBox===!0)break;qt.pointNumber!==void 0?St=qt.pointNumber:qt.binNumber!==void 0&&(St=qt.binNumber,$t=qt.pointNumbers);break}return{pointNumber:St,pointNumbers:$t,searchInfo:At}}(ut,ct=U(Z,R,q,tt));if(mt.pointNumbers.length>0?function(Nt,zt){var At,Ct,qt,St=[];for(qt=0;qt<Nt.length;qt++)(At=Nt[qt]).cd[0].trace.selectedpoints&&At.cd[0].trace.selectedpoints.length>0&&St.push(At);if(St.length===1&&St[0]===zt.searchInfo&&(Ct=zt.searchInfo.cd[0].trace).selectedpoints.length===zt.pointNumbers.length){for(qt=0;qt<zt.pointNumbers.length;qt++)if(Ct.selectedpoints.indexOf(zt.pointNumbers[qt])<0)return!1;return!0}return!1}(ct,mt):function(Nt){var zt,At,Ct,qt=0;for(Ct=0;Ct<Nt.length;Ct++)if(zt=Nt[Ct],(At=zt.cd[0].trace).selectedpoints&&(At.selectedpoints.length>1||(qt+=At.selectedpoints.length)>1))return!1;return qt===1}(ct)&&(bt=$(mt))){for(nt&&nt.remove(),yt=0;yt<ct.length;yt++)(st=ct[yt])._module.selectPoints(st,!1);Q(Z,ct),D(rt),it&&Z.emit("plotly_deselect",null)}else{for(Ht=P.shiftKey&&(bt!==void 0?bt:$(mt)),gt=function(Nt,zt,At){return{pointNumber:Nt,searchInfo:zt,subtract:At}}(mt.pointNumber,mt.searchInfo,Ht),wt=G(rt.selectionDefs.concat([gt])),yt=0;yt<ct.length;yt++)if(Ot=F(ct[yt]._module.selectPoints(ct[yt],wt),ct[yt]),dt.length)for(var Et=0;Et<Ot.length;Et++)dt.push(Ot[Et]);else dt=Ot;if(Q(Z,ct,Dt={points:dt}),gt&&rt&&rt.selectionDefs.push(gt),nt){var Mt=rt.mergedPolygons,Tt=m(rt.dragmode);y(z(Mt,Tt),nt,rt)}it&&Z.emit("plotly_selected",Dt)}}}function K(P){return"pointNumber"in P&&"searchInfo"in P}function et(P){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Z,R,q,tt){var rt=P.searchInfo.cd[0].trace._expandedIndex;return tt.cd[0].trace._expandedIndex===rt&&q===P.pointNumber},isRect:!1,degenerate:!1,subtract:P.subtract}}function G(P){for(var Z=[],R=K(P[0])?0:P[0][0][0],q=R,tt=K(P[0])?0:P[0][0][1],rt=tt,nt=0;nt<P.length;nt++)if(K(P[nt]))Z.push(et(P[nt]));else{var ct=b.tester(P[nt]);ct.subtract=P[nt].subtract,Z.push(ct),R=Math.min(R,ct.xmin),q=Math.max(q,ct.xmax),tt=Math.min(tt,ct.ymin),rt=Math.max(rt,ct.ymax)}return{xmin:R,xmax:q,ymin:tt,ymax:rt,pts:[],contains:function(st,gt,wt,Ot){for(var bt=!1,Ht=0;Ht<Z.length;Ht++)Z[Ht].contains(st,gt,wt,Ot)&&(bt=Z[Ht].subtract===!1);return bt},isRect:!1,degenerate:!1}}function Y(P,Z,R){Z._fullLayout._drawing=!1;var q=Z._fullLayout,tt=R.plotinfo,rt=R.dragmode,nt=q._lastSelectedSubplot&&q._lastSelectedSubplot===tt.id,ct=(P.shiftKey||P.altKey)&&!(h(rt)&&m(rt));nt&&ct&&tt.selection&&tt.selection.selectionDefs&&!R.selectionDefs?(R.selectionDefs=tt.selection.selectionDefs,R.mergedPolygons=tt.selection.mergedPolygons):ct&&tt.selection||D(R),nt||(M(Z),q._lastSelectedSubplot=tt.id)}function D(P){var Z=P.dragmode,R=P.plotinfo,q=P.gd;if(q._fullLayout._activeShapeIndex>=0&&q._fullLayout._deactivateShape(q),h(Z)){var tt=q._fullLayout._zoomlayer.selectAll(".select-outline-"+R.id);if(tt&&q._fullLayout._drawing){var rt=_(tt,P);rt&&a.call("_guiRelayout",q,{shapes:rt}),q._fullLayout._drawing=!1}}R.selection={},R.selection.selectionDefs=P.selectionDefs=[],R.selection.mergedPolygons=P.mergedPolygons=[]}function U(P,Z,R,q){var tt,rt,nt,ct=[],st=Z.map(function(Ht){return Ht._id}),gt=R.map(function(Ht){return Ht._id});for(nt=0;nt<P.calcdata.length;nt++)if((rt=(tt=P.calcdata[nt])[0].trace).visible===!0&&rt._module&&rt._module.selectPoints)if(!q||rt.subplot!==q&&rt.geo!==q)if(rt.type==="splom"&&rt._xaxes[st[0]]&&rt._yaxes[gt[0]]){var wt=bt(rt._module,tt,Z[0],R[0]);wt.scene=P._fullLayout._splomScenes[rt.uid],ct.push(wt)}else if(rt.type==="sankey"){var Ot=bt(rt._module,tt,Z[0],R[0]);ct.push(Ot)}else{if(st.indexOf(rt.xaxis)===-1||gt.indexOf(rt.yaxis)===-1)continue;ct.push(bt(rt._module,tt,O(P,rt.xaxis),O(P,rt.yaxis)))}else ct.push(bt(rt._module,tt,Z[0],R[0]));return ct;function bt(Ht,Dt,yt,ut){return{_module:Ht,cd:Dt,xaxis:yt,yaxis:ut}}}function $(P){var Z=P.searchInfo.cd[0].trace,R=P.pointNumber,q=P.pointNumbers,tt=q.length>0?q[0]:R;return!!Z.selectedpoints&&Z.selectedpoints.indexOf(tt)>-1}function Q(P,Z,R){var q,tt,rt,nt;for(q=0;q<Z.length;q++){var ct=Z[q].cd[0].trace._fullInput,st=P._fullLayout._tracePreGUI[ct.uid]||{};st.selectedpoints===void 0&&(st.selectedpoints=ct._input.selectedpoints||null)}if(R){var gt=R.points||[];for(q=0;q<Z.length;q++)(nt=Z[q].cd[0].trace)._input.selectedpoints=nt._fullInput.selectedpoints=[],nt._fullInput!==nt&&(nt.selectedpoints=[]);for(q=0;q<gt.length;q++){var wt=gt[q],Ot=wt.data,bt=wt.fullData;wt.pointIndices?([].push.apply(Ot.selectedpoints,wt.pointIndices),nt._fullInput!==nt&&[].push.apply(bt.selectedpoints,wt.pointIndices)):(Ot.selectedpoints.push(wt.pointIndex),nt._fullInput!==nt&&bt.selectedpoints.push(wt.pointIndex))}}else for(q=0;q<Z.length;q++)delete(nt=Z[q].cd[0].trace).selectedpoints,delete nt._input.selectedpoints,nt._fullInput!==nt&&delete nt._fullInput.selectedpoints;var Ht=!1;for(q=0;q<Z.length;q++){nt=(rt=(tt=Z[q]).cd)[0].trace,a.traceIs(nt,"regl")&&(Ht=!0);var Dt=tt._module,yt=Dt.styleOnSelect||Dt.style;yt&&(yt(P,rt,rt[0].node3),rt[0].nodeRangePlot3&&yt(P,rt,rt[0].nodeRangePlot3))}Ht&&(A(P),C(P))}function F(P,Z){if(Array.isArray(P))for(var R=Z.cd,q=Z.cd[0].trace,tt=0;tt<P.length;tt++)P[tt]=p(P[tt],q,R);return P}function z(P,Z){for(var R=[],q=0;q<P.length;q++){R[q]=[];for(var tt=0;tt<P[q].length;tt++){R[q][tt]=[],R[q][tt][0]=tt?"L":"M";for(var rt=0;rt<P[q][tt].length;rt++)R[q][tt].push(P[q][tt][rt])}Z||R[q].push(["Z",R[q][0][1],R[q][0][2]])}return R}s.exports={prepSelect:function(P,Z,R,q,tt){var rt=f(tt),nt=u(tt),ct=m(tt),st=h(tt),gt=v(tt),wt=tt==="drawcircle",Ot=tt==="drawline"||wt,bt=q.gd,Ht=bt._fullLayout,Dt=Ht._zoomlayer,yt=q.element.getBoundingClientRect(),ut=q.plotinfo,it=H(ut),dt=Z-yt.left,mt=R-yt.top;Ht._calcInverseTransform(bt);var Et=T.apply3DTransform(Ht._invTransform)(dt,mt);dt=Et[0],mt=Et[1];var Mt,Tt,Nt,zt,At,Ct,qt,St=Ht._invScaleX,$t=Ht._invScaleY,Zt=dt,Yt=mt,re="M"+dt+","+mt,Qt=q.xaxes[0]._length,xt=q.yaxes[0]._length,kt=q.xaxes.concat(q.yaxes),Bt=P.altKey&&!(h(tt)&&ct);Y(P,bt,q),rt&&(Mt=E([[dt,mt]],L.BENDPX));var ie=Dt.selectAll("path.select-outline-"+ut.id).data(st?[0]:[1,2]),ye=Ht.newshape;ie.enter().append("path").attr("class",function(Vt){return"select-outline select-outline-"+Vt+" select-outline-"+ut.id}).style(st?{opacity:ye.opacity/2,fill:ct?void 0:ye.fillcolor,stroke:ye.line.color,"stroke-dasharray":o(ye.line.dash,ye.line.width),"stroke-width":ye.line.width+"px"}:{}).attr("fill-rule",ye.fillrule).classed("cursor-move",!!st).attr("transform",it).attr("d",re+"Z");var ot,ft=Dt.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1}).attr("transform",it).attr("d","M0,0Z"),Lt=Ht._uid+L.SELECTID,Pt=[],It=U(bt,q.xaxes,q.yaxes,q.subplot);function Rt(Vt,Jt){return Vt-Jt}ot=ut.fillRangeItems?ut.fillRangeItems:nt?function(Vt,Jt){var ae=Vt.range={};for(At=0;At<kt.length;At++){var ce=kt[At],le=ce._id.charAt(0);ae[ce._id]=[j(ce,Jt[le+"min"]),j(ce,Jt[le+"max"])].sort(Rt)}}:function(Vt,Jt,ae){var ce=Vt.lassoPoints={};for(At=0;At<kt.length;At++){var le=kt[At];ce[le._id]=ae.filtered.map(W(le))}},q.moveFn=function(Vt,Jt){Zt=Math.max(0,Math.min(Qt,St*Vt+dt)),Yt=Math.max(0,Math.min(xt,$t*Jt+mt));var ae=Math.abs(Zt-dt),ce=Math.abs(Yt-mt);if(nt){var le,se,pe;if(gt){var we=Ht.selectdirection;switch(le=we==="any"?ce<Math.min(.6*ae,w)?"h":ae<Math.min(.6*ce,w)?"v":"d":we){case"h":se=wt?xt/2:0,pe=xt;break;case"v":se=wt?Qt/2:0,pe=Qt}}if(st)switch(Ht.newshape.drawdirection){case"vertical":le="h",se=wt?xt/2:0,pe=xt;break;case"horizontal":le="v",se=wt?Qt/2:0,pe=Qt;break;case"ortho":ae<ce?(le="h",se=mt,pe=Yt):(le="v",se=dt,pe=Zt);break;default:le="d"}le==="h"?((zt=Ot?k(wt,[Zt,se],[Zt,pe]):[[dt,se],[dt,pe],[Zt,pe],[Zt,se]]).xmin=Ot?Zt:Math.min(dt,Zt),zt.xmax=Ot?Zt:Math.max(dt,Zt),zt.ymin=Math.min(se,pe),zt.ymax=Math.max(se,pe),ft.attr("d","M"+zt.xmin+","+(mt-w)+"h-4v"+2*w+"h4ZM"+(zt.xmax-1)+","+(mt-w)+"h4v"+2*w+"h-4Z")):le==="v"?((zt=Ot?k(wt,[se,Yt],[pe,Yt]):[[se,mt],[se,Yt],[pe,Yt],[pe,mt]]).xmin=Math.min(se,pe),zt.xmax=Math.max(se,pe),zt.ymin=Ot?Yt:Math.min(mt,Yt),zt.ymax=Ot?Yt:Math.max(mt,Yt),ft.attr("d","M"+(dt-w)+","+zt.ymin+"v-4h"+2*w+"v4ZM"+(dt-w)+","+(zt.ymax-1)+"v4h"+2*w+"v-4Z")):le==="d"&&((zt=Ot?k(wt,[dt,mt],[Zt,Yt]):[[dt,mt],[dt,Yt],[Zt,Yt],[Zt,mt]]).xmin=Math.min(dt,Zt),zt.xmax=Math.max(dt,Zt),zt.ymin=Math.min(mt,Yt),zt.ymax=Math.max(mt,Yt),ft.attr("d","M0,0Z"))}else rt&&(Mt.addPt([Zt,Yt]),zt=Mt.filtered);q.selectionDefs&&q.selectionDefs.length?(Nt=function(me,ee,ue){return ue?n.difference({regions:me,inverted:!1},{regions:[ee],inverted:!1}).regions:n.union({regions:me,inverted:!1},{regions:[ee],inverted:!1}).regions}(q.mergedPolygons,zt,Bt),zt.subtract=Bt,Tt=G(q.selectionDefs.concat([zt]))):(Nt=[zt],Tt=I(zt)),y(z(Nt,ct),ie,q),gt&&x.throttle(Lt,L.SELECTDELAY,function(){var me;Pt=[];var ee;for(At=0;At<It.length;At++)if(ee=(Ct=It[At])._module.selectPoints(Ct,Tt),me=F(ee,Ct),Pt.length)for(var ue=0;ue<me.length;ue++)Pt.push(me[ue]);else Pt=me;Q(bt,It,qt={points:Pt}),ot(qt,zt,Mt),q.gd.emit("plotly_selecting",qt)})},q.clickFn=function(Vt,Jt){if(ft.remove(),bt._fullLayout._activeShapeIndex>=0)bt._fullLayout._deactivateShape(bt);else if(!st){var ae=Ht.clickmode;x.done(Lt).then(function(){if(x.clear(Lt),Vt===2){for(ie.remove(),At=0;At<It.length;At++)(Ct=It[At])._module.selectPoints(Ct,!1);Q(bt,It),D(q),bt.emit("plotly_deselect",null)}else ae.indexOf("select")>-1&&B(Jt,bt,q.xaxes,q.yaxes,q.subplot,q,ie),ae==="event"&&bt.emit("plotly_selected",void 0);l.click(bt,Jt)}).catch(T.error)}},q.doneFn=function(){ft.remove(),x.done(Lt).then(function(){x.clear(Lt),q.gd.emit("plotly_selected",qt),zt&&q.selectionDefs&&(zt.subtract=Bt,q.selectionDefs.push(zt),q.mergedPolygons.length=0,[].push.apply(q.mergedPolygons,Nt)),q.doneFnCompleted&&q.doneFnCompleted(Pt)}).catch(T.error),st&&D(q)}},clearSelect:M,clearSelectionsCache:D,selectOnClick:B}},{"../../components/color":102,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../components/fx/helpers":138,"../../components/shapes/draw_newshape/display_outlines":190,"../../components/shapes/draw_newshape/helpers":191,"../../components/shapes/draw_newshape/newshapes":192,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/polygon":244,"../../lib/throttle":256,"../../plot_api/subroutines":269,"../../registry":316,"./axis_ids":283,"./constants":286,"./handle_outline":290,"./helpers":291,polybooljs:57}],300:[function(t,s,c){var n=t("@plotly/d3"),a=t("d3-time-format").utcFormat,o=t("../../lib"),i=o.numberFormat,l=t("fast-isnumeric"),p=o.cleanNumber,d=o.ms2DateTime,f=o.dateTime2ms,u=o.ensureNumber,h=o.isArrayOrTypedArray,m=t("../../constants/numerical"),v=m.FP_SAFE,y=m.BADNUM,k=m.LOG_CLIP,_=m.ONEWEEK,T=m.ONEDAY,b=m.ONEHOUR,x=m.ONEMIN,O=m.ONESEC,A=t("./axis_ids"),C=t("./constants"),L=C.HOUR_PATTERN,w=C.WEEKDAY_PATTERN;function E(M){return Math.pow(10,M)}function I(M){return M!=null}s.exports=function(M,V){V=V||{};var j=M._id||"x",W=j.charAt(0);function H(R,q){if(R>0)return Math.log(R)/Math.LN10;if(R<=0&&q&&M.range&&M.range.length===2){var tt=M.range[0],rt=M.range[1];return .5*(tt+rt-2*k*Math.abs(tt-rt))}return y}function B(R,q,tt,rt){if((rt||{}).msUTC&&l(R))return+R;var nt=f(R,tt||M.calendar);if(nt===y){if(!l(R))return y;R=+R;var ct=Math.floor(10*o.mod(R+.05,1)),st=Math.round(R-ct/10);nt=f(new Date(st))+ct/10}return nt}function K(R,q,tt){return d(R,q,tt||M.calendar)}function et(R){return M._categories[Math.round(R)]}function G(R){if(I(R)){if(M._categoriesMap===void 0&&(M._categoriesMap={}),M._categoriesMap[R]!==void 0)return M._categoriesMap[R];M._categories.push(typeof R=="number"?String(R):R);var q=M._categories.length-1;return M._categoriesMap[R]=q,q}return y}function Y(R){if(M._categoriesMap)return M._categoriesMap[R]}function D(R){var q=Y(R);return q!==void 0?q:l(R)?+R:void 0}function U(R){return l(R)?+R:Y(R)}function $(R,q,tt){return n.round(tt+q*R,2)}function Q(R,q,tt){return(R-tt)/q}var F=function(R){return l(R)?$(R,M._m,M._b):y},z=function(R){return Q(R,M._m,M._b)};if(M.rangebreaks){var P=W==="y";F=function(R){if(!l(R))return y;var q=M._rangebreaks.length;if(!q)return $(R,M._m,M._b);var tt=P;M.range[0]>M.range[1]&&(tt=!tt);for(var rt=tt?-1:1,nt=rt*R,ct=0,st=0;st<q;st++){var gt=rt*M._rangebreaks[st].min,wt=rt*M._rangebreaks[st].max;if(nt<gt)break;if(!(nt>wt)){ct=nt<(gt+wt)/2?st:st+1;break}ct=st+1}var Ot=M._B[ct]||0;return isFinite(Ot)?$(R,M._m2,Ot):0},z=function(R){var q=M._rangebreaks.length;if(!q)return Q(R,M._m,M._b);for(var tt=0,rt=0;rt<q&&!(R<M._rangebreaks[rt].pmin);rt++)R>M._rangebreaks[rt].pmax&&(tt=rt+1);return Q(R,M._m2,M._B[tt])}}M.c2l=M.type==="log"?H:u,M.l2c=M.type==="log"?E:u,M.l2p=F,M.p2l=z,M.c2p=M.type==="log"?function(R,q){return F(H(R,q))}:F,M.p2c=M.type==="log"?function(R){return E(z(R))}:z,["linear","-"].indexOf(M.type)!==-1?(M.d2r=M.r2d=M.d2c=M.r2c=M.d2l=M.r2l=p,M.c2d=M.c2r=M.l2d=M.l2r=u,M.d2p=M.r2p=function(R){return M.l2p(p(R))},M.p2d=M.p2r=z,M.cleanPos=u):M.type==="log"?(M.d2r=M.d2l=function(R,q){return H(p(R),q)},M.r2d=M.r2c=function(R){return E(p(R))},M.d2c=M.r2l=p,M.c2d=M.l2r=u,M.c2r=H,M.l2d=E,M.d2p=function(R,q){return M.l2p(M.d2r(R,q))},M.p2d=function(R){return E(z(R))},M.r2p=function(R){return M.l2p(p(R))},M.p2r=z,M.cleanPos=u):M.type==="date"?(M.d2r=M.r2d=o.identity,M.d2c=M.r2c=M.d2l=M.r2l=B,M.c2d=M.c2r=M.l2d=M.l2r=K,M.d2p=M.r2p=function(R,q,tt){return M.l2p(B(R,0,tt))},M.p2d=M.p2r=function(R,q,tt){return K(z(R),q,tt)},M.cleanPos=function(R){return o.cleanDate(R,y,M.calendar)}):M.type==="category"?(M.d2c=M.d2l=G,M.r2d=M.c2d=M.l2d=et,M.d2r=M.d2l_noadd=D,M.r2c=function(R){var q=U(R);return q!==void 0?q:M.fraction2r(.5)},M.l2r=M.c2r=u,M.r2l=U,M.d2p=function(R){return M.l2p(M.r2c(R))},M.p2d=function(R){return et(z(R))},M.r2p=M.d2p,M.p2r=z,M.cleanPos=function(R){return typeof R=="string"&&R!==""?R:u(R)}):M.type==="multicategory"&&(M.r2d=M.c2d=M.l2d=et,M.d2r=M.d2l_noadd=D,M.r2c=function(R){var q=D(R);return q!==void 0?q:M.fraction2r(.5)},M.r2c_just_indices=Y,M.l2r=M.c2r=u,M.r2l=D,M.d2p=function(R){return M.l2p(M.r2c(R))},M.p2d=function(R){return et(z(R))},M.r2p=M.d2p,M.p2r=z,M.cleanPos=function(R){return Array.isArray(R)||typeof R=="string"&&R!==""?R:u(R)},M.setupMultiCategory=function(R){var q,tt,rt=M._traceIndices,nt=M._matchGroup;if(nt&&M._categories.length===0){for(var ct in nt)if(ct!==j){var st=V[A.id2name(ct)];rt=rt.concat(st._traceIndices)}}var gt=[[0,{}],[0,{}]],wt=[];for(q=0;q<rt.length;q++){var Ot=R[rt[q]];if(W in Ot){var bt=Ot[W],Ht=Ot._length||o.minRowLength(bt);if(h(bt[0])&&h(bt[1]))for(tt=0;tt<Ht;tt++){var Dt=bt[0][tt],yt=bt[1][tt];I(Dt)&&I(yt)&&(wt.push([Dt,yt]),Dt in gt[0][1]||(gt[0][1][Dt]=gt[0][0]++),yt in gt[1][1]||(gt[1][1][yt]=gt[1][0]++))}}}for(wt.sort(function(ut,it){var dt=gt[0][1],mt=dt[ut[0]]-dt[it[0]];if(mt)return mt;var Et=gt[1][1];return Et[ut[1]]-Et[it[1]]}),q=0;q<wt.length;q++)G(wt[q])}),M.fraction2r=function(R){var q=M.r2l(M.range[0]),tt=M.r2l(M.range[1]);return M.l2r(q+R*(tt-q))},M.r2fraction=function(R){var q=M.r2l(M.range[0]),tt=M.r2l(M.range[1]);return(M.r2l(R)-q)/(tt-q)},M.cleanRange=function(R,q){q||(q={}),R||(R="range");var tt,rt,nt=o.nestedProperty(M,R).get();if(rt=(rt=M.type==="date"?o.dfltRange(M.calendar):W==="y"?C.DFLTRANGEY:q.dfltRange||C.DFLTRANGEX).slice(),M.rangemode!=="tozero"&&M.rangemode!=="nonnegative"||(rt[0]=0),nt&&nt.length===2)for(M.type!=="date"||M.autorange||(nt[0]=o.cleanDate(nt[0],y,M.calendar),nt[1]=o.cleanDate(nt[1],y,M.calendar)),tt=0;tt<2;tt++)if(M.type==="date"){if(!o.isDateTime(nt[tt],M.calendar)){M[R]=rt;break}if(M.r2l(nt[0])===M.r2l(nt[1])){var ct=o.constrain(M.r2l(nt[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);nt[0]=M.l2r(ct-1e3),nt[1]=M.l2r(ct+1e3);break}}else{if(!l(nt[tt])){if(!l(nt[1-tt])){M[R]=rt;break}nt[tt]=nt[1-tt]*(tt?10:.1)}if(nt[tt]<-v?nt[tt]=-v:nt[tt]>v&&(nt[tt]=v),nt[0]===nt[1]){var st=Math.max(1,Math.abs(1e-6*nt[0]));nt[0]-=st,nt[1]+=st}}else o.nestedProperty(M,R).set(rt)},M.setScale=function(R){var q=V._size;if(M.overlaying){var tt=A.getFromId({_fullLayout:V},M.overlaying);M.domain=tt.domain}var rt=R&&M._r?"_r":"range",nt=M.calendar;M.cleanRange(rt);var ct,st,gt=M.r2l(M[rt][0],nt),wt=M.r2l(M[rt][1],nt),Ot=W==="y";if(Ot?(M._offset=q.t+(1-M.domain[1])*q.h,M._length=q.h*(M.domain[1]-M.domain[0]),M._m=M._length/(gt-wt),M._b=-M._m*wt):(M._offset=q.l+M.domain[0]*q.w,M._length=q.w*(M.domain[1]-M.domain[0]),M._m=M._length/(wt-gt),M._b=-M._m*gt),M._rangebreaks=[],M._lBreaks=0,M._m2=0,M._B=[],M.rangebreaks&&(M._rangebreaks=M.locateBreaks(Math.min(gt,wt),Math.max(gt,wt)),M._rangebreaks.length)){for(ct=0;ct<M._rangebreaks.length;ct++)st=M._rangebreaks[ct],M._lBreaks+=Math.abs(st.max-st.min);var bt=Ot;gt>wt&&(bt=!bt),bt&&M._rangebreaks.reverse();var Ht=bt?-1:1;for(M._m2=Ht*M._length/(Math.abs(wt-gt)-M._lBreaks),M._B.push(-M._m2*(Ot?wt:gt)),ct=0;ct<M._rangebreaks.length;ct++)st=M._rangebreaks[ct],M._B.push(M._B[M._B.length-1]-Ht*M._m2*(st.max-st.min));for(ct=0;ct<M._rangebreaks.length;ct++)(st=M._rangebreaks[ct]).pmin=F(st.min),st.pmax=F(st.max)}if(!isFinite(M._m)||!isFinite(M._b)||M._length<0)throw V._replotting=!1,new Error("Something went wrong with axis scaling")},M.maskBreaks=function(R){var q,tt,rt,nt,ct,st=M.rangebreaks||[];st._cachedPatterns||(st._cachedPatterns=st.map(function(Dt){return Dt.enabled&&Dt.bounds?o.simpleMap(Dt.bounds,Dt.pattern?p:M.d2c):null})),st._cachedValues||(st._cachedValues=st.map(function(Dt){return Dt.enabled&&Dt.values?o.simpleMap(Dt.values,M.d2c).sort(o.sorterAsc):null}));for(var gt=0;gt<st.length;gt++){var wt=st[gt];if(wt.enabled){if(wt.bounds){var Ot=wt.pattern;switch(tt=(q=st._cachedPatterns[gt])[0],rt=q[1],Ot){case w:nt=(ct=new Date(R)).getUTCDay(),tt>rt&&(rt+=7,nt<tt&&(nt+=7));break;case L:nt=(ct=new Date(R)).getUTCHours()+(ct.getUTCMinutes()/60+ct.getUTCSeconds()/3600+ct.getUTCMilliseconds()/36e5),tt>rt&&(rt+=24,nt<tt&&(nt+=24));break;case"":nt=R}if(nt>=tt&&nt<rt)return y}else for(var bt=st._cachedValues[gt],Ht=0;Ht<bt.length;Ht++)if(rt=(tt=bt[Ht])+wt.dvalue,R>=tt&&R<rt)return y}}return R},M.locateBreaks=function(R,q){var tt,rt,nt,ct,st=[];if(!M.rangebreaks)return st;var gt=M.rangebreaks.slice().sort(function(Et,Mt){return Et.pattern===w&&Mt.pattern===L?-1:Mt.pattern===w&&Et.pattern===L?1:0}),wt=function(Et,Mt){if((Et=o.constrain(Et,R,q))!==(Mt=o.constrain(Mt,R,q))){for(var Tt=!0,Nt=0;Nt<st.length;Nt++){var zt=st[Nt];Et<zt.max&&Mt>=zt.min&&(Et<zt.min&&(zt.min=Et),Mt>zt.max&&(zt.max=Mt),Tt=!1)}Tt&&st.push({min:Et,max:Mt})}};for(tt=0;tt<gt.length;tt++){var Ot=gt[tt];if(Ot.enabled)if(Ot.bounds){var bt=R,Ht=q;Ot.pattern&&(bt=Math.floor(bt)),nt=(rt=o.simpleMap(Ot.bounds,Ot.pattern?p:M.r2l))[0],ct=rt[1];var Dt,yt,ut=new Date(bt);switch(Ot.pattern){case w:yt=_,Dt=(ct-nt+(ct<nt?7:0))*T,bt+=nt*T-(ut.getUTCDay()*T+ut.getUTCHours()*b+ut.getUTCMinutes()*x+ut.getUTCSeconds()*O+ut.getUTCMilliseconds());break;case L:yt=T,Dt=(ct-nt+(ct<nt?24:0))*b,bt+=nt*b-(ut.getUTCHours()*b+ut.getUTCMinutes()*x+ut.getUTCSeconds()*O+ut.getUTCMilliseconds());break;default:bt=Math.min(rt[0],rt[1]),Dt=yt=(Ht=Math.max(rt[0],rt[1]))-bt}for(var it=bt;it<Ht;it+=yt)wt(it,it+Dt)}else for(var dt=o.simpleMap(Ot.values,M.d2c),mt=0;mt<dt.length;mt++)wt(nt=dt[mt],ct=nt+Ot.dvalue)}return st.sort(function(Et,Mt){return Et.min-Mt.min}),st},M.makeCalcdata=function(R,q,tt){var rt,nt,ct,st,gt=M.type,wt=gt==="date"&&R[q+"calendar"];if(q in R){if(rt=R[q],st=R._length||o.minRowLength(rt),o.isTypedArray(rt)&&(gt==="linear"||gt==="log")){if(st===rt.length)return rt;if(rt.subarray)return rt.subarray(0,st)}if(gt==="multicategory")return function(Ht,Dt){for(var yt=new Array(Dt),ut=0;ut<Dt;ut++){var it=(Ht[0]||[])[ut],dt=(Ht[1]||[])[ut];yt[ut]=Y([it,dt])}return yt}(rt,st);for(nt=new Array(st),ct=0;ct<st;ct++)nt[ct]=M.d2c(rt[ct],0,wt,tt)}else{var Ot=q+"0"in R?M.d2c(R[q+"0"],0,wt):0,bt=R["d"+q]?Number(R["d"+q]):1;for(rt=R[{x:"y",y:"x"}[q]],st=R._length||rt.length,nt=new Array(st),ct=0;ct<st;ct++)nt[ct]=Ot+ct*bt}if(M.rangebreaks)for(ct=0;ct<st;ct++)nt[ct]=M.maskBreaks(nt[ct]);return nt},M.isValidRange=function(R){return Array.isArray(R)&&R.length===2&&l(M.r2l(R[0]))&&l(M.r2l(R[1]))},M.isPtWithinRange=function(R,q){var tt=M.c2l(R[W],null,q),rt=M.r2l(M.range[0]),nt=M.r2l(M.range[1]);return rt<nt?rt<=tt&&tt<=nt:nt<=tt&&tt<=rt},M._emptyCategories=function(){M._categories=[],M._categoriesMap={}},M.clearCalc=function(){var R=M._matchGroup;if(R){var q=null,tt=null;for(var rt in R){var nt=V[A.id2name(rt)];if(nt._categories){q=nt._categories,tt=nt._categoriesMap;break}}q&&tt?(M._categories=q,M._categoriesMap=tt):M._emptyCategories()}else M._emptyCategories();if(M._initialCategories)for(var ct=0;ct<M._initialCategories.length;ct++)G(M._initialCategories[ct])},M.sortByInitialCategories=function(){var R=[];if(M._emptyCategories(),M._initialCategories)for(var q=0;q<M._initialCategories.length;q++)G(M._initialCategories[q]);R=R.concat(M._traceIndices);var tt=M._matchGroup;for(var rt in tt)if(j!==rt){var nt=V[A.id2name(rt)];nt._categories=M._categories,nt._categoriesMap=M._categoriesMap,R=R.concat(nt._traceIndices)}return R};var Z=V._d3locale;M.type==="date"&&(M._dateFormat=Z?Z.timeFormat:a,M._extraFormat=V._extraFormat),M._separators=V.separators,M._numFormat=Z?Z.numberFormat:i,delete M._minDtick,delete M._forceTick0}},{"../../constants/numerical":212,"../../lib":232,"./axis_ids":283,"./constants":286,"@plotly/d3":11,"d3-time-format":14,"fast-isnumeric":17}],301:[function(t,s,c){var n=t("../../lib"),a=t("../../components/color").contrast,o=t("./layout_attributes"),i=t("../array_container_defaults");function l(d){var f=["showexponent","showtickprefix","showticksuffix"].filter(function(u){return d[u]!==void 0});if(f.every(function(u){return d[u]===d[f[0]]})||f.length===1)return d[f[0]]}function p(d,f){function u(h,m){return n.coerce(d,f,o.tickformatstops,h,m)}u("enabled")&&(u("dtickrange"),u("value"))}s.exports=function(d,f,u,h,m,v){v&&v.pass!==1||function(y,k,_,T,b){var x=l(y);_("tickprefix")&&_("showtickprefix",x),_("ticksuffix",b.tickSuffixDflt)&&_("showticksuffix",x)}(d,0,u,0,m),v&&v.pass!==2||function(y,k,_,T,b){var x=l(y);if(_("tickprefix")&&_("showtickprefix",x),_("ticksuffix",b.tickSuffixDflt)&&_("showticksuffix",x),_("showticklabels")){var O=b.font||{},A=k.color,C=(k.ticklabelposition||"").indexOf("inside")!==-1?a(b.bgColor):A&&A!==o.color.dflt?A:O.color;if(n.coerceFont(_,"tickfont",{family:O.family,size:O.size,color:C}),_("tickangle"),T!=="category"){var L=_("tickformat");i(y,k,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:p}),k.tickformatstops.length||delete k.tickformatstops,L||T==="date"||(_("showexponent",x),_("exponentformat"),_("minexponent"),_("separatethousands"))}}}(d,f,u,h,m)}},{"../../components/color":102,"../../lib":232,"../array_container_defaults":274,"./layout_attributes":294}],302:[function(t,s,c){var n=t("../../lib"),a=t("./layout_attributes");s.exports=function(o,i,l,p){var d=n.coerce2(o,i,a,"ticklen"),f=n.coerce2(o,i,a,"tickwidth"),u=n.coerce2(o,i,a,"tickcolor",i.color);l("ticks",p.outerTicks||d||f||u?"outside":"")||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},{"../../lib":232,"./layout_attributes":294}],303:[function(t,s,c){var n=t("./clean_ticks"),a=t("../../lib").isArrayOrTypedArray;s.exports=function(o,i,l,p){function d(y){var k=o[y];return k!==void 0?k:(i._template||{})[y]}var f=d("tick0"),u=d("dtick"),h=d("tickvals"),m=l("tickmode",a(h)?"array":u?"linear":"auto");if(m==="auto")l("nticks");else if(m==="linear"){var v=i.dtick=n.dtick(u,p);i.tick0=n.tick0(f,p,i.calendar,v)}else p!=="multicategory"&&(l("tickvals")===void 0?i.tickmode="auto":l("ticktext"))}},{"../../lib":232,"./clean_ticks":285}],304:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../registry"),o=t("../../lib"),i=t("../../components/drawing"),l=t("./axes");s.exports=function(p,d,f,u){var h=p._fullLayout;if(d.length!==0){var m,v,y,k;u&&(m=u());var _=n.ease(f.easing);return p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(k),k=null,function(){for(var x={},O=0;O<d.length;O++){var A=d[O],C=A.plotinfo.xaxis,L=A.plotinfo.yaxis;A.xr0&&(x[C._name+".range"]=A.xr0.slice()),A.yr0&&(x[L._name+".range"]=A.yr0.slice())}return a.call("relayout",p,x).then(function(){for(var w=0;w<d.length;w++)T(d[w].plotinfo)})}()}),v=Date.now(),k=window.requestAnimationFrame(function x(){y=Date.now();for(var O=Math.min(1,(y-v)/f.duration),A=_(O),C=0;C<d.length;C++)b(d[C],A);y-v>f.duration?(function(){for(var L={},w=0;w<d.length;w++){var E=d[w],I=E.plotinfo.xaxis,M=E.plotinfo.yaxis;E.xr1&&(L[I._name+".range"]=E.xr1.slice()),E.yr1&&(L[M._name+".range"]=E.yr1.slice())}m&&m(),a.call("relayout",p,L).then(function(){for(var V=0;V<d.length;V++)T(d[V].plotinfo)})}(),k=window.cancelAnimationFrame(x)):k=window.requestAnimationFrame(x)}),Promise.resolve()}function T(x){var O=x.xaxis,A=x.yaxis;h._defs.select("#"+x.clipId+"> rect").call(i.setTranslate,0,0).call(i.setScale,1,1),x.plot.call(i.setTranslate,O._offset,A._offset).call(i.setScale,1,1);var C=x.plot.selectAll(".scatterlayer .trace");C.selectAll(".point").call(i.setPointGroupScale,1,1),C.selectAll(".textpoint").call(i.setTextPointsScale,1,1),C.call(i.hideOutsideRangePoints,x)}function b(x,O){var A=x.plotinfo,C=A.xaxis,L=A.yaxis,w=C._length,E=L._length,I=!!x.xr1,M=!!x.yr1,V=[];if(I){var j=o.simpleMap(x.xr0,C.r2l),W=o.simpleMap(x.xr1,C.r2l),H=j[1]-j[0],B=W[1]-W[0];V[0]=(j[0]*(1-O)+O*W[0]-j[0])/(j[1]-j[0])*w,V[2]=w*(1-O+O*B/H),C.range[0]=C.l2r(j[0]*(1-O)+O*W[0]),C.range[1]=C.l2r(j[1]*(1-O)+O*W[1])}else V[0]=0,V[2]=w;if(M){var K=o.simpleMap(x.yr0,L.r2l),et=o.simpleMap(x.yr1,L.r2l),G=K[1]-K[0],Y=et[1]-et[0];V[1]=(K[1]*(1-O)+O*et[1]-K[1])/(K[0]-K[1])*E,V[3]=E*(1-O+O*Y/G),L.range[0]=C.l2r(K[0]*(1-O)+O*et[0]),L.range[1]=L.l2r(K[1]*(1-O)+O*et[1])}else V[1]=0,V[3]=E;l.drawOne(p,C,{skipTitle:!0}),l.drawOne(p,L,{skipTitle:!0}),l.redrawComponents(p,[C._id,L._id]);var D=I?w/V[2]:1,U=M?E/V[3]:1,$=I?V[0]:0,Q=M?V[1]:0,F=I?V[0]/V[2]*w:0,z=M?V[1]/V[3]*E:0,P=C._offset-F,Z=L._offset-z;A.clipRect.call(i.setTranslate,$,Q).call(i.setScale,1/D,1/U),A.plot.call(i.setTranslate,P,Z).call(i.setScale,D,U),i.setPointGroupScale(A.zoomScalePts,1/D,1/U),i.setTextPointsScale(A.zoomScaleTxt,1/D,1/U)}l.redrawComponents(p)}},{"../../components/drawing":124,"../../lib":232,"../../registry":316,"./axes":279,"@plotly/d3":11}],305:[function(t,s,c){var n=t("../../registry").traceIs,a=t("./axis_autotype");function o(l){return{v:"x",h:"y"}[l.orientation||"v"]}function i(l,p){var d=o(l),f=n(l,"box-violin"),u=n(l._fullInput||{},"candlestick");return f&&!u&&p===d&&l[d]===void 0&&l[d+"0"]===void 0}s.exports=function(l,p,d,f){d("autotypenumbers",f.autotypenumbersDflt),d("type",(f.splomStash||{}).type)==="-"&&(function(u,h){if(u.type==="-"){var m,v=u._id,y=v.charAt(0);v.indexOf("scene")!==-1&&(v=y);var k=function(L,w,E){for(var I=0;I<L.length;I++){var M=L[I];if(M.type==="splom"&&M._length>0&&(M["_"+E+"axes"]||{})[w]||(M[E+"axis"]||E)===w&&(i(M,E)||(M[E]||[]).length||M[E+"0"]))return M}}(h,v,y);if(!!k){if(k.type==="histogram"&&y==={v:"y",h:"x"}[k.orientation||"v"])return void(u.type="linear");var _=y+"calendar",T=k[_],b={noMultiCategory:!n(k,"cartesian")||n(k,"noMultiCategory")};if(k.type==="box"&&k._hasPreCompStats&&y==={h:"x",v:"y"}[k.orientation||"v"]&&(b.noMultiCategory=!0),b.autotypenumbers=u.autotypenumbers,i(k,y)){var x=o(k),O=[];for(m=0;m<h.length;m++){var A=h[m];n(A,"box-violin")&&(A[y+"axis"]||y)===v&&(A[x]!==void 0?O.push(A[x][0]):A.name!==void 0?O.push(A.name):O.push("text"),A[_]!==T&&(T=void 0))}u.type=a(O,T,b)}else if(k.type==="splom"){var C=k.dimensions[k._axesDim[v]];C.visible&&(u.type=a(C.values,T,b))}else u.type=a(k[y]||[k[y+"0"]],T,b)}}}(p,f.data),p.type==="-"?p.type="linear":l.type=p.type)}},{"../../registry":316,"./axis_autotype":280}],306:[function(t,s,c){var n=t("../registry"),a=t("../lib");function o(d,f,u){var h,m,v,y=!1;if(f.type==="data")h=d._fullData[f.traces!==null?f.traces[0]:0];else{if(f.type!=="layout")return!1;h=d._fullLayout}return m=a.nestedProperty(h,f.prop).get(),(v=u[f.type]=u[f.type]||{}).hasOwnProperty(f.prop)&&v[f.prop]!==m&&(y=!0),v[f.prop]=m,{changed:y,value:m}}function i(d,f){var u=[],h=f[0],m={};if(typeof h=="string")m[h]=f[1];else{if(!a.isPlainObject(h))return u;m=h}return p(m,function(v,y,k){u.push({type:"layout",prop:v,value:k})},"",0),u}function l(d,f){var u,h,m,v,y=[];if(h=f[0],m=f[1],u=f[2],v={},typeof h=="string")v[h]=m;else{if(!a.isPlainObject(h))return y;v=h,u===void 0&&(u=m)}return u===void 0&&(u=null),p(v,function(k,_,T){var b,x;if(Array.isArray(T)){x=T.slice();var O=Math.min(x.length,d.data.length);u&&(O=Math.min(O,u.length)),b=[];for(var A=0;A<O;A++)b[A]=u?u[A]:A}else x=T,b=u?u.slice():null;if(b===null)Array.isArray(x)&&(x=x[0]);else if(Array.isArray(b)){if(!Array.isArray(x)){var C=x;x=[];for(var L=0;L<b.length;L++)x[L]=C}x.length=Math.min(b.length,x.length)}y.push({type:"data",prop:k,traces:b,value:x})},"",0),y}function p(d,f,u,h){Object.keys(d).forEach(function(m){var v=d[m];if(m[0]!=="_"){var y=u+(h>0?".":"")+m;a.isPlainObject(v)?p(v,f,y,h+1):f(y,m,v)}})}c.manageCommandObserver=function(d,f,u,h){var m={},v=!0;f&&f._commandObserver&&(m=f._commandObserver),m.cache||(m.cache={}),m.lookupTable={};var y=c.hasSimpleAPICommandBindings(d,u,m.lookupTable);if(f&&f._commandObserver){if(y)return m;if(f._commandObserver.remove)return f._commandObserver.remove(),f._commandObserver=null,m}if(y){o(d,y,m.cache),m.check=function(){if(v){var T=o(d,y,m.cache);return T.changed&&h&&m.lookupTable[T.value]!==void 0&&(m.disable(),Promise.resolve(h({value:T.value,type:y.type,prop:y.prop,traces:y.traces,index:m.lookupTable[T.value]})).then(m.enable,m.enable)),T.changed}};for(var k=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],_=0;_<k.length;_++)d._internalOn(k[_],m.check);m.remove=function(){for(var T=0;T<k.length;T++)d._removeInternalListener(k[T],m.check)}}else a.log("Unable to automatically bind plot updates to API command"),m.lookupTable={},m.remove=function(){};return m.disable=function(){v=!1},m.enable=function(){v=!0},f&&(f._commandObserver=m),m},c.hasSimpleAPICommandBindings=function(d,f,u){var h,m,v=f.length;for(h=0;h<v;h++){var y,k=f[h],_=k.method,T=k.args;if(Array.isArray(T)||(T=[]),!_)return!1;var b=c.computeAPICommandBindings(d,_,T);if(b.length!==1)return!1;if(m){if((y=b[0]).type!==m.type||y.prop!==m.prop)return!1;if(Array.isArray(m.traces)){if(!Array.isArray(y.traces))return!1;y.traces.sort();for(var x=0;x<m.traces.length;x++)if(m.traces[x]!==y.traces[x])return!1}else if(y.prop!==m.prop)return!1}else m=b[0],Array.isArray(m.traces)&&m.traces.sort();var O=(y=b[0]).value;if(Array.isArray(O)){if(O.length!==1)return!1;O=O[0]}u&&(u[O]=h)}return m},c.executeAPICommand=function(d,f,u){if(f==="skip")return Promise.resolve();var h=n.apiMethodRegistry[f],m=[d];Array.isArray(u)||(u=[]);for(var v=0;v<u.length;v++)m.push(u[v]);return h.apply(null,m).catch(function(y){return a.warn("API call to Plotly."+f+" rejected.",y),Promise.reject(y)})},c.computeAPICommandBindings=function(d,f,u){var h;switch(Array.isArray(u)||(u=[]),f){case"restyle":h=l(d,u);break;case"relayout":h=i(d,u);break;case"update":h=l(d,[u[0],u[2]]).concat(i(d,[u[1]]));break;case"animate":h=function(m,v){return Array.isArray(v[0])&&v[0].length===1&&["string","number"].indexOf(typeof v[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:v[0][0].toString()}]:[]}(0,u);break;default:h=[]}return h}},{"../lib":232,"../registry":316}],307:[function(t,s,c){var n=t("../lib/extend").extendFlat;c.attributes=function(a,o){o=o||{};var i={valType:"info_array",editType:(a=a||{}).editType,items:[{valType:"number",min:0,max:1,editType:a.editType},{valType:"number",min:0,max:1,editType:a.editType}],dflt:[0,1]},l=(a.name&&a.name,a.trace,o.description&&o.description,{x:n({},i,{}),y:n({},i,{}),editType:a.editType});return a.noGridCell||(l.row={valType:"integer",min:0,dflt:0,editType:a.editType},l.column={valType:"integer",min:0,dflt:0,editType:a.editType}),l},c.defaults=function(a,o,i,l){var p=l&&l.x||[0,1],d=l&&l.y||[0,1],f=o.grid;if(f){var u=i("domain.column");u!==void 0&&(u<f.columns?p=f._domains.x[u]:delete a.domain.column);var h=i("domain.row");h!==void 0&&(h<f.rows?d=f._domains.y[h]:delete a.domain.row)}var m=i("domain.x",p),v=i("domain.y",d);m[0]<m[1]||(a.domain.x=p.slice()),v[0]<v[1]||(a.domain.y=d.slice())}},{"../lib/extend":226}],308:[function(t,s,c){s.exports=function(n){var a=n.editType,o=n.colorEditType;o===void 0&&(o=a);var i={family:{valType:"string",noBlank:!0,strict:!0,editType:a},size:{valType:"number",min:1,editType:a},color:{valType:"color",editType:o},editType:a};return n.arrayOk&&(i.family.arrayOk=!0,i.size.arrayOk=!0,i.color.arrayOk=!0),i}},{}],309:[function(t,s,c){s.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],310:[function(t,s,c){var n=t("../registry"),a=t("./cartesian/constants").SUBPLOT_PATTERN;c.getSubplotCalcData=function(o,i,l){var p=n.subplotsRegistry[i];if(!p)return[];for(var d=p.attr,f=[],u=0;u<o.length;u++){var h=o[u];h[0].trace[d]===l&&f.push(h)}return f},c.getModuleCalcData=function(o,i){var l,p=[],d=[];if(!(l=typeof i=="string"?n.getModule(i).plot:typeof i=="function"?i:i.plot))return[p,o];for(var f=0;f<o.length;f++){var u=o[f],h=u[0].trace;h.visible===!0&&h._length!==0&&(h._module.plot===l?p.push(u):d.push(u))}return[p,d]},c.getSubplotData=function(o,i,l){if(!n.subplotsRegistry[i])return[];var p,d,f,u=n.subplotsRegistry[i].attr,h=[];if(i==="gl2d"){var m=l.match(a);d="x"+m[1],f="y"+m[2]}for(var v=0;v<o.length;v++)p=o[v],i==="gl2d"&&n.traceIs(p,"gl2d")?p[u[0]]===d&&p[u[1]]===f&&h.push(p):p[u]===l&&h.push(p);return h}},{"../registry":316,"./cartesian/constants":286}],311:[function(t,s,c){function n(a,o){var i,l,p=[0,0,0,0];for(i=0;i<4;++i)for(l=0;l<4;++l)p[l]+=a[4*i+l]*o[i];return p}s.exports=function(a,o){return n(a.projection,n(a.view,n(a.model,[o[0],o[1],o[2],1])))}},{}],312:[function(t,s,c){var n=t("./font_attributes"),a=t("./animation_attributes"),o=t("../components/color/attributes"),i=t("../components/shapes/draw_newshape/attributes"),l=t("./pad_attributes"),p=t("../lib/extend").extendFlat,d=n({editType:"calc"});d.family.dflt='"Open Sans", verdana, arial, sans-serif',d.size.dflt=12,d.color.dflt=o.defaultLine,s.exports={font:d,title:{text:{valType:"string",editType:"layoutstyle"},font:n({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(l({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:i.newshape,activeshape:i.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},a.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:n({editType:"layoutstyle"})}}},{"../components/color/attributes":101,"../components/shapes/draw_newshape/attributes":187,"../lib/extend":226,"./animation_attributes":273,"./font_attributes":308,"./pad_attributes":313}],313:[function(t,s,c){s.exports=function(n){var a=n.editType;return{t:{valType:"number",dflt:0,editType:a},r:{valType:"number",dflt:0,editType:a},b:{valType:"number",dflt:0,editType:a},l:{valType:"number",dflt:0,editType:a},editType:a}}},{}],314:[function(t,s,c){var n=t("@plotly/d3"),a=t("d3-time-format").timeFormatLocale,o=t("d3-format").formatLocale,i=t("fast-isnumeric"),l=t("../registry"),p=t("../plot_api/plot_schema"),d=t("../plot_api/plot_template"),f=t("../lib"),u=t("../components/color"),h=t("../constants/numerical").BADNUM,m=t("./cartesian/axis_ids"),v=t("./cartesian/handle_outline").clearSelect,y=t("./animation_attributes"),k=t("./frame_attributes"),_=t("../plots/get_data").getModuleCalcData,T=f.relinkPrivateKeys,b=f._,x=s.exports={};f.extendFlat(x,l),x.attributes=t("./attributes"),x.attributes.type.values=x.allTypes,x.fontAttrs=t("./font_attributes"),x.layoutAttributes=t("./layout_attributes"),x.fontWeight="normal";var O=x.transformsRegistry,A=t("./command");x.executeAPICommand=A.executeAPICommand,x.computeAPICommandBindings=A.computeAPICommandBindings,x.manageCommandObserver=A.manageCommandObserver,x.hasSimpleAPICommandBindings=A.hasSimpleAPICommandBindings,x.redrawText=function(G){return G=f.getGraphDiv(G),new Promise(function(Y){setTimeout(function(){G._fullLayout&&(l.getComponentMethod("annotations","draw")(G),l.getComponentMethod("legend","draw")(G),l.getComponentMethod("colorbar","draw")(G),Y(x.previousPromises(G)))},300)})},x.resize=function(G){var Y;G=f.getGraphDiv(G);var D=new Promise(function(U,$){G&&!f.isHidden(G)||$(new Error("Resize must be passed a displayed plot div element.")),G._redrawTimer&&clearTimeout(G._redrawTimer),G._resolveResize&&(Y=G._resolveResize),G._resolveResize=U,G._redrawTimer=setTimeout(function(){if(!G.layout||G.layout.width&&G.layout.height||f.isHidden(G))U(G);else{delete G.layout.width,delete G.layout.height;var Q=G.changed;G.autoplay=!0,l.call("relayout",G,{autosize:!0}).then(function(){G.changed=Q,G._resolveResize===U&&(delete G._resolveResize,U(G))})}},100)});return Y&&Y(D),D},x.previousPromises=function(G){if((G._promises||[]).length)return Promise.all(G._promises).then(function(){G._promises=[]})},x.addLinks=function(G){if(G._context.showLink||G._context.showSources){var Y=G._fullLayout,D=f.ensureSingle(Y._paper,"text","js-plot-link-container",function(P){P.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:u.defaultLine,"pointer-events":"all"}).each(function(){var Z=n.select(this);Z.append("tspan").classed("js-link-to-tool",!0),Z.append("tspan").classed("js-link-spacer",!0),Z.append("tspan").classed("js-sourcelinks",!0)})}),U=D.node(),$={y:Y._paper.attr("height")-9};document.body.contains(U)&&U.getComputedTextLength()>=Y.width-20?($["text-anchor"]="start",$.x=5):($["text-anchor"]="end",$.x=Y._paper.attr("width")-7),D.attr($);var Q=D.select(".js-link-to-tool"),F=D.select(".js-link-spacer"),z=D.select(".js-sourcelinks");G._context.showSources&&G._context.showSources(G),G._context.showLink&&function(P,Z){Z.text("");var R=Z.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(P._context.linkText+" "+String.fromCharCode(187));if(P._context.sendData)R.on("click",function(){x.sendDataToCloud(P)});else{var q=window.location.pathname.split("/"),tt=window.location.search;R.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+q[2].split(".")[0]+"/"+q[1]+tt})}}(G,Q),F.text(Q.text()&&z.text()?" - ":"")}},x.sendDataToCloud=function(G){var Y=(window.PLOTLYENV||{}).BASE_URL||G._context.plotlyServerURL;if(Y){G.emit("plotly_beforeexport");var D=n.select(G).append("div").attr("id","hiddenform").style("display","none"),U=D.append("form").attr({action:Y+"/external",method:"post",target:"_blank"});return U.append("input").attr({type:"text",name:"data"}).node().value=x.graphJson(G,!1,"keepdata"),U.node().submit(),D.remove(),G.emit("plotly_afterexport"),!1}};var C=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],L=["year","month","dayMonth","dayMonthYear"];function w(G,Y){var D=G._context.locale;D||(D="en-US");var U=!1,$={};function Q(q){for(var tt=!0,rt=0;rt<Y.length;rt++){var nt=Y[rt];$[nt]||(q[nt]?$[nt]=q[nt]:tt=!1)}tt&&(U=!0)}for(var F=0;F<2;F++){for(var z=G._context.locales,P=0;P<2;P++){var Z=(z[D]||{}).format;if(Z&&(Q(Z),U))break;z=l.localeRegistry}var R=D.split("-")[0];if(U||R===D)break;D=R}return U||Q(l.localeRegistry.en.format),$}function E(G,Y){var D={_fullLayout:Y},U=G._id.charAt(0)==="x",$=G._mainAxis._anchorAxis,Q="",F="",z="";if($&&(z=$._mainAxis._id,Q=U?G._id+z:z+G._id),!Q||!Y._plots[Q]){Q="";for(var P=G._counterAxes,Z=0;Z<P.length;Z++){var R=P[Z],q=U?G._id+R:R+G._id;F||(F=q);var tt=m.getFromId(D,R);if(z&&tt.overlaying===z){Q=q;break}}}return Q||F}function I(G){var Y=G.transforms;if(Array.isArray(Y)&&Y.length)for(var D=0;D<Y.length;D++){var U=Y[D],$=U._module||O[U.type];if($&&$.makesData)return!0}return!1}function M(G,Y,D,U){for(var $=G.transforms,Q=[G],F=0;F<$.length;F++){var z=$[F],P=O[z.type];P&&P.transform&&(Q=P.transform(Q,{transform:z,fullTrace:G,fullData:Y,layout:D,fullLayout:U,transformIndex:F}))}return Q}function V(G){return typeof G=="string"&&G.substr(G.length-2)==="px"&&parseFloat(G)}function j(G){var Y=G.margin;if(!G._size){var D=G._size={l:Math.round(Y.l),r:Math.round(Y.r),t:Math.round(Y.t),b:Math.round(Y.b),p:Math.round(Y.pad)};D.w=Math.round(G.width)-D.l-D.r,D.h=Math.round(G.height)-D.t-D.b}G._pushmargin||(G._pushmargin={}),G._pushmarginIds||(G._pushmarginIds={})}x.supplyDefaults=function(G,Y){var D=Y&&Y.skipUpdateCalc,U=G._fullLayout||{};if(U._skipDefaults)delete U._skipDefaults;else{var $,Q=G._fullLayout={},F=G.layout||{},z=G._fullData||[],P=G._fullData=[],Z=G.data||[],R=G.calcdata||[],q=G._context||{};G._transitionData||x.createTransitionData(G),Q._dfltTitle={plot:b(G,"Click to enter Plot title"),x:b(G,"Click to enter X axis title"),y:b(G,"Click to enter Y axis title"),colorbar:b(G,"Click to enter Colorscale title"),annotation:b(G,"new text")},Q._traceWord=b(G,"trace");var tt=w(G,C);if(Q._mapboxAccessToken=q.mapboxAccessToken,U._initialAutoSizeIsDone){var rt=U.width,nt=U.height;x.supplyLayoutGlobalDefaults(F,Q,tt),F.width||(Q.width=rt),F.height||(Q.height=nt),x.sanitizeMargins(Q)}else{x.supplyLayoutGlobalDefaults(F,Q,tt);var ct=!F.width||!F.height,st=Q.autosize,gt=q.autosizable;ct&&(st||gt)?x.plotAutoSize(G,F,Q):ct&&x.sanitizeMargins(Q),!st&&ct&&(F.width=Q.width,F.height=Q.height)}Q._d3locale=function(Ct,qt){return Ct.decimal=qt.charAt(0),Ct.thousands=qt.charAt(1),{numberFormat:function(St){try{St=o(Ct).format(f.adjustFormat(St))}catch($t){return f.warnBadFormat(St),f.noFormat}return St},timeFormat:a(Ct).utcFormat}}(tt,Q.separators),Q._extraFormat=w(G,L),Q._initialAutoSizeIsDone=!0,Q._dataLength=Z.length,Q._modules=[],Q._visibleModules=[],Q._basePlotModules=[];var wt=Q._subplots=function(){var Ct,qt,St=l.collectableSubplotTypes,$t={};if(!St){St=[];var Zt=l.subplotsRegistry;for(var Yt in Zt){var re=Zt[Yt].attr;if(re&&(St.push(Yt),Array.isArray(re)))for(qt=0;qt<re.length;qt++)f.pushUnique(St,re[qt])}}for(Ct=0;Ct<St.length;Ct++)$t[St[Ct]]=[];return $t}(),Ot=Q._splomAxes={x:{},y:{}},bt=Q._splomSubplots={};Q._splomGridDflt={},Q._scatterStackOpts={},Q._firstScatter={},Q._alignmentOpts={},Q._colorAxes={},Q._requestRangeslider={},Q._traceUids=function(Ct,qt){var St,$t,Zt=qt.length,Yt=[];for(St=0;St<Ct.length;St++){var re=Ct[St]._fullInput;re!==$t&&Yt.push(re),$t=re}var Qt=Yt.length,xt=new Array(Zt),kt={};function Bt(ot,ft){xt[ft]=ot,kt[ot]=1}function ie(ot,ft){if(ot&&typeof ot=="string"&&!kt[ot])return Bt(ot,ft),!0}for(St=0;St<Zt;St++){var ye=qt[St].uid;typeof ye=="number"&&(ye=String(ye)),ie(ye,St)||St<Qt&&ie(Yt[St].uid,St)||Bt(f.randstr(kt),St)}return xt}(z,Z),Q._globalTransforms=(G._context||{}).globalTransforms,x.supplyDataDefaults(Z,P,F,Q);var Ht=Object.keys(Ot.x),Dt=Object.keys(Ot.y);if(Ht.length>1&&Dt.length>1){for(l.getComponentMethod("grid","sizeDefaults")(F,Q),$=0;$<Ht.length;$++)f.pushUnique(wt.xaxis,Ht[$]);for($=0;$<Dt.length;$++)f.pushUnique(wt.yaxis,Dt[$]);for(var yt in bt)f.pushUnique(wt.cartesian,yt)}if(Q._has=x._hasPlotType.bind(Q),z.length===P.length)for($=0;$<P.length;$++)T(P[$],z[$]);x.supplyLayoutModuleDefaults(F,Q,P,G._transitionData);var ut=Q._visibleModules,it=[];for($=0;$<ut.length;$++){var dt=ut[$].crossTraceDefaults;dt&&f.pushUnique(it,dt)}for($=0;$<it.length;$++)it[$](P,Q);Q._hasOnlyLargeSploms=Q._basePlotModules.length===1&&Q._basePlotModules[0].name==="splom"&&Ht.length>15&&Dt.length>15&&Q.shapes.length===0&&Q.images.length===0,x.linkSubplots(P,Q,z,U),x.cleanPlot(P,Q,z,U);var mt=!(!U._has||!U._has("gl2d")),Et=!(!Q._has||!Q._has("gl2d")),Mt=!(!U._has||!U._has("cartesian"))||mt,Tt=!(!Q._has||!Q._has("cartesian"))||Et;Mt&&!Tt?U._bgLayer.remove():Tt&&!Mt&&(Q._shouldCreateBgLayer=!0),U._zoomlayer&&!G._dragging&&v({_fullLayout:U}),function(Ct,qt){var St,$t=[];qt.meta&&(St=qt._meta={meta:qt.meta,layout:{meta:qt.meta}});for(var Zt=0;Zt<Ct.length;Zt++){var Yt=Ct[Zt];Yt.meta?$t[Yt.index]=Yt._meta={meta:Yt.meta}:qt.meta&&(Yt._meta={meta:qt.meta}),qt.meta&&(Yt._meta.layout={meta:qt.meta})}$t.length&&(St||(St=qt._meta={}),St.data=$t)}(P,Q),T(Q,U),l.getComponentMethod("colorscale","crossTraceDefaults")(P,Q),Q._preGUI||(Q._preGUI={}),Q._tracePreGUI||(Q._tracePreGUI={});var Nt,zt=Q._tracePreGUI,At={};for(Nt in zt)At[Nt]="old";for($=0;$<P.length;$++)At[Nt=P[$]._fullInput.uid]||(zt[Nt]={}),At[Nt]="new";for(Nt in At)At[Nt]==="old"&&delete zt[Nt];j(Q),l.getComponentMethod("rangeslider","makeData")(Q),D||R.length!==P.length||x.supplyDefaultsUpdateCalc(R,P)}},x.supplyDefaultsUpdateCalc=function(G,Y){for(var D=0;D<Y.length;D++){var U=Y[D],$=(G[D]||[])[0];if($&&$.trace){var Q=$.trace;if(Q._hasCalcTransform){var F,z,P,Z=Q._arrayAttrs;for(F=0;F<Z.length;F++)z=Z[F],P=f.nestedProperty(Q,z).get().slice(),f.nestedProperty(U,z).set(P)}$.trace=U}}},x.createTransitionData=function(G){G._transitionData||(G._transitionData={}),G._transitionData._frames||(G._transitionData._frames=[]),G._transitionData._frameHash||(G._transitionData._frameHash={}),G._transitionData._counter||(G._transitionData._counter=0),G._transitionData._interruptCallbacks||(G._transitionData._interruptCallbacks=[])},x._hasPlotType=function(G){var Y,D=this._basePlotModules||[];for(Y=0;Y<D.length;Y++)if(D[Y].name===G)return!0;var U=this._modules||[];for(Y=0;Y<U.length;Y++){var $=U[Y].name;if($===G)return!0;var Q=l.modules[$];if(Q&&Q.categories[G])return!0}return!1},x.cleanPlot=function(G,Y,D,U){var $,Q,F=U._basePlotModules||[];for($=0;$<F.length;$++){var z=F[$];z.clean&&z.clean(G,Y,D,U)}var P=U._has&&U._has("gl"),Z=Y._has&&Y._has("gl");P&&!Z&&U._glcontainer!==void 0&&(U._glcontainer.selectAll(".gl-canvas").remove(),U._glcontainer.selectAll(".no-webgl").remove(),U._glcanvas=null);var R=!!U._infolayer;t:for($=0;$<D.length;$++){var q=D[$].uid;for(Q=0;Q<G.length;Q++)if(q===G[Q].uid)continue t;R&&U._infolayer.select(".cb"+q).remove()}},x.linkSubplots=function(G,Y,D,U){var $,Q,F=U._plots||{},z=Y._plots={},P=Y._subplots,Z={_fullData:G,_fullLayout:Y},R=P.cartesian.concat(P.gl2d||[]);for($=0;$<R.length;$++){var q,tt=R[$],rt=F[tt],nt=m.getFromId(Z,tt,"x"),ct=m.getFromId(Z,tt,"y");for(rt?q=z[tt]=rt:(q=z[tt]={}).id=tt,nt._counterAxes.push(ct._id),ct._counterAxes.push(nt._id),nt._subplotsWith.push(tt),ct._subplotsWith.push(tt),q.xaxis=nt,q.yaxis=ct,q._hasClipOnAxisFalse=!1,Q=0;Q<G.length;Q++){var st=G[Q];if(st.xaxis===q.xaxis._id&&st.yaxis===q.yaxis._id&&st.cliponaxis===!1){q._hasClipOnAxisFalse=!0;break}}}var gt,wt=m.list(Z,null,!0);for($=0;$<wt.length;$++){var Ot=null;(gt=wt[$]).overlaying&&(Ot=m.getFromId(Z,gt.overlaying))&&Ot.overlaying&&(gt.overlaying=!1,Ot=null),gt._mainAxis=Ot||gt,Ot&&(gt.domain=Ot.domain.slice()),gt._anchorAxis=gt.anchor==="free"?null:m.getFromId(Z,gt.anchor)}for($=0;$<wt.length;$++)if((gt=wt[$])._counterAxes.sort(m.idSort),gt._subplotsWith.sort(f.subplotSort),gt._mainSubplot=E(gt,Y),gt._counterAxes.length&&(gt.spikemode&&gt.spikemode.indexOf("across")!==-1||gt.automargin&&gt.mirror&&gt.anchor!=="free"||l.getComponentMethod("rangeslider","isVisible")(gt))){var bt=1,Ht=0;for(Q=0;Q<gt._counterAxes.length;Q++){var Dt=m.getFromId(Z,gt._counterAxes[Q]);bt=Math.min(bt,Dt.domain[0]),Ht=Math.max(Ht,Dt.domain[1])}bt<Ht&&(gt._counterDomainMin=bt,gt._counterDomainMax=Ht)}},x.clearExpandedTraceDefaultColors=function(G){var Y,D,U;for(D=[],(Y=G._module._colorAttrs)||(G._module._colorAttrs=Y=[],p.crawl(G._module.attributes,function($,Q,F,z){D[z]=Q,D.length=z+1,$.valType==="color"&&$.dflt===void 0&&Y.push(D.join("."))})),U=0;U<Y.length;U++)f.nestedProperty(G,"_input."+Y[U]).get()||f.nestedProperty(G,Y[U]).set(null)},x.supplyDataDefaults=function(G,Y,D,U){var $,Q,F,z=U._modules,P=U._visibleModules,Z=U._basePlotModules,R=0,q=0;function tt(yt){Y.push(yt);var ut=yt._module;ut&&(f.pushUnique(z,ut),yt.visible===!0&&f.pushUnique(P,ut),f.pushUnique(Z,yt._module.basePlotModule),R++,yt._input.visible!==!1&&q++)}U._transformModules=[];var rt={},nt=[],ct=(D.template||{}).data||{},st=d.traceTemplater(ct);for($=0;$<G.length;$++){if(F=G[$],(Q=st.newTrace(F)).uid=U._traceUids[$],x.supplyTraceDefaults(F,Q,q,U,$),Q.index=$,Q._input=F,Q._expandedIndex=R,Q.transforms&&Q.transforms.length)for(var gt=F.visible!==!1&&Q.visible===!1,wt=M(Q,Y,D,U),Ot=0;Ot<wt.length;Ot++){var bt=wt[Ot],Ht={_template:Q._template,type:Q.type,uid:Q.uid+Ot};gt&&bt.visible===!1&&delete bt.visible,x.supplyTraceDefaults(bt,Ht,R,U,$),T(Ht,bt),Ht.index=$,Ht._input=F,Ht._fullInput=Q,Ht._expandedIndex=R,Ht._expandedInput=bt,tt(Ht)}else Q._fullInput=Q,Q._expandedInput=Q,tt(Q);l.traceIs(Q,"carpetAxis")&&(rt[Q.carpet]=Q),l.traceIs(Q,"carpetDependent")&&nt.push($)}for($=0;$<nt.length;$++)if((Q=Y[nt[$]]).visible){var Dt=rt[Q.carpet];Q._carpet=Dt,Dt&&Dt.visible?(Q.xaxis=Dt.xaxis,Q.yaxis=Dt.yaxis):Q.visible=!1}},x.supplyAnimationDefaults=function(G){var Y;G=G||{};var D={};function U($,Q){return f.coerce(G||{},D,y,$,Q)}if(U("mode"),U("direction"),U("fromcurrent"),Array.isArray(G.frame))for(D.frame=[],Y=0;Y<G.frame.length;Y++)D.frame[Y]=x.supplyAnimationFrameDefaults(G.frame[Y]||{});else D.frame=x.supplyAnimationFrameDefaults(G.frame||{});if(Array.isArray(G.transition))for(D.transition=[],Y=0;Y<G.transition.length;Y++)D.transition[Y]=x.supplyAnimationTransitionDefaults(G.transition[Y]||{});else D.transition=x.supplyAnimationTransitionDefaults(G.transition||{});return D},x.supplyAnimationFrameDefaults=function(G){var Y={};function D(U,$){return f.coerce(G||{},Y,y.frame,U,$)}return D("duration"),D("redraw"),Y},x.supplyAnimationTransitionDefaults=function(G){var Y={};function D(U,$){return f.coerce(G||{},Y,y.transition,U,$)}return D("duration"),D("easing"),Y},x.supplyFrameDefaults=function(G){var Y={};function D(U,$){return f.coerce(G,Y,k,U,$)}return D("group"),D("name"),D("traces"),D("baseframe"),D("data"),D("layout"),Y},x.supplyTraceDefaults=function(G,Y,D,U,$){var Q,F=U.colorway||u.defaults,z=F[D%F.length];function P(wt,Ot){return f.coerce(G,Y,x.attributes,wt,Ot)}var Z=P("visible");P("type"),P("name",U._traceWord+" "+$),P("uirevision",U.uirevision);var R=x.getModule(Y);if(Y._module=R,R){var q=R.basePlotModule,tt=q.attr,rt=q.attributes;if(tt&&rt){var nt=U._subplots,ct="";if(Z||q.name!=="gl2d"){if(Array.isArray(tt))for(Q=0;Q<tt.length;Q++){var st=tt[Q],gt=f.coerce(G,Y,rt,st);nt[st]&&f.pushUnique(nt[st],gt),ct+=gt}else ct=f.coerce(G,Y,rt,tt);nt[q.name]&&f.pushUnique(nt[q.name],ct)}}}return Z&&(P("customdata"),P("ids"),P("meta"),l.traceIs(Y,"showLegend")?(f.coerce(G,Y,R.attributes.showlegend?R.attributes:x.attributes,"showlegend"),P("legendgroup"),P("legendgrouptitle.text")&&f.coerceFont(P,"legendgrouptitle.font",f.extendFlat({},U.font,{size:Math.round(1.1*U.font.size)})),P("legendrank"),Y._dfltShowLegend=!0):Y._dfltShowLegend=!1,R&&R.supplyDefaults(G,Y,z,U),l.traceIs(Y,"noOpacity")||P("opacity"),l.traceIs(Y,"notLegendIsolatable")&&(Y.visible=!!Y.visible),l.traceIs(Y,"noHover")||(Y.hovertemplate||f.coerceHoverinfo(G,Y,U),Y.type!=="parcats"&&l.getComponentMethod("fx","supplyDefaults")(G,Y,z,U)),R&&R.selectPoints&&P("selectedpoints"),x.supplyTransformDefaults(G,Y,U)),Y},x.hasMakesDataTransform=I,x.supplyTransformDefaults=function(G,Y,D){if(Y._length||I(G)){var U=D._globalTransforms||[],$=D._transformModules||[];if(Array.isArray(G.transforms)||U.length!==0)for(var Q=G.transforms||[],F=U.concat(Q),z=Y.transforms=[],P=0;P<F.length;P++){var Z,R=F[P],q=R.type,tt=O[q],rt=!(R._module&&R._module===tt),nt=tt&&typeof tt.transform=="function";tt||f.warn("Unrecognized transform type "+q+"."),tt&&tt.supplyDefaults&&(rt||nt)?((Z=tt.supplyDefaults(R,Y,D,G)).type=q,Z._module=tt,f.pushUnique($,tt)):Z=f.extendFlat({},R),z.push(Z)}}},x.supplyLayoutGlobalDefaults=function(G,Y,D){function U(z,P){return f.coerce(G,Y,x.layoutAttributes,z,P)}var $=G.template;f.isPlainObject($)&&(Y.template=$,Y._template=$.layout,Y._dataTemplate=$.data),U("autotypenumbers");var Q=f.coerceFont(U,"font");U("title.text",Y._dfltTitle.plot),f.coerceFont(U,"title.font",{family:Q.family,size:Math.round(1.4*Q.size),color:Q.color}),U("title.xref"),U("title.yref"),U("title.x"),U("title.y"),U("title.xanchor"),U("title.yanchor"),U("title.pad.t"),U("title.pad.r"),U("title.pad.b"),U("title.pad.l"),U("uniformtext.mode")&&U("uniformtext.minsize"),U("autosize",!(G.width&&G.height)),U("width"),U("height"),U("margin.l"),U("margin.r"),U("margin.t"),U("margin.b"),U("margin.pad"),U("margin.autoexpand"),G.width&&G.height&&x.sanitizeMargins(Y),l.getComponentMethod("grid","sizeDefaults")(G,Y),U("paper_bgcolor"),U("separators",D.decimal+D.thousands),U("hidesources"),U("colorway"),U("datarevision");var F=U("uirevision");U("editrevision",F),U("selectionrevision",F),l.getComponentMethod("modebar","supplyLayoutDefaults")(G,Y),l.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(G,Y,U),U("meta"),f.isPlainObject(G.transition)&&(U("transition.duration"),U("transition.easing"),U("transition.ordering")),l.getComponentMethod("calendars","handleDefaults")(G,Y,"calendar"),l.getComponentMethod("fx","supplyLayoutGlobalDefaults")(G,Y,U)},x.plotAutoSize=function(G,Y,D){var U,$,Q=G._context||{},F=Q.frameMargins,z=f.isPlotDiv(G);if(z&&G.emit("plotly_autosize"),Q.fillFrame)U=window.innerWidth,$=window.innerHeight,document.body.style.overflow="hidden";else{var P=z?window.getComputedStyle(G):{};if(U=V(P.width)||V(P.maxWidth)||D.width,$=V(P.height)||V(P.maxHeight)||D.height,i(F)&&F>0){var Z=1-2*F;U=Math.round(Z*U),$=Math.round(Z*$)}}var R=x.layoutAttributes.width.min,q=x.layoutAttributes.height.min;U<R&&(U=R),$<q&&($=q);var tt=!Y.width&&Math.abs(D.width-U)>1,rt=!Y.height&&Math.abs(D.height-$)>1;(rt||tt)&&(tt&&(D.width=U),rt&&(D.height=$)),G._initialAutoSize||(G._initialAutoSize={width:U,height:$}),x.sanitizeMargins(D)},x.supplyLayoutModuleDefaults=function(G,Y,D,U){var $,Q,F,z=l.componentsRegistry,P=Y._basePlotModules,Z=l.subplotsRegistry.cartesian;for($ in z)(F=z[$]).includeBasePlot&&F.includeBasePlot(G,Y);for(var R in P.length||P.push(Z),Y._has("cartesian")&&(l.getComponentMethod("grid","contentDefaults")(G,Y),Z.finalizeSubplots(G,Y)),Y._subplots)Y._subplots[R].sort(f.subplotSort);for(Q=0;Q<P.length;Q++)(F=P[Q]).supplyLayoutDefaults&&F.supplyLayoutDefaults(G,Y,D);var q=Y._modules;for(Q=0;Q<q.length;Q++)(F=q[Q]).supplyLayoutDefaults&&F.supplyLayoutDefaults(G,Y,D);var tt=Y._transformModules;for(Q=0;Q<tt.length;Q++)(F=tt[Q]).supplyLayoutDefaults&&F.supplyLayoutDefaults(G,Y,D,U);for($ in z)(F=z[$]).supplyLayoutDefaults&&F.supplyLayoutDefaults(G,Y,D)},x.purge=function(G){var Y=G._fullLayout||{};Y._glcontainer!==void 0&&(Y._glcontainer.selectAll(".gl-canvas").remove(),Y._glcontainer.remove(),Y._glcanvas=null),Y._modeBar&&Y._modeBar.destroy(),G._transitionData&&(G._transitionData._interruptCallbacks&&(G._transitionData._interruptCallbacks.length=0),G._transitionData._animationRaf&&window.cancelAnimationFrame(G._transitionData._animationRaf)),f.clearThrottle(),f.clearResponsive(G),delete G.data,delete G.layout,delete G._fullData,delete G._fullLayout,delete G.calcdata,delete G.empty,delete G.fid,delete G.undoqueue,delete G.undonum,delete G.autoplay,delete G.changed,delete G._promises,delete G._redrawTimer,delete G._hmlumcount,delete G._hmpixcount,delete G._transitionData,delete G._transitioning,delete G._initialAutoSize,delete G._transitioningWithDuration,delete G._dragging,delete G._dragged,delete G._dragdata,delete G._hoverdata,delete G._snapshotInProgress,delete G._editing,delete G._mouseDownTime,delete G._legendMouseDownTime,G.removeAllListeners&&G.removeAllListeners()},x.style=function(G){var Y,D=G._fullLayout._visibleModules,U=[];for(Y=0;Y<D.length;Y++){var $=D[Y];$.style&&f.pushUnique(U,$.style)}for(Y=0;Y<U.length;Y++)U[Y](G)},x.sanitizeMargins=function(G){if(G&&G.margin){var Y,D=G.width,U=G.height,$=G.margin,Q=D-($.l+$.r),F=U-($.t+$.b);Q<0&&(Y=(D-1)/($.l+$.r),$.l=Math.floor(Y*$.l),$.r=Math.floor(Y*$.r)),F<0&&(Y=(U-1)/($.t+$.b),$.t=Math.floor(Y*$.t),$.b=Math.floor(Y*$.b))}},x.clearAutoMarginIds=function(G){G._fullLayout._pushmarginIds={}},x.allowAutoMargin=function(G,Y){G._fullLayout._pushmarginIds[Y]=1},x.autoMargin=function(G,Y,D){var U=G._fullLayout,$=U.width,Q=U.height,F=U.margin,z=f.constrain($-F.l-F.r,2,64),P=f.constrain(Q-F.t-F.b,2,64),Z=Math.max(0,$-z),R=Math.max(0,Q-P),q=U._pushmargin,tt=U._pushmarginIds;if(F.autoexpand!==!1){if(D){var rt=D.pad;if(rt===void 0&&(rt=Math.min(12,F.l,F.r,F.t,F.b)),Z){var nt=(D.l+D.r)/Z;nt>1&&(D.l/=nt,D.r/=nt)}if(R){var ct=(D.t+D.b)/R;ct>1&&(D.t/=ct,D.b/=ct)}var st=D.xl!==void 0?D.xl:D.x,gt=D.xr!==void 0?D.xr:D.x,wt=D.yt!==void 0?D.yt:D.y,Ot=D.yb!==void 0?D.yb:D.y;q[Y]={l:{val:st,size:D.l+rt},r:{val:gt,size:D.r+rt},b:{val:Ot,size:D.b+rt},t:{val:wt,size:D.t+rt}},tt[Y]=1}else delete q[Y],delete tt[Y];if(!U._replotting)return x.doAutoMargin(G)}},x.doAutoMargin=function(G){var Y=G._fullLayout,D=Y.width,U=Y.height;Y._size||(Y._size={}),j(Y);var $=Y._size,Q=Y.margin,F=f.extendFlat({},$),z=Q.l,P=Q.r,Z=Q.t,R=Q.b,q=Y._pushmargin,tt=Y._pushmarginIds;if(Y.margin.autoexpand!==!1){for(var rt in q)tt[rt]||delete q[rt];for(var nt in q.base={l:{val:0,size:z},r:{val:1,size:P},t:{val:1,size:Z},b:{val:0,size:R}},q){var ct=q[nt].l||{},st=q[nt].b||{},gt=ct.val,wt=ct.size,Ot=st.val,bt=st.size;for(var Ht in q){if(i(wt)&&q[Ht].r){var Dt=q[Ht].r.val,yt=q[Ht].r.size;if(Dt>gt){var ut=(wt*Dt+(yt-D)*gt)/(Dt-gt),it=(yt*(1-gt)+(wt-D)*(1-Dt))/(Dt-gt);ut+it>z+P&&(z=ut,P=it)}}if(i(bt)&&q[Ht].t){var dt=q[Ht].t.val,mt=q[Ht].t.size;if(dt>Ot){var Et=(bt*dt+(mt-U)*Ot)/(dt-Ot),Mt=(mt*(1-Ot)+(bt-U)*(1-dt))/(dt-Ot);Et+Mt>R+Z&&(R=Et,Z=Mt)}}}}}var Tt=f.constrain(D-Q.l-Q.r,2,64),Nt=f.constrain(U-Q.t-Q.b,2,64),zt=Math.max(0,D-Tt),At=Math.max(0,U-Nt);if(zt){var Ct=(z+P)/zt;Ct>1&&(z/=Ct,P/=Ct)}if(At){var qt=(R+Z)/At;qt>1&&(R/=qt,Z/=qt)}if($.l=Math.round(z),$.r=Math.round(P),$.t=Math.round(Z),$.b=Math.round(R),$.p=Math.round(Q.pad),$.w=Math.round(D)-$.l-$.r,$.h=Math.round(U)-$.t-$.b,!Y._replotting&&x.didMarginChange(F,$)){"_redrawFromAutoMarginCount"in Y?Y._redrawFromAutoMarginCount++:Y._redrawFromAutoMarginCount=1;var St=3*(1+Object.keys(tt).length);if(Y._redrawFromAutoMarginCount<St)return l.call("_doPlot",G);Y._size=F,f.warn("Too many auto-margin redraws.")}(function($t){var Zt=m.list($t,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Yt){for(var re=0;re<Zt.length;re++){var Qt=Zt[re][Yt];Qt&&Qt()}})})(G)};var W=["l","r","t","b","p","w","h"];function H(G,Y,D){var U=!1,$=[x.previousPromises,function(){if(G._transitionData)return G._transitioning=!1,function(F){var z=Promise.resolve();if(!F)return z;for(;F.length;)z=z.then(F.shift());return z}(G._transitionData._interruptCallbacks)},D.prepareFn,x.rehover,function(){return G.emit("plotly_transitioning",[]),new Promise(function(F){G._transitioning=!0,Y.duration>0&&(G._transitioningWithDuration=!0),G._transitionData._interruptCallbacks.push(function(){U=!0}),D.redraw&&G._transitionData._interruptCallbacks.push(function(){return l.call("redraw",G)}),G._transitionData._interruptCallbacks.push(function(){G.emit("plotly_transitioninterrupted",[])});var z=0,P=0;function Z(){return z++,function(){P++,U||P!==z||function(R){!G._transitionData||(function(q){if(q)for(;q.length;)q.shift()}(G._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(D.redraw)return l.call("redraw",G)}).then(function(){G._transitioning=!1,G._transitioningWithDuration=!1,G.emit("plotly_transitioned",[])}).then(R))}(F)}}D.runFn(Z),setTimeout(Z())})}],Q=f.syncOrAsync($,G);return Q&&Q.then||(Q=Promise.resolve()),Q.then(function(){return G})}x.didMarginChange=function(G,Y){for(var D=0;D<W.length;D++){var U=W[D],$=G[U],Q=Y[U];if(!i($)||Math.abs(Q-$)>1)return!0}return!1},x.graphJson=function(G,Y,D,U,$,Q){($&&Y&&!G._fullData||$&&!Y&&!G._fullLayout)&&x.supplyDefaults(G);var F=$?G._fullData:G.data,z=$?G._fullLayout:G.layout,P=(G._transitionData||{})._frames;function Z(tt,rt){if(typeof tt=="function")return rt?"_function_":null;if(f.isPlainObject(tt)){var nt,ct={};return Object.keys(tt).sort().forEach(function(st){if(["_","["].indexOf(st.charAt(0))===-1)if(typeof tt[st]!="function"){if(D==="keepdata"){if(st.substr(st.length-3)==="src")return}else if(D==="keepstream"){if(typeof(nt=tt[st+"src"])=="string"&&nt.indexOf(":")>0&&!f.isPlainObject(tt.stream))return}else if(D!=="keepall"&&typeof(nt=tt[st+"src"])=="string"&&nt.indexOf(":")>0)return;ct[st]=Z(tt[st],rt)}else rt&&(ct[st]="_function")}),ct}return Array.isArray(tt)?tt.map(function(st){return Z(st,rt)}):f.isTypedArray(tt)?f.simpleMap(tt,f.identity):f.isJSDate(tt)?f.ms2DateTimeLocal(+tt):tt}var R={data:(F||[]).map(function(tt){var rt=Z(tt);return Y&&delete rt.fit,rt})};if(!Y&&(R.layout=Z(z),$)){var q=z._size;R.layout.computed={margin:{b:q.b,l:q.l,r:q.r,t:q.t}}}return P&&(R.frames=Z(P)),Q&&(R.config=Z(G._context,!0)),U==="object"?R:JSON.stringify(R)},x.modifyFrames=function(G,Y){var D,U,$,Q=G._transitionData._frames,F=G._transitionData._frameHash;for(D=0;D<Y.length;D++)switch((U=Y[D]).type){case"replace":$=U.value;var z=(Q[U.index]||{}).name,P=$.name;Q[U.index]=F[P]=$,P!==z&&(delete F[z],F[P]=$);break;case"insert":F[($=U.value).name]=$,Q.splice(U.index,0,$);break;case"delete":delete F[($=Q[U.index]).name],Q.splice(U.index,1)}return Promise.resolve()},x.computeFrame=function(G,Y){var D,U,$,Q,F=G._transitionData._frameHash;if(!Y)throw new Error("computeFrame must be given a string frame name");var z=F[Y.toString()];if(!z)return!1;for(var P=[z],Z=[z.name];z.baseframe&&(z=F[z.baseframe.toString()])&&Z.indexOf(z.name)===-1;)P.push(z),Z.push(z.name);for(var R={};z=P.pop();)if(z.layout&&(R.layout=x.extendLayout(R.layout,z.layout)),z.data){if(R.data||(R.data=[]),!(U=z.traces))for(U=[],D=0;D<z.data.length;D++)U[D]=D;for(R.traces||(R.traces=[]),D=0;D<z.data.length;D++)($=U[D])!=null&&((Q=R.traces.indexOf($))===-1&&(Q=R.data.length,R.traces[Q]=$),R.data[Q]=x.extendTrace(R.data[Q],z.data[D]))}return R},x.recomputeFrameHash=function(G){for(var Y=G._transitionData._frameHash={},D=G._transitionData._frames,U=0;U<D.length;U++){var $=D[U];$&&$.name&&(Y[$.name]=$)}},x.extendObjectWithContainers=function(G,Y,D){var U,$,Q,F,z,P,Z,R=f.extendDeepNoArrays({},Y||{}),q=f.expandObjectPaths(R),tt={};if(D&&D.length)for(Q=0;Q<D.length;Q++)($=(U=f.nestedProperty(q,D[Q])).get())===void 0?f.nestedProperty(tt,D[Q]).set(null):(U.set(null),f.nestedProperty(tt,D[Q]).set($));if(G=f.extendDeepNoArrays(G||{},q),D&&D.length){for(Q=0;Q<D.length;Q++)if(P=f.nestedProperty(tt,D[Q]).get()){for(Z=(z=f.nestedProperty(G,D[Q])).get(),Array.isArray(Z)||(Z=[],z.set(Z)),F=0;F<P.length;F++){var rt=P[F];Z[F]=rt===null?null:x.extendObjectWithContainers(Z[F],rt)}z.set(Z)}}return G},x.dataArrayContainers=["transforms","dimensions"],x.layoutArrayContainers=l.layoutArrayContainers,x.extendTrace=function(G,Y){return x.extendObjectWithContainers(G,Y,x.dataArrayContainers)},x.extendLayout=function(G,Y){return x.extendObjectWithContainers(G,Y,x.layoutArrayContainers)},x.transition=function(G,Y,D,U,$,Q){var F={redraw:$.redraw},z={},P=[];return F.prepareFn=function(){for(var Z=Array.isArray(Y)?Y.length:0,R=U.slice(0,Z),q=0;q<R.length;q++){var tt=R[q],rt=G._fullData[tt]._module;if(rt){if(rt.animatable){var nt=rt.basePlotModule.name;z[nt]||(z[nt]=[]),z[nt].push(tt)}G.data[R[q]]=x.extendTrace(G.data[R[q]],Y[q])}}var ct=f.expandObjectPaths(f.extendDeepNoArrays({},D)),st=/^[xy]axis[0-9]*$/;for(var gt in ct)st.test(gt)&&delete ct[gt].range;x.extendLayout(G.layout,ct),delete G.calcdata,x.supplyDefaults(G),x.doCalcdata(G);var wt=f.expandObjectPaths(D);if(wt){var Ot=G._fullLayout._plots;for(var bt in Ot){var Ht=Ot[bt],Dt=Ht.xaxis,yt=Ht.yaxis,ut=Dt.range.slice(),it=yt.range.slice(),dt=null,mt=null,Et=null,Mt=null;Array.isArray(wt[Dt._name+".range"])?dt=wt[Dt._name+".range"].slice():Array.isArray((wt[Dt._name]||{}).range)&&(dt=wt[Dt._name].range.slice()),Array.isArray(wt[yt._name+".range"])?mt=wt[yt._name+".range"].slice():Array.isArray((wt[yt._name]||{}).range)&&(mt=wt[yt._name].range.slice()),ut&&dt&&(Dt.r2l(ut[0])!==Dt.r2l(dt[0])||Dt.r2l(ut[1])!==Dt.r2l(dt[1]))&&(Et={xr0:ut,xr1:dt}),it&&mt&&(yt.r2l(it[0])!==yt.r2l(mt[0])||yt.r2l(it[1])!==yt.r2l(mt[1]))&&(Mt={yr0:it,yr1:mt}),(Et||Mt)&&P.push(f.extendFlat({plotinfo:Ht},Et,Mt))}}return Promise.resolve()},F.runFn=function(Z){var R,q,tt=G._fullLayout._basePlotModules,rt=P.length;if(D)for(q=0;q<tt.length;q++)tt[q].transitionAxes&&tt[q].transitionAxes(G,P,Q,Z);for(var nt in rt?((R=f.extendFlat({},Q)).duration=0,delete z.cartesian):R=Q,z){var ct=z[nt];G._fullData[ct[0]]._module.basePlotModule.plot(G,ct,R,Z)}},H(G,Q,F)},x.transitionFromReact=function(G,Y,D,U){var $=G._fullLayout,Q=$.transition,F={},z=[];return F.prepareFn=function(){var P=$._plots;for(var Z in F.redraw=!1,Y.anim==="some"&&(F.redraw=!0),D.anim==="some"&&(F.redraw=!0),P){var R=P[Z],q=R.xaxis,tt=R.yaxis,rt=U[q._name].range.slice(),nt=U[tt._name].range.slice(),ct=q.range.slice(),st=tt.range.slice();q.setScale(),tt.setScale();var gt=null,wt=null;q.r2l(rt[0])===q.r2l(ct[0])&&q.r2l(rt[1])===q.r2l(ct[1])||(gt={xr0:rt,xr1:ct}),tt.r2l(nt[0])===tt.r2l(st[0])&&tt.r2l(nt[1])===tt.r2l(st[1])||(wt={yr0:nt,yr1:st}),(gt||wt)&&z.push(f.extendFlat({plotinfo:R},gt,wt))}return Promise.resolve()},F.runFn=function(P){for(var Z,R,q,tt=G._fullData,rt=G._fullLayout._basePlotModules,nt=[],ct=0;ct<tt.length;ct++)nt.push(ct);function st(){if(G._fullLayout)for(var wt=0;wt<rt.length;wt++)rt[wt].transitionAxes&&rt[wt].transitionAxes(G,z,Z,P)}function gt(){if(G._fullLayout)for(var wt=0;wt<rt.length;wt++)rt[wt].plot(G,q,R,P)}z.length&&Y.anim?Q.ordering==="traces first"?(Z=f.extendFlat({},Q,{duration:0}),q=nt,R=Q,setTimeout(st,Q.duration),gt()):(Z=Q,q=null,R=f.extendFlat({},Q,{duration:0}),setTimeout(gt,Z.duration),st()):z.length?(Z=Q,st()):Y.anim&&(q=nt,R=Q,gt())},H(G,Q,F)},x.doCalcdata=function(G,Y){var D,U,$,Q,F=m.list(G),z=G._fullData,P=G._fullLayout,Z=new Array(z.length),R=(G.calcdata||[]).slice();for(G.calcdata=Z,P._numBoxes=0,P._numViolins=0,P._violinScaleGroupStats={},G._hmpixcount=0,G._hmlumcount=0,P._piecolormap={},P._sunburstcolormap={},P._treemapcolormap={},P._iciclecolormap={},P._funnelareacolormap={},$=0;$<z.length;$++)Array.isArray(Y)&&Y.indexOf($)===-1&&(Z[$]=R[$]);for($=0;$<z.length;$++)(D=z[$])._arrayAttrs=p.findArrayAttributes(D),D._extremes={};var q=P._subplots.polar||[];for($=0;$<q.length;$++)F.push(P[q[$]].radialaxis,P[q[$]].angularaxis);for(var tt in P._colorAxes){var rt=P[tt];rt.cauto!==!1&&(delete rt.cmin,delete rt.cmax)}var nt=!1;function ct(wt){if(D=z[wt],U=D._module,D.visible===!0&&D.transforms){if(U&&U.calc){var Ot=U.calc(G,D);Ot[0]&&Ot[0].t&&Ot[0].t._scene&&delete Ot[0].t._scene.dirty}for(Q=0;Q<D.transforms.length;Q++){var bt=D.transforms[Q];(U=O[bt.type])&&U.calcTransform&&(D._hasCalcTransform=!0,nt=!0,U.calcTransform(G,D,bt))}}}function st(wt,Ot){if(D=z[wt],!!(U=D._module).isContainer===Ot){var bt=[];if(D.visible===!0&&D._length!==0){delete D._indexToPoints;var Ht=D.transforms||[];for(Q=Ht.length-1;Q>=0;Q--)if(Ht[Q].enabled){D._indexToPoints=Ht[Q]._indexToPoints;break}U&&U.calc&&(bt=U.calc(G,D))}Array.isArray(bt)&&bt[0]||(bt=[{x:h,y:h}]),bt[0].t||(bt[0].t={}),bt[0].trace=D,Z[wt]=bt}}for(K(F,z,P),$=0;$<z.length;$++)st($,!0);for($=0;$<z.length;$++)ct($);for(nt&&K(F,z,P),$=0;$<z.length;$++)st($,!0);for($=0;$<z.length;$++)st($,!1);et(G);var gt=function(wt,Ot){var bt,Ht,Dt,yt,ut,it=[];function dt(Pt,It,Rt){var Vt=It._id.charAt(0);if(Pt==="histogram2dcontour"){var Jt=It._counterAxes[0],ae=m.getFromId(Ot,Jt),ce=Vt==="x"||Jt==="x"&&ae.type==="category",le=Vt==="y"||Jt==="y"&&ae.type==="category";return function(se,pe){return se===0||pe===0||ce&&se===Rt[pe].length-1||le&&pe===Rt.length-1?-1:(Vt==="y"?pe:se)-1}}return function(se,pe){return Vt==="y"?pe:se}}var mt={min:function(Pt){return f.aggNums(Math.min,null,Pt)},max:function(Pt){return f.aggNums(Math.max,null,Pt)},sum:function(Pt){return f.aggNums(function(It,Rt){return It+Rt},null,Pt)},total:function(Pt){return f.aggNums(function(It,Rt){return It+Rt},null,Pt)},mean:function(Pt){return f.mean(Pt)},median:function(Pt){return f.median(Pt)}};for(bt=0;bt<wt.length;bt++){var Et=wt[bt];if(Et.type==="category"){var Mt=Et.categoryorder.match(B);if(Mt){var Tt=Mt[1],Nt=Mt[2],zt=Et._id.charAt(0),At=zt==="x",Ct=[];for(Ht=0;Ht<Et._categories.length;Ht++)Ct.push([Et._categories[Ht],[]]);for(Ht=0;Ht<Et._traceIndices.length;Ht++){var qt=Et._traceIndices[Ht],St=Ot._fullData[qt];if(St.visible===!0){var $t=St.type;l.traceIs(St,"histogram")&&(delete St._xautoBinFinished,delete St._yautoBinFinished);var Zt=$t==="splom",Yt=$t==="scattergl",re=Ot.calcdata[qt];for(Dt=0;Dt<re.length;Dt++){var Qt,xt,kt=re[Dt];if(Zt){var Bt=St._axesDim[Et._id];if(!At){var ie=St._diag[Bt][0];ie&&(Et=Ot._fullLayout[m.id2name(ie)])}var ye=kt.trace.dimensions[Bt].values;for(yt=0;yt<ye.length;yt++)for(Qt=Et._categoriesMap[ye[yt]],ut=0;ut<kt.trace.dimensions.length;ut++)if(ut!==Bt){var ot=kt.trace.dimensions[ut];Ct[Qt][1].push(ot.values[yt])}}else if(Yt){for(yt=0;yt<kt.t.x.length;yt++)At?(Qt=kt.t.x[yt],xt=kt.t.y[yt]):(Qt=kt.t.y[yt],xt=kt.t.x[yt]),Ct[Qt][1].push(xt);kt.t&&kt.t._scene&&delete kt.t._scene.dirty}else if(kt.hasOwnProperty("z")){xt=kt.z;var ft=dt(St.type,Et,xt);for(yt=0;yt<xt.length;yt++)for(ut=0;ut<xt[yt].length;ut++)(Qt=ft(ut,yt))+1&&Ct[Qt][1].push(xt[yt][ut])}else for((Qt=kt.p)===void 0&&(Qt=kt[zt]),(xt=kt.s)===void 0&&(xt=kt.v),xt===void 0&&(xt=At?kt.y:kt.x),Array.isArray(xt)||(xt=xt===void 0?[]:[xt]),yt=0;yt<xt.length;yt++)Ct[Qt][1].push(xt[yt])}}}Et._categoriesValue=Ct;var Lt=[];for(Ht=0;Ht<Ct.length;Ht++)Lt.push([Ct[Ht][0],mt[Tt](Ct[Ht][1])]);Lt.sort(function(Pt,It){return Pt[1]-It[1]}),Et._categoriesAggregatedValue=Lt,Et._initialCategories=Lt.map(function(Pt){return Pt[0]}),Nt==="descending"&&Et._initialCategories.reverse(),it=it.concat(Et.sortByInitialCategories())}}}return it}(F,G);if(gt.length){for(P._numBoxes=0,P._numViolins=0,$=0;$<gt.length;$++)st(gt[$],!0);for($=0;$<gt.length;$++)st(gt[$],!1);et(G)}l.getComponentMethod("fx","calc")(G),l.getComponentMethod("errorbars","calc")(G)};var B=/(total|sum|min|max|mean|median) (ascending|descending)/;function K(G,Y,D){var U={};function $(P){P.clearCalc(),P.type==="multicategory"&&P.setupMultiCategory(Y),U[P._id]=1}f.simpleMap(G,$);for(var Q=D._axisMatchGroups||[],F=0;F<Q.length;F++)for(var z in Q[F])U[z]||$(D[m.id2name(z)])}function et(G){var Y,D,U,$=G._fullLayout,Q=$._visibleModules,F={};for(D=0;D<Q.length;D++){var z=Q[D],P=z.crossTraceCalc;if(P){var Z=z.basePlotModule.name;F[Z]?f.pushUnique(F[Z],P):F[Z]=[P]}}for(U in F){var R=F[U],q=$._subplots[U];if(Array.isArray(q))for(Y=0;Y<q.length;Y++){var tt=q[Y],rt=U==="cartesian"?$._plots[tt]:$[tt];for(D=0;D<R.length;D++)R[D](G,rt,tt)}else for(D=0;D<R.length;D++)R[D](G)}}x.rehover=function(G){G._fullLayout._rehover&&G._fullLayout._rehover()},x.redrag=function(G){G._fullLayout._redrag&&G._fullLayout._redrag()},x.generalUpdatePerTraceModule=function(G,Y,D,U){var $,Q=Y.traceHash,F={};for($=0;$<D.length;$++){var z=D[$],P=z[0].trace;P.visible&&(F[P.type]=F[P.type]||[],F[P.type].push(z))}for(var Z in Q)if(!F[Z]){var R=Q[Z][0];R[0].trace.visible=!1,F[Z]=[R]}for(var q in F){var tt=F[q];tt[0][0].trace._module.plot(G,Y,f.filterVisible(tt),U)}Y.traceHash=F},x.plotBasePlot=function(G,Y,D,U,$){var Q=l.getModule(G),F=_(Y.calcdata,Q)[0];Q.plot(Y,F,U,$)},x.cleanBasePlot=function(G,Y,D,U,$){var Q=$._has&&$._has(G),F=D._has&&D._has(G);Q&&!F&&$["_"+G+"layer"].selectAll("g.trace").remove()}},{"../components/color":102,"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plot_api/plot_template":268,"../plots/get_data":310,"../registry":316,"./animation_attributes":273,"./attributes":275,"./cartesian/axis_ids":283,"./cartesian/handle_outline":290,"./command":306,"./font_attributes":308,"./frame_attributes":309,"./layout_attributes":312,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],315:[function(t,s,c){var n=t("../constants/docs");n.FORMAT_LINK,n.DATE_FORMAT_LINK;function a(o){var i=o.description?" "+o.description:"",l=o.keys||[];if(l.length>0){for(var p=[],d=0;d<l.length;d++)p[d]="`"+l[d]+"`";i+="Finally, the template string has access to ",i=l.length===1?"variable "+p[0]:"variables "+p.slice(0,-1).join(", ")+" and "+p.slice(-1)+"."}return i}c.hovertemplateAttrs=function(o,i){o=o||{},a(i=i||{});var l={valType:"string",dflt:"",editType:o.editType||"none"};return o.arrayOk!==!1&&(l.arrayOk=!0),l},c.texttemplateAttrs=function(o,i){o=o||{},a(i=i||{});var l={valType:"string",dflt:"",editType:o.editType||"calc"};return o.arrayOk!==!1&&(l.arrayOk=!0),l}},{"../constants/docs":209}],316:[function(t,s,c){var n=t("./lib/loggers"),a=t("./lib/noop"),o=t("./lib/push_unique"),i=t("./lib/is_plain_object"),l=t("./lib/dom").addStyleRule,p=t("./lib/extend"),d=t("./plots/attributes"),f=t("./plots/layout_attributes"),u=p.extendFlat,h=p.extendDeepAll;function m(A){var C=A.name,L=A.categories,w=A.meta;if(c.modules[C])n.log("Type "+C+" already registered");else{c.subplotsRegistry[A.basePlotModule.name]||function(B){var K=B.name;if(c.subplotsRegistry[K])return void n.log("Plot type "+K+" already registered.");for(var et in _(B),c.subplotsRegistry[K]=B,c.componentsRegistry)x(et,B.name)}(A.basePlotModule);for(var E={},I=0;I<L.length;I++)E[L[I]]=!0,c.allCategories[L[I]]=!0;for(var M in c.modules[C]={_module:A,categories:E},w&&Object.keys(w).length&&(c.modules[C].meta=w),c.allTypes.push(C),c.componentsRegistry)T(M,C);A.layoutAttributes&&u(c.traceLayoutAttributes,A.layoutAttributes);var V=A.basePlotModule,j=V.name;if(j==="mapbox"){var W=V.constants.styleRules;for(var H in W)l(".js-plotly-plot .plotly .mapboxgl-"+H,W[H])}j!=="geo"&&j!=="mapbox"||typeof window===void 0||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function v(A){if(typeof A.name!="string")throw new Error("Component module *name* must be a string.");var C=A.name;for(var L in c.componentsRegistry[C]=A,A.layoutAttributes&&(A.layoutAttributes._isLinkedToArray&&o(c.layoutArrayContainers,C),_(A)),c.modules)T(C,L);for(var w in c.subplotsRegistry)x(C,w);for(var E in c.transformsRegistry)b(C,E);A.schema&&A.schema.layout&&h(f,A.schema.layout)}function y(A){if(typeof A.name!="string")throw new Error("Transform module *name* must be a string.");var C="Transform module "+A.name,L=typeof A.transform=="function",w=typeof A.calcTransform=="function";if(!L&&!w)throw new Error(C+" is missing a *transform* or *calcTransform* method.");for(var E in L&&w&&n.log([C+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),i(A.attributes)||n.log(C+" registered without an *attributes* object."),typeof A.supplyDefaults!="function"&&n.log(C+" registered without a *supplyDefaults* method."),c.transformsRegistry[A.name]=A,c.componentsRegistry)b(E,A.name)}function k(A){var C=A.name,L=C.split("-")[0],w=A.dictionary,E=A.format,I=w&&Object.keys(w).length,M=E&&Object.keys(E).length,V=c.localeRegistry,j=V[C];if(j||(V[C]=j={}),L!==C){var W=V[L];W||(V[L]=W={}),I&&W.dictionary===j.dictionary&&(W.dictionary=w),M&&W.format===j.format&&(W.format=E)}I&&(j.dictionary=w),M&&(j.format=E)}function _(A){if(A.layoutAttributes){var C=A.layoutAttributes._arrayAttrRegexps;if(C)for(var L=0;L<C.length;L++)o(c.layoutArrayRegexes,C[L])}}function T(A,C){var L=c.componentsRegistry[A].schema;if(L&&L.traces){var w=L.traces[C];w&&h(c.modules[C]._module.attributes,w)}}function b(A,C){var L=c.componentsRegistry[A].schema;if(L&&L.transforms){var w=L.transforms[C];w&&h(c.transformsRegistry[C].attributes,w)}}function x(A,C){var L=c.componentsRegistry[A].schema;if(L&&L.subplots){var w=c.subplotsRegistry[C],E=w.layoutAttributes,I=w.attr==="subplot"?w.name:w.attr;Array.isArray(I)&&(I=I[0]);var M=L.subplots[I];E&&M&&h(E,M)}}function O(A){return typeof A=="object"&&(A=A.type),A}c.modules={},c.allCategories={},c.allTypes=[],c.subplotsRegistry={},c.transformsRegistry={},c.componentsRegistry={},c.layoutArrayContainers=[],c.layoutArrayRegexes=[],c.traceLayoutAttributes={},c.localeRegistry={},c.apiMethodRegistry={},c.collectableSubplotTypes=null,c.register=function(A){if(c.collectableSubplotTypes=null,!A)throw new Error("No argument passed to Plotly.register.");A&&!Array.isArray(A)&&(A=[A]);for(var C=0;C<A.length;C++){var L=A[C];if(!L)throw new Error("Invalid module was attempted to be registered!");switch(L.moduleType){case"trace":m(L);break;case"transform":y(L);break;case"component":v(L);break;case"locale":k(L);break;case"apiMethod":var w=L.name;c.apiMethodRegistry[w]=L.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},c.getModule=function(A){var C=c.modules[O(A)];return!!C&&C._module},c.traceIs=function(A,C){if((A=O(A))==="various")return!1;var L=c.modules[A];return L||(A&&n.log("Unrecognized trace type "+A+"."),L=c.modules[d.type.dflt]),!!L.categories[C]},c.getTransformIndices=function(A,C){for(var L=[],w=A.transforms||[],E=0;E<w.length;E++)w[E].type===C&&L.push(E);return L},c.hasTransform=function(A,C){for(var L=A.transforms||[],w=0;w<L.length;w++)if(L[w].type===C)return!0;return!1},c.getComponentMethod=function(A,C){var L=c.componentsRegistry[A];return L&&L[C]||a},c.call=function(){var A=arguments[0],C=[].slice.call(arguments,1);return c.apiMethodRegistry[A].apply(null,C)}},{"./lib/dom":224,"./lib/extend":226,"./lib/is_plain_object":233,"./lib/loggers":236,"./lib/noop":241,"./lib/push_unique":246,"./plots/attributes":275,"./plots/layout_attributes":312}],317:[function(t,s,c){var n=t("../registry"),a=t("../lib"),o=a.extendFlat,i=a.extendDeep;function l(p){var d;switch(p){case"themes__thumb":d={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":d={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:d={}}return d}s.exports=function(p,d){var f,u,h=p.data,m=p.layout,v=i([],h),y=i({},m,l(d.tileClass)),k=p._context||{};if(d.width&&(y.width=d.width),d.height&&(y.height=d.height),d.tileClass==="thumbnail"||d.tileClass==="themes__thumb"){y.annotations=[];var _=Object.keys(y);for(f=0;f<_.length;f++)u=_[f],["xaxis","yaxis","zaxis"].indexOf(u.slice(0,5))>-1&&(y[_[f]].title={text:""});for(f=0;f<v.length;f++){var T=v[f];T.showscale=!1,T.marker&&(T.marker.showscale=!1),n.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(d.annotations))for(f=0;f<d.annotations.length;f++)y.annotations.push(d.annotations[f]);var b=Object.keys(y).filter(function(L){return L.match(/^scene\d*$/)});if(b.length){var x={};for(d.tileClass==="thumbnail"&&(x={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),f=0;f<b.length;f++){var O=y[b[f]];O.xaxis||(O.xaxis={}),O.yaxis||(O.yaxis={}),O.zaxis||(O.zaxis={}),o(O.xaxis,x),o(O.yaxis,x),o(O.zaxis,x),O._scene=null}}var A=document.createElement("div");d.tileClass&&(A.className=d.tileClass);var C={gd:A,td:A,layout:y,data:v,config:{staticPlot:d.staticPlot===void 0||d.staticPlot,plotGlPixelRatio:d.plotGlPixelRatio===void 0?2:d.plotGlPixelRatio,displaylogo:d.displaylogo||!1,showLink:d.showLink||!1,showTips:d.showTips||!1,mapboxAccessToken:k.mapboxAccessToken}};return d.setBackground!=="transparent"&&(C.config.setBackground=d.setBackground||"opaque"),C.gd.defaultLayout=l(d.tileClass),C}},{"../lib":232,"../registry":316}],318:[function(t,s,c){var n=t("../lib"),a=t("../plot_api/to_image"),o=t("./filesaver"),i=t("./helpers");s.exports=function(l,p){var d;return n.isPlainObject(l)||(d=n.getGraphDiv(l)),(p=p||{}).format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(f,u){d&&d._snapshotInProgress&&u(new Error("Snapshotting already in progress.")),n.isIE()&&p.format!=="svg"&&u(new Error(i.MSG_IE_BAD_FORMAT)),d&&(d._snapshotInProgress=!0);var h=a(l,p),m=p.filename||l.fn||"newplot";m+="."+p.format.replace("-","."),h.then(function(v){return d&&(d._snapshotInProgress=!1),o(v,m,p.format)}).then(function(v){f(v)}).catch(function(v){d&&(d._snapshotInProgress=!1),u(v)})})}},{"../lib":232,"../plot_api/to_image":271,"./filesaver":319,"./helpers":320}],319:[function(t,s,c){var n=t("../lib"),a=t("./helpers");s.exports=function(o,i,l){var p=document.createElement("a"),d="download"in p;return new Promise(function(f,u){var h,m;if(n.isIE())return h=a.createBlob(o,"svg"),window.navigator.msSaveBlob(h,i),h=null,f(i);if(d)return h=a.createBlob(o,l),m=a.createObjectURL(h),p.href=m,p.download=i,document.body.appendChild(p),p.click(),document.body.removeChild(p),a.revokeObjectURL(m),h=null,f(i);if(n.isSafari()){var v=l==="svg"?",":";base64,";return a.octetStream(v+encodeURIComponent(o)),f(i)}u(new Error("download error"))})}},{"../lib":232,"./helpers":320}],320:[function(t,s,c){var n=t("../registry");c.getDelay=function(o){return o._has&&(o._has("gl3d")||o._has("gl2d")||o._has("mapbox"))?500:0},c.getRedrawFunc=function(o){return function(){n.getComponentMethod("colorbar","draw")(o)}},c.encodeSVG=function(o){return"data:image/svg+xml,"+encodeURIComponent(o)},c.encodeJSON=function(o){return"data:application/json,"+encodeURIComponent(o)};var a=window.URL||window.webkitURL;c.createObjectURL=function(o){return a.createObjectURL(o)},c.revokeObjectURL=function(o){return a.revokeObjectURL(o)},c.createBlob=function(o,i){if(i==="svg")return new window.Blob([o],{type:"image/svg+xml;charset=utf-8"});if(i==="full-json")return new window.Blob([o],{type:"application/json;charset=utf-8"});var l=function(p){for(var d=p.length,f=new ArrayBuffer(d),u=new Uint8Array(f),h=0;h<d;h++)u[h]=p.charCodeAt(h);return f}(window.atob(o));return new window.Blob([l],{type:"image/"+i})},c.octetStream=function(o){document.location.href="data:application/octet-stream"+o},c.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,c.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":316}],321:[function(t,s,c){var n=t("./helpers"),a={getDelay:n.getDelay,getRedrawFunc:n.getRedrawFunc,clone:t("./cloneplot"),toSVG:t("./tosvg"),svgToImg:t("./svgtoimg"),toImage:t("./toimage"),downloadImage:t("./download")};s.exports=a},{"./cloneplot":317,"./download":318,"./helpers":320,"./svgtoimg":322,"./toimage":323,"./tosvg":324}],322:[function(t,s,c){var n=t("../lib"),a=t("events").EventEmitter,o=t("./helpers");s.exports=function(i){var l=i.emitter||new a,p=new Promise(function(d,f){var u=window.Image,h=i.svg,m=i.format||"png";if(n.isIE()&&m!=="svg"){var v=new Error(o.MSG_IE_BAD_FORMAT);return f(v),i.promise?p:l.emit("error",v)}var y,k,_=i.canvas,T=i.scale||1,b=i.width||300,x=i.height||150,O=T*b,A=T*x,C=_.getContext("2d"),L=new u;m==="svg"||n.isSafari()?k=o.encodeSVG(h):(y=o.createBlob(h,"svg"),k=o.createObjectURL(y)),_.width=O,_.height=A,L.onload=function(){var w;switch(y=null,o.revokeObjectURL(k),m!=="svg"&&C.drawImage(L,0,0,O,A),m){case"jpeg":w=_.toDataURL("image/jpeg");break;case"png":w=_.toDataURL("image/png");break;case"webp":w=_.toDataURL("image/webp");break;case"svg":w=k;break;default:var E="Image format is not jpeg, png, svg or webp.";if(f(new Error(E)),!i.promise)return l.emit("error",E)}d(w),i.promise||l.emit("success",w)},L.onerror=function(w){if(y=null,o.revokeObjectURL(k),f(w),!i.promise)return l.emit("error",w)},L.src=k});return i.promise?p:l}},{"../lib":232,"./helpers":320,events:12}],323:[function(t,s,c){var n=t("events").EventEmitter,a=t("../registry"),o=t("../lib"),i=t("./helpers"),l=t("./cloneplot"),p=t("./tosvg"),d=t("./svgtoimg");s.exports=function(f,u){var h=new n,m=l(f,{format:"png"}),v=m.gd;v.style.position="absolute",v.style.left="-5000px",document.body.appendChild(v);var y=i.getRedrawFunc(v);return a.call("_doPlot",v,m.data,m.layout,m.config).then(y).then(function(){var k=i.getDelay(v._fullLayout);setTimeout(function(){var _=p(v),T=document.createElement("canvas");T.id=o.randstr(),(h=d({format:u.format,width:v._fullLayout.width,height:v._fullLayout.height,canvas:T,emitter:h,svg:_})).clean=function(){v&&document.body.removeChild(v)}},k)}).catch(function(k){h.emit("error",k)}),h}},{"../lib":232,"../registry":316,"./cloneplot":317,"./helpers":320,"./svgtoimg":322,"./tosvg":324,events:12}],324:[function(t,s,c){var n=t("@plotly/d3"),a=t("../lib"),o=t("../components/drawing"),i=t("../components/color"),l=t("../constants/xmlns_namespaces"),p=/"/g,d=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");s.exports=function(f,u,h){var m,v,y=f._fullLayout,k=y._paper,_=y._toppaper,T=y.width,b=y.height;k.insert("rect",":first-child").call(o.setRect,0,0,T,b).call(i.fill,y.paper_bgcolor);var x=y._basePlotModules||[];for(m=0;m<x.length;m++){var O=x[m];O.toSVG&&O.toSVG(f)}if(_){var A=_.node().childNodes,C=Array.prototype.slice.call(A);for(m=0;m<C.length;m++){var L=C[m];L.childNodes.length&&k.node().appendChild(L)}}y._draggers&&y._draggers.remove(),k.node().style.background="",k.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var I=n.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){I.style({visibility:null,display:null});var M=this.style.fontFamily;M&&M.indexOf('"')!==-1&&I.style("font-family",M.replace(p,"TOBESTRIPPED"))}else I.remove()});var w=[];if(y._gradientUrlQueryParts)for(v in y._gradientUrlQueryParts)w.push(v);if(y._patternUrlQueryParts)for(v in y._patternUrlQueryParts)w.push(v);w.length&&k.selectAll(w.join(",")).each(function(){var I=n.select(this),M=this.style.fill;M&&M.indexOf("url(")!==-1&&I.style("fill",M.replace(p,"TOBESTRIPPED"));var V=this.style.stroke;V&&V.indexOf("url(")!==-1&&I.style("stroke",V.replace(p,"TOBESTRIPPED"))}),u!=="pdf"&&u!=="eps"||k.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),k.node().setAttributeNS(l.xmlns,"xmlns",l.svg),k.node().setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),u==="svg"&&h&&(k.attr("width",h*T),k.attr("height",h*b),k.attr("viewBox","0 0 "+T+" "+b));var E=new window.XMLSerializer().serializeToString(k.node());return E=function(I){var M=n.select("body").append("div").style({display:"none"}).html(""),V=I.replace(/(&[^;]*;)/gi,function(j){return j==="&lt;"?"&#60;":j==="&rt;"?"&#62;":j.indexOf("<")!==-1||j.indexOf(">")!==-1?"":M.html(j).text()});return M.remove(),V}(E),E=(E=E.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(d,"'"),a.isIE()&&(E=(E=(E=E.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),E}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],325:[function(t,s,c){var n=t("../../lib");s.exports=function(a,o){for(var i=0;i<a.length;i++)a[i].i=i;n.mergeArray(o.text,a,"tx"),n.mergeArray(o.hovertext,a,"htx");var l=o.marker;if(l){n.mergeArray(l.opacity,a,"mo",!0),n.mergeArray(l.color,a,"mc");var p=l.line;p&&(n.mergeArray(p.color,a,"mlc"),n.mergeArrayCastPositive(p.width,a,"mlw"))}}},{"../../lib":232}],326:[function(t,s,c){var n=t("../scatter/attributes"),a=t("../../plots/cartesian/axis_format_attributes").axisHoverFormat,o=t("../../plots/template_attributes").hovertemplateAttrs,i=t("../../plots/template_attributes").texttemplateAttrs,l=t("../../components/colorscale/attributes"),p=t("../../plots/font_attributes"),d=t("./constants"),f=t("../../components/drawing/attributes").pattern,u=t("../../lib/extend").extendFlat,h=p({editType:"calc",arrayOk:!0,colorEditType:"style"}),m=u({},n.marker.line.width,{dflt:0}),v=u({width:m,editType:"calc"},l("marker.line")),y=u({line:v,editType:"calc"},l("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:f});s.exports={x:n.x,x0:n.x0,dx:n.dx,y:n.y,y0:n.y0,dy:n.dy,xperiod:n.xperiod,yperiod:n.yperiod,xperiod0:n.xperiod0,yperiod0:n.yperiod0,xperiodalignment:n.xperiodalignment,yperiodalignment:n.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:n.text,texttemplate:i({editType:"plot"},{keys:d.eventDataKeys}),hovertext:n.hovertext,hovertemplate:o({},{keys:d.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:u({},h,{}),insidetextfont:u({},h,{}),outsidetextfont:u({},h,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:u({},n.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:y,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:n.selected.marker.opacity,color:n.selected.marker.color,editType:"style"},textfont:n.selected.textfont,editType:"style"},unselected:{marker:{opacity:n.unselected.marker.opacity,color:n.unselected.marker.color,editType:"style"},textfont:n.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":109,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":308,"../../plots/template_attributes":315,"../scatter/attributes":356,"./constants":328}],327:[function(t,s,c){var n=t("../../plots/cartesian/axes"),a=t("../../plots/cartesian/align_period"),o=t("../../components/colorscale/helpers").hasColorscale,i=t("../../components/colorscale/calc"),l=t("./arrays_to_calcdata"),p=t("../scatter/calc_selection");s.exports=function(d,f){var u,h,m,v,y,k,_=n.getFromId(d,f.xaxis||"x"),T=n.getFromId(d,f.yaxis||"y"),b={msUTC:!(!f.base&&f.base!==0)};f.orientation==="h"?(u=_.makeCalcdata(f,"x",b),m=T.makeCalcdata(f,"y"),v=a(f,T,"y",m),y=!!f.yperiodalignment,k="y"):(u=T.makeCalcdata(f,"y",b),m=_.makeCalcdata(f,"x"),v=a(f,_,"x",m),y=!!f.xperiodalignment,k="x"),h=v.vals;for(var x=Math.min(h.length,u.length),O=new Array(x),A=0;A<x;A++)O[A]={p:h[A],s:u[A]},y&&(O[A].orig_p=m[A],O[A][k+"End"]=v.ends[A],O[A][k+"Start"]=v.starts[A]),f.ids&&(O[A].id=String(f.ids[A]));return o(f,"marker")&&i(d,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),o(f,"marker.line")&&i(d,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}),l(O,f),p(O,f),O}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"../scatter/calc_selection":358,"./arrays_to_calcdata":325}],328:[function(t,s,c){s.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],329:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../../lib").isArrayOrTypedArray,o=t("../../constants/numerical").BADNUM,i=t("../../registry"),l=t("../../plots/cartesian/axes"),p=t("../../plots/cartesian/constraints").getAxisGroup,d=t("./sieve.js");function f(x,O,A,C,L){if(C.length){var w,E,I,M;switch(function(V,j){var W,H;for(W=0;W<j.length;W++){var B,K=j[W],et=K[0].trace,G=et.type==="funnel"?et._base:et.base,Y=et.orientation==="h"?et.xcalendar:et.ycalendar,D=V.type==="category"||V.type==="multicategory"?function(){return null}:V.d2c;if(a(G)){for(H=0;H<Math.min(G.length,K.length);H++)B=D(G[H],0,Y),n(B)?(K[H].b=+B,K[H].hasB=1):K[H].b=0;for(;H<K.length;H++)K[H].b=0}else{B=D(G,0,Y);var U=n(B);for(B=U?B:0,H=0;H<K.length;H++)K[H].b=B,U&&(K[H].hasB=1)}}}(A,C),L.mode){case"overlay":u(O,A,C,L);break;case"group":for(w=[],E=[],I=0;I<C.length;I++)(M=C[I])[0].trace.offset===void 0?E.push(M):w.push(M);E.length&&function(V,j,W,H,B){var K=new d(H,{posAxis:j,sepNegVal:!1,overlapNoMerge:!B.norm});(function(et,G,Y,D){for(var U=et._fullLayout,$=Y.positions,Q=Y.distinctPositions,F=Y.minDiff,z=Y.traces,P=z.length,Z=$.length!==Q.length,R=F*(1-D.gap),q=p(U,G._id)+z[0][0].trace.orientation,tt=U._alignmentOpts[q]||{},rt=0;rt<P;rt++){var nt,ct,st=z[rt],gt=st[0].trace,wt=tt[gt.alignmentgroup]||{},Ot=Object.keys(wt.offsetGroups||{}).length,bt=(nt=Ot?R/Ot:Z?R/P:R)*(1-(D.groupgap||0));ct=Ot?((2*gt._offsetIndex+1-Ot)*nt-bt)/2:Z?((2*rt+1-P)*nt-bt)/2:-bt/2;var Ht=st[0].t;Ht.barwidth=bt,Ht.poffset=ct,Ht.bargroupwidth=R,Ht.bardelta=F}Y.binWidth=z[0][0].t.barwidth/100,m(Y),v(G,Y),y(G,Y,Z)})(V,j,K,B),function(et,G){for(var Y=et.traces,D=0;D<Y.length;D++){var U=Y[D];if(U[0].trace.base===void 0)for(var $=new d([U],{posAxis:G,sepNegVal:!0,overlapNoMerge:!0}),Q=0;Q<U.length;Q++){var F=U[Q];if(F.p!==o){var z=$.put(F.p,F.b+F.s);z&&(F.b=z)}}}}(K,j),B.norm?(_(K),T(W,K,B)):k(W,K)}(x,O,A,E,L),w.length&&u(O,A,w,L);break;case"stack":case"relative":for(w=[],E=[],I=0;I<C.length;I++)(M=C[I])[0].trace.base===void 0?E.push(M):w.push(M);E.length&&function(V,j,W,H,B){var K=new d(H,{posAxis:j,sepNegVal:B.mode==="relative",overlapNoMerge:!(B.norm||B.mode==="stack"||B.mode==="relative")});h(j,K,B),function(U,$,Q){var F,z,P,Z,R,q,tt=b(U),rt=$.traces;for(Z=0;Z<rt.length;Z++)if(F=rt[Z],(z=F[0].trace).type==="funnel")for(R=0;R<F.length;R++)(q=F[R]).s!==o&&$.put(q.p,-.5*q.s);for(Z=0;Z<rt.length;Z++){F=rt[Z],z=F[0].trace,P=z.type==="funnel";var nt=[];for(R=0;R<F.length;R++)if((q=F[R]).s!==o){var ct;ct=P?q.s:q.s+q.b;var st=$.put(q.p,ct),gt=st+ct;q.b=st,q[tt]=gt,Q.norm||(nt.push(gt),q.hasB&&nt.push(st))}Q.norm||(z._extremes[U._id]=l.findExtremes(U,nt,{tozero:!0,padded:!0}))}}(W,K,B);for(var et=0;et<H.length;et++)for(var G=H[et],Y=0;Y<G.length;Y++){var D=G[Y];D.s!==o&&D.b+D.s===K.get(D.p,D.s)&&(D._outmost=!0)}B.norm&&T(W,K,B)}(0,O,A,E,L),w.length&&u(O,A,w,L)}(function(V,j){var W,H,B,K=b(j),et={},G=1/0,Y=-1/0;for(W=0;W<V.length;W++)for(B=V[W],H=0;H<B.length;H++){var D=B[H].p;n(D)&&(G=Math.min(G,D),Y=Math.max(Y,D))}var U=1e4/(Y-G),$=et.round=function(q){return String(Math.round(U*(q-G)))};for(W=0;W<V.length;W++){(B=V[W])[0].t.extents=et;var Q=B[0].t.poffset,F=Array.isArray(Q);for(H=0;H<B.length;H++){var z=B[H],P=z[K]-z.w/2;if(n(P)){var Z=z[K]+z.w/2,R=$(z.p);et[R]?et[R]=[Math.min(P,et[R][0]),Math.max(Z,et[R][1])]:et[R]=[P,Z]}z.p0=z.p+(F?Q[H]:Q),z.p1=z.p0+z.w,z.s0=z.b,z.s1=z.s0+z.s}}})(C,O)}}function u(x,O,A,C){for(var L=0;L<A.length;L++){var w=A[L],E=new d([w],{posAxis:x,sepNegVal:!1,overlapNoMerge:!C.norm});h(x,E,C),C.norm?(_(E),T(O,E,C)):k(O,E)}}function h(x,O,A){for(var C=O.minDiff,L=O.traces,w=C*(1-A.gap),E=w*(1-(A.groupgap||0)),I=-E/2,M=0;M<L.length;M++){var V=L[M][0].t;V.barwidth=E,V.poffset=I,V.bargroupwidth=w,V.bardelta=C}O.binWidth=L[0][0].t.barwidth/100,m(O),v(x,O),y(x,O)}function m(x){var O,A,C=x.traces;for(O=0;O<C.length;O++){var L,w=C[O],E=w[0],I=E.trace,M=E.t,V=I._offset||I.offset,j=M.poffset;if(a(V)){for(L=Array.prototype.slice.call(V,0,w.length),A=0;A<L.length;A++)n(L[A])||(L[A]=j);for(A=L.length;A<w.length;A++)L.push(j);M.poffset=L}else V!==void 0&&(M.poffset=V);var W=I._width||I.width,H=M.barwidth;if(a(W)){var B=Array.prototype.slice.call(W,0,w.length);for(A=0;A<B.length;A++)n(B[A])||(B[A]=H);for(A=B.length;A<w.length;A++)B.push(H);if(M.barwidth=B,V===void 0){for(L=[],A=0;A<w.length;A++)L.push(j+(H-B[A])/2);M.poffset=L}}else W!==void 0&&(M.barwidth=W,V===void 0&&(M.poffset=j+(H-W)/2))}}function v(x,O){for(var A=O.traces,C=b(x),L=0;L<A.length;L++)for(var w=A[L],E=w[0].t,I=E.poffset,M=Array.isArray(I),V=E.barwidth,j=Array.isArray(V),W=0;W<w.length;W++){var H=w[W],B=H.w=j?V[W]:V;H[C]=H.p+(M?I[W]:I)+B/2}}function y(x,O,A){var C=O.traces,L=O.minDiff/2;l.minDtick(x,O.minDiff,O.distinctPositions[0],A);for(var w=0;w<C.length;w++){var E,I,M,V,j=C[w],W=j[0],H=W.trace,B=[];for(V=0;V<j.length;V++)I=(E=j[V]).p-L,M=E.p+L,B.push(I,M);if(H.width||H.offset){var K=W.t,et=K.poffset,G=K.barwidth,Y=Array.isArray(et),D=Array.isArray(G);for(V=0;V<j.length;V++){E=j[V];var U=Y?et[V]:et,$=D?G[V]:G;M=(I=E.p+U)+$,B.push(I,M)}}H._extremes[x._id]=l.findExtremes(x,B,{padded:!1})}}function k(x,O){for(var A=O.traces,C=b(x),L=0;L<A.length;L++){for(var w=A[L],E=w[0].trace,I=[],M=!1,V=0;V<w.length;V++){var j=w[V],W=j.b,H=W+j.s;j[C]=H,I.push(H),j.hasB&&I.push(W),j.hasB&&j.b||(M=!0)}E._extremes[x._id]=l.findExtremes(x,I,{tozero:M,padded:!0})}}function _(x){for(var O=x.traces,A=0;A<O.length;A++)for(var C=O[A],L=0;L<C.length;L++){var w=C[L];w.s!==o&&x.put(w.p,w.b+w.s)}}function T(x,O,A){var C=O.traces,L=b(x),w=A.norm==="fraction"?1:100,E=w/1e9,I=x.l2c(x.c2l(0)),M=A.mode==="stack"?w:I;function V(Q){return n(x.c2l(Q))&&(Q<I-E||Q>M+E||!n(I))}for(var j=0;j<C.length;j++){for(var W=C[j],H=W[0].trace,B=[],K=!1,et=!1,G=0;G<W.length;G++){var Y=W[G];if(Y.s!==o){var D=Math.abs(w/O.get(Y.p,Y.s));Y.b*=D,Y.s*=D;var U=Y.b,$=U+Y.s;Y[L]=$,B.push($),et=et||V($),Y.hasB&&(B.push(U),et=et||V(U)),Y.hasB&&Y.b||(K=!0)}}H._extremes[x._id]=l.findExtremes(x,B,{tozero:K,padded:et})}}function b(x){return x._id.charAt(0)}s.exports={crossTraceCalc:function(x,O){for(var A=O.xaxis,C=O.yaxis,L=x._fullLayout,w=x._fullData,E=x.calcdata,I=[],M=[],V=0;V<w.length;V++){var j=w[V];if(j.visible===!0&&i.traceIs(j,"bar")&&j.xaxis===A._id&&j.yaxis===C._id&&(j.orientation==="h"?I.push(E[V]):M.push(E[V]),j._computePh))for(var W=x.calcdata[V],H=0;H<W.length;H++)typeof W[H].ph0=="function"&&(W[H].ph0=W[H].ph0()),typeof W[H].ph1=="function"&&(W[H].ph1=W[H].ph1())}var B={xCat:A.type==="category"||A.type==="multicategory",yCat:C.type==="category"||C.type==="multicategory",mode:L.barmode,norm:L.barnorm,gap:L.bargap,groupgap:L.bargroupgap};f(x,A,C,M,B),f(x,C,A,I,B)},setGroupPositions:f}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../plots/cartesian/constraints":287,"../../registry":316,"./sieve.js":339,"fast-isnumeric":17}],330:[function(t,s,c){var n=t("../../lib"),a=t("../../components/color"),o=t("../../registry"),i=t("../scatter/xy_defaults"),l=t("../scatter/period_defaults"),p=t("./style_defaults"),d=t("../../plots/cartesian/constraints").getAxisGroup,f=t("./attributes"),u=n.coerceFont;function h(v,y,k,_){var T=y.orientation,b=y[{v:"x",h:"y"}[T]+"axis"],x=d(k,b)+T,O=k._alignmentOpts||{},A=_("alignmentgroup"),C=O[x];C||(C=O[x]={});var L=C[A];L?L.traces.push(y):L=C[A]={traces:[y],alignmentIndex:Object.keys(C).length,offsetGroups:{}};var w=_("offsetgroup"),E=L.offsetGroups,I=E[w];w&&(I||(I=E[w]={offsetIndex:Object.keys(E).length}),y._offsetIndex=I.offsetIndex)}function m(v,y,k,_,T,b){var x=(b=b||{}).moduleHasSelected!==!1,O=b.moduleHasUnselected!==!1,A=b.moduleHasConstrain!==!1,C=b.moduleHasCliponaxis!==!1,L=b.moduleHasTextangle!==!1,w=b.moduleHasInsideanchor!==!1,E=!!b.hasPathbar,I=Array.isArray(T)||T==="auto",M=I||T==="inside",V=I||T==="outside";if(M||V){var j=u(_,"textfont",k.font),W=n.extendFlat({},j),H=!(v.textfont&&v.textfont.color);if(H&&delete W.color,u(_,"insidetextfont",W),E){var B=n.extendFlat({},j);H&&delete B.color,u(_,"pathbar.textfont",B)}V&&u(_,"outsidetextfont",j),x&&_("selected.textfont.color"),O&&_("unselected.textfont.color"),A&&_("constraintext"),C&&_("cliponaxis"),L&&_("textangle"),_("texttemplate")}M&&w&&_("insidetextanchor")}s.exports={supplyDefaults:function(v,y,k,_){function T(A,C){return n.coerce(v,y,f,A,C)}if(i(v,y,_,T)){l(v,y,_,T),T("xhoverformat"),T("yhoverformat"),T("orientation",y.x&&!y.y?"h":"v"),T("base"),T("offset"),T("width"),T("text"),T("hovertext"),T("hovertemplate");var b=T("textposition");m(v,y,_,T,b,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),p(v,y,T,k,_);var x=(y.marker.line||{}).color,O=o.getComponentMethod("errorbars","supplyDefaults");O(v,y,x||a.defaultLine,{axis:"y"}),O(v,y,x||a.defaultLine,{axis:"x",inherit:"y"}),n.coerceSelectionMarkerOpacity(y,T)}else y.visible=!1},crossTraceDefaults:function(v,y){var k;function _(b){return n.coerce(k._input,k,f,b)}if(y.barmode==="group")for(var T=0;T<v.length;T++)(k=v[T]).type==="bar"&&(k._input,h(0,k,y,_))},handleGroupingDefaults:h,handleText:m}},{"../../components/color":102,"../../lib":232,"../../plots/cartesian/constraints":287,"../../registry":316,"../scatter/period_defaults":376,"../scatter/xy_defaults":383,"./attributes":326,"./style_defaults":341}],331:[function(t,s,c){s.exports=function(n,a,o){return n.x="xVal"in a?a.xVal:a.x,n.y="yVal"in a?a.yVal:a.y,a.xa&&(n.xaxis=a.xa),a.ya&&(n.yaxis=a.ya),o.orientation==="h"?(n.label=n.y,n.value=n.x):(n.label=n.x,n.value=n.y),n}},{}],332:[function(t,s,c){var n=t("fast-isnumeric"),a=t("tinycolor2"),o=t("../../lib").isArrayOrTypedArray;c.coerceString=function(i,l,p){if(typeof l=="string"){if(l||!i.noBlank)return l}else if((typeof l=="number"||l===!0)&&!i.strict)return String(l);return p!==void 0?p:i.dflt},c.coerceNumber=function(i,l,p){if(n(l)){l=+l;var d=i.min,f=i.max;if(!(d!==void 0&&l<d||f!==void 0&&l>f))return l}return p!==void 0?p:i.dflt},c.coerceColor=function(i,l,p){return a(l).isValid()?l:p!==void 0?p:i.dflt},c.coerceEnumerated=function(i,l,p){return i.coerceNumber&&(l=+l),i.values.indexOf(l)!==-1?l:p!==void 0?p:i.dflt},c.getValue=function(i,l){var p;return Array.isArray(i)?l<i.length&&(p=i[l]):p=i,p},c.getLineWidth=function(i,l){return 0<l.mlw?l.mlw:o(i.marker.line.width)?0:i.marker.line.width}},{"../../lib":232,"fast-isnumeric":17,tinycolor2:67}],333:[function(t,s,c){var n=t("../../components/fx"),a=t("../../registry"),o=t("../../components/color"),i=t("../../lib").fillText,l=t("./helpers").getLineWidth,p=t("../../plots/cartesian/axes").hoverLabelText,d=t("../../constants/numerical").BADNUM;function f(h,m,v,y,k){var _,T,b,x,O,A,C,L=h.cd,w=L[0].trace,E=L[0].t,I=y==="closest",M=w.type==="waterfall",V=h.maxHoverDistance,j=h.maxSpikeDistance;w.orientation==="h"?(_=v,T=m,b="y",x="x",O=F,A=$):(_=m,T=v,b="x",x="y",A=F,O=$);var W=w[b+"period"],H=I||W;function B(nt){return et(nt,-1)}function K(nt){return et(nt,1)}function et(nt,ct){var st=nt.w;return nt[b]+ct*st/2}function G(nt){return nt[b+"End"]-nt[b+"Start"]}var Y=I?B:W?function(nt){return nt.p-G(nt)/2}:function(nt){return Math.min(B(nt),nt.p-E.bardelta/2)},D=I?K:W?function(nt){return nt.p+G(nt)/2}:function(nt){return Math.max(K(nt),nt.p+E.bardelta/2)};function U(nt,ct,st){return k.finiteRange&&(st=0),n.inbox(nt-_,ct-_,st+Math.min(1,Math.abs(ct-nt)/C)-1)}function $(nt){return U(Y(nt),D(nt),V)}function Q(nt){var ct=nt[x];if(M){var st=Math.abs(nt.rawS)||0;T>0?ct+=st:T<0&&(ct-=st)}return ct}function F(nt){var ct=T,st=nt.b,gt=Q(nt);return n.inbox(st-ct,gt-ct,V+(gt-ct)/(gt-st)-1)}var z=h[b+"a"],P=h[x+"a"];C=Math.abs(z.r2c(z.range[1])-z.r2c(z.range[0]));var Z=n.getDistanceFunction(y,O,A,function(nt){return(O(nt)+A(nt))/2});if(n.getClosest(L,Z,h),h.index!==!1&&L[h.index].p!==d){H||(Y=function(nt){return Math.min(B(nt),nt.p-E.bargroupwidth/2)},D=function(nt){return Math.max(K(nt),nt.p+E.bargroupwidth/2)});var R=L[h.index],q=w.base?R.b+R.s:R.s;h[x+"0"]=h[x+"1"]=P.c2p(R[x],!0),h[x+"LabelVal"]=q;var tt=E.extents[E.extents.round(R.p)];h[b+"0"]=z.c2p(I?Y(R):tt[0],!0),h[b+"1"]=z.c2p(I?D(R):tt[1],!0);var rt=R.orig_p!==void 0;return h[b+"LabelVal"]=rt?R.orig_p:R.p,h.labelLabel=p(z,h[b+"LabelVal"],w[b+"hoverformat"]),h.valueLabel=p(P,h[x+"LabelVal"],w[x+"hoverformat"]),h.baseLabel=p(P,R.b,w[x+"hoverformat"]),h.spikeDistance=(function(nt){var ct=T,st=nt.b,gt=Q(nt);return n.inbox(st-ct,gt-ct,j+(gt-ct)/(gt-st)-1)}(R)+function(nt){return U(B(nt),K(nt),j)}(R))/2,h[b+"Spike"]=z.c2p(R.p,!0),i(R,w,h),h.hovertemplate=w.hovertemplate,h}}function u(h,m){var v=m.mcc||h.marker.color,y=m.mlcc||h.marker.line.color,k=l(h,m);return o.opacity(v)?v:o.opacity(y)&&k?y:void 0}s.exports={hoverPoints:function(h,m,v,y,k){var _=f(h,m,v,y,k);if(_){var T=_.cd,b=T[0].trace,x=T[_.index];return _.color=u(b,x),a.getComponentMethod("errorbars","hoverInfo")(x,b,_),[_]}},hoverOnBars:f,getTraceColor:u}},{"../../components/color":102,"../../components/fx":142,"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":316,"./helpers":332}],334:[function(t,s,c){s.exports={attributes:t("./attributes"),layoutAttributes:t("./layout_attributes"),supplyDefaults:t("./defaults").supplyDefaults,crossTraceDefaults:t("./defaults").crossTraceDefaults,supplyLayoutDefaults:t("./layout_defaults"),calc:t("./calc"),crossTraceCalc:t("./cross_trace_calc").crossTraceCalc,colorbar:t("../scatter/marker_colorbar"),arraysToCalcdata:t("./arrays_to_calcdata"),plot:t("./plot").plot,style:t("./style").style,styleOnSelect:t("./style").styleOnSelect,hoverPoints:t("./hover").hoverPoints,eventData:t("./event_data"),selectPoints:t("./select"),moduleType:"trace",name:"bar",basePlotModule:t("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":293,"../scatter/marker_colorbar":374,"./arrays_to_calcdata":325,"./attributes":326,"./calc":327,"./cross_trace_calc":329,"./defaults":330,"./event_data":331,"./hover":333,"./layout_attributes":335,"./layout_defaults":336,"./plot":337,"./select":338,"./style":340}],335:[function(t,s,c){s.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],336:[function(t,s,c){var n=t("../../registry"),a=t("../../plots/cartesian/axes"),o=t("../../lib"),i=t("./layout_attributes");s.exports=function(l,p,d){function f(b,x){return o.coerce(l,p,i,b,x)}for(var u=!1,h=!1,m=!1,v={},y=f("barmode"),k=0;k<d.length;k++){var _=d[k];if(n.traceIs(_,"bar")&&_.visible){if(u=!0,y==="group"){var T=_.xaxis+_.yaxis;v[T]&&(m=!0),v[T]=!0}_.visible&&_.type==="histogram"&&a.getFromId({_fullLayout:p},_[_.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(h=!0)}}u?(y!=="overlay"&&f("barnorm"),f("bargap",h&&!m?0:.2),f("bargroupgap")):delete p.barmode}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":316,"./layout_attributes":335}],337:[function(t,s,c){var n=t("@plotly/d3"),a=t("fast-isnumeric"),o=t("../../lib"),i=t("../../lib/svg_text_utils"),l=t("../../components/color"),p=t("../../components/drawing"),d=t("../../registry"),f=t("../../plots/cartesian/axes").tickText,u=t("./uniform_text"),h=u.recordMinTextSize,m=u.clearMinTextSize,v=t("./style"),y=t("./helpers"),k=t("./constants"),_=t("./attributes"),T=_.text,b=_.textposition,x=t("../../components/fx/helpers").appendArrayPointValue,O=k.TEXTPAD;function A(j){return j.id}function C(j){if(j.ids)return A}function L(j,W){return j<W?1:-1}function w(j,W,H,B){var K;return!W.uniformtext.mode&&E(H)?(B&&(K=B()),j.transition().duration(H.duration).ease(H.easing).each("end",function(){K&&K()}).each("interrupt",function(){K&&K()})):j}function E(j){return j&&j.duration>0}function I(j){return j==="auto"?0:j}function M(j,W){var H=Math.PI/180*W,B=Math.abs(Math.sin(H)),K=Math.abs(Math.cos(H));return{x:j.width*K+j.height*B,y:j.width*B+j.height*K}}function V(j,W,H,B,K,et){var G=!!et.isHorizontal,Y=!!et.constrained,D=et.angle||0,U=et.anchor||"end",$=U==="end",Q=U==="start",F=((et.leftToRight||0)+1)/2,z=1-F,P=K.width,Z=K.height,R=Math.abs(W-j),q=Math.abs(B-H),tt=R>2*O&&q>2*O?O:0;R-=2*tt,q-=2*tt;var rt=I(D);D!=="auto"||P<=R&&Z<=q||!(P>R||Z>q)||(P>q||Z>R)&&P<Z==R<q||(rt+=90);var nt=M(K,rt),ct=1;Y&&(ct=Math.min(1,R/nt.x,q/nt.y));var st=K.left*z+K.right*F,gt=(K.top+K.bottom)/2,wt=(j+O)*z+(W-O)*F,Ot=(H+B)/2,bt=0,Ht=0;if(Q||$){var Dt=(G?nt.x:nt.y)/2,yt=G?L(j,W):L(H,B);G?Q?(wt=j+yt*tt,bt=-yt*Dt):(wt=W-yt*tt,bt=yt*Dt):Q?(Ot=H+yt*tt,Ht=-yt*Dt):(Ot=B-yt*tt,Ht=yt*Dt)}return{textX:st,textY:gt,targetX:wt,targetY:Ot,anchorX:bt,anchorY:Ht,scale:ct,rotate:rt}}s.exports={plot:function(j,W,H,B,K,et){var G=W.xaxis,Y=W.yaxis,D=j._fullLayout;K||(K={mode:D.barmode,norm:D.barmode,gap:D.bargap,groupgap:D.bargroupgap},m("bar",D));var U=o.makeTraceGroups(B,H,"trace bars").each(function($){var Q=n.select(this),F=$[0].trace,z=F.type==="waterfall",P=F.type==="funnel",Z=F.type==="bar"||P,R=0;z&&F.connector.visible&&F.connector.mode==="between"&&(R=F.connector.line.width/2);var q=F.orientation==="h",tt=E(K),rt=o.ensureSingle(Q,"g","points"),nt=C(F),ct=rt.selectAll("g.point").data(o.identity,nt);ct.enter().append("g").classed("point",!0),ct.exit().remove(),ct.each(function(gt,wt){var Ot,bt,Ht=n.select(this),Dt=function(At,Ct,qt,St){var $t=[],Zt=[],Yt=St?Ct:qt,re=St?qt:Ct;return $t[0]=Yt.c2p(At.s0,!0),Zt[0]=re.c2p(At.p0,!0),$t[1]=Yt.c2p(At.s1,!0),Zt[1]=re.c2p(At.p1,!0),St?[$t,Zt]:[Zt,$t]}(gt,G,Y,q),yt=Dt[0][0],ut=Dt[0][1],it=Dt[1][0],dt=Dt[1][1],mt=(q?ut-yt:dt-it)==0;if(mt&&Z&&y.getLineWidth(F,gt)&&(mt=!1),mt||(mt=!(a(yt)&&a(ut)&&a(it)&&a(dt))),gt.isBlank=mt,mt&&(q?ut=yt:dt=it),R&&!mt&&(q?(yt-=L(yt,ut)*R,ut+=L(yt,ut)*R):(it-=L(it,dt)*R,dt+=L(it,dt)*R)),F.type==="waterfall"){if(!mt){var Et=F[gt.dir].marker;Ot=Et.line.width,bt=Et.color}}else Ot=y.getLineWidth(F,gt),bt=gt.mc||F.marker.color;function Mt(At){var Ct=n.round(Ot/2%1,2);return K.gap===0&&K.groupgap===0?n.round(Math.round(At)-Ct,2):At}if(!j._context.staticPlot){var Tt=l.opacity(bt)<1||Ot>.01?Mt:function(At,Ct,qt){return qt&&At===Ct?At:Math.abs(At-Ct)>=2?Mt(At):At>Ct?Math.ceil(At):Math.floor(At)};yt=Tt(yt,ut,q),ut=Tt(ut,yt,q),it=Tt(it,dt,!q),dt=Tt(dt,it,!q)}var Nt=w(o.ensureSingle(Ht,"path"),D,K,et);if(Nt.style("vector-effect","non-scaling-stroke").attr("d",isNaN((ut-yt)*(dt-it))||mt&&j._context.staticPlot?"M0,0Z":"M"+yt+","+it+"V"+dt+"H"+ut+"V"+it+"Z").call(p.setClipUrl,W.layerClipId,j),!D.uniformtext.mode&&tt){var zt=p.makePointStyleFns(F);p.singlePointStyle(gt,Nt,F,zt,j)}(function(At,Ct,qt,St,$t,Zt,Yt,re,Qt,xt,kt){var Bt,ie=Ct.xaxis,ye=Ct.yaxis,ot=At._fullLayout;function ft(Ee,De,je){return o.ensureSingle(Ee,"text").text(De).attr({class:"bartext bartext-"+Bt,"text-anchor":"middle","data-notex":1}).call(p.font,je).call(i.convertToTspans,At)}var Lt=St[0].trace,Pt=Lt.orientation==="h",It=function(Ee,De,je,Je,en){var be,Ae=De[0].trace;return be=Ae.texttemplate?function(Oe,Fe,ve,Ve,We){var ln=Fe[0].trace,on=o.castOption(ln,ve,"texttemplate");if(!on)return"";var sn,un,cn,$e,ke=ln.type==="waterfall",Ge=ln.type==="funnel";ln.orientation==="h"?(sn="y",un=We,cn="x",$e=Ve):(sn="x",un=Ve,cn="y",$e=We);function He(an){return f($e,$e.c2l(an),!0).text}var Ue=Fe[ve],Be={};Be.label=Ue.p,Be.labelLabel=Be[sn+"Label"]=(tn=Ue.p,f(un,un.c2l(tn),!0).text);var tn,rn=o.castOption(ln,Ue.i,"text");(rn===0||rn)&&(Be.text=rn),Be.value=Ue.s,Be.valueLabel=Be[cn+"Label"]=He(Ue.s);var dn={};x(dn,ln,Ue.i),ke&&(Be.delta=+Ue.rawS||Ue.s,Be.deltaLabel=He(Be.delta),Be.final=Ue.v,Be.finalLabel=He(Be.final),Be.initial=Be.final-Be.delta,Be.initialLabel=He(Be.initial)),Ge&&(Be.value=Ue.s,Be.valueLabel=He(Be.value),Be.percentInitial=Ue.begR,Be.percentInitialLabel=o.formatPercent(Ue.begR),Be.percentPrevious=Ue.difR,Be.percentPreviousLabel=o.formatPercent(Ue.difR),Be.percentTotal=Ue.sumR,Be.percenTotalLabel=o.formatPercent(Ue.sumR));var Xe=o.castOption(ln,Ue.i,"customdata");return Xe&&(Be.customdata=Xe),o.texttemplateString(on,Be,Oe._d3locale,dn,Be,ln._meta||{})}(Ee,De,je,Je,en):Ae.textinfo?function(Oe,Fe,ve,Ve){var We=Oe[0].trace,ln=We.orientation==="h",on=We.type==="waterfall",sn=We.type==="funnel";function un(Cn){return f(ln?ve:Ve,+Cn,!0).text}var cn,$e=We.textinfo,ke=Oe[Fe],Ge=$e.split("+"),He=[],Ue=function(Cn){return Ge.indexOf(Cn)!==-1};Ue("label")&&He.push((Be=Oe[Fe].p,f(ln?Ve:ve,Be,!0).text));var Be;if(Ue("text")&&((cn=o.castOption(We,ke.i,"text"))===0||cn)&&He.push(cn),on){var tn=+ke.rawS||ke.s,rn=ke.v,dn=rn-tn;Ue("initial")&&He.push(un(dn)),Ue("delta")&&He.push(un(tn)),Ue("final")&&He.push(un(rn))}if(sn){Ue("value")&&He.push(un(ke.s));var Xe=0;Ue("percent initial")&&Xe++,Ue("percent previous")&&Xe++,Ue("percent total")&&Xe++;var an=Xe>1;Ue("percent initial")&&(cn=o.formatPercent(ke.begR),an&&(cn+=" of initial"),He.push(cn)),Ue("percent previous")&&(cn=o.formatPercent(ke.difR),an&&(cn+=" of previous"),He.push(cn)),Ue("percent total")&&(cn=o.formatPercent(ke.sumR),an&&(cn+=" of total"),He.push(cn))}return He.join("<br>")}(De,je,Je,en):y.getValue(Ae.text,je),y.coerceString(T,be)}(ot,St,$t,ie,ye);Bt=function(Ee,De){var je=y.getValue(Ee.textposition,De);return y.coerceEnumerated(b,je)}(Lt,$t);var Rt=xt.mode==="stack"||xt.mode==="relative",Vt=St[$t],Jt=!Rt||Vt._outmost;if(!It||Bt==="none"||(Vt.isBlank||Zt===Yt||re===Qt)&&(Bt==="auto"||Bt==="inside"))return void qt.select("text").remove();var ae=ot.font,ce=v.getBarColor(St[$t],Lt),le=v.getInsideTextFont(Lt,$t,ae,ce),se=v.getOutsideTextFont(Lt,$t,ae),pe=qt.datum();Pt?ie.type==="log"&&pe.s0<=0&&(Zt=ie.range[0]<ie.range[1]?0:ie._length):ye.type==="log"&&pe.s0<=0&&(re=ye.range[0]<ye.range[1]?ye._length:0);var we,me,ee,ue,Te,Me=Math.abs(Yt-Zt)-2*O,Ce=Math.abs(Qt-re)-2*O;if(Bt==="outside"&&(Jt||Vt.hasB||(Bt="inside")),Bt==="auto")if(Jt){Bt="inside",Te=o.ensureUniformFontSize(At,le),we=ft(qt,It,Te),me=p.bBox(we.node()),ee=me.width,ue=me.height;var fe=ee<=Me&&ue<=Ce,_e=ee<=Ce&&ue<=Me,Le=Pt?Me>=ee*(Ce/ue):Ce>=ue*(Me/ee);ee>0&&ue>0&&(fe||_e||Le)?Bt="inside":(Bt="outside",we.remove(),we=null)}else Bt="inside";if(!we){Te=o.ensureUniformFontSize(At,Bt==="outside"?se:le);var he=(we=ft(qt,It,Te)).attr("transform");if(we.attr("transform",""),me=p.bBox(we.node()),ee=me.width,ue=me.height,we.attr("transform",he),ee<=0||ue<=0)return void we.remove()}var Se,de,Re=Lt.textangle;Bt==="outside"?(de=Lt.constraintext==="both"||Lt.constraintext==="outside",Se=function(Ee,De,je,Je,en,be){var Ae,Oe=!!be.isHorizontal,Fe=!!be.constrained,ve=be.angle||0,Ve=en.width,We=en.height,ln=Math.abs(De-Ee),on=Math.abs(Je-je);Ae=Oe?on>2*O?O:0:ln>2*O?O:0;var sn=1;Fe&&(sn=Oe?Math.min(1,on/We):Math.min(1,ln/Ve));var un=I(ve),cn=M(en,un),$e=(Oe?cn.x:cn.y)/2,ke=(en.left+en.right)/2,Ge=(en.top+en.bottom)/2,He=(Ee+De)/2,Ue=(je+Je)/2,Be=0,tn=0,rn=Oe?L(De,Ee):L(je,Je);return Oe?(He=De-rn*Ae,Be=rn*$e):(Ue=Je+rn*Ae,tn=-rn*$e),{textX:ke,textY:Ge,targetX:He,targetY:Ue,anchorX:Be,anchorY:tn,scale:sn,rotate:un}}(Zt,Yt,re,Qt,me,{isHorizontal:Pt,constrained:de,angle:Re})):(de=Lt.constraintext==="both"||Lt.constraintext==="inside",Se=V(Zt,Yt,re,Qt,me,{isHorizontal:Pt,constrained:de,angle:Re,anchor:Lt.insidetextanchor})),Se.fontSize=Te.size,h(Lt.type,Se,ot),Vt.transform=Se,w(we,ot,xt,kt).attr("transform",o.getTextTransform(Se))})(j,W,Ht,$,wt,yt,ut,it,dt,K,et),W.layerClipId&&p.hideOutsideRangePoint(gt,Ht.select("text"),G,Y,F.xcalendar,F.ycalendar)});var st=F.cliponaxis===!1;p.setClipUrl(Q,st?null:W.layerClipId,j)});d.getComponentMethod("errorbars","plot")(j,U,W,K)},toMoveInsideBar:V}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx/helpers":138,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":316,"./attributes":326,"./constants":328,"./helpers":332,"./style":340,"./uniform_text":342,"@plotly/d3":11,"fast-isnumeric":17}],338:[function(t,s,c){function n(a,o,i,l,p){var d=o.c2p(l?a.s0:a.p0,!0),f=o.c2p(l?a.s1:a.p1,!0),u=i.c2p(l?a.p0:a.s0,!0),h=i.c2p(l?a.p1:a.s1,!0);return p?[(d+f)/2,(u+h)/2]:l?[f,(u+h)/2]:[(d+f)/2,h]}s.exports=function(a,o){var i,l=a.cd,p=a.xaxis,d=a.yaxis,f=l[0].trace,u=f.type==="funnel",h=f.orientation==="h",m=[];if(o===!1)for(i=0;i<l.length;i++)l[i].selected=0;else for(i=0;i<l.length;i++){var v=l[i],y="ct"in v?v.ct:n(v,p,d,h,u);o.contains(y,!1,i,a)?(m.push({pointNumber:i,x:p.c2d(v.x),y:d.c2d(v.y)}),v.selected=1):v.selected=0}return m}},{}],339:[function(t,s,c){s.exports=o;var n=t("../../lib").distinctVals,a=t("../../constants/numerical").BADNUM;function o(i,l){this.traces=i,this.sepNegVal=l.sepNegVal,this.overlapNoMerge=l.overlapNoMerge;for(var p=1/0,d=[],f=0;f<i.length;f++){for(var u=i[f],h=0;h<u.length;h++){var m=u[h];m.p!==a&&d.push(m.p)}u[0]&&u[0].width1&&(p=Math.min(u[0].width1,p))}this.positions=d;var v=n(d);this.distinctPositions=v.vals,v.vals.length===1&&p!==1/0?this.minDiff=p:this.minDiff=Math.min(v.minDiff,p);var y=(l.posAxis||{}).type;y!=="category"&&y!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}o.prototype.put=function(i,l){var p=this.getLabel(i,l),d=this.bins[p]||0;return this.bins[p]=d+l,d},o.prototype.get=function(i,l){var p=this.getLabel(i,l);return this.bins[p]||0},o.prototype.getLabel=function(i,l){return(l<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?i:Math.round(i/this.binWidth))}},{"../../constants/numerical":212,"../../lib":232}],340:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../components/color"),o=t("../../components/drawing"),i=t("../../lib"),l=t("../../registry"),p=t("./uniform_text").resizeText,d=t("./attributes"),f=d.textfont,u=d.insidetextfont,h=d.outsidetextfont,m=t("./helpers");function v(A,C,L){o.pointStyle(A.selectAll("path"),C,L),y(A,C,L)}function y(A,C,L){A.selectAll("text").each(function(w){var E=n.select(this),I=i.ensureUniformFontSize(L,k(E,w,C,L));o.font(E,I)})}function k(A,C,L,w){var E=w._fullLayout.font,I=L.textfont;if(A.classed("bartext-inside")){var M=O(C,L);I=T(L,C.i,E,M)}else A.classed("bartext-outside")&&(I=b(L,C.i,E));return I}function _(A,C,L){return x(f,A.textfont,C,L)}function T(A,C,L,w){var E=_(A,C,L);return(A._input.textfont===void 0||A._input.textfont.color===void 0||Array.isArray(A.textfont.color)&&A.textfont.color[C]===void 0)&&(E={color:a.contrast(w),family:E.family,size:E.size}),x(u,A.insidetextfont,C,E)}function b(A,C,L){var w=_(A,C,L);return x(h,A.outsidetextfont,C,w)}function x(A,C,L,w){C=C||{};var E=m.getValue(C.family,L),I=m.getValue(C.size,L),M=m.getValue(C.color,L);return{family:m.coerceString(A.family,E,w.family),size:m.coerceNumber(A.size,I,w.size),color:m.coerceColor(A.color,M,w.color)}}function O(A,C){return C.type==="waterfall"?C[A.dir].marker.color:A.mcc||A.mc||C.marker.color}s.exports={style:function(A){var C=n.select(A).selectAll("g.barlayer").selectAll("g.trace");p(A,C,"bar");var L=C.size(),w=A._fullLayout;C.style("opacity",function(E){return E[0].trace.opacity}).each(function(E){(w.barmode==="stack"&&L>1||w.bargap===0&&w.bargroupgap===0&&!E[0].trace.marker.line.width)&&n.select(this).attr("shape-rendering","crispEdges")}),C.selectAll("g.points").each(function(E){v(n.select(this),E[0].trace,A)}),l.getComponentMethod("errorbars","style")(C)},styleTextPoints:y,styleOnSelect:function(A,C,L){var w=C[0].trace;w.selectedpoints?function(E,I,M){o.selectedPointStyle(E.selectAll("path"),I),function(V,j,W){V.each(function(H){var B,K=n.select(this);if(H.selected){B=i.ensureUniformFontSize(W,k(K,H,j,W));var et=j.selected.textfont&&j.selected.textfont.color;et&&(B.color=et),o.font(K,B)}else o.selectedTextStyle(K,j)})}(E.selectAll("text"),I,M)}(L,w,A):(v(L,w,A),l.getComponentMethod("errorbars","style")(L))},getInsideTextFont:T,getOutsideTextFont:b,getBarColor:O,resizeText:p}},{"../../components/color":102,"../../components/drawing":124,"../../lib":232,"../../registry":316,"./attributes":326,"./helpers":332,"./uniform_text":342,"@plotly/d3":11}],341:[function(t,s,c){var n=t("../../components/color"),a=t("../../components/colorscale/helpers").hasColorscale,o=t("../../components/colorscale/defaults"),i=t("../../lib").coercePattern;s.exports=function(l,p,d,f,u){var h=d("marker.color",f),m=a(l,"marker");m&&o(l,p,u,d,{prefix:"marker.",cLetter:"c"}),d("marker.line.color",n.defaultLine),a(l,"marker.line")&&o(l,p,u,d,{prefix:"marker.line.",cLetter:"c"}),d("marker.line.width"),d("marker.opacity"),i(d,"marker.pattern",h,m),d("selected.marker.color"),d("unselected.marker.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],342:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../lib");function o(i){return"_"+i+"Text_minsize"}s.exports={recordMinTextSize:function(i,l,p){if(p.uniformtext.mode){var d=o(i),f=p.uniformtext.minsize,u=l.scale*l.fontSize;l.hide=u<f,p[d]=p[d]||1/0,l.hide||(p[d]=Math.min(p[d],Math.max(u,f)))}},clearMinTextSize:function(i,l){l[o(i)]=void 0},resizeText:function(i,l,p){var d=i._fullLayout,f=d["_"+p+"Text_minsize"];if(f){var u,h=d.uniformtext.mode==="hide";switch(p){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}l.selectAll(u).each(function(m){var v=m.transform;v&&(v.scale=h&&v.hide?0:f/v.fontSize,n.select(this).select("text").attr("transform",a.getTextTransform(v)))})}}}},{"../../lib":232,"@plotly/d3":11}],343:[function(t,s,c){var n=t("../../plots/attributes"),a=t("../../plots/domain").attributes,o=t("../../plots/font_attributes"),i=t("../../components/color/attributes"),l=t("../../plots/template_attributes").hovertemplateAttrs,p=t("../../plots/template_attributes").texttemplateAttrs,d=t("../../lib/extend").extendFlat,f=o({editType:"plot",arrayOk:!0,colorEditType:"plot"});s.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:d({},n.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:l({},{keys:["label","color","value","percent","text"]}),texttemplate:p({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:d({},f,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:d({},f,{}),outsidetextfont:d({},f,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:d({},f,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:a({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:d({},f,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":101,"../../lib/extend":226,"../../plots/attributes":275,"../../plots/domain":307,"../../plots/font_attributes":308,"../../plots/template_attributes":315}],344:[function(t,s,c){var n=t("../../plots/plots");c.name="pie",c.plot=function(a,o,i,l){n.plotBasePlot(c.name,a,o,i,l)},c.clean=function(a,o,i,l){n.cleanBasePlot(c.name,a,o,i,l)}},{"../../plots/plots":314}],345:[function(t,s,c){var n=t("fast-isnumeric"),a=t("tinycolor2"),o=t("../../components/color"),i={};function l(d){return function(f,u){return!!f&&!!(f=a(f)).isValid()&&(f=o.addOpacity(f,f.getAlpha()),d[u]||(d[u]=f),f)}}function p(d,f){var u,h=JSON.stringify(d),m=f[h];if(!m){for(m=d.slice(),u=0;u<d.length;u++)m.push(a(d[u]).lighten(20).toHexString());for(u=0;u<d.length;u++)m.push(a(d[u]).darken(20).toHexString());f[h]=m}return m}s.exports={calc:function(d,f){var u,h,m=[],v=d._fullLayout,y=v.hiddenlabels||[],k=f.labels,_=f.marker.colors||[],T=f.values,b=f._length,x=f._hasValues&&b;if(f.dlabel)for(k=new Array(b),u=0;u<b;u++)k[u]=String(f.label0+u*f.dlabel);var O={},A=l(v["_"+f.type+"colormap"]),C=0,L=!1;for(u=0;u<b;u++){var w,E,I;if(x){if(w=T[u],!n(w)||(w=+w)<0)continue}else w=1;(E=k[u])!==void 0&&E!==""||(E=u);var M=O[E=String(E)];M===void 0?(O[E]=m.length,(I=y.indexOf(E)!==-1)||(C+=w),m.push({v:w,label:E,color:A(_[u],E),i:u,pts:[u],hidden:I})):(L=!0,(h=m[M]).v+=w,h.pts.push(u),h.hidden||(C+=w),h.color===!1&&_[u]&&(h.color=A(_[u],E)))}return(f.type==="funnelarea"?L:f.sort)&&m.sort(function(V,j){return j.v-V.v}),m[0]&&(m[0].vTotal=C),m},crossTraceCalc:function(d,f){var u=(f||{}).type;u||(u="pie");var h=d._fullLayout,m=d.calcdata,v=h[u+"colorway"],y=h["_"+u+"colormap"];h["extend"+u+"colors"]&&(v=p(v,i));for(var k=0,_=0;_<m.length;_++){var T=m[_];if(T[0].trace.type===u)for(var b=0;b<T.length;b++){var x=T[b];x.color===!1&&(y[x.label]?x.color=y[x.label]:(y[x.label]=x.color=v[k%v.length],k++))}}},makePullColorFn:l,generateExtendedColors:p}},{"../../components/color":102,"fast-isnumeric":17,tinycolor2:67}],346:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../../lib"),o=t("./attributes"),i=t("../../plots/domain").defaults,l=t("../bar/defaults").handleText;function p(d,f){var u=Array.isArray(d),h=a.isArrayOrTypedArray(f),m=Math.min(u?d.length:1/0,h?f.length:1/0);if(isFinite(m)||(m=0),m&&h){for(var v,y=0;y<m;y++){var k=f[y];if(n(k)&&k>0){v=!0;break}}v||(m=0)}return{hasLabels:u,hasValues:h,len:m}}s.exports={handleLabelsAndValues:p,supplyDefaults:function(d,f,u,h){function m(A,C){return a.coerce(d,f,o,A,C)}var v=p(m("labels"),m("values")),y=v.len;if(f._hasLabels=v.hasLabels,f._hasValues=v.hasValues,!f._hasLabels&&f._hasValues&&(m("label0"),m("dlabel")),y){f._length=y,m("marker.line.width")&&m("marker.line.color"),m("marker.colors"),m("scalegroup");var k,_=m("text"),T=m("texttemplate");if(T||(k=m("textinfo",Array.isArray(_)?"text+percent":"percent")),m("hovertext"),m("hovertemplate"),T||k&&k!=="none"){var b=m("textposition");l(d,f,h,m,b,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(b)||b==="auto"||b==="outside")&&m("automargin"),(b==="inside"||b==="auto"||Array.isArray(b))&&m("insidetextorientation")}i(f,h,m);var x=m("hole");if(m("title.text")){var O=m("title.position",x?"middle center":"top center");x||O!=="middle center"||(f.title.position="top center"),a.coerceFont(m,"title.font",h.font)}m("sort"),m("direction"),m("rotation"),m("pull")}else f.visible=!1}}},{"../../lib":232,"../../plots/domain":307,"../bar/defaults":330,"./attributes":343,"fast-isnumeric":17}],347:[function(t,s,c){var n=t("../../components/fx/helpers").appendArrayMultiPointValues;s.exports=function(a,o){var i={curveNumber:o.index,pointNumbers:a.pts,data:o._input,fullData:o,label:a.label,color:a.color,value:a.v,percent:a.percent,text:a.text,bbox:a.bbox,v:a.v};return a.pts.length===1&&(i.pointNumber=i.i=a.pts[0]),n(i,o,a.pts),o.type==="funnelarea"&&(delete i.v,delete i.i),i}},{"../../components/fx/helpers":138}],348:[function(t,s,c){var n=t("../../lib");function a(o){return o.indexOf("e")!==-1?o.replace(/[.]?0+e/,"e"):o.indexOf(".")!==-1?o.replace(/[.]?0+$/,""):o}c.formatPiePercent=function(o,i){var l=a((100*o).toPrecision(3));return n.numSeparate(l,i)+"%"},c.formatPieValue=function(o,i){var l=a(o.toPrecision(10));return n.numSeparate(l,i)},c.getFirstFilled=function(o,i){if(Array.isArray(o))for(var l=0;l<i.length;l++){var p=o[i[l]];if(p||p===0||p==="")return p}},c.castOption=function(o,i){return Array.isArray(o)?c.getFirstFilled(o,i):o||void 0},c.getRotationAngle=function(o){return(o==="auto"?0:o)*Math.PI/180}},{"../../lib":232}],349:[function(t,s,c){s.exports={attributes:t("./attributes"),supplyDefaults:t("./defaults").supplyDefaults,supplyLayoutDefaults:t("./layout_defaults"),layoutAttributes:t("./layout_attributes"),calc:t("./calc").calc,crossTraceCalc:t("./calc").crossTraceCalc,plot:t("./plot").plot,style:t("./style"),styleOne:t("./style_one"),moduleType:"trace",name:"pie",basePlotModule:t("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":343,"./base_plot":344,"./calc":345,"./defaults":346,"./layout_attributes":350,"./layout_defaults":351,"./plot":352,"./style":353,"./style_one":354}],350:[function(t,s,c){s.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],351:[function(t,s,c){var n=t("../../lib"),a=t("./layout_attributes");s.exports=function(o,i){function l(p,d){return n.coerce(o,i,a,p,d)}l("hiddenlabels"),l("piecolorway",i.colorway),l("extendpiecolors")}},{"../../lib":232,"./layout_attributes":350}],352:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../plots/plots"),o=t("../../components/fx"),i=t("../../components/color"),l=t("../../components/drawing"),p=t("../../lib"),d=p.strScale,f=p.strTranslate,u=t("../../lib/svg_text_utils"),h=t("../bar/uniform_text"),m=h.recordMinTextSize,v=h.clearMinTextSize,y=t("../bar/constants").TEXTPAD,k=t("./helpers"),_=t("./event_data"),T=t("../../lib").isValidTextValue;function b(Y,D,U){var $=U[0],Q=$.cx,F=$.cy,z=$.trace,P=z.type==="funnelarea";"_hasHoverLabel"in z||(z._hasHoverLabel=!1),"_hasHoverEvent"in z||(z._hasHoverEvent=!1),Y.on("mouseover",function(Z){var R=D._fullLayout,q=D._fullData[z.index];if(!D._dragging&&R.hovermode!==!1){var tt=q.hoverinfo;if(Array.isArray(tt)&&(tt=o.castHoverinfo({hoverinfo:[k.castOption(tt,Z.pts)],_module:z._module},R,0)),tt==="all"&&(tt="label+text+value+percent+name"),q.hovertemplate||tt!=="none"&&tt!=="skip"&&tt){var rt=Z.rInscribed||0,nt=Q+Z.pxmid[0]*(1-rt),ct=F+Z.pxmid[1]*(1-rt),st=R.separators,gt=[];if(tt&&tt.indexOf("label")!==-1&&gt.push(Z.label),Z.text=k.castOption(q.hovertext||q.text,Z.pts),tt&&tt.indexOf("text")!==-1){var wt=Z.text;p.isValidTextValue(wt)&&gt.push(wt)}Z.value=Z.v,Z.valueLabel=k.formatPieValue(Z.v,st),tt&&tt.indexOf("value")!==-1&&gt.push(Z.valueLabel),Z.percent=Z.v/$.vTotal,Z.percentLabel=k.formatPiePercent(Z.percent,st),tt&&tt.indexOf("percent")!==-1&&gt.push(Z.percentLabel);var Ot=q.hoverlabel,bt=Ot.font,Ht=[];o.loneHover({trace:z,x0:nt-rt*$.r,x1:nt+rt*$.r,y:ct,_x0:P?Q+Z.TL[0]:nt-rt*$.r,_x1:P?Q+Z.TR[0]:nt+rt*$.r,_y0:P?F+Z.TL[1]:ct-rt*$.r,_y1:P?F+Z.BL[1]:ct+rt*$.r,text:gt.join("<br>"),name:q.hovertemplate||tt.indexOf("name")!==-1?q.name:void 0,idealAlign:Z.pxmid[0]<0?"left":"right",color:k.castOption(Ot.bgcolor,Z.pts)||Z.color,borderColor:k.castOption(Ot.bordercolor,Z.pts),fontFamily:k.castOption(bt.family,Z.pts),fontSize:k.castOption(bt.size,Z.pts),fontColor:k.castOption(bt.color,Z.pts),nameLength:k.castOption(Ot.namelength,Z.pts),textAlign:k.castOption(Ot.align,Z.pts),hovertemplate:k.castOption(q.hovertemplate,Z.pts),hovertemplateLabels:Z,eventData:[_(Z,q)]},{container:R._hoverlayer.node(),outerContainer:R._paper.node(),gd:D,inOut_bbox:Ht}),Z.bbox=Ht[0],z._hasHoverLabel=!0}z._hasHoverEvent=!0,D.emit("plotly_hover",{points:[_(Z,q)],event:n.event})}}),Y.on("mouseout",function(Z){var R=D._fullLayout,q=D._fullData[z.index],tt=n.select(this).datum();z._hasHoverEvent&&(Z.originalEvent=n.event,D.emit("plotly_unhover",{points:[_(tt,q)],event:n.event}),z._hasHoverEvent=!1),z._hasHoverLabel&&(o.loneUnhover(R._hoverlayer.node()),z._hasHoverLabel=!1)}),Y.on("click",function(Z){var R=D._fullLayout,q=D._fullData[z.index];D._dragging||R.hovermode===!1||(D._hoverdata=[_(Z,q)],o.click(D,n.event))})}function x(Y,D,U){var $=k.castOption(Y.insidetextfont.color,D.pts);!$&&Y._input.textfont&&($=k.castOption(Y._input.textfont.color,D.pts));var Q=k.castOption(Y.insidetextfont.family,D.pts)||k.castOption(Y.textfont.family,D.pts)||U.family,F=k.castOption(Y.insidetextfont.size,D.pts)||k.castOption(Y.textfont.size,D.pts)||U.size;return{color:$||i.contrast(D.color),family:Q,size:F}}function O(Y,D){for(var U,$,Q=0;Q<Y.length;Q++)if(($=(U=Y[Q][0]).trace).title.text){var F=$.title.text;$._meta&&(F=p.templateString(F,$._meta));var z=l.tester.append("text").attr("data-notex",1).text(F).call(l.font,$.title.font).call(u.convertToTspans,D),P=l.bBox(z.node(),!0);U.titleBox={width:P.width,height:P.height},z.remove()}}function A(Y,D,U){var $=U.r||D.rpx1,Q=D.rInscribed;if(D.startangle===D.stopangle)return{rCenter:1-Q,scale:0,rotate:0,textPosAngle:0};var F,z=D.ring,P=z===1&&Math.abs(D.startangle-D.stopangle)===2*Math.PI,Z=D.halfangle,R=D.midangle,q=U.trace.insidetextorientation,tt=q==="horizontal",rt=q==="tangential",nt=q==="radial",ct=q==="auto",st=[];if(!ct){var gt,wt=function(ut,it){if(function(Mt,Tt){var Nt=Mt.startangle,zt=Mt.stopangle;return Nt>Tt&&Tt>zt||Nt<Tt&&Tt<zt}(D,ut)){var dt=Math.abs(ut-D.startangle),mt=Math.abs(ut-D.stopangle),Et=dt<mt?dt:mt;(F=it==="tan"?L(Y,$,z,Et,0):C(Y,$,z,Et,Math.PI/2)).textPosAngle=ut,st.push(F)}};if(tt||rt){for(gt=4;gt>=-4;gt-=2)wt(Math.PI*gt,"tan");for(gt=4;gt>=-4;gt-=2)wt(Math.PI*(gt+1),"tan")}if(tt||nt){for(gt=4;gt>=-4;gt-=2)wt(Math.PI*(gt+1.5),"rad");for(gt=4;gt>=-4;gt-=2)wt(Math.PI*(gt+.5),"rad")}}if(P||ct||tt){var Ot=Math.sqrt(Y.width*Y.width+Y.height*Y.height);if((F={scale:Q*$*2/Ot,rCenter:1-Q,rotate:0}).textPosAngle=(D.startangle+D.stopangle)/2,F.scale>=1)return F;st.push(F)}(ct||nt)&&((F=C(Y,$,z,Z,R)).textPosAngle=(D.startangle+D.stopangle)/2,st.push(F)),(ct||rt)&&((F=L(Y,$,z,Z,R)).textPosAngle=(D.startangle+D.stopangle)/2,st.push(F));for(var bt=0,Ht=0,Dt=0;Dt<st.length;Dt++){var yt=st[Dt].scale;if(Ht<yt&&(Ht=yt,bt=Dt),!ct&&Ht>=1)break}return st[bt]}function C(Y,D,U,$,Q){D=Math.max(0,D-2*y);var F=Y.width/Y.height,z=I(F,$,D,U);return{scale:2*z/Y.height,rCenter:w(F,z/D),rotate:E(Q)}}function L(Y,D,U,$,Q){D=Math.max(0,D-2*y);var F=Y.height/Y.width,z=I(F,$,D,U);return{scale:2*z/Y.width,rCenter:w(F,z/D),rotate:E(Q+Math.PI/2)}}function w(Y,D){return Math.cos(D)-Y*D}function E(Y){return(180/Math.PI*Y+720)%180-90}function I(Y,D,U,$){var Q=Y+1/(2*Math.tan(D));return U*Math.min(1/(Math.sqrt(Q*Q+.5)+Q),$/(Math.sqrt(Y*Y+$/2)+Y))}function M(Y,D){return Y.v!==D.vTotal||D.trace.hole?Math.min(1/(1+1/Math.sin(Y.halfangle)),Y.ring/2):1}function V(Y,D){var U=D.pxmid[0],$=D.pxmid[1],Q=Y.width/2,F=Y.height/2;return U<0&&(Q*=-1),$<0&&(F*=-1),{scale:1,rCenter:1,rotate:0,x:Q+Math.abs(F)*(Q>0?1:-1)/2,y:F/(1+U*U/($*$)),outside:!0}}function j(Y,D){var U,$,Q,F=Y.trace,z={x:Y.cx,y:Y.cy},P={tx:0,ty:0};P.ty+=F.title.font.size,Q=H(F),F.title.position.indexOf("top")!==-1?(z.y-=(1+Q)*Y.r,P.ty-=Y.titleBox.height):F.title.position.indexOf("bottom")!==-1&&(z.y+=(1+Q)*Y.r);var Z,R,q=(Z=Y.r,R=Y.trace.aspectratio,Z/(R===void 0?1:R)),tt=D.w*(F.domain.x[1]-F.domain.x[0])/2;return F.title.position.indexOf("left")!==-1?(tt+=q,z.x-=(1+Q)*q,P.tx+=Y.titleBox.width/2):F.title.position.indexOf("center")!==-1?tt*=2:F.title.position.indexOf("right")!==-1&&(tt+=q,z.x+=(1+Q)*q,P.tx-=Y.titleBox.width/2),U=tt/Y.titleBox.width,$=W(Y,D)/Y.titleBox.height,{x:z.x,y:z.y,scale:Math.min(U,$),tx:P.tx,ty:P.ty}}function W(Y,D){var U=Y.trace,$=D.h*(U.domain.y[1]-U.domain.y[0]);return Math.min(Y.titleBox.height,$/2)}function H(Y){var D,U=Y.pull;if(!U)return 0;if(Array.isArray(U))for(U=0,D=0;D<Y.pull.length;D++)Y.pull[D]>U&&(U=Y.pull[D]);return U}function B(Y,D){for(var U=[],$=0;$<Y.length;$++){var Q=Y[$][0],F=Q.trace,z=F.domain,P=D.w*(z.x[1]-z.x[0]),Z=D.h*(z.y[1]-z.y[0]);F.title.text&&F.title.position!=="middle center"&&(Z-=W(Q,D));var R=P/2,q=Z/2;F.type!=="funnelarea"||F.scalegroup||(q/=F.aspectratio),Q.r=Math.min(R,q)/(1+H(F)),Q.cx=D.l+D.w*(F.domain.x[1]+F.domain.x[0])/2,Q.cy=D.t+D.h*(1-F.domain.y[0])-Z/2,F.title.text&&F.title.position.indexOf("bottom")!==-1&&(Q.cy-=W(Q,D)),F.scalegroup&&U.indexOf(F.scalegroup)===-1&&U.push(F.scalegroup)}(function(tt,rt){for(var nt,ct,st,gt=0;gt<rt.length;gt++){var wt=1/0,Ot=rt[gt];for(ct=0;ct<tt.length;ct++)if(nt=tt[ct][0],(st=nt.trace).scalegroup===Ot){var bt;if(st.type==="pie")bt=nt.r*nt.r;else if(st.type==="funnelarea"){var Ht,Dt;st.aspectratio>1?(Ht=nt.r,Dt=Ht/st.aspectratio):(Dt=nt.r,Ht=Dt*st.aspectratio),Ht*=(1+st.baseratio)/2,bt=Ht*Dt}wt=Math.min(wt,bt/nt.vTotal)}for(ct=0;ct<tt.length;ct++)if(nt=tt[ct][0],(st=nt.trace).scalegroup===Ot){var yt=wt*nt.vTotal;st.type==="funnelarea"&&(yt/=(1+st.baseratio)/2,yt/=st.aspectratio),nt.r=Math.sqrt(yt)}}})(Y,U)}function K(Y,D){return[Y*Math.sin(D),-Y*Math.cos(D)]}function et(Y,D,U){var $=Y._fullLayout,Q=U.trace,F=Q.texttemplate,z=Q.textinfo;if(!F&&z&&z!=="none"){var P,Z=z.split("+"),R=function(bt){return Z.indexOf(bt)!==-1},q=R("label"),tt=R("text"),rt=R("value"),nt=R("percent"),ct=$.separators;if(P=q?[D.label]:[],tt){var st=k.getFirstFilled(Q.text,D.pts);T(st)&&P.push(st)}rt&&P.push(k.formatPieValue(D.v,ct)),nt&&P.push(k.formatPiePercent(D.v/U.vTotal,ct)),D.text=P.join("<br>")}if(F){var gt=p.castOption(Q,D.i,"texttemplate");if(gt){var wt=function(bt){return{label:bt.label,value:bt.v,valueLabel:k.formatPieValue(bt.v,$.separators),percent:bt.v/U.vTotal,percentLabel:k.formatPiePercent(bt.v/U.vTotal,$.separators),color:bt.color,text:bt.text,customdata:p.castOption(Q,bt.i,"customdata")}}(D),Ot=k.getFirstFilled(Q.text,D.pts);(T(Ot)||Ot==="")&&(wt.text=Ot),D.text=p.texttemplateString(gt,wt,Y._fullLayout._d3locale,wt,Q._meta||{})}else D.text=""}}function G(Y,D){var U=Y.rotate*Math.PI/180,$=Math.cos(U),Q=Math.sin(U),F=(D.left+D.right)/2,z=(D.top+D.bottom)/2;Y.textX=F*$-z*Q,Y.textY=F*Q+z*$,Y.noCenter=!0}s.exports={plot:function(Y,D){var U=Y._fullLayout,$=U._size;v("pie",U),O(D,Y),B(D,$);var Q=p.makeTraceGroups(U._pielayer,D,"trace").each(function(F){var z=n.select(this),P=F[0],Z=P.trace;(function(R){var q,tt,rt,nt=R[0],ct=nt.r,st=nt.trace,gt=k.getRotationAngle(st.rotation),wt=2*Math.PI/nt.vTotal,Ot="px0",bt="px1";if(st.direction==="counterclockwise"){for(q=0;q<R.length&&R[q].hidden;q++);if(q===R.length)return;gt+=wt*R[q].v,wt*=-1,Ot="px1",bt="px0"}for(rt=K(ct,gt),q=0;q<R.length;q++)(tt=R[q]).hidden||(tt[Ot]=rt,tt.startangle=gt,gt+=wt*tt.v/2,tt.pxmid=K(ct,gt),tt.midangle=gt,gt+=wt*tt.v/2,rt=K(ct,gt),tt.stopangle=gt,tt[bt]=rt,tt.largeArc=tt.v>nt.vTotal/2?1:0,tt.halfangle=Math.PI*Math.min(tt.v/nt.vTotal,.5),tt.ring=1-st.hole,tt.rInscribed=M(tt,nt))})(F),z.attr("stroke-linejoin","round"),z.each(function(){var R=n.select(this).selectAll("g.slice").data(F);R.enter().append("g").classed("slice",!0),R.exit().remove();var q=[[[],[]],[[],[]]],tt=!1;R.each(function(bt,Ht){if(bt.hidden)n.select(this).selectAll("path,g").remove();else{bt.pointNumber=bt.i,bt.curveNumber=Z.index,q[bt.pxmid[1]<0?0:1][bt.pxmid[0]<0?0:1].push(bt);var Dt=P.cx,yt=P.cy,ut=n.select(this),it=ut.selectAll("path.surface").data([bt]);if(it.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),ut.call(b,Y,F),Z.pull){var dt=+k.castOption(Z.pull,bt.pts)||0;dt>0&&(Dt+=dt*bt.pxmid[0],yt+=dt*bt.pxmid[1])}bt.cxFinal=Dt,bt.cyFinal=yt;var mt=Z.hole;if(bt.v===P.vTotal){var Et="M"+(Dt+bt.px0[0])+","+(yt+bt.px0[1])+At(bt.px0,bt.pxmid,!0,1)+At(bt.pxmid,bt.px0,!0,1)+"Z";mt?it.attr("d","M"+(Dt+mt*bt.px0[0])+","+(yt+mt*bt.px0[1])+At(bt.px0,bt.pxmid,!1,mt)+At(bt.pxmid,bt.px0,!1,mt)+"Z"+Et):it.attr("d",Et)}else{var Mt=At(bt.px0,bt.px1,!0,1);if(mt){var Tt=1-mt;it.attr("d","M"+(Dt+mt*bt.px1[0])+","+(yt+mt*bt.px1[1])+At(bt.px1,bt.px0,!1,mt)+"l"+Tt*bt.px0[0]+","+Tt*bt.px0[1]+Mt+"Z")}else it.attr("d","M"+Dt+","+yt+"l"+bt.px0[0]+","+bt.px0[1]+Mt+"Z")}et(Y,bt,P);var Nt=k.castOption(Z.textposition,bt.pts),zt=ut.selectAll("g.slicetext").data(bt.text&&Nt!=="none"?[0]:[]);zt.enter().append("g").classed("slicetext",!0),zt.exit().remove(),zt.each(function(){var Ct=p.ensureSingle(n.select(this),"text","",function(xt){xt.attr("data-notex",1)}),qt=p.ensureUniformFontSize(Y,Nt==="outside"?function(xt,kt,Bt){var ie=k.castOption(xt.outsidetextfont.color,kt.pts)||k.castOption(xt.textfont.color,kt.pts)||Bt.color,ye=k.castOption(xt.outsidetextfont.family,kt.pts)||k.castOption(xt.textfont.family,kt.pts)||Bt.family,ot=k.castOption(xt.outsidetextfont.size,kt.pts)||k.castOption(xt.textfont.size,kt.pts)||Bt.size;return{color:ie,family:ye,size:ot}}(Z,bt,U.font):x(Z,bt,U.font));Ct.text(bt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(l.font,qt).call(u.convertToTspans,Y);var St,$t=l.bBox(Ct.node());if(Nt==="outside")St=V($t,bt);else if(St=A($t,bt,P),Nt==="auto"&&St.scale<1){var Zt=p.ensureUniformFontSize(Y,Z.outsidetextfont);Ct.call(l.font,Zt),St=V($t=l.bBox(Ct.node()),bt)}var Yt=St.textPosAngle,re=Yt===void 0?bt.pxmid:K(P.r,Yt);if(St.targetX=Dt+re[0]*St.rCenter+(St.x||0),St.targetY=yt+re[1]*St.rCenter+(St.y||0),G(St,$t),St.outside){var Qt=St.targetY;bt.yLabelMin=Qt-$t.height/2,bt.yLabelMid=Qt,bt.yLabelMax=Qt+$t.height/2,bt.labelExtraX=0,bt.labelExtraY=0,tt=!0}St.fontSize=qt.size,m(Z.type,St,U),F[Ht].transform=St,Ct.attr("transform",p.getTextTransform(St))})}function At(Ct,qt,St,$t){var Zt=$t*(qt[0]-Ct[0]),Yt=$t*(qt[1]-Ct[1]);return"a"+$t*P.r+","+$t*P.r+" 0 "+bt.largeArc+(St?" 1 ":" 0 ")+Zt+","+Yt}});var rt=n.select(this).selectAll("g.titletext").data(Z.title.text?[0]:[]);if(rt.enter().append("g").classed("titletext",!0),rt.exit().remove(),rt.each(function(){var bt,Ht=p.ensureSingle(n.select(this),"text","",function(yt){yt.attr("data-notex",1)}),Dt=Z.title.text;Z._meta&&(Dt=p.templateString(Dt,Z._meta)),Ht.text(Dt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(l.font,Z.title.font).call(u.convertToTspans,Y),bt=Z.title.position==="middle center"?function(yt){var ut=Math.sqrt(yt.titleBox.width*yt.titleBox.width+yt.titleBox.height*yt.titleBox.height);return{x:yt.cx,y:yt.cy,scale:yt.trace.hole*yt.r*2/ut,tx:0,ty:-yt.titleBox.height/2+yt.trace.title.font.size}}(P):j(P,$),Ht.attr("transform",f(bt.x,bt.y)+d(Math.min(1,bt.scale))+f(bt.tx,bt.ty))}),tt&&function(bt,Ht){var Dt,yt,ut,it,dt,mt,Et,Mt,Tt,Nt,zt,At,Ct;function qt(Yt,re){return Yt.pxmid[1]-re.pxmid[1]}function St(Yt,re){return re.pxmid[1]-Yt.pxmid[1]}function $t(Yt,re){re||(re={});var Qt,xt,kt,Bt,ie=re.labelExtraY+(yt?re.yLabelMax:re.yLabelMin),ye=yt?Yt.yLabelMin:Yt.yLabelMax,ot=yt?Yt.yLabelMax:Yt.yLabelMin,ft=Yt.cyFinal+dt(Yt.px0[1],Yt.px1[1]),Lt=ie-ye;if(Lt*Et>0&&(Yt.labelExtraY=Lt),Array.isArray(Ht.pull))for(xt=0;xt<Nt.length;xt++)(kt=Nt[xt])===Yt||(k.castOption(Ht.pull,Yt.pts)||0)>=(k.castOption(Ht.pull,kt.pts)||0)||((Yt.pxmid[1]-kt.pxmid[1])*Et>0?(Lt=kt.cyFinal+dt(kt.px0[1],kt.px1[1])-ye-Yt.labelExtraY)*Et>0&&(Yt.labelExtraY+=Lt):(ot+Yt.labelExtraY-ft)*Et>0&&(Qt=3*mt*Math.abs(xt-Nt.indexOf(Yt)),(Bt=kt.cxFinal+it(kt.px0[0],kt.px1[0])+Qt-(Yt.cxFinal+Yt.pxmid[0])-Yt.labelExtraX)*mt>0&&(Yt.labelExtraX+=Bt)))}for(yt=0;yt<2;yt++)for(ut=yt?qt:St,dt=yt?Math.max:Math.min,Et=yt?1:-1,Dt=0;Dt<2;Dt++){for(it=Dt?Math.max:Math.min,mt=Dt?1:-1,(Mt=bt[yt][Dt]).sort(ut),Tt=bt[1-yt][Dt],Nt=Tt.concat(Mt),At=[],zt=0;zt<Mt.length;zt++)Mt[zt].yLabelMid!==void 0&&At.push(Mt[zt]);for(Ct=!1,zt=0;yt&&zt<Tt.length;zt++)if(Tt[zt].yLabelMid!==void 0){Ct=Tt[zt];break}for(zt=0;zt<At.length;zt++){var Zt=zt&&At[zt-1];Ct&&!zt&&(Zt=Ct),$t(At[zt],Zt)}}}(q,Z),function(bt,Ht){bt.each(function(Dt){var yt=n.select(this);if(Dt.labelExtraX||Dt.labelExtraY){var ut=yt.select("g.slicetext text");Dt.transform.targetX+=Dt.labelExtraX,Dt.transform.targetY+=Dt.labelExtraY,ut.attr("transform",p.getTextTransform(Dt.transform));var it=Dt.cxFinal+Dt.pxmid[0],dt="M"+it+","+(Dt.cyFinal+Dt.pxmid[1]),mt=(Dt.yLabelMax-Dt.yLabelMin)*(Dt.pxmid[0]<0?-1:1)/4;if(Dt.labelExtraX){var Et=Dt.labelExtraX*Dt.pxmid[1]/Dt.pxmid[0],Mt=Dt.yLabelMid+Dt.labelExtraY-(Dt.cyFinal+Dt.pxmid[1]);Math.abs(Et)>Math.abs(Mt)?dt+="l"+Mt*Dt.pxmid[0]/Dt.pxmid[1]+","+Mt+"H"+(it+Dt.labelExtraX+mt):dt+="l"+Dt.labelExtraX+","+Et+"v"+(Mt-Et)+"h"+mt}else dt+="V"+(Dt.yLabelMid+Dt.labelExtraY)+"h"+mt;p.ensureSingle(yt,"path","textline").call(i.stroke,Ht.outsidetextfont.color).attr({"stroke-width":Math.min(2,Ht.outsidetextfont.size/8),d:dt,fill:"none"})}else yt.select("path.textline").remove()})}(R,Z),tt&&Z.automargin){var nt=l.bBox(z.node()),ct=Z.domain,st=$.w*(ct.x[1]-ct.x[0]),gt=$.h*(ct.y[1]-ct.y[0]),wt=(.5*st-P.r)/$.w,Ot=(.5*gt-P.r)/$.h;a.autoMargin(Y,"pie."+Z.uid+".automargin",{xl:ct.x[0]-wt,xr:ct.x[1]+wt,yb:ct.y[0]-Ot,yt:ct.y[1]+Ot,l:Math.max(P.cx-P.r-nt.left,0),r:Math.max(nt.right-(P.cx+P.r),0),b:Math.max(nt.bottom-(P.cy+P.r),0),t:Math.max(P.cy-P.r-nt.top,0),pad:5})}})});setTimeout(function(){Q.selectAll("tspan").each(function(){var F=n.select(this);F.attr("dy")&&F.attr("dy",F.attr("dy"))})},0)},formatSliceLabel:et,transformInsideText:A,determineInsideTextFont:x,positionTitleOutside:j,prerenderTitles:O,layoutAreas:B,attachFxHandlers:b,computeTransform:G}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx":142,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":314,"../bar/constants":328,"../bar/uniform_text":342,"./event_data":347,"./helpers":348,"@plotly/d3":11}],353:[function(t,s,c){var n=t("@plotly/d3"),a=t("./style_one"),o=t("../bar/uniform_text").resizeText;s.exports=function(i){var l=i._fullLayout._pielayer.selectAll(".trace");o(i,l,"pie"),l.each(function(p){var d=p[0].trace,f=n.select(this);f.style({opacity:d.opacity}),f.selectAll("path.surface").each(function(u){n.select(this).call(a,u,d)})})}},{"../bar/uniform_text":342,"./style_one":354,"@plotly/d3":11}],354:[function(t,s,c){var n=t("../../components/color"),a=t("./helpers").castOption;s.exports=function(o,i,l){var p=l.marker.line,d=a(p.color,i.pts)||n.defaultLine,f=a(p.width,i.pts)||0;o.style("stroke-width",f).call(n.fill,i.color).call(n.stroke,d)}},{"../../components/color":102,"./helpers":348}],355:[function(t,s,c){var n=t("../../lib");s.exports=function(a,o){for(var i=0;i<a.length;i++)a[i].i=i;n.mergeArray(o.text,a,"tx"),n.mergeArray(o.texttemplate,a,"txt"),n.mergeArray(o.hovertext,a,"htx"),n.mergeArray(o.customdata,a,"data"),n.mergeArray(o.textposition,a,"tp"),o.textfont&&(n.mergeArrayCastPositive(o.textfont.size,a,"ts"),n.mergeArray(o.textfont.color,a,"tc"),n.mergeArray(o.textfont.family,a,"tf"));var l=o.marker;if(l){n.mergeArrayCastPositive(l.size,a,"ms"),n.mergeArrayCastPositive(l.opacity,a,"mo"),n.mergeArray(l.symbol,a,"mx"),n.mergeArray(l.color,a,"mc");var p=l.line;l.line&&(n.mergeArray(p.color,a,"mlc"),n.mergeArrayCastPositive(p.width,a,"mlw"));var d=l.gradient;d&&d.type!=="none"&&(n.mergeArray(d.type,a,"mgt"),n.mergeArray(d.color,a,"mgc"))}}},{"../../lib":232}],356:[function(t,s,c){var n=t("../../plots/cartesian/axis_format_attributes").axisHoverFormat,a=t("../../plots/template_attributes").texttemplateAttrs,o=t("../../plots/template_attributes").hovertemplateAttrs,i=t("../../components/colorscale/attributes"),l=t("../../plots/font_attributes"),p=t("../../components/drawing/attributes").dash,d=t("../../components/drawing"),f=t("./constants"),u=t("../../lib/extend").extendFlat;s.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:n("x"),yhoverformat:n("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:a({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:o({},{keys:f.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:u({},p,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},marker:u({symbol:{valType:"enumerated",values:d.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:u({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},i("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},i("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:l({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":109,"../../components/drawing":124,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":308,"../../plots/template_attributes":315,"./constants":360}],357:[function(t,s,c){var n=t("fast-isnumeric"),a=t("../../lib"),o=t("../../plots/cartesian/axes"),i=t("../../plots/cartesian/align_period"),l=t("../../constants/numerical").BADNUM,p=t("./subtypes"),d=t("./colorscale_calc"),f=t("./arrays_to_calcdata"),u=t("./calc_selection");function h(_,T,b,x,O,A,C){var L=T._length,w=_._fullLayout,E=b._id,I=x._id,M=w._firstScatter[y(T)]===T.uid,V=(k(T,w,b,x)||{}).orientation,j=T.fill;b._minDtick=0,x._minDtick=0;var W={padded:!0},H={padded:!0};C&&(W.ppad=H.ppad=C);var B=L<2||O[0]!==O[L-1]||A[0]!==A[L-1];B&&(j==="tozerox"||j==="tonextx"&&(M||V==="h"))?W.tozero=!0:(T.error_y||{}).visible||j!=="tonexty"&&j!=="tozeroy"&&(p.hasMarkers(T)||p.hasText(T))||(W.padded=!1,W.ppad=0),B&&(j==="tozeroy"||j==="tonexty"&&(M||V==="v"))?H.tozero=!0:j!=="tonextx"&&j!=="tozerox"||(H.padded=!1),E&&(T._extremes[E]=o.findExtremes(b,O,W)),I&&(T._extremes[I]=o.findExtremes(x,A,H))}function m(_,T){if(p.hasMarkers(_)){var b,x=_.marker,O=1.6*(_.marker.sizeref||1);if(b=_.marker.sizemode==="area"?function(E){return Math.max(Math.sqrt((E||0)/O),3)}:function(E){return Math.max((E||0)/O,3)},a.isArrayOrTypedArray(x.size)){var A={type:"linear"};o.setConvert(A);for(var C=A.makeCalcdata(_.marker,"size"),L=new Array(T),w=0;w<T;w++)L[w]=b(C[w]);return L}return b(x.size)}}function v(_,T){var b=y(T),x=_._firstScatter;x[b]||(x[b]=T.uid)}function y(_){var T=_.stackgroup;return _.xaxis+_.yaxis+_.type+(T?"-"+T:"")}function k(_,T,b,x){var O=_.stackgroup;if(O){var A=T._scatterStackOpts[b._id+x._id][O],C=A.orientation==="v"?x:b;return C.type==="linear"||C.type==="log"?A:void 0}}s.exports={calc:function(_,T){var b,x,O,A,C,L,w=_._fullLayout,E=o.getFromId(_,T.xaxis||"x"),I=o.getFromId(_,T.yaxis||"y"),M=E.makeCalcdata(T,"x"),V=I.makeCalcdata(T,"y"),j=i(T,E,"x",M),W=i(T,I,"y",V),H=j.vals,B=W.vals,K=T._length,et=new Array(K),G=T.ids,Y=k(T,w,E,I),D=!1;v(w,T);var U,$="x",Q="y";Y?(a.pushUnique(Y.traceIndices,T._expandedIndex),(b=Y.orientation==="v")?(Q="s",U="x"):($="s",U="y"),C=Y.stackgaps==="interpolate"):h(_,T,E,I,H,B,m(T,K));var F=!!T.xperiodalignment,z=!!T.yperiodalignment;for(x=0;x<K;x++){var P=et[x]={},Z=n(H[x]),R=n(B[x]);Z&&R?(P[$]=H[x],P[Q]=B[x],F&&(P.orig_x=M[x],P.xEnd=j.ends[x],P.xStart=j.starts[x]),z&&(P.orig_y=V[x],P.yEnd=W.ends[x],P.yStart=W.starts[x])):Y&&(b?Z:R)?(P[U]=b?H[x]:B[x],P.gap=!0,C?(P.s=l,D=!0):P.s=0):P[$]=P[Q]=l,G&&(P.id=String(G[x]))}if(f(et,T),d(_,T),u(et,T),Y){for(x=0;x<et.length;)et[x][U]===l?et.splice(x,1):x++;if(a.sort(et,function(nt,ct){return nt[U]-ct[U]||nt.i-ct.i}),D){for(x=0;x<et.length-1&&et[x].gap;)x++;for((L=et[x].s)||(L=et[x].s=0),O=0;O<x;O++)et[O].s=L;for(A=et.length-1;A>x&&et[A].gap;)A--;for(L=et[A].s,O=et.length-1;O>A;O--)et[O].s=L;for(;x<A;)if(et[++x].gap){for(O=x+1;et[O].gap;)O++;for(var q=et[x-1][U],tt=et[x-1].s,rt=(et[O].s-tt)/(et[O][U]-q);x<O;)et[x].s=tt+(et[x][U]-q)*rt,x++}}}return et},calcMarkerSize:m,calcAxisExpansion:h,setFirstScatter:v,getStackOpts:k}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"./arrays_to_calcdata":355,"./calc_selection":358,"./colorscale_calc":359,"./subtypes":381,"fast-isnumeric":17}],358:[function(t,s,c){var n=t("../../lib");s.exports=function(a,o){n.isArrayOrTypedArray(o.selectedpoints)&&n.tagSelected(a,o)}},{"../../lib":232}],359:[function(t,s,c){var n=t("../../components/colorscale/helpers").hasColorscale,a=t("../../components/colorscale/calc"),o=t("./subtypes");s.exports=function(i,l){o.hasLines(l)&&n(l,"line")&&a(i,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(l)&&(n(l,"marker")&&a(i,l,{vals:l.marker.color,containerStr:"marker",cLetter:"c"}),n(l,"marker.line")&&a(i,l,{vals:l.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"./subtypes":381}],360:[function(t,s,c){s.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],361:[function(t,s,c){var n=t("./calc");function a(o,i,l,p,d,f,u){d[p]=!0;var h={i:null,gap:!0,s:0};if(h[u]=l,o.splice(i,0,h),i&&l===o[i-1][u]){var m=o[i-1];h.s=m.s,h.i=m.i,h.gap=m.gap}else f&&(h.s=function(v,y,k,_){var T=v[y-1],b=v[y+1];return b?T?T.s+(b.s-T.s)*(k-T[_])/(b[_]-T[_]):b.s:T.s}(o,i,l,u));i||(o[0].t=o[1].t,o[0].trace=o[1].trace,delete o[1].t,delete o[1].trace)}s.exports=function(o,i){var l=i.xaxis,p=i.yaxis,d=l._id+p._id,f=o._fullLayout._scatterStackOpts[d];if(f){var u,h,m,v,y,k,_,T,b,x,O,A,C,L,w,E=o.calcdata;for(var I in f){var M=(x=f[I]).traceIndices;if(M.length){for(O=x.stackgaps==="interpolate",A=x.groupnorm,x.orientation==="v"?(C="x",L="y"):(C="y",L="x"),w=new Array(M.length),u=0;u<w.length;u++)w[u]=!1;k=E[M[0]];var V=new Array(k.length);for(u=0;u<k.length;u++)V[u]=k[u][C];for(u=1;u<M.length;u++){for(y=E[M[u]],h=m=0;h<y.length;h++){for(_=y[h][C];_>V[m]&&m<V.length;m++)a(y,h,V[m],u,w,O,C),h++;if(_!==V[m]){for(v=0;v<u;v++)a(E[M[v]],m,_,v,w,O,C);V.splice(m,0,_)}m++}for(;m<V.length;m++)a(y,h,V[m],u,w,O,C),h++}var j=V.length;for(h=0;h<k.length;h++){for(T=k[h][L]=k[h].s,u=1;u<M.length;u++)(y=E[M[u]])[0].trace._rawLength=y[0].trace._length,y[0].trace._length=j,T+=y[h].s,y[h][L]=T;if(A)for(b=(A==="fraction"?T:T/100)||1,u=0;u<M.length;u++){var W=E[M[u]][h];W[L]/=b,W.sNorm=W.s/b}}for(u=0;u<M.length;u++){var H=(y=E[M[u]])[0].trace,B=n.calcMarkerSize(H,H._rawLength),K=Array.isArray(B);if(B&&w[u]||K){var et=B;for(B=new Array(j),h=0;h<j;h++)B[h]=y[h].gap?0:K?et[y[h].i]:et}var G=new Array(j),Y=new Array(j);for(h=0;h<j;h++)G[h]=y[h].x,Y[h]=y[h].y;n.calcAxisExpansion(o,H,l,p,G,Y,B),y[0].t.orientation=x.orientation}}}}}},{"./calc":357}],362:[function(t,s,c){s.exports=function(n){for(var a=0;a<n.length;a++){var o=n[a];if(o.type==="scatter"){var i=o.fill;if(i!=="none"&&i!=="toself"&&(o.opacity=void 0,i==="tonexty"||i==="tonextx"))for(var l=a-1;l>=0;l--){var p=n[l];if(p.type==="scatter"&&p.xaxis===o.xaxis&&p.yaxis===o.yaxis){p.opacity=void 0;break}}}}}},{}],363:[function(t,s,c){var n=t("../../lib"),a=t("../../registry"),o=t("./attributes"),i=t("./constants"),l=t("./subtypes"),p=t("./xy_defaults"),d=t("./period_defaults"),f=t("./stack_defaults"),u=t("./marker_defaults"),h=t("./line_defaults"),m=t("./line_shape_defaults"),v=t("./text_defaults"),y=t("./fillcolor_defaults");s.exports=function(k,_,T,b){function x(M,V){return n.coerce(k,_,o,M,V)}var O=p(k,_,b,x);if(O||(_.visible=!1),_.visible){d(k,_,b,x),x("xhoverformat"),x("yhoverformat");var A=f(k,_,b,x),C=!A&&O<i.PTS_LINESONLY?"lines+markers":"lines";x("text"),x("hovertext"),x("mode",C),l.hasLines(_)&&(h(k,_,T,b,x),m(k,_,x),x("connectgaps"),x("line.simplify")),l.hasMarkers(_)&&u(k,_,T,b,x,{gradient:!0}),l.hasText(_)&&(x("texttemplate"),v(k,_,b,x));var L=[];(l.hasMarkers(_)||l.hasText(_))&&(x("cliponaxis"),x("marker.maxdisplayed"),L.push("points")),x("fill",A?A.fillDflt:"none"),_.fill!=="none"&&(y(k,_,T,x),l.hasLines(_)||m(k,_,x));var w=(_.line||{}).color,E=(_.marker||{}).color;_.fill!=="tonext"&&_.fill!=="toself"||L.push("fills"),x("hoveron",L.join("+")||"points"),_.hoveron!=="fills"&&x("hovertemplate");var I=a.getComponentMethod("errorbars","supplyDefaults");I(k,_,w||E||T,{axis:"y"}),I(k,_,w||E||T,{axis:"x",inherit:"y"}),n.coerceSelectionMarkerOpacity(_,x)}}},{"../../lib":232,"../../registry":316,"./attributes":356,"./constants":360,"./fillcolor_defaults":364,"./line_defaults":369,"./line_shape_defaults":371,"./marker_defaults":375,"./period_defaults":376,"./stack_defaults":379,"./subtypes":381,"./text_defaults":382,"./xy_defaults":383}],364:[function(t,s,c){var n=t("../../components/color"),a=t("../../lib").isArrayOrTypedArray;s.exports=function(o,i,l,p){var d=!1;if(i.marker){var f=i.marker.color,u=(i.marker.line||{}).color;f&&!a(f)?d=f:u&&!a(u)&&(d=u)}p("fillcolor",n.addOpacity((i.line||{}).color||d||l,.5))}},{"../../components/color":102,"../../lib":232}],365:[function(t,s,c){var n=t("../../plots/cartesian/axes");s.exports=function(a,o,i){var l={},p={_fullLayout:i},d=n.getFromTrace(p,o,"x"),f=n.getFromTrace(p,o,"y");return l.xLabel=n.tickText(d,d.c2l(a.x),!0).text,l.yLabel=n.tickText(f,f.c2l(a.y),!0).text,l}},{"../../plots/cartesian/axes":279}],366:[function(t,s,c){var n=t("../../components/color"),a=t("./subtypes");s.exports=function(o,i){var l,p;if(o.mode==="lines")return(l=o.line.color)&&n.opacity(l)?l:o.fillcolor;if(o.mode==="none")return o.fill?o.fillcolor:"";var d=i.mcc||(o.marker||{}).color,f=i.mlcc||((o.marker||{}).line||{}).color;return(p=d&&n.opacity(d)?d:f&&n.opacity(f)&&(i.mlw||((o.marker||{}).line||{}).width)?f:"")?n.opacity(p)<.3?n.addOpacity(p,.3):p:(l=(o.line||{}).color)&&n.opacity(l)&&a.hasLines(o)&&o.line.width?l:o.fillcolor}},{"../../components/color":102,"./subtypes":381}],367:[function(t,s,c){var n=t("../../lib"),a=t("../../components/fx"),o=t("../../registry"),i=t("./get_trace_color"),l=t("../../components/color"),p=n.fillText;s.exports=function(d,f,u,h){var m=d.cd,v=m[0].trace,y=d.xa,k=d.ya,_=y.c2p(f),T=k.c2p(u),b=[_,T],x=v.hoveron||"",O=v.mode.indexOf("markers")!==-1?3:.5,A=!!v.xperiodalignment,C=!!v.yperiodalignment;if(x.indexOf("points")!==-1){var L=function(st){var gt=Math.max(O,st.mrc||0),wt=y.c2p(st.x)-_,Ot=k.c2p(st.y)-T;return Math.max(Math.sqrt(wt*wt+Ot*Ot)-gt,1-O/gt)},w=a.getDistanceFunction(h,function(st){if(A){var gt=y.c2p(st.xStart),wt=y.c2p(st.xEnd);return _>=Math.min(gt,wt)&&_<=Math.max(gt,wt)?0:1/0}var Ot=Math.max(3,st.mrc||0),bt=1-1/Ot,Ht=Math.abs(y.c2p(st.x)-_);return Ht<Ot?bt*Ht/Ot:Ht-Ot+bt},function(st){if(C){var gt=k.c2p(st.yStart),wt=k.c2p(st.yEnd);return T>=Math.min(gt,wt)&&T<=Math.max(gt,wt)?0:1/0}var Ot=Math.max(3,st.mrc||0),bt=1-1/Ot,Ht=Math.abs(k.c2p(st.y)-T);return Ht<Ot?bt*Ht/Ot:Ht-Ot+bt},L);if(a.getClosest(m,w,d),d.index!==!1){var E=m[d.index],I=y.c2p(E.x,!0),M=k.c2p(E.y,!0),V=E.mrc||1;d.index=E.i;var j=m[0].t.orientation,W=j&&(E.sNorm||E.s),H=j==="h"?W:E.orig_x!==void 0?E.orig_x:E.x,B=j==="v"?W:E.orig_y!==void 0?E.orig_y:E.y;return n.extendFlat(d,{color:i(v,E),x0:I-V,x1:I+V,xLabelVal:H,y0:M-V,y1:M+V,yLabelVal:B,spikeDistance:L(E),hovertemplate:v.hovertemplate}),p(E,v,d),o.getComponentMethod("errorbars","hoverInfo")(E,v,d),[d]}}if(x.indexOf("fills")!==-1&&v._polygons){var K,et,G,Y,D,U,$,Q,F,z=v._polygons,P=[],Z=!1,R=1/0,q=-1/0,tt=1/0,rt=-1/0;for(K=0;K<z.length;K++)(G=z[K]).contains(b)&&(Z=!Z,P.push(G),tt=Math.min(tt,G.ymin),rt=Math.max(rt,G.ymax));if(Z){var nt=((tt=Math.max(tt,0))+(rt=Math.min(rt,k._length)))/2;for(K=0;K<P.length;K++)for(Y=P[K].pts,et=1;et<Y.length;et++)(Q=Y[et-1][1])>nt!=(F=Y[et][1])>=nt&&(U=Y[et-1][0],$=Y[et][0],F-Q&&(D=U+($-U)*(nt-Q)/(F-Q),R=Math.min(R,D),q=Math.max(q,D)));R=Math.max(R,0),q=Math.min(q,y._length);var ct=l.defaultLine;return l.opacity(v.fillcolor)?ct=v.fillcolor:l.opacity((v.line||{}).color)&&(ct=v.line.color),n.extendFlat(d,{distance:d.maxHoverDistance,x0:R,x1:q,y0:nt,y1:nt,color:ct,hovertemplate:!1}),delete d.index,v.text&&!Array.isArray(v.text)?d.text=String(v.text):d.text=v.name,[d]}}}},{"../../components/color":102,"../../components/fx":142,"../../lib":232,"../../registry":316,"./get_trace_color":366}],368:[function(t,s,c){var n=t("./subtypes");s.exports={hasLines:n.hasLines,hasMarkers:n.hasMarkers,hasText:n.hasText,isBubble:n.isBubble,attributes:t("./attributes"),supplyDefaults:t("./defaults"),crossTraceDefaults:t("./cross_trace_defaults"),calc:t("./calc").calc,crossTraceCalc:t("./cross_trace_calc"),arraysToCalcdata:t("./arrays_to_calcdata"),plot:t("./plot"),colorbar:t("./marker_colorbar"),formatLabels:t("./format_labels"),style:t("./style").style,styleOnSelect:t("./style").styleOnSelect,hoverPoints:t("./hover"),selectPoints:t("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:t("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":293,"./arrays_to_calcdata":355,"./attributes":356,"./calc":357,"./cross_trace_calc":361,"./cross_trace_defaults":362,"./defaults":363,"./format_labels":365,"./hover":367,"./marker_colorbar":374,"./plot":377,"./select":378,"./style":380,"./subtypes":381}],369:[function(t,s,c){var n=t("../../lib").isArrayOrTypedArray,a=t("../../components/colorscale/helpers").hasColorscale,o=t("../../components/colorscale/defaults");s.exports=function(i,l,p,d,f,u){var h=(i.marker||{}).color;f("line.color",p),a(i,"line")?o(i,l,d,f,{prefix:"line.",cLetter:"c"}):f("line.color",!n(h)&&h||p),f("line.width"),(u||{}).noDash||f("line.dash")}},{"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],370:[function(t,s,c){var n=t("../../constants/numerical"),a=n.BADNUM,o=n.LOG_CLIP,i=o+.5,l=o-.5,p=t("../../lib"),d=p.segmentsIntersect,f=p.constrain,u=t("./constants");s.exports=function(h,m){var v,y,k,_,T,b,x,O,A,C,L,w,E,I,M,V,j,W,H=m.xaxis,B=m.yaxis,K=H.type==="log",et=B.type==="log",G=H._length,Y=B._length,D=m.connectGaps,U=m.baseTolerance,$=m.shape,Q=$==="linear",F=m.fill&&m.fill!=="none",z=[],P=u.minTolerance,Z=h.length,R=new Array(Z),q=0;function tt(St){var $t=h[St];if(!$t)return!1;var Zt=m.linearized?H.l2p($t.x):H.c2p($t.x),Yt=m.linearized?B.l2p($t.y):B.c2p($t.y);if(Zt===a){if(K&&(Zt=H.c2p($t.x,!0)),Zt===a)return!1;et&&Yt===a&&(Zt*=Math.abs(H._m*Y*(H._m>0?i:l)/(B._m*G*(B._m>0?i:l)))),Zt*=1e3}if(Yt===a){if(et&&(Yt=B.c2p($t.y,!0)),Yt===a)return!1;Yt*=1e3}return[Zt,Yt]}function rt(St,$t,Zt,Yt){var re=Zt-St,Qt=Yt-$t,xt=.5-St,kt=.5-$t,Bt=re*re+Qt*Qt,ie=re*xt+Qt*kt;if(ie>0&&ie<Bt){var ye=xt*Qt-kt*re;if(ye*ye<Bt)return!0}}function nt(St,$t){var Zt=St[0]/G,Yt=St[1]/Y,re=Math.max(0,-Zt,Zt-1,-Yt,Yt-1);return re&&j!==void 0&&rt(Zt,Yt,j,W)&&(re=0),re&&$t&&rt(Zt,Yt,$t[0]/G,$t[1]/Y)&&(re=0),(1+u.toleranceGrowth*re)*U}function ct(St,$t){var Zt=St[0]-$t[0],Yt=St[1]-$t[1];return Math.sqrt(Zt*Zt+Yt*Yt)}var st,gt,wt,Ot,bt,Ht,Dt,yt=u.maxScreensAway,ut=-G*yt,it=G*(1+yt),dt=-Y*yt,mt=Y*(1+yt),Et=[[ut,dt,it,dt],[it,dt,it,mt],[it,mt,ut,mt],[ut,mt,ut,dt]];function Mt(St){if(St[0]<ut||St[0]>it||St[1]<dt||St[1]>mt)return[f(St[0],ut,it),f(St[1],dt,mt)]}function Tt(St,$t){return St[0]===$t[0]&&(St[0]===ut||St[0]===it)||St[1]===$t[1]&&(St[1]===dt||St[1]===mt)||void 0}function Nt(St,$t,Zt){return function(Yt,re){var Qt=Mt(Yt),xt=Mt(re),kt=[];if(Qt&&xt&&Tt(Qt,xt))return kt;Qt&&kt.push(Qt),xt&&kt.push(xt);var Bt=2*p.constrain((Yt[St]+re[St])/2,$t,Zt)-((Qt||Yt)[St]+(xt||re)[St]);return Bt&&((Qt&&xt?Bt>0==Qt[St]>xt[St]?Qt:xt:Qt||xt)[St]+=Bt),kt}}function zt(St){var $t=St[0],Zt=St[1],Yt=$t===R[q-1][0],re=Zt===R[q-1][1];if(!Yt||!re)if(q>1){var Qt=$t===R[q-2][0],xt=Zt===R[q-2][1];Yt&&($t===ut||$t===it)&&Qt?xt?q--:R[q-1]=St:re&&(Zt===dt||Zt===mt)&&xt?Qt?q--:R[q-1]=St:R[q++]=St}else R[q++]=St}function At(St){R[q-1][0]!==St[0]&&R[q-1][1]!==St[1]&&zt([wt,Ot]),zt(St),bt=null,wt=Ot=0}function Ct(St){if(j=St[0]/G,W=St[1]/Y,st=St[0]<ut?ut:St[0]>it?it:0,gt=St[1]<dt?dt:St[1]>mt?mt:0,st||gt){if(q)if(bt){var $t=Dt(bt,St);$t.length>1&&(At($t[0]),R[q++]=$t[1])}else Ht=Dt(R[q-1],St)[0],R[q++]=Ht;else R[q++]=[st||St[0],gt||St[1]];var Zt=R[q-1];st&&gt&&(Zt[0]!==st||Zt[1]!==gt)?(bt&&(wt!==st&&Ot!==gt?zt(wt&&Ot?(Yt=bt,Qt=(re=St)[0]-Yt[0],xt=(re[1]-Yt[1])/Qt,(Yt[1]*re[0]-re[1]*Yt[0])/Qt>0?[xt>0?ut:it,mt]:[xt>0?it:ut,dt]):[wt||st,Ot||gt]):wt&&Ot&&zt([wt,Ot])),zt([st,gt])):wt-st&&Ot-gt&&zt([st||wt,gt||Ot]),bt=St,wt=st,Ot=gt}else bt&&At(Dt(bt,St)[0]),R[q++]=St;var Yt,re,Qt,xt}for($==="linear"||$==="spline"?Dt=function(St,$t){for(var Zt=[],Yt=0,re=0;re<4;re++){var Qt=Et[re],xt=d(St[0],St[1],$t[0],$t[1],Qt[0],Qt[1],Qt[2],Qt[3]);xt&&(!Yt||Math.abs(xt.x-Zt[0][0])>1||Math.abs(xt.y-Zt[0][1])>1)&&(xt=[xt.x,xt.y],Yt&&ct(xt,St)<ct(Zt[0],St)?Zt.unshift(xt):Zt.push(xt),Yt++)}return Zt}:$==="hv"||$==="vh"?Dt=function(St,$t){var Zt=[],Yt=Mt(St),re=Mt($t);return Yt&&re&&Tt(Yt,re)||(Yt&&Zt.push(Yt),re&&Zt.push(re)),Zt}:$==="hvh"?Dt=Nt(0,ut,it):$==="vhv"&&(Dt=Nt(1,dt,mt)),v=0;v<Z;v++)if(y=tt(v)){for(q=0,bt=null,Ct(y),v++;v<Z;v++){if(!(_=tt(v))){if(D)continue;break}if(Q&&m.simplify){var qt=tt(v+1);if(C=ct(_,y),F&&(q===0||q===Z-1)||!(C<nt(_,qt)*P)){for(O=[(_[0]-y[0])/C,(_[1]-y[1])/C],T=y,L=C,w=I=M=0,x=!1,k=_,v++;v<h.length;v++){if(b=qt,qt=tt(v+1),!b){if(D)continue;break}if(V=(A=[b[0]-y[0],b[1]-y[1]])[0]*O[1]-A[1]*O[0],I=Math.min(I,V),(M=Math.max(M,V))-I>nt(b,qt))break;k=b,(E=A[0]*O[0]+A[1]*O[1])>L?(L=E,_=b,x=!1):E<w&&(w=E,T=b,x=!0)}if(x?(Ct(_),k!==T&&Ct(T)):(T!==y&&Ct(T),k!==_&&Ct(_)),Ct(k),v>=h.length||!b)break;Ct(b),y=b}}else Ct(_)}bt&&zt([wt||bt[0],Ot||bt[1]]),z.push(R.slice(0,q))}return z}},{"../../constants/numerical":212,"../../lib":232,"./constants":360}],371:[function(t,s,c){s.exports=function(n,a,o){o("line.shape")==="spline"&&o("line.smoothing")}},{}],372:[function(t,s,c){var n={tonextx:1,tonexty:1,tonext:1};s.exports=function(a,o,i){var l,p,d,f,u,h={},m=!1,v=-1,y=0,k=-1;for(p=0;p<i.length;p++)(d=(l=i[p][0].trace).stackgroup||"")?d in h?u=h[d]:(u=h[d]=y,y++):l.fill in n&&k>=0?u=k:(u=k=y,y++),u<v&&(m=!0),l._groupIndex=v=u;var _=i.slice();m&&_.sort(function(b,x){var O=b[0].trace,A=x[0].trace;return O._groupIndex-A._groupIndex||O.index-A.index});var T={};for(p=0;p<_.length;p++)d=(l=_[p][0].trace).stackgroup||"",l.visible===!0?(l._nexttrace=null,l.fill in n&&(f=T[d],l._prevtrace=f||null,f&&(f._nexttrace=l)),l._ownfill=l.fill&&(l.fill.substr(0,6)==="tozero"||l.fill==="toself"||l.fill.substr(0,2)==="to"&&!l._prevtrace),T[d]=l):l._prevtrace=l._nexttrace=l._ownfill=null;return _}},{}],373:[function(t,s,c){var n=t("fast-isnumeric");s.exports=function(a,o){o||(o=2);var i=a.marker,l=i.sizeref||1,p=i.sizemin||0,d=i.sizemode==="area"?function(f){return Math.sqrt(f/l)}:function(f){return f/l};return function(f){var u=d(f/o);return n(u)&&u>0?Math.max(u,p):0}}},{"fast-isnumeric":17}],374:[function(t,s,c){s.exports={container:"marker",min:"cmin",max:"cmax"}},{}],375:[function(t,s,c){var n=t("../../components/color"),a=t("../../components/colorscale/helpers").hasColorscale,o=t("../../components/colorscale/defaults"),i=t("./subtypes");s.exports=function(l,p,d,f,u,h){var m=i.isBubble(l),v=(l.line||{}).color;h=h||{},v&&(d=v),u("marker.symbol"),u("marker.opacity",m?.7:1),u("marker.size"),u("marker.color",d),a(l,"marker")&&o(l,p,f,u,{prefix:"marker.",cLetter:"c"}),h.noSelect||(u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size")),h.noLine||(u("marker.line.color",v&&!Array.isArray(v)&&p.marker.color!==v?v:m?n.background:n.defaultLine),a(l,"marker.line")&&o(l,p,f,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width",m?1:0)),m&&(u("marker.sizeref"),u("marker.sizemin"),u("marker.sizemode")),h.gradient&&u("marker.gradient.type")!=="none"&&u("marker.gradient.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"./subtypes":381}],376:[function(t,s,c){var n=t("../../lib").dateTick0,a=t("../../constants/numerical").ONEWEEK;function o(i,l){return n(l,i%a==0?1:0)}s.exports=function(i,l,p,d,f){if(f||(f={x:!0,y:!0}),f.x){var u=d("xperiod");u&&(d("xperiod0",o(u,l.xcalendar)),d("xperiodalignment"))}if(f.y){var h=d("yperiod");h&&(d("yperiod0",o(h,l.ycalendar)),d("yperiodalignment"))}}},{"../../constants/numerical":212,"../../lib":232}],377:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../registry"),o=t("../../lib"),i=o.ensureSingle,l=o.identity,p=t("../../components/drawing"),d=t("./subtypes"),f=t("./line_points"),u=t("./link_traces"),h=t("../../lib/polygon").tester;function m(v,y,k,_,T,b,x){var O;(function(it,dt,mt,Et,Mt){var Tt=mt.xaxis,Nt=mt.yaxis,zt=n.extent(o.simpleMap(Tt.range,Tt.r2c)),At=n.extent(o.simpleMap(Nt.range,Nt.r2c)),Ct=Et[0].trace;if(!!d.hasMarkers(Ct)){var qt=Ct.marker.maxdisplayed;if(qt!==0){var St=Et.filter(function(re){return re.x>=zt[0]&&re.x<=zt[1]&&re.y>=At[0]&&re.y<=At[1]}),$t=Math.ceil(St.length/qt),Zt=0;Mt.forEach(function(re,Qt){var xt=re[0].trace;d.hasMarkers(xt)&&xt.marker.maxdisplayed>0&&Qt<dt&&Zt++});var Yt=Math.round(Zt*$t/3+Math.floor(Zt/3)*$t/7.1);Et.forEach(function(re){delete re.vis}),St.forEach(function(re,Qt){Math.round((Qt+Yt)%$t)===0&&(re.vis=!0)})}}})(0,y,k,_,T);var A=!!x&&x.duration>0;function C(it){return A?it.transition():it}var L=k.xaxis,w=k.yaxis,E=_[0].trace,I=E.line,M=n.select(b),V=i(M,"g","errorbars"),j=i(M,"g","lines"),W=i(M,"g","points"),H=i(M,"g","text");if(a.getComponentMethod("errorbars","plot")(v,V,k,x),E.visible===!0){var B,K;C(M).style("opacity",E.opacity);var et=E.fill.charAt(E.fill.length-1);et!=="x"&&et!=="y"&&(et=""),_[0][k.isRangePlot?"nodeRangePlot3":"node3"]=M;var G,Y,D="",U=[],$=E._prevtrace;$&&(D=$._prevRevpath||"",K=$._nextFill,U=$._polygons);var Q,F,z,P,Z,R,q,tt="",rt="",nt=[],ct=o.noop;if(B=E._ownFill,d.hasLines(E)||E.fill!=="none"){for(K&&K.datum(_),["hv","vh","hvh","vhv"].indexOf(I.shape)!==-1?(Q=p.steps(I.shape),F=p.steps(I.shape.split("").reverse().join(""))):Q=F=I.shape==="spline"?function(it){var dt=it[it.length-1];return it.length>1&&it[0][0]===dt[0]&&it[0][1]===dt[1]?p.smoothclosed(it.slice(1),I.smoothing):p.smoothopen(it,I.smoothing)}:function(it){return"M"+it.join("L")},z=function(it){return F(it.reverse())},nt=f(_,{xaxis:L,yaxis:w,connectGaps:E.connectgaps,baseTolerance:Math.max(I.width||1,3)/4,shape:I.shape,simplify:I.simplify,fill:E.fill}),q=E._polygons=new Array(nt.length),O=0;O<nt.length;O++)E._polygons[O]=h(nt[O]);nt.length&&(P=nt[0][0],R=(Z=nt[nt.length-1])[Z.length-1]),ct=function(it){return function(dt){if(G=Q(dt),Y=z(dt),tt?et?(tt+="L"+G.substr(1),rt=Y+"L"+rt.substr(1)):(tt+="Z"+G,rt=Y+"Z"+rt):(tt=G,rt=Y),d.hasLines(E)&&dt.length>1){var mt=n.select(this);if(mt.datum(_),it)C(mt.style("opacity",0).attr("d",G).call(p.lineGroupStyle)).style("opacity",1);else{var Et=C(mt);Et.attr("d",G),p.singleLineStyle(_,Et)}}}}}var st=j.selectAll(".js-line").data(nt);C(st.exit()).style("opacity",0).remove(),st.each(ct(!1)),st.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(p.lineGroupStyle).each(ct(!0)),p.setClipUrl(st,k.layerClipId,v),nt.length?(B?(B.datum(_),P&&R&&(et?(et==="y"?P[1]=R[1]=w.c2p(0,!0):et==="x"&&(P[0]=R[0]=L.c2p(0,!0)),C(B).attr("d","M"+R+"L"+P+"L"+tt.substr(1)).call(p.singleFillStyle)):C(B).attr("d",tt+"Z").call(p.singleFillStyle))):K&&(E.fill.substr(0,6)==="tonext"&&tt&&D?(E.fill==="tonext"?C(K).attr("d",tt+"Z"+D+"Z").call(p.singleFillStyle):C(K).attr("d",tt+"L"+D.substr(1)+"Z").call(p.singleFillStyle),E._polygons=E._polygons.concat(U)):(wt(K),E._polygons=null)),E._prevRevpath=rt,E._prevPolygons=q):(B?wt(B):K&&wt(K),E._polygons=E._prevRevpath=E._prevPolygons=null),W.datum(_),H.datum(_),function(it,dt,mt){var Et,Mt=mt[0].trace,Tt=d.hasMarkers(Mt),Nt=d.hasText(Mt),zt=yt(Mt),At=ut,Ct=ut;if(Tt||Nt){var qt=l,St=Mt.stackgroup,$t=St&&v._fullLayout._scatterStackOpts[L._id+w._id][St].stackgaps==="infer zero";Mt.marker.maxdisplayed||Mt._needsCull?qt=$t?bt:Ot:St&&!$t&&(qt=Ht),Tt&&(At=qt),Nt&&(Ct=qt)}var Zt,Yt=(Et=it.selectAll("path.point").data(At,zt)).enter().append("path").classed("point",!0);A&&Yt.call(p.pointStyle,Mt,v).call(p.translatePoints,L,w).style("opacity",0).transition().style("opacity",1),Et.order(),Tt&&(Zt=p.makePointStyleFns(Mt)),Et.each(function(re){var Qt=n.select(this),xt=C(Qt);p.translatePoint(re,xt,L,w)?(p.singlePointStyle(re,xt,Mt,Zt,v),k.layerClipId&&p.hideOutsideRangePoint(re,xt,L,w,Mt.xcalendar,Mt.ycalendar),Mt.customdata&&Qt.classed("plotly-customdata",re.data!==null&&re.data!==void 0)):xt.remove()}),A?Et.exit().transition().style("opacity",0).remove():Et.exit().remove(),(Et=dt.selectAll("g").data(Ct,zt)).enter().append("g").classed("textpoint",!0).append("text"),Et.order(),Et.each(function(re){var Qt=n.select(this),xt=C(Qt.select("text"));p.translatePoint(re,xt,L,w)?k.layerClipId&&p.hideOutsideRangePoint(re,Qt,L,w,Mt.xcalendar,Mt.ycalendar):Qt.remove()}),Et.selectAll("text").call(p.textPointStyle,Mt,v).each(function(re){var Qt=L.c2p(re.x),xt=w.c2p(re.y);n.select(this).selectAll("tspan.line").each(function(){C(n.select(this)).attr({x:Qt,y:xt})})}),Et.exit().remove()}(W,H,_);var gt=E.cliponaxis===!1?null:k.layerClipId;p.setClipUrl(W,gt,v),p.setClipUrl(H,gt,v)}function wt(it){C(it).attr("d","M0,0Z")}function Ot(it){return it.filter(function(dt){return!dt.gap&&dt.vis})}function bt(it){return it.filter(function(dt){return dt.vis})}function Ht(it){return it.filter(function(dt){return!dt.gap})}function Dt(it){return it.id}function yt(it){if(it.ids)return Dt}function ut(){return!1}}s.exports=function(v,y,k,_,T,b){var x,O,A=!T,C=!!T&&T.duration>0,L=u(v,y,k);(x=_.selectAll("g.trace").data(L,function(w){return w[0].trace.uid})).enter().append("g").attr("class",function(w){return"trace scatter trace"+w[0].trace.uid}).style("stroke-miterlimit",2),x.order(),function(w,E,I){E.each(function(M){var V=i(n.select(this),"g","fills");p.setClipUrl(V,I.layerClipId,w);var j=M[0].trace,W=[];j._ownfill&&W.push("_ownFill"),j._nexttrace&&W.push("_nextFill");var H=V.selectAll("g").data(W,l);H.enter().append("g"),H.exit().each(function(B){j[B]=null}).remove(),H.order().each(function(B){j[B]=i(n.select(this),"path","js-fill")})})}(v,x,y),C?(b&&(O=b()),n.transition().duration(T.duration).ease(T.easing).each("end",function(){O&&O()}).each("interrupt",function(){O&&O()}).each(function(){_.selectAll("g.trace").each(function(w,E){m(v,E,y,w,L,this,T)})})):x.each(function(w,E){m(v,E,y,w,L,this,T)}),A&&x.exit().remove(),_.selectAll("path:not([d])").remove()}},{"../../components/drawing":124,"../../lib":232,"../../lib/polygon":244,"../../registry":316,"./line_points":370,"./link_traces":372,"./subtypes":381,"@plotly/d3":11}],378:[function(t,s,c){var n=t("./subtypes");s.exports=function(a,o){var i,l,p,d,f=a.cd,u=a.xaxis,h=a.yaxis,m=[],v=f[0].trace;if(!n.hasMarkers(v)&&!n.hasText(v))return[];if(o===!1)for(i=0;i<f.length;i++)f[i].selected=0;else for(i=0;i<f.length;i++)l=f[i],p=u.c2p(l.x),d=h.c2p(l.y),l.i!==null&&o.contains([p,d],!1,i,a)?(m.push({pointNumber:l.i,x:u.c2d(l.x),y:h.c2d(l.y)}),l.selected=1):l.selected=0;return m}},{"./subtypes":381}],379:[function(t,s,c){var n=["orientation","groupnorm","stackgaps"];s.exports=function(a,o,i,l){var p=i._scatterStackOpts,d=l("stackgroup");if(d){var f=o.xaxis+o.yaxis,u=p[f];u||(u=p[f]={});var h=u[d],m=!1;h?h.traces.push(o):(h=u[d]={traceIndices:[],traces:[o]},m=!0);for(var v={orientation:o.x&&!o.y?"h":"v"},y=0;y<n.length;y++){var k=n[y],_=k+"Found";if(!h[_]){var T=a[k]!==void 0,b=k==="orientation";if((T||m)&&(h[k]=l(k,v[k]),b&&(h.fillDflt=h[k]==="h"?"tonextx":"tonexty"),T&&(h[_]=!0,!m&&(delete h.traces[0][k],b))))for(var x=0;x<h.traces.length-1;x++){var O=h.traces[x];O._input.fill!==O.fill&&(O.fill=h.fillDflt)}}}return h}}},{}],380:[function(t,s,c){var n=t("@plotly/d3"),a=t("../../components/drawing"),o=t("../../registry");function i(p,d,f){a.pointStyle(p.selectAll("path.point"),d,f)}function l(p,d,f){a.textPointStyle(p.selectAll("text"),d,f)}s.exports={style:function(p){var d=n.select(p).selectAll("g.trace.scatter");d.style("opacity",function(f){return f[0].trace.opacity}),d.selectAll("g.points").each(function(f){i(n.select(this),f.trace||f[0].trace,p)}),d.selectAll("g.text").each(function(f){l(n.select(this),f.trace||f[0].trace,p)}),d.selectAll("g.trace path.js-line").call(a.lineGroupStyle),d.selectAll("g.trace path.js-fill").call(a.fillGroupStyle),o.getComponentMethod("errorbars","style")(d)},stylePoints:i,styleText:l,styleOnSelect:function(p,d,f){var u=d[0].trace;u.selectedpoints?(a.selectedPointStyle(f.selectAll("path.point"),u),a.selectedTextStyle(f.selectAll("text"),u)):(i(f,u,p),l(f,u,p))}}},{"../../components/drawing":124,"../../registry":316,"@plotly/d3":11}],381:[function(t,s,c){var n=t("../../lib");s.exports={hasLines:function(a){return a.visible&&a.mode&&a.mode.indexOf("lines")!==-1},hasMarkers:function(a){return a.visible&&(a.mode&&a.mode.indexOf("markers")!==-1||a.type==="splom")},hasText:function(a){return a.visible&&a.mode&&a.mode.indexOf("text")!==-1},isBubble:function(a){return n.isPlainObject(a.marker)&&n.isArrayOrTypedArray(a.marker.size)}}},{"../../lib":232}],382:[function(t,s,c){var n=t("../../lib");s.exports=function(a,o,i,l,p){p=p||{},l("textposition"),n.coerceFont(l,"textfont",i.font),p.noSelect||(l("selected.textfont.color"),l("unselected.textfont.color"))}},{"../../lib":232}],383:[function(t,s,c){var n=t("../../lib"),a=t("../../registry");s.exports=function(o,i,l,p){var d,f=p("x"),u=p("y");if(a.getComponentMethod("calendars","handleTraceDefaults")(o,i,["x","y"],l),f){var h=n.minRowLength(f);u?d=Math.min(h,n.minRowLength(u)):(d=h,p("y0"),p("dy"))}else{if(!u)return 0;d=n.minRowLength(u),p("x0"),p("dx")}return i._length=d,d}},{"../../lib":232,"../../registry":316}],384:[function(t,s,c){var n=t("../plots/cartesian/axes"),a=t("../lib"),o=t("../plot_api/plot_schema"),i=t("./helpers").pointsAccessorFunction,l=t("../constants/numerical").BADNUM;c.moduleType="transform",c.name="aggregate";var p=c.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},d=p.aggregations;function f(v,y,k,_){if(_.enabled){for(var T=_.target,b=a.nestedProperty(y,T),x=b.get(),O=function(L,w){var E=L.func,I=w.d2c,M=w.c2d;switch(E){case"count":return u;case"first":return h;case"last":return m;case"sum":return function(V,j){for(var W=0,H=0;H<j.length;H++){var B=I(V[j[H]]);B!==l&&(W+=B)}return M(W)};case"avg":return function(V,j){for(var W=0,H=0,B=0;B<j.length;B++){var K=I(V[j[B]]);K!==l&&(W+=K,H++)}return H?M(W/H):l};case"min":return function(V,j){for(var W=1/0,H=0;H<j.length;H++){var B=I(V[j[H]]);B!==l&&(W=Math.min(W,B))}return W===1/0?l:M(W)};case"max":return function(V,j){for(var W=-1/0,H=0;H<j.length;H++){var B=I(V[j[H]]);B!==l&&(W=Math.max(W,B))}return W===-1/0?l:M(W)};case"range":return function(V,j){for(var W=1/0,H=-1/0,B=0;B<j.length;B++){var K=I(V[j[B]]);K!==l&&(W=Math.min(W,K),H=Math.max(H,K))}return H===-1/0||W===1/0?l:M(H-W)};case"change":return function(V,j){var W=I(V[j[0]]),H=I(V[j[j.length-1]]);return W===l||H===l?l:M(H-W)};case"median":return function(V,j){for(var W=[],H=0;H<j.length;H++){var B=I(V[j[H]]);B!==l&&W.push(B)}if(!W.length)return l;W.sort(a.sorterAsc);var K=(W.length-1)/2;return M((W[Math.floor(K)]+W[Math.ceil(K)])/2)};case"mode":return function(V,j){for(var W={},H=0,B=l,K=0;K<j.length;K++){var et=I(V[j[K]]);if(et!==l){var G=W[et]=(W[et]||0)+1;G>H&&(H=G,B=et)}}return H?M(B):l};case"rms":return function(V,j){for(var W=0,H=0,B=0;B<j.length;B++){var K=I(V[j[B]]);K!==l&&(W+=K*K,H++)}return H?M(Math.sqrt(W/H)):l};case"stddev":return function(V,j){var W,H=0,B=0,K=1,et=l;for(W=0;W<j.length&&et===l;W++)et=I(V[j[W]]);if(et===l)return l;for(;W<j.length;W++){var G=I(V[j[W]]);if(G!==l){var Y=G-et;H+=Y,B+=Y*Y,K++}}var D=L.funcmode==="sample"?K-1:K;return D?Math.sqrt((B-H*H/K)/D):0}}}(_,n.getDataConversions(v,y,T,x)),A=new Array(k.length),C=0;C<k.length;C++)A[C]=O(x,k[C]);b.set(A),_.func==="count"&&a.pushUnique(y._arrayAttrs,T)}}function u(v,y){return y.length}function h(v,y){return v[y[0]]}function m(v,y){return v[y[y.length-1]]}c.supplyDefaults=function(v,y){var k,_={};function T(M,V){return a.coerce(v,_,p,M,V)}if(!T("enabled"))return _;var b=o.findArrayAttributes(y),x={};for(k=0;k<b.length;k++)x[b[k]]=1;var O=T("groups");if(!Array.isArray(O)){if(!x[O])return _.enabled=!1,_;x[O]=0}var A,C=v.aggregations||[],L=_.aggregations=new Array(C.length);function w(M,V){return a.coerce(C[k],A,d,M,V)}for(k=0;k<C.length;k++){A={_index:k};var E=w("target"),I=w("func");w("enabled")&&E&&(x[E]||I==="count"&&x[E]===void 0)?(I==="stddev"&&w("funcmode"),x[E]=0,L[k]=A):L[k]={enabled:!1,_index:k}}for(k=0;k<b.length;k++)x[b[k]]&&L.push({target:b[k],func:d.func.dflt,enabled:!0,_index:-1});return _},c.calcTransform=function(v,y,k){if(k.enabled){var _=k.groups,T=a.getTargetArray(y,{target:_});if(T){var b,x,O,A,C={},L={},w=[],E=i(y.transforms,k),I=T.length;for(y._length&&(I=Math.min(I,y._length)),b=0;b<I;b++)(O=C[x=T[b]])===void 0?(C[x]=w.length,A=[b],w.push(A),L[C[x]]=E(b)):(w[O].push(b),L[C[x]]=(L[C[x]]||[]).concat(E(b)));k._indexToPoints=L;var M=k.aggregations;for(b=0;b<M.length;b++)f(v,y,w,M[b]);typeof _=="string"&&f(v,y,w,{target:_,func:"first",enabled:!0}),y._length=w.length}}}},{"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plots/cartesian/axes":279,"./helpers":387}],385:[function(t,s,c){var n=t("../lib"),a=t("../registry"),o=t("../plots/cartesian/axes"),i=t("./helpers").pointsAccessorFunction,l=t("../constants/filter_ops"),p=l.COMPARISON_OPS,d=l.INTERVAL_OPS,f=l.SET_OPS;c.moduleType="transform",c.name="filter",c.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(p).concat(d).concat(f),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},c.supplyDefaults=function(u){var h={};function m(k,_){return n.coerce(u,h,c.attributes,k,_)}if(m("enabled")){var v=m("target");if(n.isArrayOrTypedArray(v)&&v.length===0)return h.enabled=!1,h;m("preservegaps"),m("operation"),m("value");var y=a.getComponentMethod("calendars","handleDefaults");y(u,h,"valuecalendar",null),y(u,h,"targetcalendar",null)}return h},c.calcTransform=function(u,h,m){if(m.enabled){var v=n.getTargetArray(h,m);if(v){var y=m.target,k=v.length;h._length&&(k=Math.min(k,h._length));var _=m.targetcalendar,T=h._arrayAttrs,b=m.preservegaps;if(typeof y=="string"){var x=n.nestedProperty(h,y+"calendar").get();x&&(_=x)}var O,A,C=function(j,W,H){var B=j.operation,K=j.value,et=Array.isArray(K);function G($){return $.indexOf(B)!==-1}var Y,D=function($){return W($,0,j.valuecalendar)},U=function($){return W($,0,H)};switch(G(p)?Y=D(et?K[0]:K):G(d)?Y=et?[D(K[0]),D(K[1])]:[D(K),D(K)]:G(f)&&(Y=et?K.map(D):[D(K)]),B){case"=":return function($){return U($)===Y};case"!=":return function($){return U($)!==Y};case"<":return function($){return U($)<Y};case"<=":return function($){return U($)<=Y};case">":return function($){return U($)>Y};case">=":return function($){return U($)>=Y};case"[]":return function($){var Q=U($);return Q>=Y[0]&&Q<=Y[1]};case"()":return function($){var Q=U($);return Q>Y[0]&&Q<Y[1]};case"[)":return function($){var Q=U($);return Q>=Y[0]&&Q<Y[1]};case"(]":return function($){var Q=U($);return Q>Y[0]&&Q<=Y[1]};case"][":return function($){var Q=U($);return Q<=Y[0]||Q>=Y[1]};case")(":return function($){var Q=U($);return Q<Y[0]||Q>Y[1]};case"](":return function($){var Q=U($);return Q<=Y[0]||Q>Y[1]};case")[":return function($){var Q=U($);return Q<Y[0]||Q>=Y[1]};case"{}":return function($){return Y.indexOf(U($))!==-1};case"}{":return function($){return Y.indexOf(U($))===-1}}}(m,o.getDataToCoordFunc(u,h,y,v),_),L={},w={},E=0;b?(O=function(j){L[j.astr]=n.extendDeep([],j.get()),j.set(new Array(k))},A=function(j,W){var H=L[j.astr][W];j.get()[W]=H}):(O=function(j){L[j.astr]=n.extendDeep([],j.get()),j.set([])},A=function(j,W){var H=L[j.astr][W];j.get().push(H)}),V(O);for(var I=i(h.transforms,m),M=0;M<k;M++)C(v[M])?(V(A,M),w[E++]=I(M)):b&&E++;m._indexToPoints=w,h._length=E}}function V(j,W){for(var H=0;H<T.length;H++)j(n.nestedProperty(h,T[H]),W)}}},{"../constants/filter_ops":210,"../lib":232,"../plots/cartesian/axes":279,"../registry":316,"./helpers":387}],386:[function(t,s,c){var n=t("../lib"),a=t("../plot_api/plot_schema"),o=t("../plots/plots"),i=t("./helpers").pointsAccessorFunction;function l(p,d){var f,u,h,m,v,y,k,_,T,b,x=d.transform,O=d.transformIndex,A=p.transforms[O].groups,C=i(p.transforms,x);if(!n.isArrayOrTypedArray(A)||A.length===0)return[p];var L=n.filterUnique(A),w=new Array(L.length),E=A.length,I=a.findArrayAttributes(p),M=x.styles||[],V={};for(f=0;f<M.length;f++)V[M[f].target]=M[f].value;x.styles&&(b=n.keyedContainer(x,"styles","target","value.name"));var j={},W={};for(f=0;f<L.length;f++){j[y=L[f]]=f,W[y]=0,(k=w[f]=n.extendDeepNoArrays({},p))._group=y,k.transforms[O]._indexToPoints={};var H=null;for(b&&(H=b.get(y)),k.name=H||H===""?H:n.templateString(x.nameformat,{trace:p.name,group:y}),_=k.transforms,k.transforms=[],u=0;u<_.length;u++)k.transforms[u]=n.extendDeepNoArrays({},_[u]);for(u=0;u<I.length;u++)n.nestedProperty(k,I[u]).set([])}for(h=0;h<I.length;h++){for(m=I[h],u=0,T=[];u<L.length;u++)T[u]=n.nestedProperty(w[u],m).get();for(v=n.nestedProperty(p,m).get(),u=0;u<E;u++)T[j[A[u]]].push(v[u])}for(u=0;u<E;u++)(k=w[j[A[u]]]).transforms[O]._indexToPoints[W[A[u]]]=C(u),W[A[u]]++;for(f=0;f<L.length;f++)y=L[f],k=w[f],o.clearExpandedTraceDefaultColors(k),k=n.extendDeepNoArrays(k,V[y]||{});return w}c.moduleType="transform",c.name="groupby",c.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},c.supplyDefaults=function(p,d,f){var u,h={};function m(T,b){return n.coerce(p,h,c.attributes,T,b)}if(!m("enabled"))return h;m("groups"),m("nameformat",f._dataLength>1?"%{group} (%{trace})":"%{group}");var v=p.styles,y=h.styles=[];if(v)for(u=0;u<v.length;u++){var k=y[u]={};n.coerce(v[u],y[u],c.attributes.styles,"target");var _=n.coerce(v[u],y[u],c.attributes.styles,"value");n.isPlainObject(_)?k.value=n.extendDeep({},_):_&&delete k.value}return h},c.transform=function(p,d){var f,u,h,m=[];for(u=0;u<p.length;u++)for(f=l(p[u],d),h=0;h<f.length;h++)m.push(f[h]);return m}},{"../lib":232,"../plot_api/plot_schema":267,"../plots/plots":314,"./helpers":387}],387:[function(t,s,c){c.pointsAccessorFunction=function(n,a){for(var o,i,l=0;l<n.length&&(o=n[l])!==a;l++)o._indexToPoints&&o.enabled!==!1&&(i=o._indexToPoints);return i?function(p){return i[p]}:function(p){return[p]}}},{}],388:[function(t,s,c){var n=t("../lib"),a=t("../plots/cartesian/axes"),o=t("./helpers").pointsAccessorFunction,i=t("../constants/numerical").BADNUM;c.moduleType="transform",c.name="sort",c.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},c.supplyDefaults=function(l){var p={};function d(f,u){return n.coerce(l,p,c.attributes,f,u)}return d("enabled")&&(d("target"),d("order")),p},c.calcTransform=function(l,p,d){if(d.enabled){var f=n.getTargetArray(p,d);if(f){var u=d.target,h=f.length;p._length&&(h=Math.min(h,p._length));var m,v,y=p._arrayAttrs,k=function(A,C,L,w){var E,I=new Array(w),M=new Array(w);for(E=0;E<w;E++)I[E]={v:C[E],i:E};for(I.sort(function(V,j){switch(V.order){case"ascending":return function(W,H){var B=j(W.v),K=j(H.v);return B===i?1:K===i?-1:B-K};case"descending":return function(W,H){var B=j(W.v),K=j(H.v);return B===i?1:K===i?-1:K-B}}}(A,L)),E=0;E<w;E++)M[E]=I[E].i;return M}(d,f,a.getDataToCoordFunc(l,p,u,f),h),_=o(p.transforms,d),T={};for(m=0;m<y.length;m++){var b=n.nestedProperty(p,y[m]),x=b.get(),O=new Array(h);for(v=0;v<h;v++)O[v]=x[k[v]];b.set(O)}for(v=0;v<h;v++)T[v]=_(k[v]);d._indexToPoints=T,p._length=h}}}},{"../constants/numerical":212,"../lib":232,"../plots/cartesian/axes":279,"./helpers":387}],389:[function(t,s,c){c.version="2.5.1"},{}]},{},[8])(8)})})(mm);var d3=nh(mm.exports),gm={},hd={exports:{}},p3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",h3=p3,v3=h3;function ym(){}function xm(){}xm.resetWarningCache=ym;var m3=function(){function e(s,c,n,a,o,i){if(i!==v3){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function r(){return e}var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:xm,resetWarningCache:ym};return t.PropTypes=t,t};hd.exports=m3();var Mn=hd.exports;(function(e){function r(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(O){return typeof O}:r=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},r(b)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=T;var t=a(Pe.exports),s=c(hd.exports);function c(b){return b&&b.__esModule?b:{default:b}}function n(){if(typeof WeakMap!="function")return null;var b=new WeakMap;return n=function(){return b},b}function a(b){if(b&&b.__esModule)return b;if(b===null||r(b)!=="object"&&typeof b!="function")return{default:b};var x=n();if(x&&x.has(b))return x.get(b);var O={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in b)if(Object.prototype.hasOwnProperty.call(b,C)){var L=A?Object.getOwnPropertyDescriptor(b,C):null;L&&(L.get||L.set)?Object.defineProperty(O,C,L):O[C]=b[C]}return O.default=b,x&&x.set(b,O),O}function o(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function i(b,x){for(var O=0;O<x.length;O++){var A=x[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}function l(b,x,O){return x&&i(b.prototype,x),O&&i(b,O),b}function p(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),x&&d(b,x)}function d(b,x){return d=Object.setPrototypeOf||function(A,C){return A.__proto__=C,A},d(b,x)}function f(b){var x=m();return function(){var A=v(b),C;if(x){var L=v(this).constructor;C=Reflect.construct(A,arguments,L)}else C=A.apply(this,arguments);return u(this,C)}}function u(b,x){return x&&(r(x)==="object"||typeof x=="function")?x:h(b)}function h(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function m(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(b){return!1}}function v(b){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},v(b)}var y=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover"],k=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],_=typeof window!="undefined";function T(b){var x=function(O){p(C,O);var A=f(C);function C(L){var w;return o(this,C),w=A.call(this,L),w.p=Promise.resolve(),w.resizeHandler=null,w.handlers={},w.syncWindowResize=w.syncWindowResize.bind(h(w)),w.syncEventHandlers=w.syncEventHandlers.bind(h(w)),w.attachUpdateEvents=w.attachUpdateEvents.bind(h(w)),w.getRef=w.getRef.bind(h(w)),w.handleUpdate=w.handleUpdate.bind(h(w)),w.figureCallback=w.figureCallback.bind(h(w)),w.updatePlotly=w.updatePlotly.bind(h(w)),w}return l(C,[{key:"updatePlotly",value:function(w,E,I){var M=this;this.p=this.p.then(function(){if(!M.unmounting){if(!M.el)throw new Error("Missing element reference");return b.react(M.el,{data:M.props.data,layout:M.props.layout,config:M.props.config,frames:M.props.frames})}}).then(function(){M.unmounting||(M.syncWindowResize(w),M.syncEventHandlers(),M.figureCallback(E),I&&M.attachUpdateEvents())}).catch(function(V){M.props.onError&&M.props.onError(V)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(w){this.unmounting=!1;var E=w.frames&&w.frames.length?w.frames.length:0,I=this.props.frames&&this.props.frames.length?this.props.frames.length:0,M=!(w.layout===this.props.layout&&w.data===this.props.data&&w.config===this.props.config&&I===E),V=w.revision!==void 0,j=w.revision!==this.props.revision;!M&&(!V||V&&!j)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&_&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),b.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var w=this;!this.el||!this.el.removeListener||k.forEach(function(E){w.el.on(E,w.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var w=this;!this.el||!this.el.removeListener||k.forEach(function(E){w.el.removeListener(E,w.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(w){if(typeof w=="function"){var E=this.el,I=E.data,M=E.layout,V=this.el._transitionData?this.el._transitionData._frames:null,j={data:I,layout:M,frames:V};w(j,this.el)}}},{key:"syncWindowResize",value:function(w){var E=this;!_||(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return b.Plots.resize(E.el)},window.addEventListener("resize",this.resizeHandler),w&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(w){this.el=w,this.props.debug&&_&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var w=this;y.forEach(function(E){var I=w.props["on"+E],M=w.handlers[E],V=Boolean(M);I&&!V?w.addEventHandler(E,I):!I&&V?w.removeEventHandler(E):I&&V&&I!==M&&(w.removeEventHandler(E),w.addEventHandler(E,I))})}},{key:"addEventHandler",value:function(w,E){this.handlers[w]=E,this.el.on(this.getPlotlyEventName(w),this.handlers[w])}},{key:"removeEventHandler",value:function(w){this.el.removeListener(this.getPlotlyEventName(w),this.handlers[w]),delete this.handlers[w]}},{key:"getPlotlyEventName",value:function(w){return"plotly_"+w.toLowerCase()}},{key:"render",value:function(){return t.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),C}(t.Component);return x.propTypes={data:s.default.arrayOf(s.default.object),config:s.default.object,layout:s.default.object,frames:s.default.arrayOf(s.default.object),revision:s.default.number,onInitialized:s.default.func,onPurge:s.default.func,onError:s.default.func,onUpdate:s.default.func,debug:s.default.bool,style:s.default.object,className:s.default.string,useResizeHandler:s.default.bool,divId:s.default.string},y.forEach(function(O){x.propTypes["on"+O]=s.default.func}),x.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},x}})(gm);var g3=nh(gm);function _n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function bm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),t.push.apply(t,s)}return t}function pn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?bm(Object(t),!0).forEach(function(s){_n(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bm(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function li(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _m(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function si(e,r,t){return r&&_m(e.prototype,r),t&&_m(e,t),e}function vd(e,r){return vd=Object.setPrototypeOf||function(s,c){return s.__proto__=c,s},vd(e,r)}function ui(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&vd(e,r)}function ja(e){return ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ja(e)}function y3(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Kr(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kr=function(t){return typeof t}:Kr=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr(e)}function wm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x3(e,r){if(r&&(Kr(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wm(e)}function ci(e){var r=y3();return function(){var s=ja(e),c;if(r){var n=ja(this).constructor;c=Reflect.construct(s,arguments,n)}else c=s.apply(this,arguments);return x3(this,c)}}var Tm={};function b3(e,r){}function _3(e,r,t){!r&&!Tm[t]&&(e(!1,t),Tm[t]=!0)}function Xs(e,r){_3(b3,e,r)}var km=function(r){var t,s,c=r.className,n=r.included,a=r.vertical,o=r.style,i=r.length,l=r.offset,p=r.reverse;i<0&&(p=!p,i=Math.abs(i),l=100-l);var d=a?(t={},_n(t,p?"top":"bottom","".concat(l,"%")),_n(t,p?"bottom":"top","auto"),_n(t,"height","".concat(i,"%")),t):(s={},_n(s,p?"right":"left","".concat(l,"%")),_n(s,p?"left":"right","auto"),_n(s,"width","".concat(i,"%")),s),f=pn(pn({},o),d);return n?yn.createElement("div",{className:c,style:f}):null};function gr(){return gr=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},gr.apply(this,arguments)}function w3(e,r){if(e==null)return{};var t={},s=Object.keys(e),c,n;for(n=0;n<s.length;n++)c=s[n],!(r.indexOf(c)>=0)&&(t[c]=e[c]);return t}function qi(e,r){if(e==null)return{};var t=w3(e,r),s,c;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(c=0;c<n.length;c++)s=n[c],!(r.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,s)||(t[s]=e[s]))}return t}function md(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,s=new Array(r);t<r;t++)s[t]=e[t];return s}function T3(e){if(Array.isArray(e))return md(e)}function k3(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mm(e,r){if(!!e){if(typeof e=="string")return md(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return md(e,r)}}function M3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ha(e){return T3(e)||k3(e)||Mm(e)||M3()}function A3(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=ja(e),e!==null););return e}function Zi(e,r,t){return typeof Reflect!="undefined"&&Reflect.get?Zi=Reflect.get:Zi=function(c,n,a){var o=A3(c,n);if(!!o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(a):i.value}},Zi(e,r,t||e)}function Qr(e,r,t,s){var c=Wi.unstable_batchedUpdates?function(a){Wi.unstable_batchedUpdates(t,a)}:t;return e.addEventListener&&e.addEventListener(r,c,s),{remove:function(){e.removeEventListener&&e.removeEventListener(r,c)}}}var Am={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var r={}.hasOwnProperty;function t(){for(var s=[],c=0;c<arguments.length;c++){var n=arguments[c];if(!!n){var a=typeof n;if(a==="string"||a==="number")s.push(n);else if(Array.isArray(n)){if(n.length){var o=t.apply(null,n);o&&s.push(o)}}else if(a==="object")if(n.toString===Object.prototype.toString)for(var i in n)r.call(n,i)&&n[i]&&s.push(i);else s.push(n.toString())}}return s.join(" ")}e.exports?(t.default=t,e.exports=t):window.classNames=t})()})(Am);var Ur=Am.exports,S3=function(r,t,s,c,n,a){Xs(s?c>0:!0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var o=Object.keys(t).map(parseFloat).sort(function(l,p){return l-p});if(s&&c)for(var i=n;i<=a;i+=c)o.indexOf(i)===-1&&o.push(i);return o},C3=function(r){var t=r.prefixCls,s=r.vertical,c=r.reverse,n=r.marks,a=r.dots,o=r.step,i=r.included,l=r.lowerBound,p=r.upperBound,d=r.max,f=r.min,u=r.dotStyle,h=r.activeDotStyle,m=d-f,v=S3(s,n,a,o,f,d).map(function(y){var k,_="".concat(Math.abs(y-f)/m*100,"%"),T=!i&&y===p||i&&y<=p&&y>=l,b=s?pn(pn({},u),{},_n({},c?"top":"bottom",_)):pn(pn({},u),{},_n({},c?"right":"left",_));T&&(b=pn(pn({},b),h));var x=Ur((k={},_n(k,"".concat(t,"-dot"),!0),_n(k,"".concat(t,"-dot-active"),T),_n(k,"".concat(t,"-dot-reverse"),c),k));return yn.createElement("span",{className:x,style:b,key:y})});return yn.createElement("div",{className:"".concat(t,"-step")},v)},O3=function(r){var t=r.className,s=r.vertical,c=r.reverse,n=r.marks,a=r.included,o=r.upperBound,i=r.lowerBound,l=r.max,p=r.min,d=r.onClickLabel,f=Object.keys(n),u=l-p,h=f.map(parseFloat).sort(function(m,v){return m-v}).map(function(m){var v,y=n[m],k=Kr(y)==="object"&&!yn.isValidElement(y),_=k?y.label:y;if(!_&&_!==0)return null;var T=!a&&m===o||a&&m<=o&&m>=i,b=Ur((v={},_n(v,"".concat(t,"-text"),!0),_n(v,"".concat(t,"-text-active"),T),v)),x=_n({marginBottom:"-50%"},c?"top":"bottom","".concat((m-p)/u*100,"%")),O=_n({transform:"translateX(".concat(c?"50%":"-50%",")"),msTransform:"translateX(".concat(c?"50%":"-50%",")")},c?"right":"left","".concat((m-p)/u*100,"%")),A=s?x:O,C=k?pn(pn({},A),y.style):A;return yn.createElement("span",{className:b,style:C,key:m,onMouseDown:function(w){return d(w,m)},onTouchStart:function(w){return d(w,m)}},_)});return yn.createElement("div",{className:t},h)},gd=function(e){ui(t,e);var r=ci(t);function t(){var s;return li(this,t),s=r.apply(this,arguments),s.state={clickFocused:!1},s.setHandleRef=function(c){s.handle=c},s.handleMouseUp=function(){document.activeElement===s.handle&&s.setClickFocus(!0)},s.handleMouseDown=function(c){c.preventDefault(),s.focus()},s.handleBlur=function(){s.setClickFocus(!1)},s.handleKeyDown=function(){s.setClickFocus(!1)},s}return si(t,[{key:"componentDidMount",value:function(){this.onMouseUpListener=Qr(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(c){this.setState({clickFocused:c})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var c,n,a=this.props,o=a.prefixCls,i=a.vertical,l=a.reverse,p=a.offset,d=a.style,f=a.disabled,u=a.min,h=a.max,m=a.value,v=a.tabIndex,y=a.ariaLabel,k=a.ariaLabelledBy,_=a.ariaValueTextFormatter,T=qi(a,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),b=Ur(this.props.className,_n({},"".concat(o,"-handle-click-focused"),this.state.clickFocused)),x=i?(c={},_n(c,l?"top":"bottom","".concat(p,"%")),_n(c,l?"bottom":"top","auto"),_n(c,"transform",l?null:"translateY(+50%)"),c):(n={},_n(n,l?"right":"left","".concat(p,"%")),_n(n,l?"left":"right","auto"),_n(n,"transform","translateX(".concat(l?"+":"-","50%)")),n),O=pn(pn({},d),x),A=v||0;(f||v===null)&&(A=null);var C;return _&&(C=_(m)),yn.createElement("div",gr({ref:this.setHandleRef,tabIndex:A},T,{className:b,style:O,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":u,"aria-valuemax":h,"aria-valuenow":m,"aria-disabled":!!f,"aria-label":y,"aria-labelledby":k,"aria-valuetext":C}))}}]),t}(yn.Component),fn={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(r){var t=r.keyCode;if(r.altKey&&!r.ctrlKey||r.metaKey||t>=fn.F1&&t<=fn.F12)return!1;switch(t){case fn.ALT:case fn.CAPS_LOCK:case fn.CONTEXT_MENU:case fn.CTRL:case fn.DOWN:case fn.END:case fn.ESC:case fn.HOME:case fn.INSERT:case fn.LEFT:case fn.MAC_FF_META:case fn.META:case fn.NUMLOCK:case fn.NUM_CENTER:case fn.PAGE_DOWN:case fn.PAGE_UP:case fn.PAUSE:case fn.PRINT_SCREEN:case fn.RIGHT:case fn.SHIFT:case fn.UP:case fn.WIN_KEY:case fn.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(r){if(r>=fn.ZERO&&r<=fn.NINE||r>=fn.NUM_ZERO&&r<=fn.NUM_MULTIPLY||r>=fn.A&&r<=fn.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&r===0)return!0;switch(r){case fn.SPACE:case fn.QUESTION_MARK:case fn.NUM_PLUS:case fn.NUM_MINUS:case fn.NUM_PERIOD:case fn.NUM_DIVISION:case fn.SEMICOLON:case fn.DASH:case fn.EQUALS:case fn.COMMA:case fn.PERIOD:case fn.SLASH:case fn.APOSTROPHE:case fn.SINGLE_QUOTE:case fn.OPEN_SQUARE_BRACKET:case fn.BACKSLASH:case fn.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};function yd(e,r){try{return Object.keys(r).some(function(t){return e.target===sc.exports.findDOMNode(r[t])})}catch(t){return!1}}function Sm(e,r){var t=r.min,s=r.max;return e<t||e>s}function Cm(e){return e.touches.length>1||e.type.toLowerCase()==="touchend"&&e.touches.length>0}function Om(e,r){var t=r.marks,s=r.step,c=r.min,n=r.max,a=Object.keys(t).map(parseFloat);if(s!==null){var o=Math.pow(10,Lm(s)),i=Math.floor((n*o-c*o)/(s*o)),l=Math.min((e-c)/s,i),p=Math.round(l)*s+c;a.push(p)}var d=a.map(function(f){return Math.abs(e-f)});return a[d.indexOf(Math.min.apply(Math,Ha(d)))]}function Lm(e){var r=e.toString(),t=0;return r.indexOf(".")>=0&&(t=r.length-r.indexOf(".")-1),t}function Em(e,r){return e?r.clientY:r.pageX}function Dm(e,r){return e?r.touches[0].clientY:r.touches[0].pageX}function Pm(e,r){var t=r.getBoundingClientRect();return e?t.top+t.height*.5:window.pageXOffset+t.left+t.width*.5}function xd(e,r){var t=r.max,s=r.min;return e<=s?s:e>=t?t:e}function Nm(e,r){var t=r.step,s=isFinite(Om(e,r))?Om(e,r):0;return t===null?s:parseFloat(s.toFixed(Lm(t)))}function Xi(e){e.stopPropagation(),e.preventDefault()}function L3(e,r,t){var s={increase:function(o,i){return o+i},decrease:function(o,i){return o-i}},c=s[e](Object.keys(t.marks).indexOf(JSON.stringify(r)),1),n=Object.keys(t.marks)[c];return t.step?s[e](r,t.step):!!Object.keys(t.marks).length&&!!t.marks[n]?t.marks[n]:r}function Rm(e,r,t){var s="increase",c="decrease",n=s;switch(e.keyCode){case fn.UP:n=r&&t?c:s;break;case fn.RIGHT:n=!r&&t?c:s;break;case fn.DOWN:n=r&&t?s:c;break;case fn.LEFT:n=!r&&t?s:c;break;case fn.END:return function(a,o){return o.max};case fn.HOME:return function(a,o){return o.min};case fn.PAGE_UP:return function(a,o){return a+o.step*2};case fn.PAGE_DOWN:return function(a,o){return a-o.step*2};default:return}return function(a,o){return L3(n,a,o)}}function ta(){}function Im(e){var r;return r=function(t){ui(c,t);var s=ci(c);function c(n){var a;li(this,c),a=s.call(this,n),a.onDown=function(d,f){var u=f,h=a.props,m=h.draggableTrack,v=h.vertical,y=a.state.bounds,k=m&&a.positionGetValue?a.positionGetValue(u)||[]:[],_=yd(d,a.handlesRefs);if(a.dragTrack=m&&y.length>=2&&!_&&!k.map(function(b,x){var O=x?!0:b>=y[x];return x===k.length-1?b<=y[x]:O}).some(function(b){return!b}),a.dragTrack)a.dragOffset=u,a.startBounds=Ha(y);else{if(!_)a.dragOffset=0;else{var T=Pm(v,d.target);a.dragOffset=u-T,u=T}a.onStart(u)}},a.onMouseDown=function(d){if(d.button===0){a.removeDocumentEvents();var f=a.props.vertical,u=Em(f,d);a.onDown(d,u),a.addDocumentMouseEvents()}},a.onTouchStart=function(d){if(!Cm(d)){var f=a.props.vertical,u=Dm(f,d);a.onDown(d,u),a.addDocumentTouchEvents(),Xi(d)}},a.onFocus=function(d){var f=a.props,u=f.onFocus,h=f.vertical;if(yd(d,a.handlesRefs)&&!a.dragTrack){var m=Pm(h,d.target);a.dragOffset=0,a.onStart(m),Xi(d),u&&u(d)}},a.onBlur=function(d){var f=a.props.onBlur;a.dragTrack||a.onEnd(),f&&f(d)},a.onMouseUp=function(){a.handlesRefs[a.prevMovedHandleIndex]&&a.handlesRefs[a.prevMovedHandleIndex].clickFocus()},a.onMouseMove=function(d){if(!a.sliderRef){a.onEnd();return}var f=Em(a.props.vertical,d);a.onMove(d,f-a.dragOffset,a.dragTrack,a.startBounds)},a.onTouchMove=function(d){if(Cm(d)||!a.sliderRef){a.onEnd();return}var f=Dm(a.props.vertical,d);a.onMove(d,f-a.dragOffset,a.dragTrack,a.startBounds)},a.onKeyDown=function(d){a.sliderRef&&yd(d,a.handlesRefs)&&a.onKeyboard(d)},a.onClickMarkLabel=function(d,f){d.stopPropagation(),a.onChange({value:f}),a.setState({value:f},function(){return a.onEnd(!0)})},a.saveSlider=function(d){a.sliderRef=d};var o=n.step,i=n.max,l=n.min,p=isFinite(i-l)?(i-l)%o==0:!0;return Xs(o&&Math.floor(o)===o?p:!0,"Slider[max] - Slider[min] (".concat(i-l,") should be a multiple of Slider[step] (").concat(o,")")),a.handlesRefs={},a}return si(c,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var a=this.props,o=a.autoFocus,i=a.disabled;o&&!i&&this.focus()}},{key:"componentWillUnmount",value:function(){Zi(ja(c.prototype),"componentWillUnmount",this)&&Zi(ja(c.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var a=this.sliderRef,o=this.props,i=o.vertical,l=o.reverse,p=a.getBoundingClientRect();return i?l?p.bottom:p.top:window.pageXOffset+(l?p.right:p.left)}},{key:"getSliderLength",value:function(){var a=this.sliderRef;if(!a)return 0;var o=a.getBoundingClientRect();return this.props.vertical?o.height:o.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=Qr(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=Qr(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=Qr(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=Qr(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var a;this.props.disabled||(a=this.handlesRefs[0])===null||a===void 0||a.focus()}},{key:"blur",value:function(){var a=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(o){var i,l;(i=a.handlesRefs[o])===null||i===void 0||(l=i.blur)===null||l===void 0||l.call(i)})}},{key:"calcValue",value:function(a){var o=this.props,i=o.vertical,l=o.min,p=o.max,d=Math.abs(Math.max(a,0)/this.getSliderLength()),f=i?(1-d)*(p-l)+l:d*(p-l)+l;return f}},{key:"calcValueByPos",value:function(a){var o=this.props.reverse?-1:1,i=o*(a-this.getSliderStart()),l=this.trimAlignValue(this.calcValue(i));return l}},{key:"calcOffset",value:function(a){var o=this.props,i=o.min,l=o.max,p=(a-i)/(l-i);return Math.max(0,p*100)}},{key:"saveHandle",value:function(a,o){this.handlesRefs[a]=o}},{key:"render",value:function(){var a,o=this.props,i=o.prefixCls,l=o.className,p=o.marks,d=o.dots,f=o.step,u=o.included,h=o.disabled,m=o.vertical,v=o.reverse,y=o.min,k=o.max,_=o.children,T=o.maximumTrackStyle,b=o.style,x=o.railStyle,O=o.dotStyle,A=o.activeDotStyle,C=Zi(ja(c.prototype),"render",this).call(this),L=C.tracks,w=C.handles,E=Ur(i,(a={},_n(a,"".concat(i,"-with-marks"),Object.keys(p).length),_n(a,"".concat(i,"-disabled"),h),_n(a,"".concat(i,"-vertical"),m),_n(a,l,l),a));return yn.createElement("div",{ref:this.saveSlider,className:E,onTouchStart:h?ta:this.onTouchStart,onMouseDown:h?ta:this.onMouseDown,onMouseUp:h?ta:this.onMouseUp,onKeyDown:h?ta:this.onKeyDown,onFocus:h?ta:this.onFocus,onBlur:h?ta:this.onBlur,style:b},yn.createElement("div",{className:"".concat(i,"-rail"),style:pn(pn({},T),x)}),L,yn.createElement(C3,{prefixCls:i,vertical:m,reverse:v,marks:p,dots:d,step:f,included:u,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:k,min:y,dotStyle:O,activeDotStyle:A}),w,yn.createElement(O3,{className:"".concat(i,"-mark"),onClickLabel:h?ta:this.onClickMarkLabel,vertical:m,marks:p,included:u,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:k,min:y,reverse:v}),_)}}]),c}(e),r.displayName="ComponentEnhancer(".concat(e.displayName,")"),r.defaultProps=pn(pn({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(s){var c=s.index,n=qi(s,["index"]);return delete n.dragging,n.value===null?null:yn.createElement(gd,gr({},n,{key:c}))},onBeforeChange:ta,onChange:ta,onAfterChange:ta,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),r}var E3=function(e){ui(t,e);var r=ci(t);function t(s){var c;li(this,t),c=r.call(this,s),c.positionGetValue=function(o){return[]},c.onEnd=function(o){var i=c.state.dragging;c.removeDocumentEvents(),(i||o)&&c.props.onAfterChange(c.getValue()),c.setState({dragging:!1})};var n=s.defaultValue!==void 0?s.defaultValue:s.min,a=s.value!==void 0?s.value:n;return c.state={value:c.trimAlignValue(a),dragging:!1},Xs(!("minimumTrackStyle"in s),"minimumTrackStyle will be deprecated, please use trackStyle instead."),Xs(!("maximumTrackStyle"in s),"maximumTrackStyle will be deprecated, please use railStyle instead."),c}return si(t,[{key:"calcValueByPos",value:function(c){return 0}},{key:"calcOffset",value:function(c){return 0}},{key:"saveHandle",value:function(c,n){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(c,n){var a=this.props,o=a.min,i=a.max,l=a.value,p=a.onChange;if("min"in this.props||"max"in this.props){var d=l!==void 0?l:n.value,f=this.trimAlignValue(d,this.props);f!==n.value&&(this.setState({value:f}),!(o===c.min&&i===c.max)&&Sm(d,this.props)&&p(f))}}},{key:"onChange",value:function(c){var n=this.props,a=!("value"in n),o=c.value>this.props.max?pn(pn({},c),{},{value:this.props.max}):c;a&&this.setState(o);var i=o.value;n.onChange(i)}},{key:"onStart",value:function(c){this.setState({dragging:!0});var n=this.props,a=this.getValue();n.onBeforeChange(a);var o=this.calcValueByPos(c);this.startValue=o,this.startPosition=c,o!==a&&(this.prevMovedHandleIndex=0,this.onChange({value:o}))}},{key:"onMove",value:function(c,n){Xi(c);var a=this.state.value,o=this.calcValueByPos(n);o!==a&&this.onChange({value:o})}},{key:"onKeyboard",value:function(c){var n=this.props,a=n.reverse,o=n.vertical,i=Rm(c,o,a);if(i){Xi(c);var l=this.state,p=l.value,d=i(p,this.props),f=this.trimAlignValue(d);if(f===p)return;this.onChange({value:f}),this.props.onAfterChange(f),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var c=this.props.startPoint||this.props.min;return this.state.value>c?c:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(c){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(c===null)return null;var a=pn(pn({},this.props),n),o=xd(c,a);return Nm(o,a)}},{key:"render",value:function(){var c=this,n=this.props,a=n.prefixCls,o=n.vertical,i=n.included,l=n.disabled,p=n.minimumTrackStyle,d=n.trackStyle,f=n.handleStyle,u=n.tabIndex,h=n.ariaLabelForHandle,m=n.ariaLabelledByForHandle,v=n.ariaValueTextFormatterForHandle,y=n.min,k=n.max,_=n.startPoint,T=n.reverse,b=n.handle,x=this.state,O=x.value,A=x.dragging,C=this.calcOffset(O),L=b({className:"".concat(a,"-handle"),prefixCls:a,vertical:o,offset:C,value:O,dragging:A,disabled:l,min:y,max:k,reverse:T,index:0,tabIndex:u,ariaLabel:h,ariaLabelledBy:m,ariaValueTextFormatter:v,style:f[0]||f,ref:function(V){return c.saveHandle(0,V)}}),w=_!==void 0?this.calcOffset(_):0,E=d[0]||d,I=yn.createElement(km,{className:"".concat(a,"-track"),vertical:o,included:i,offset:w,reverse:T,length:C-w,style:pn(pn({},p),E)});return{tracks:I,handles:L}}}]),t}(yn.Component),D3=Im(E3),hl=function(r){var t=r.value,s=r.handle,c=r.bounds,n=r.props,a=n.allowCross,o=n.pushable,i=Number(o),l=xd(t,n),p=l;return!a&&s!=null&&c!==void 0&&(s>0&&l<=c[s-1]+i&&(p=c[s-1]+i),s<c.length-1&&l>=c[s+1]-i&&(p=c[s+1]-i)),Nm(p,n)},bd=function(e){ui(t,e);var r=ci(t);function t(s){var c;li(this,t),c=r.call(this,s),c.positionGetValue=function(u){var h=c.getValue(),m=c.calcValueByPos(u),v=c.getClosestBound(m),y=c.getBoundNeedMoving(m,v),k=h[y];if(m===k)return null;var _=Ha(h);return _[y]=m,_},c.onEnd=function(u){var h=c.state.handle;c.removeDocumentEvents(),h||(c.dragTrack=!1),(h!==null||u)&&c.props.onAfterChange(c.getValue()),c.setState({handle:null})};var n=s.count,a=s.min,o=s.max,i=Array.apply(void 0,Ha(Array(n+1))).map(function(){return a}),l="defaultValue"in s?s.defaultValue:i,p=s.value!==void 0?s.value:l,d=p.map(function(u,h){return hl({value:u,handle:h,props:s})}),f=d[0]===o?0:d.length-1;return c.state={handle:null,recent:f,bounds:d},c}return si(t,[{key:"calcValueByPos",value:function(c){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(c){return 0}},{key:"saveHandle",value:function(c,n){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(c,n){var a=this,o=this.props,i=o.onChange,l=o.value,p=o.min,d=o.max;if(("min"in this.props||"max"in this.props)&&!(p===c.min&&d===c.max)){var f=l||n.bounds;if(f.some(function(h){return Sm(h,a.props)})){var u=f.map(function(h){return xd(h,a.props)});i(u)}}}},{key:"onChange",value:function(c){var n=this.props,a=!("value"in n);if(a)this.setState(c);else{var o={};["handle","recent"].forEach(function(p){c[p]!==void 0&&(o[p]=c[p])}),Object.keys(o).length&&this.setState(o)}var i=pn(pn({},this.state),c),l=i.bounds;n.onChange(l)}},{key:"onStart",value:function(c){var n=this.props,a=this.state,o=this.getValue();n.onBeforeChange(o);var i=this.calcValueByPos(c);this.startValue=i,this.startPosition=c;var l=this.getClosestBound(i);this.prevMovedHandleIndex=this.getBoundNeedMoving(i,l),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var p=o[this.prevMovedHandleIndex];if(i!==p){var d=Ha(a.bounds);d[this.prevMovedHandleIndex]=i,this.onChange({bounds:d})}}},{key:"onMove",value:function(c,n,a,o){Xi(c);var i=this.state,l=this.props,p=l.max||100,d=l.min||0;if(a){var f=l.vertical?-n:n;f=l.reverse?-f:f;var u=p-Math.max.apply(Math,Ha(o)),h=d-Math.min.apply(Math,Ha(o)),m=Math.min(Math.max(f/(this.getSliderLength()/100),h),u),v=o.map(function(_){return Math.floor(Math.max(Math.min(_+m,p),d))});i.bounds.map(function(_,T){return _===v[T]}).some(function(_){return!_})&&this.onChange({bounds:v});return}var y=this.calcValueByPos(n),k=i.bounds[i.handle];y!==k&&this.moveTo(y)}},{key:"onKeyboard",value:function(c){var n=this.props,a=n.reverse,o=n.vertical,i=Rm(c,o,a);if(i){Xi(c);var l=this.state,p=this.props,d=l.bounds,f=l.handle,u=d[f===null?l.recent:f],h=i(u,p),m=hl({value:h,handle:f,bounds:l.bounds,props:p});if(m===u)return;var v=!0;this.moveTo(m,v)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(c){for(var n=this.state.bounds,a=0,o=1;o<n.length-1;o+=1)c>=n[o]&&(a=o);return Math.abs(n[a+1]-c)<Math.abs(n[a]-c)&&(a+=1),a}},{key:"getBoundNeedMoving",value:function(c,n){var a=this.state,o=a.bounds,i=a.recent,l=n,p=o[n+1]===o[n];return p&&o[i]===o[n]&&(l=i),p&&c!==o[n+1]&&(l=c<o[n+1]?n:n+1),l}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var c=this.state.bounds;return c[c.length-1]}},{key:"getPoints",value:function(){var c=this.props,n=c.marks,a=c.step,o=c.min,i=c.max,l=this.internalPointsCache;if(!l||l.marks!==n||l.step!==a){var p=pn({},n);if(a!==null)for(var d=o;d<=i;d+=a)p[d]=d;var f=Object.keys(p).map(parseFloat);f.sort(function(u,h){return u-h}),this.internalPointsCache={marks:n,step:a,points:f}}return this.internalPointsCache.points}},{key:"moveTo",value:function(c,n){var a=this,o=this.state,i=this.props,l=Ha(o.bounds),p=o.handle===null?o.recent:o.handle;l[p]=c;var d=p;i.pushable!==!1?this.pushSurroundingHandles(l,d):i.allowCross&&(l.sort(function(f,u){return f-u}),d=l.indexOf(c)),this.onChange({recent:d,handle:d,bounds:l}),n&&(this.props.onAfterChange(l),this.setState({},function(){a.handlesRefs[d].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(c,n){var a=c[n],o=this.props.pushable,i=Number(o),l=0;if(c[n+1]-a<i&&(l=1),a-c[n-1]<i&&(l=-1),l!==0){var p=n+l,d=l*(c[p]-a);this.pushHandle(c,p,l,i-d)||(c[n]=c[p]-l*i)}}},{key:"pushHandle",value:function(c,n,a,o){for(var i=c[n],l=c[n];a*(l-i)<o;){if(!this.pushHandleOnePoint(c,n,a))return c[n]=i,!1;l=c[n]}return!0}},{key:"pushHandleOnePoint",value:function(c,n,a){var o=this.getPoints(),i=o.indexOf(c[n]),l=i+a;if(l>=o.length||l<0)return!1;var p=n+a,d=o[l],f=this.props.pushable,u=Number(f),h=a*(c[p]-d);return this.pushHandle(c,p,a,u-h)?(c[n]=d,!0):!1}},{key:"trimAlignValue",value:function(c){var n=this.state,a=n.handle,o=n.bounds;return hl({value:c,handle:a,bounds:o,props:this.props})}},{key:"render",value:function(){var c=this,n=this.state,a=n.handle,o=n.bounds,i=this.props,l=i.prefixCls,p=i.vertical,d=i.included,f=i.disabled,u=i.min,h=i.max,m=i.reverse,v=i.handle,y=i.trackStyle,k=i.handleStyle,_=i.tabIndex,T=i.ariaLabelGroupForHandles,b=i.ariaLabelledByGroupForHandles,x=i.ariaValueTextFormatterGroupForHandles,O=o.map(function(w){return c.calcOffset(w)}),A="".concat(l,"-handle"),C=o.map(function(w,E){var I,M=_[E]||0;(f||_[E]===null)&&(M=null);var V=a===E;return v({className:Ur((I={},_n(I,A,!0),_n(I,"".concat(A,"-").concat(E+1),!0),_n(I,"".concat(A,"-dragging"),V),I)),prefixCls:l,vertical:p,dragging:V,offset:O[E],value:w,index:E,tabIndex:M,min:u,max:h,reverse:m,disabled:f,style:k[E],ref:function(W){return c.saveHandle(E,W)},ariaLabel:T[E],ariaLabelledBy:b[E],ariaValueTextFormatter:x[E]})}),L=o.slice(0,-1).map(function(w,E){var I,M=E+1,V=Ur((I={},_n(I,"".concat(l,"-track"),!0),_n(I,"".concat(l,"-track-").concat(M),!0),I));return yn.createElement(km,{className:V,vertical:p,reverse:m,included:d,offset:O[M-1],length:O[M]-O[M-1],style:y[E],key:M})});return{tracks:L,handles:C}}}],[{key:"getDerivedStateFromProps",value:function(c,n){if(!("value"in c||"min"in c||"max"in c))return null;var a=c.value||n.bounds,o=a.map(function(i,l){return hl({value:i,handle:l,bounds:n.bounds,props:c})});if(n.bounds.length===o.length){if(o.every(function(i,l){return i===n.bounds[l]}))return null}else o=a.map(function(i,l){return hl({value:i,handle:l,props:c})});return pn(pn({},n),{},{bounds:o})}}]),t}(yn.Component);bd.displayName="Range",bd.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var P3=Im(bd),Fm=function(r){return+setTimeout(r,16)},zm=function(r){return clearTimeout(r)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(Fm=function(r){return window.requestAnimationFrame(r)},zm=function(r){return window.cancelAnimationFrame(r)});var jm=0,_d=new Map;function Hm(e){_d.delete(e)}function Vr(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;jm+=1;var t=jm;function s(c){if(c===0)Hm(t),e();else{var n=Fm(function(){s(c-1)});_d.set(t,n)}}return s(r),t}Vr.cancel=function(e){var r=_d.get(e);return Hm(r),zm(r)};function Js(e,r){return e?e.contains(r):!1}function Bm(e){return e instanceof HTMLElement?e:Wi.findDOMNode(e)}var Um={exports:{}},On={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn=typeof Symbol=="function"&&Symbol.for,wd=Jn?Symbol.for("react.element"):60103,Td=Jn?Symbol.for("react.portal"):60106,Ks=Jn?Symbol.for("react.fragment"):60107,Qs=Jn?Symbol.for("react.strict_mode"):60108,tu=Jn?Symbol.for("react.profiler"):60114,eu=Jn?Symbol.for("react.provider"):60109,nu=Jn?Symbol.for("react.context"):60110,kd=Jn?Symbol.for("react.async_mode"):60111,ru=Jn?Symbol.for("react.concurrent_mode"):60111,au=Jn?Symbol.for("react.forward_ref"):60112,iu=Jn?Symbol.for("react.suspense"):60113,N3=Jn?Symbol.for("react.suspense_list"):60120,ou=Jn?Symbol.for("react.memo"):60115,lu=Jn?Symbol.for("react.lazy"):60116,R3=Jn?Symbol.for("react.block"):60121,I3=Jn?Symbol.for("react.fundamental"):60117,F3=Jn?Symbol.for("react.responder"):60118,z3=Jn?Symbol.for("react.scope"):60119;function Mr(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case wd:switch(e=e.type,e){case kd:case ru:case Ks:case tu:case Qs:case iu:return e;default:switch(e=e&&e.$$typeof,e){case nu:case au:case lu:case ou:case eu:return e;default:return r}}case Td:return r}}}function Vm(e){return Mr(e)===ru}On.AsyncMode=kd,On.ConcurrentMode=ru,On.ContextConsumer=nu,On.ContextProvider=eu,On.Element=wd,On.ForwardRef=au,On.Fragment=Ks,On.Lazy=lu,On.Memo=ou,On.Portal=Td,On.Profiler=tu,On.StrictMode=Qs,On.Suspense=iu,On.isAsyncMode=function(e){return Vm(e)||Mr(e)===kd},On.isConcurrentMode=Vm,On.isContextConsumer=function(e){return Mr(e)===nu},On.isContextProvider=function(e){return Mr(e)===eu},On.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wd},On.isForwardRef=function(e){return Mr(e)===au},On.isFragment=function(e){return Mr(e)===Ks},On.isLazy=function(e){return Mr(e)===lu},On.isMemo=function(e){return Mr(e)===ou},On.isPortal=function(e){return Mr(e)===Td},On.isProfiler=function(e){return Mr(e)===tu},On.isStrictMode=function(e){return Mr(e)===Qs},On.isSuspense=function(e){return Mr(e)===iu},On.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ks||e===ru||e===tu||e===Qs||e===iu||e===N3||typeof e=="object"&&e!==null&&(e.$$typeof===lu||e.$$typeof===ou||e.$$typeof===eu||e.$$typeof===nu||e.$$typeof===au||e.$$typeof===I3||e.$$typeof===F3||e.$$typeof===z3||e.$$typeof===R3)},On.typeOf=Mr,Um.exports=On;function Ym(e,r){typeof e=="function"?e(r):Kr(e)==="object"&&e&&"current"in e&&(e.current=r)}function Md(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(s){r.forEach(function(c){Ym(c,s)})}}function j3(e){var r,t,s=Um.exports.isMemo(e)?e.type.type:e.type;return!(typeof s=="function"&&!((r=s.prototype)===null||r===void 0?void 0:r.render)||typeof e=="function"&&!((t=e.prototype)===null||t===void 0?void 0:t.render))}function su(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var H3=Pe.exports.forwardRef(function(e,r){var t=e.didUpdate,s=e.getContainer,c=e.children,n=Pe.exports.useRef();Pe.exports.useImperativeHandle(r,function(){return{}});var a=Pe.exports.useRef(!1);return!a.current&&su()&&(n.current=s(),a.current=!0),Pe.exports.useEffect(function(){t==null||t(e)}),Pe.exports.useEffect(function(){return function(){var o,i;(o=n.current)===null||o===void 0||(i=o.parentNode)===null||i===void 0||i.removeChild(n.current)}},[]),n.current?Wi.createPortal(c,n.current):null});function B3(e,r,t){return t?e[0]===r[0]:e[0]===r[0]&&e[1]===r[1]}function U3(e,r,t){var s=e[r]||{};return pn(pn({},s),t)}function V3(e,r,t,s){for(var c=t.points,n=Object.keys(e),a=0;a<n.length;a+=1){var o=n[a];if(B3(e[o].points,c,s))return"".concat(r,"-placement-").concat(o)}return""}function Y3(e){if(Array.isArray(e))return e}function $3(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s=[],c=!0,n=!1,a,o;try{for(t=t.call(e);!(c=(a=t.next()).done)&&(s.push(a.value),!(r&&s.length===r));c=!0);}catch(i){n=!0,o=i}finally{try{!c&&t.return!=null&&t.return()}finally{if(n)throw o}}return s}}function G3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kn(e,r){return Y3(e)||$3(e,r)||Mm(e,r)||G3()}var W3=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4)))};function $m(e,r){var t={};return t[e.toLowerCase()]=r.toLowerCase(),t["Webkit".concat(e)]="webkit".concat(r),t["Moz".concat(e)]="moz".concat(r),t["ms".concat(e)]="MS".concat(r),t["O".concat(e)]="o".concat(r.toLowerCase()),t}function q3(e,r){var t={animationend:$m("Animation","AnimationEnd"),transitionend:$m("Transition","TransitionEnd")};return e&&("AnimationEvent"in r||delete t.animationend.animation,"TransitionEvent"in r||delete t.transitionend.transition),t}var Z3=q3(su(),typeof window!="undefined"?window:{}),Gm={};if(su()){var X3=document.createElement("div");Gm=X3.style}var uu={};function Wm(e){if(uu[e])return uu[e];var r=Z3[e];if(r)for(var t=Object.keys(r),s=t.length,c=0;c<s;c+=1){var n=t[c];if(Object.prototype.hasOwnProperty.call(r,n)&&n in Gm)return uu[e]=r[n],uu[e]}return""}var qm=Wm("animationend"),Zm=Wm("transitionend"),J3=!!(qm&&Zm),Xm=qm||"animationend",Jm=Zm||"transitionend";function Km(e,r){if(!e)return null;if(Kr(e)==="object"){var t=r.replace(/-\w/g,function(s){return s[1].toUpperCase()});return e[t]}return"".concat(e,"-").concat(r)}var vl="none",Ad="appear",Sd="enter",Cd="leave",Qm="none",pa="prepare",Ji="start",Ki="active",Od="end";function Ld(e){var r=Pe.exports.useRef(!1),t=Pe.exports.useState(e),s=Kn(t,2),c=s[0],n=s[1];function a(o){r.current||n(o)}return Pe.exports.useEffect(function(){return function(){r.current=!0}},[]),[c,a]}var t1=su()?Pe.exports.useLayoutEffect:Pe.exports.useEffect,K3=function(){var e=Pe.exports.useRef(null);function r(){Vr.cancel(e.current)}function t(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;r();var n=Vr(function(){c<=1?s({isCanceled:function(){return n!==e.current}}):t(s,c-1)});e.current=n}return Pe.exports.useEffect(function(){return function(){r()}},[]),[t,r]},e1=[pa,Ji,Ki,Od],n1=!1,Q3=!0;function r1(e){return e===Ki||e===Od}var tb=function(e,r){var t=Pe.exports.useState(Qm),s=Kn(t,2),c=s[0],n=s[1],a=K3(),o=Kn(a,2),i=o[0],l=o[1];function p(){n(pa)}return t1(function(){if(c!==Qm&&c!==Od){var d=e1.indexOf(c),f=e1[d+1],u=r(c);u===n1?n(f):i(function(h){function m(){h.isCanceled()||n(f)}u===!0?m():Promise.resolve(u).then(m)})}},[e,c]),Pe.exports.useEffect(function(){return function(){l()}},[]),[p,c]},eb=function(e){var r=Pe.exports.useRef(),t=Pe.exports.useRef(e);t.current=e;var s=Pe.exports.useCallback(function(a){t.current(a)},[]);function c(a){a&&(a.removeEventListener(Jm,s),a.removeEventListener(Xm,s))}function n(a){r.current&&r.current!==a&&c(r.current),a&&a!==r.current&&(a.addEventListener(Jm,s),a.addEventListener(Xm,s),r.current=a)}return Pe.exports.useEffect(function(){return function(){c(r.current)}},[]),[n,c]};function nb(e,r,t,s){var c=s.motionEnter,n=c===void 0?!0:c,a=s.motionAppear,o=a===void 0?!0:a,i=s.motionLeave,l=i===void 0?!0:i,p=s.motionDeadline,d=s.motionLeaveImmediately,f=s.onAppearPrepare,u=s.onEnterPrepare,h=s.onLeavePrepare,m=s.onAppearStart,v=s.onEnterStart,y=s.onLeaveStart,k=s.onAppearActive,_=s.onEnterActive,T=s.onLeaveActive,b=s.onAppearEnd,x=s.onEnterEnd,O=s.onLeaveEnd,A=s.onVisibleChanged,C=Ld(),L=Kn(C,2),w=L[0],E=L[1],I=Ld(vl),M=Kn(I,2),V=M[0],j=M[1],W=Ld(null),H=Kn(W,2),B=H[0],K=H[1],et=Pe.exports.useRef(!1),G=Pe.exports.useRef(null),Y=Pe.exports.useRef(!1),D=Pe.exports.useRef(null);function U(){var st=t();return st||D.current}var $=Pe.exports.useRef(!1);function Q(st){var gt=U();if(!(st&&!st.deadline&&st.target!==gt)){var wt;V===Ad&&$.current?wt=b==null?void 0:b(gt,st):V===Sd&&$.current?wt=x==null?void 0:x(gt,st):V===Cd&&$.current&&(wt=O==null?void 0:O(gt,st)),wt!==!1&&!Y.current&&(j(vl),K(null))}}var F=eb(Q),z=Kn(F,1),P=z[0],Z=Pe.exports.useMemo(function(){var st,gt,wt;switch(V){case"appear":return st={},_n(st,pa,f),_n(st,Ji,m),_n(st,Ki,k),st;case"enter":return gt={},_n(gt,pa,u),_n(gt,Ji,v),_n(gt,Ki,_),gt;case"leave":return wt={},_n(wt,pa,h),_n(wt,Ji,y),_n(wt,Ki,T),wt;default:return{}}},[V]),R=tb(V,function(st){if(st===pa){var gt=Z[pa];return gt?gt(U()):n1}if(rt in Z){var wt;K(((wt=Z[rt])===null||wt===void 0?void 0:wt.call(Z,U(),null))||null)}return rt===Ki&&(P(U()),p>0&&(clearTimeout(G.current),G.current=setTimeout(function(){Q({deadline:!0})},p))),Q3}),q=Kn(R,2),tt=q[0],rt=q[1],nt=r1(rt);$.current=nt,t1(function(){E(r);var st=et.current;if(et.current=!0,!!e){var gt;!st&&r&&o&&(gt=Ad),st&&r&&n&&(gt=Sd),(st&&!r&&l||!st&&d&&!r&&l)&&(gt=Cd),gt&&(j(gt),tt())}},[r]),Pe.exports.useEffect(function(){(V===Ad&&!o||V===Sd&&!n||V===Cd&&!l)&&j(vl)},[o,n,l]),Pe.exports.useEffect(function(){return function(){clearTimeout(G.current),Y.current=!0}},[]),Pe.exports.useEffect(function(){w!==void 0&&V===vl&&(A==null||A(w))},[w,V]);var ct=B;return Z[pa]&&rt===Ji&&(ct=pn({transition:"none"},ct)),[V,rt,ct,w!=null?w:r]}var rb=function(e){ui(t,e);var r=ci(t);function t(){return li(this,t),r.apply(this,arguments)}return si(t,[{key:"render",value:function(){return this.props.children}}]),t}(Pe.exports.Component);function ab(e){var r=e;Kr(e)==="object"&&(r=e.transitionSupport);function t(c){return!!(c.motionName&&r)}var s=Pe.exports.forwardRef(function(c,n){var a=c.visible,o=a===void 0?!0:a,i=c.removeOnLeave,l=i===void 0?!0:i,p=c.forceRender,d=c.children,f=c.motionName,u=c.leavedClassName,h=c.eventProps,m=t(c),v=Pe.exports.useRef(),y=Pe.exports.useRef();function k(){try{return Bm(v.current||y.current)}catch(j){return null}}var _=nb(m,o,k,c),T=Kn(_,4),b=T[0],x=T[1],O=T[2],A=T[3],C=Pe.exports.useRef(A);A&&(C.current=!0);var L=Pe.exports.useRef(n);L.current=n;var w=Pe.exports.useCallback(function(j){v.current=j,Ym(L.current,j)},[]),E,I=pn(pn({},h),{},{visible:o});if(!d)E=null;else if(b===vl||!t(c))A?E=d(pn({},I),w):!l&&C.current?E=d(pn(pn({},I),{},{className:u}),w):p?E=d(pn(pn({},I),{},{style:{display:"none"}}),w):E=null;else{var M,V;x===pa?V="prepare":r1(x)?V="active":x===Ji&&(V="start"),E=d(pn(pn({},I),{},{className:Ur(Km(f,b),(M={},_n(M,Km(f,"".concat(b,"-").concat(V)),V),_n(M,f,typeof f=="string"),M)),style:O}),w)}return Pe.exports.createElement(rb,{ref:y},E)});return s.displayName="CSSMotion",s}var Ed=ab(J3);function a1(e){var r=e.prefixCls,t=e.motion,s=e.animation,c=e.transitionName;return t||(s?{motionName:"".concat(r,"-").concat(s)}:c?{motionName:c}:null)}function ib(e){var r=e.prefixCls,t=e.visible,s=e.zIndex,c=e.mask,n=e.maskMotion,a=e.maskAnimation,o=e.maskTransitionName;if(!c)return null;var i={};return(n||o||a)&&(i=pn({motionAppear:!0},a1({motion:n,prefixCls:r,transitionName:o,animation:a}))),Pe.exports.createElement(Ed,gr({},i,{visible:t,removeOnLeave:!0}),function(l){var p=l.className;return Pe.exports.createElement("div",{style:{zIndex:s},className:Ur("".concat(r,"-mask"),p)})})}var ob=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var r=e.getBBox();if(r.width||r.height)return!0}if(e.getBoundingClientRect){var t=e.getBoundingClientRect();if(t.width||t.height)return!0}return!1};function i1(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),t.push.apply(t,s)}return t}function o1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?i1(Object(t),!0).forEach(function(s){lb(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i1(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function cu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cu=function(r){return typeof r}:cu=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cu(e)}function lb(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ml,sb={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function fu(){if(ml!==void 0)return ml;ml="";var e=document.createElement("p").style,r="Transform";for(var t in sb)t+r in e&&(ml=t);return ml}function l1(){return fu()?"".concat(fu(),"TransitionProperty"):"transitionProperty"}function du(){return fu()?"".concat(fu(),"Transform"):"transform"}function s1(e,r){var t=l1();t&&(e.style[t]=r,t!=="transitionProperty"&&(e.style.transitionProperty=r))}function Dd(e,r){var t=du();t&&(e.style[t]=r,t!=="transform"&&(e.style.transform=r))}function ub(e){return e.style.transitionProperty||e.style[l1()]}function cb(e){var r=window.getComputedStyle(e,null),t=r.getPropertyValue("transform")||r.getPropertyValue(du());if(t&&t!=="none"){var s=t.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(s[12]||s[4],0),y:parseFloat(s[13]||s[5],0)}}return{x:0,y:0}}var fb=/matrix\((.*)\)/,db=/matrix3d\((.*)\)/;function pb(e,r){var t=window.getComputedStyle(e,null),s=t.getPropertyValue("transform")||t.getPropertyValue(du());if(s&&s!=="none"){var c,n=s.match(fb);if(n)n=n[1],c=n.split(",").map(function(o){return parseFloat(o,10)}),c[4]=r.x,c[5]=r.y,Dd(e,"matrix(".concat(c.join(","),")"));else{var a=s.match(db)[1];c=a.split(",").map(function(o){return parseFloat(o,10)}),c[12]=r.x,c[13]=r.y,Dd(e,"matrix3d(".concat(c.join(","),")"))}}else Dd(e,"translateX(".concat(r.x,"px) translateY(").concat(r.y,"px) translateZ(0)"))}var hb=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,gl;function u1(e){var r=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=r}function Qi(e,r,t){var s=t;if(cu(r)==="object"){for(var c in r)r.hasOwnProperty(c)&&Qi(e,c,r[c]);return}if(typeof s!="undefined"){typeof s=="number"&&(s="".concat(s,"px")),e.style[r]=s;return}return gl(e,r)}function vb(e){var r,t,s,c=e.ownerDocument,n=c.body,a=c&&c.documentElement;return r=e.getBoundingClientRect(),t=r.left,s=r.top,t-=a.clientLeft||n.clientLeft||0,s-=a.clientTop||n.clientTop||0,{left:t,top:s}}function c1(e,r){var t=e["page".concat(r?"Y":"X","Offset")],s="scroll".concat(r?"Top":"Left");if(typeof t!="number"){var c=e.document;t=c.documentElement[s],typeof t!="number"&&(t=c.body[s])}return t}function f1(e){return c1(e)}function d1(e){return c1(e,!0)}function yl(e){var r=vb(e),t=e.ownerDocument,s=t.defaultView||t.parentWindow;return r.left+=f1(s),r.top+=d1(s),r}function Pd(e){return e!=null&&e==e.window}function p1(e){return Pd(e)?e.document:e.nodeType===9?e:e.ownerDocument}function mb(e,r,t){var s=t,c="",n=p1(e);return s=s||n.defaultView.getComputedStyle(e,null),s&&(c=s.getPropertyValue(r)||s[r]),c}var gb=new RegExp("^(".concat(hb,")(?!px)[a-z%]+$"),"i"),yb=/^(top|right|bottom|left)$/,Nd="currentStyle",Rd="runtimeStyle",fi="left",xb="px";function bb(e,r){var t=e[Nd]&&e[Nd][r];if(gb.test(t)&&!yb.test(r)){var s=e.style,c=s[fi],n=e[Rd][fi];e[Rd][fi]=e[Nd][fi],s[fi]=r==="fontSize"?"1em":t||0,t=s.pixelLeft+xb,s[fi]=c,e[Rd][fi]=n}return t===""?"auto":t}typeof window!="undefined"&&(gl=window.getComputedStyle?mb:bb);function pu(e,r){return e==="left"?r.useCssRight?"right":e:r.useCssBottom?"bottom":e}function h1(e){if(e==="left")return"right";if(e==="right")return"left";if(e==="top")return"bottom";if(e==="bottom")return"top"}function v1(e,r,t){Qi(e,"position")==="static"&&(e.style.position="relative");var s=-999,c=-999,n=pu("left",t),a=pu("top",t),o=h1(n),i=h1(a);n!=="left"&&(s=999),a!=="top"&&(c=999);var l="",p=yl(e);("left"in r||"top"in r)&&(l=ub(e)||"",s1(e,"none")),"left"in r&&(e.style[o]="",e.style[n]="".concat(s,"px")),"top"in r&&(e.style[i]="",e.style[a]="".concat(c,"px")),u1(e);var d=yl(e),f={};for(var u in r)if(r.hasOwnProperty(u)){var h=pu(u,t),m=u==="left"?s:c,v=p[u]-d[u];h===u?f[h]=m+v:f[h]=m-v}Qi(e,f),u1(e),("left"in r||"top"in r)&&s1(e,l);var y={};for(var k in r)if(r.hasOwnProperty(k)){var _=pu(k,t),T=r[k]-p[k];k===_?y[_]=f[_]+T:y[_]=f[_]-T}Qi(e,y)}function _b(e,r){var t=yl(e),s=cb(e),c={x:s.x,y:s.y};"left"in r&&(c.x=s.x+r.left-t.left),"top"in r&&(c.y=s.y+r.top-t.top),pb(e,c)}function wb(e,r,t){if(t.ignoreShake){var s=yl(e),c=s.left.toFixed(0),n=s.top.toFixed(0),a=r.left.toFixed(0),o=r.top.toFixed(0);if(c===a&&n===o)return}t.useCssRight||t.useCssBottom?v1(e,r,t):t.useCssTransform&&du()in document.body.style?_b(e,r):v1(e,r,t)}function Id(e,r){for(var t=0;t<e.length;t++)r(e[t])}function m1(e){return gl(e,"boxSizing")==="border-box"}var Tb=["margin","border","padding"],Fd=-1,kb=2,zd=1,Mb=0;function Ab(e,r,t){var s={},c=e.style,n;for(n in r)r.hasOwnProperty(n)&&(s[n]=c[n],c[n]=r[n]);t.call(e);for(n in r)r.hasOwnProperty(n)&&(c[n]=s[n])}function xl(e,r,t){var s=0,c,n,a;for(n=0;n<r.length;n++)if(c=r[n],c)for(a=0;a<t.length;a++){var o=void 0;c==="border"?o="".concat(c).concat(t[a],"Width"):o=c+t[a],s+=parseFloat(gl(e,o))||0}return s}var ea={getParent:function(r){var t=r;do t.nodeType===11&&t.host?t=t.host:t=t.parentNode;while(t&&t.nodeType!==1&&t.nodeType!==9);return t}};Id(["Width","Height"],function(e){ea["doc".concat(e)]=function(r){var t=r.document;return Math.max(t.documentElement["scroll".concat(e)],t.body["scroll".concat(e)],ea["viewport".concat(e)](t))},ea["viewport".concat(e)]=function(r){var t="client".concat(e),s=r.document,c=s.body,n=s.documentElement,a=n[t];return s.compatMode==="CSS1Compat"&&a||c&&c[t]||a}});function g1(e,r,t){var s=t;if(Pd(e))return r==="width"?ea.viewportWidth(e):ea.viewportHeight(e);if(e.nodeType===9)return r==="width"?ea.docWidth(e):ea.docHeight(e);var c=r==="width"?["Left","Right"]:["Top","Bottom"],n=r==="width"?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=m1(e),o=0;(n==null||n<=0)&&(n=void 0,o=gl(e,r),(o==null||Number(o)<0)&&(o=e.style[r]||0),o=parseFloat(o)||0),s===void 0&&(s=a?zd:Fd);var i=n!==void 0||a,l=n||o;return s===Fd?i?l-xl(e,["border","padding"],c):o:i?s===zd?l:l+(s===kb?-xl(e,["border"],c):xl(e,["margin"],c)):o+xl(e,Tb.slice(s),c)}var Sb={position:"absolute",visibility:"hidden",display:"block"};function y1(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var s,c=r[0];return c.offsetWidth!==0?s=g1.apply(void 0,r):Ab(c,Sb,function(){s=g1.apply(void 0,r)}),s}Id(["width","height"],function(e){var r=e.charAt(0).toUpperCase()+e.slice(1);ea["outer".concat(r)]=function(s,c){return s&&y1(s,e,c?Mb:zd)};var t=e==="width"?["Left","Right"]:["Top","Bottom"];ea[e]=function(s,c){var n=c;if(n!==void 0){if(s){var a=m1(s);return a&&(n+=xl(s,["padding","border"],t)),Qi(s,e,n)}return}return s&&y1(s,e,Fd)}});function x1(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}var wn={getWindow:function(r){if(r&&r.document&&r.setTimeout)return r;var t=r.ownerDocument||r;return t.defaultView||t.parentWindow},getDocument:p1,offset:function(r,t,s){if(typeof t!="undefined")wb(r,t,s||{});else return yl(r)},isWindow:Pd,each:Id,css:Qi,clone:function(r){var t,s={};for(t in r)r.hasOwnProperty(t)&&(s[t]=r[t]);var c=r.overflow;if(c)for(t in r)r.hasOwnProperty(t)&&(s.overflow[t]=r.overflow[t]);return s},mix:x1,getWindowScrollLeft:function(r){return f1(r)},getWindowScrollTop:function(r){return d1(r)},merge:function(){for(var r={},t=0;t<arguments.length;t++)wn.mix(r,t<0||arguments.length<=t?void 0:arguments[t]);return r},viewportWidth:0,viewportHeight:0};x1(wn,ea);var jd=wn.getParent;function Hd(e){if(wn.isWindow(e)||e.nodeType===9)return null;var r=wn.getDocument(e),t=r.body,s,c=wn.css(e,"position"),n=c==="fixed"||c==="absolute";if(!n)return e.nodeName.toLowerCase()==="html"?null:jd(e);for(s=jd(e);s&&s!==t&&s.nodeType!==9;s=jd(s))if(c=wn.css(s,"position"),c!=="static")return s;return null}var b1=wn.getParent;function Cb(e){if(wn.isWindow(e)||e.nodeType===9)return!1;var r=wn.getDocument(e),t=r.body,s=null;for(s=b1(e);s&&s!==t&&s!==r;s=b1(s)){var c=wn.css(s,"position");if(c==="fixed")return!0}return!1}function Bd(e,r){for(var t={left:0,right:1/0,top:0,bottom:1/0},s=Hd(e),c=wn.getDocument(e),n=c.defaultView||c.parentWindow,a=c.body,o=c.documentElement;s;){if((navigator.userAgent.indexOf("MSIE")===-1||s.clientWidth!==0)&&s!==a&&s!==o&&wn.css(s,"overflow")!=="visible"){var i=wn.offset(s);i.left+=s.clientLeft,i.top+=s.clientTop,t.top=Math.max(t.top,i.top),t.right=Math.min(t.right,i.left+s.clientWidth),t.bottom=Math.min(t.bottom,i.top+s.clientHeight),t.left=Math.max(t.left,i.left)}else if(s===a||s===o)break;s=Hd(s)}var l=null;if(!wn.isWindow(e)&&e.nodeType!==9){l=e.style.position;var p=wn.css(e,"position");p==="absolute"&&(e.style.position="fixed")}var d=wn.getWindowScrollLeft(n),f=wn.getWindowScrollTop(n),u=wn.viewportWidth(n),h=wn.viewportHeight(n),m=o.scrollWidth,v=o.scrollHeight,y=window.getComputedStyle(a);if(y.overflowX==="hidden"&&(m=n.innerWidth),y.overflowY==="hidden"&&(v=n.innerHeight),e.style&&(e.style.position=l),r||Cb(e))t.left=Math.max(t.left,d),t.top=Math.max(t.top,f),t.right=Math.min(t.right,d+u),t.bottom=Math.min(t.bottom,f+h);else{var k=Math.max(m,d+u);t.right=Math.min(t.right,k);var _=Math.max(v,f+h);t.bottom=Math.min(t.bottom,_)}return t.top>=0&&t.left>=0&&t.bottom>t.top&&t.right>t.left?t:null}function Ob(e,r,t,s){var c=wn.clone(e),n={width:r.width,height:r.height};return s.adjustX&&c.left<t.left&&(c.left=t.left),s.resizeWidth&&c.left>=t.left&&c.left+n.width>t.right&&(n.width-=c.left+n.width-t.right),s.adjustX&&c.left+n.width>t.right&&(c.left=Math.max(t.right-n.width,t.left)),s.adjustY&&c.top<t.top&&(c.top=t.top),s.resizeHeight&&c.top>=t.top&&c.top+n.height>t.bottom&&(n.height-=c.top+n.height-t.bottom),s.adjustY&&c.top+n.height>t.bottom&&(c.top=Math.max(t.bottom-n.height,t.top)),wn.mix(c,n)}function Ud(e){var r,t,s;if(!wn.isWindow(e)&&e.nodeType!==9)r=wn.offset(e),t=wn.outerWidth(e),s=wn.outerHeight(e);else{var c=wn.getWindow(e);r={left:wn.getWindowScrollLeft(c),top:wn.getWindowScrollTop(c)},t=wn.viewportWidth(c),s=wn.viewportHeight(c)}return r.width=t,r.height=s,r}function _1(e,r){var t=r.charAt(0),s=r.charAt(1),c=e.width,n=e.height,a=e.left,o=e.top;return t==="c"?o+=n/2:t==="b"&&(o+=n),s==="c"?a+=c/2:s==="r"&&(a+=c),{left:a,top:o}}function hu(e,r,t,s,c){var n=_1(r,t[1]),a=_1(e,t[0]),o=[a.left-n.left,a.top-n.top];return{left:Math.round(e.left-o[0]+s[0]-c[0]),top:Math.round(e.top-o[1]+s[1]-c[1])}}function w1(e,r,t){return e.left<t.left||e.left+r.width>t.right}function T1(e,r,t){return e.top<t.top||e.top+r.height>t.bottom}function Lb(e,r,t){return e.left>t.right||e.left+r.width<t.left}function Eb(e,r,t){return e.top>t.bottom||e.top+r.height<t.top}function vu(e,r,t){var s=[];return wn.each(e,function(c){s.push(c.replace(r,function(n){return t[n]}))}),s}function mu(e,r){return e[r]=-e[r],e}function k1(e,r){var t;return/%$/.test(e)?t=parseInt(e.substring(0,e.length-1),10)/100*r:t=parseInt(e,10),t||0}function M1(e,r){e[0]=k1(e[0],r.width),e[1]=k1(e[1],r.height)}function A1(e,r,t,s){var c=t.points,n=t.offset||[0,0],a=t.targetOffset||[0,0],o=t.overflow,i=t.source||e;n=[].concat(n),a=[].concat(a),o=o||{};var l={},p=0,d=!!(o&&o.alwaysByViewport),f=Bd(i,d),u=Ud(i);M1(n,u),M1(a,r);var h=hu(u,r,c,n,a),m=wn.merge(u,h);if(f&&(o.adjustX||o.adjustY)&&s){if(o.adjustX&&w1(h,u,f)){var v=vu(c,/[lr]/gi,{l:"r",r:"l"}),y=mu(n,0),k=mu(a,0),_=hu(u,r,v,y,k);Lb(_,u,f)||(p=1,c=v,n=y,a=k)}if(o.adjustY&&T1(h,u,f)){var T=vu(c,/[tb]/gi,{t:"b",b:"t"}),b=mu(n,1),x=mu(a,1),O=hu(u,r,T,b,x);Eb(O,u,f)||(p=1,c=T,n=b,a=x)}p&&(h=hu(u,r,c,n,a),wn.mix(m,h));var A=w1(h,u,f),C=T1(h,u,f);if(A||C){var L=c;A&&(L=vu(c,/[lr]/gi,{l:"r",r:"l"})),C&&(L=vu(c,/[tb]/gi,{t:"b",b:"t"})),c=L,n=t.offset||[0,0],a=t.targetOffset||[0,0]}l.adjustX=o.adjustX&&A,l.adjustY=o.adjustY&&C,(l.adjustX||l.adjustY)&&(m=Ob(h,u,f,l))}return m.width!==u.width&&wn.css(i,"width",wn.width(i)+m.width-u.width),m.height!==u.height&&wn.css(i,"height",wn.height(i)+m.height-u.height),wn.offset(i,{left:m.left,top:m.top},{useCssRight:t.useCssRight,useCssBottom:t.useCssBottom,useCssTransform:t.useCssTransform,ignoreShake:t.ignoreShake}),{points:c,offset:n,targetOffset:a,overflow:l}}function Db(e,r){var t=Bd(e,r),s=Ud(e);return!t||s.left+s.width<=t.left||s.top+s.height<=t.top||s.left>=t.right||s.top>=t.bottom}function Vd(e,r,t){var s=t.target||r,c=Ud(s),n=!Db(s,t.overflow&&t.overflow.alwaysByViewport);return A1(e,c,t,n)}Vd.__getOffsetParent=Hd,Vd.__getVisibleRectForElement=Bd;function Pb(e,r,t){var s,c,n=wn.getDocument(e),a=n.defaultView||n.parentWindow,o=wn.getWindowScrollLeft(a),i=wn.getWindowScrollTop(a),l=wn.viewportWidth(a),p=wn.viewportHeight(a);"pageX"in r?s=r.pageX:s=o+r.clientX,"pageY"in r?c=r.pageY:c=i+r.clientY;var d={left:s,top:c,width:0,height:0},f=s>=0&&s<=o+l&&c>=0&&c<=i+p,u=[t.points[0],"cc"];return A1(e,d,o1(o1({},t),{},{points:u}),f)}function Nb(){this.__data__=[],this.size=0}var Rb=Nb;function Ib(e,r){return e===r||e!==e&&r!==r}var S1=Ib,Fb=S1;function zb(e,r){for(var t=e.length;t--;)if(Fb(e[t][0],r))return t;return-1}var gu=zb,jb=gu,Hb=Array.prototype,Bb=Hb.splice;function Ub(e){var r=this.__data__,t=jb(r,e);if(t<0)return!1;var s=r.length-1;return t==s?r.pop():Bb.call(r,t,1),--this.size,!0}var Vb=Ub,Yb=gu;function $b(e){var r=this.__data__,t=Yb(r,e);return t<0?void 0:r[t][1]}var Gb=$b,Wb=gu;function qb(e){return Wb(this.__data__,e)>-1}var Zb=qb,Xb=gu;function Jb(e,r){var t=this.__data__,s=Xb(t,e);return s<0?(++this.size,t.push([e,r])):t[s][1]=r,this}var Kb=Jb,Qb=Rb,t_=Vb,e_=Gb,n_=Zb,r_=Kb;function to(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var s=e[r];this.set(s[0],s[1])}}to.prototype.clear=Qb,to.prototype.delete=t_,to.prototype.get=e_,to.prototype.has=n_,to.prototype.set=r_;var yu=to,a_=yu;function i_(){this.__data__=new a_,this.size=0}var o_=i_;function l_(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var s_=l_;function u_(e){return this.__data__.get(e)}var c_=u_;function f_(e){return this.__data__.has(e)}var d_=f_,p_=typeof ya=="object"&&ya&&ya.Object===Object&&ya,C1=p_,h_=C1,v_=typeof self=="object"&&self&&self.Object===Object&&self,m_=h_||v_||Function("return this")(),ha=m_,g_=ha,y_=g_.Symbol,Yd=y_,O1=Yd,L1=Object.prototype,x_=L1.hasOwnProperty,b_=L1.toString,bl=O1?O1.toStringTag:void 0;function __(e){var r=x_.call(e,bl),t=e[bl];try{e[bl]=void 0;var s=!0}catch(n){}var c=b_.call(e);return s&&(r?e[bl]=t:delete e[bl]),c}var w_=__,T_=Object.prototype,k_=T_.toString;function M_(e){return k_.call(e)}var A_=M_,E1=Yd,S_=w_,C_=A_,O_="[object Null]",L_="[object Undefined]",D1=E1?E1.toStringTag:void 0;function E_(e){return e==null?e===void 0?L_:O_:D1&&D1 in Object(e)?S_(e):C_(e)}var xu=E_;function D_(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var P1=D_,P_=xu,N_=P1,R_="[object AsyncFunction]",I_="[object Function]",F_="[object GeneratorFunction]",z_="[object Proxy]";function j_(e){if(!N_(e))return!1;var r=P_(e);return r==I_||r==F_||r==R_||r==z_}var N1=j_,H_=ha,B_=H_["__core-js_shared__"],U_=B_,$d=U_,R1=function(){var e=/[^.]+$/.exec($d&&$d.keys&&$d.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function V_(e){return!!R1&&R1 in e}var Y_=V_,$_=Function.prototype,G_=$_.toString;function W_(e){if(e!=null){try{return G_.call(e)}catch(r){}try{return e+""}catch(r){}}return""}var I1=W_,q_=N1,Z_=Y_,X_=P1,J_=I1,K_=/[\\^$.*+?()[\]{}|]/g,Q_=/^\[object .+?Constructor\]$/,tw=Function.prototype,ew=Object.prototype,nw=tw.toString,rw=ew.hasOwnProperty,aw=RegExp("^"+nw.call(rw).replace(K_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iw(e){if(!X_(e)||Z_(e))return!1;var r=q_(e)?aw:Q_;return r.test(J_(e))}var ow=iw;function lw(e,r){return e==null?void 0:e[r]}var sw=lw,uw=ow,cw=sw;function fw(e,r){var t=cw(e,r);return uw(t)?t:void 0}var eo=fw,dw=eo,pw=ha,hw=dw(pw,"Map"),Gd=hw,vw=eo,mw=vw(Object,"create"),bu=mw,F1=bu;function gw(){this.__data__=F1?F1(null):{},this.size=0}var yw=gw;function xw(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var bw=xw,_w=bu,ww="__lodash_hash_undefined__",Tw=Object.prototype,kw=Tw.hasOwnProperty;function Mw(e){var r=this.__data__;if(_w){var t=r[e];return t===ww?void 0:t}return kw.call(r,e)?r[e]:void 0}var Aw=Mw,Sw=bu,Cw=Object.prototype,Ow=Cw.hasOwnProperty;function Lw(e){var r=this.__data__;return Sw?r[e]!==void 0:Ow.call(r,e)}var Ew=Lw,Dw=bu,Pw="__lodash_hash_undefined__";function Nw(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Dw&&r===void 0?Pw:r,this}var Rw=Nw,Iw=yw,Fw=bw,zw=Aw,jw=Ew,Hw=Rw;function no(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var s=e[r];this.set(s[0],s[1])}}no.prototype.clear=Iw,no.prototype.delete=Fw,no.prototype.get=zw,no.prototype.has=jw,no.prototype.set=Hw;var Bw=no,z1=Bw,Uw=yu,Vw=Gd;function Yw(){this.size=0,this.__data__={hash:new z1,map:new(Vw||Uw),string:new z1}}var $w=Yw;function Gw(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Ww=Gw,qw=Ww;function Zw(e,r){var t=e.__data__;return qw(r)?t[typeof r=="string"?"string":"hash"]:t.map}var _u=Zw,Xw=_u;function Jw(e){var r=Xw(this,e).delete(e);return this.size-=r?1:0,r}var Kw=Jw,Qw=_u;function t5(e){return Qw(this,e).get(e)}var e5=t5,n5=_u;function r5(e){return n5(this,e).has(e)}var a5=r5,i5=_u;function o5(e,r){var t=i5(this,e),s=t.size;return t.set(e,r),this.size+=t.size==s?0:1,this}var l5=o5,s5=$w,u5=Kw,c5=e5,f5=a5,d5=l5;function ro(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var s=e[r];this.set(s[0],s[1])}}ro.prototype.clear=s5,ro.prototype.delete=u5,ro.prototype.get=c5,ro.prototype.has=f5,ro.prototype.set=d5;var j1=ro,p5=yu,h5=Gd,v5=j1,m5=200;function g5(e,r){var t=this.__data__;if(t instanceof p5){var s=t.__data__;if(!h5||s.length<m5-1)return s.push([e,r]),this.size=++t.size,this;t=this.__data__=new v5(s)}return t.set(e,r),this.size=t.size,this}var y5=g5,x5=yu,b5=o_,_5=s_,w5=c_,T5=d_,k5=y5;function ao(e){var r=this.__data__=new x5(e);this.size=r.size}ao.prototype.clear=b5,ao.prototype.delete=_5,ao.prototype.get=w5,ao.prototype.has=T5,ao.prototype.set=k5;var M5=ao,A5="__lodash_hash_undefined__";function S5(e){return this.__data__.set(e,A5),this}var C5=S5;function O5(e){return this.__data__.has(e)}var L5=O5,E5=j1,D5=C5,P5=L5;function wu(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new E5;++r<t;)this.add(e[r])}wu.prototype.add=wu.prototype.push=D5,wu.prototype.has=P5;var N5=wu;function R5(e,r){for(var t=-1,s=e==null?0:e.length;++t<s;)if(r(e[t],t,e))return!0;return!1}var I5=R5;function F5(e,r){return e.has(r)}var z5=F5,j5=N5,H5=I5,B5=z5,U5=1,V5=2;function Y5(e,r,t,s,c,n){var a=t&U5,o=e.length,i=r.length;if(o!=i&&!(a&&i>o))return!1;var l=n.get(e),p=n.get(r);if(l&&p)return l==r&&p==e;var d=-1,f=!0,u=t&V5?new j5:void 0;for(n.set(e,r),n.set(r,e);++d<o;){var h=e[d],m=r[d];if(s)var v=a?s(m,h,d,r,e,n):s(h,m,d,e,r,n);if(v!==void 0){if(v)continue;f=!1;break}if(u){if(!H5(r,function(y,k){if(!B5(u,k)&&(h===y||c(h,y,t,s,n)))return u.push(k)})){f=!1;break}}else if(!(h===m||c(h,m,t,s,n))){f=!1;break}}return n.delete(e),n.delete(r),f}var H1=Y5,$5=ha,G5=$5.Uint8Array,W5=G5;function q5(e){var r=-1,t=Array(e.size);return e.forEach(function(s,c){t[++r]=[c,s]}),t}var Z5=q5;function X5(e){var r=-1,t=Array(e.size);return e.forEach(function(s){t[++r]=s}),t}var J5=X5,B1=Yd,U1=W5,K5=S1,Q5=H1,t4=Z5,e4=J5,n4=1,r4=2,a4="[object Boolean]",i4="[object Date]",o4="[object Error]",l4="[object Map]",s4="[object Number]",u4="[object RegExp]",c4="[object Set]",f4="[object String]",d4="[object Symbol]",p4="[object ArrayBuffer]",h4="[object DataView]",V1=B1?B1.prototype:void 0,Wd=V1?V1.valueOf:void 0;function v4(e,r,t,s,c,n,a){switch(t){case h4:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case p4:return!(e.byteLength!=r.byteLength||!n(new U1(e),new U1(r)));case a4:case i4:case s4:return K5(+e,+r);case o4:return e.name==r.name&&e.message==r.message;case u4:case f4:return e==r+"";case l4:var o=t4;case c4:var i=s&n4;if(o||(o=e4),e.size!=r.size&&!i)return!1;var l=a.get(e);if(l)return l==r;s|=r4,a.set(e,r);var p=Q5(o(e),o(r),s,c,n,a);return a.delete(e),p;case d4:if(Wd)return Wd.call(e)==Wd.call(r)}return!1}var m4=v4;function g4(e,r){for(var t=-1,s=r.length,c=e.length;++t<s;)e[c+t]=r[t];return e}var y4=g4,x4=Array.isArray,qd=x4,b4=y4,_4=qd;function w4(e,r,t){var s=r(e);return _4(e)?s:b4(s,t(e))}var T4=w4;function k4(e,r){for(var t=-1,s=e==null?0:e.length,c=0,n=[];++t<s;){var a=e[t];r(a,t,e)&&(n[c++]=a)}return n}var M4=k4;function A4(){return[]}var S4=A4,C4=M4,O4=S4,L4=Object.prototype,E4=L4.propertyIsEnumerable,Y1=Object.getOwnPropertySymbols,D4=Y1?function(e){return e==null?[]:(e=Object(e),C4(Y1(e),function(r){return E4.call(e,r)}))}:O4,P4=D4;function N4(e,r){for(var t=-1,s=Array(e);++t<e;)s[t]=r(t);return s}var R4=N4;function I4(e){return e!=null&&typeof e=="object"}var Tu=I4,F4=xu,z4=Tu,j4="[object Arguments]";function H4(e){return z4(e)&&F4(e)==j4}var B4=H4,$1=B4,U4=Tu,G1=Object.prototype,V4=G1.hasOwnProperty,Y4=G1.propertyIsEnumerable,$4=$1(function(){return arguments}())?$1:function(e){return U4(e)&&V4.call(e,"callee")&&!Y4.call(e,"callee")},G4=$4,ku={exports:{}};function W4(){return!1}var q4=W4;(function(e,r){var t=ha,s=q4,c=r&&!r.nodeType&&r,n=c&&!0&&e&&!e.nodeType&&e,a=n&&n.exports===c,o=a?t.Buffer:void 0,i=o?o.isBuffer:void 0,l=i||s;e.exports=l})(ku,ku.exports);var Z4=9007199254740991,X4=/^(?:0|[1-9]\d*)$/;function J4(e,r){var t=typeof e;return r=r==null?Z4:r,!!r&&(t=="number"||t!="symbol"&&X4.test(e))&&e>-1&&e%1==0&&e<r}var K4=J4,Q4=9007199254740991;function t6(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Q4}var W1=t6,e6=xu,n6=W1,r6=Tu,a6="[object Arguments]",i6="[object Array]",o6="[object Boolean]",l6="[object Date]",s6="[object Error]",u6="[object Function]",c6="[object Map]",f6="[object Number]",d6="[object Object]",p6="[object RegExp]",h6="[object Set]",v6="[object String]",m6="[object WeakMap]",g6="[object ArrayBuffer]",y6="[object DataView]",x6="[object Float32Array]",b6="[object Float64Array]",_6="[object Int8Array]",w6="[object Int16Array]",T6="[object Int32Array]",k6="[object Uint8Array]",M6="[object Uint8ClampedArray]",A6="[object Uint16Array]",S6="[object Uint32Array]",Rn={};Rn[x6]=Rn[b6]=Rn[_6]=Rn[w6]=Rn[T6]=Rn[k6]=Rn[M6]=Rn[A6]=Rn[S6]=!0,Rn[a6]=Rn[i6]=Rn[g6]=Rn[o6]=Rn[y6]=Rn[l6]=Rn[s6]=Rn[u6]=Rn[c6]=Rn[f6]=Rn[d6]=Rn[p6]=Rn[h6]=Rn[v6]=Rn[m6]=!1;function C6(e){return r6(e)&&n6(e.length)&&!!Rn[e6(e)]}var O6=C6;function L6(e){return function(r){return e(r)}}var E6=L6,Zd={exports:{}};(function(e,r){var t=C1,s=r&&!r.nodeType&&r,c=s&&!0&&e&&!e.nodeType&&e,n=c&&c.exports===s,a=n&&t.process,o=function(){try{var i=c&&c.require&&c.require("util").types;return i||a&&a.binding&&a.binding("util")}catch(l){}}();e.exports=o})(Zd,Zd.exports);var D6=O6,P6=E6,q1=Zd.exports,Z1=q1&&q1.isTypedArray,N6=Z1?P6(Z1):D6,X1=N6,R6=R4,I6=G4,F6=qd,z6=ku.exports,j6=K4,H6=X1,B6=Object.prototype,U6=B6.hasOwnProperty;function V6(e,r){var t=F6(e),s=!t&&I6(e),c=!t&&!s&&z6(e),n=!t&&!s&&!c&&H6(e),a=t||s||c||n,o=a?R6(e.length,String):[],i=o.length;for(var l in e)(r||U6.call(e,l))&&!(a&&(l=="length"||c&&(l=="offset"||l=="parent")||n&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||j6(l,i)))&&o.push(l);return o}var Y6=V6,$6=Object.prototype;function G6(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||$6;return e===t}var W6=G6;function q6(e,r){return function(t){return e(r(t))}}var Z6=q6,X6=Z6,J6=X6(Object.keys,Object),K6=J6,Q6=W6,tT=K6,eT=Object.prototype,nT=eT.hasOwnProperty;function rT(e){if(!Q6(e))return tT(e);var r=[];for(var t in Object(e))nT.call(e,t)&&t!="constructor"&&r.push(t);return r}var aT=rT,iT=N1,oT=W1;function lT(e){return e!=null&&oT(e.length)&&!iT(e)}var sT=lT,uT=Y6,cT=aT,fT=sT;function dT(e){return fT(e)?uT(e):cT(e)}var pT=dT,hT=T4,vT=P4,mT=pT;function gT(e){return hT(e,mT,vT)}var yT=gT,J1=yT,xT=1,bT=Object.prototype,_T=bT.hasOwnProperty;function wT(e,r,t,s,c,n){var a=t&xT,o=J1(e),i=o.length,l=J1(r),p=l.length;if(i!=p&&!a)return!1;for(var d=i;d--;){var f=o[d];if(!(a?f in r:_T.call(r,f)))return!1}var u=n.get(e),h=n.get(r);if(u&&h)return u==r&&h==e;var m=!0;n.set(e,r),n.set(r,e);for(var v=a;++d<i;){f=o[d];var y=e[f],k=r[f];if(s)var _=a?s(k,y,f,r,e,n):s(y,k,f,e,r,n);if(!(_===void 0?y===k||c(y,k,t,s,n):_)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var T=e.constructor,b=r.constructor;T!=b&&"constructor"in e&&"constructor"in r&&!(typeof T=="function"&&T instanceof T&&typeof b=="function"&&b instanceof b)&&(m=!1)}return n.delete(e),n.delete(r),m}var TT=wT,kT=eo,MT=ha,AT=kT(MT,"DataView"),ST=AT,CT=eo,OT=ha,LT=CT(OT,"Promise"),ET=LT,DT=eo,PT=ha,NT=DT(PT,"Set"),RT=NT,IT=eo,FT=ha,zT=IT(FT,"WeakMap"),jT=zT,Xd=ST,Jd=Gd,Kd=ET,Qd=RT,tp=jT,K1=xu,io=I1,Q1="[object Map]",HT="[object Object]",tg="[object Promise]",eg="[object Set]",ng="[object WeakMap]",rg="[object DataView]",BT=io(Xd),UT=io(Jd),VT=io(Kd),YT=io(Qd),$T=io(tp),di=K1;(Xd&&di(new Xd(new ArrayBuffer(1)))!=rg||Jd&&di(new Jd)!=Q1||Kd&&di(Kd.resolve())!=tg||Qd&&di(new Qd)!=eg||tp&&di(new tp)!=ng)&&(di=function(e){var r=K1(e),t=r==HT?e.constructor:void 0,s=t?io(t):"";if(s)switch(s){case BT:return rg;case UT:return Q1;case VT:return tg;case YT:return eg;case $T:return ng}return r});var GT=di,ep=M5,WT=H1,qT=m4,ZT=TT,ag=GT,ig=qd,og=ku.exports,XT=X1,JT=1,lg="[object Arguments]",sg="[object Array]",Mu="[object Object]",KT=Object.prototype,ug=KT.hasOwnProperty;function QT(e,r,t,s,c,n){var a=ig(e),o=ig(r),i=a?sg:ag(e),l=o?sg:ag(r);i=i==lg?Mu:i,l=l==lg?Mu:l;var p=i==Mu,d=l==Mu,f=i==l;if(f&&og(e)){if(!og(r))return!1;a=!0,p=!1}if(f&&!p)return n||(n=new ep),a||XT(e)?WT(e,r,t,s,c,n):qT(e,r,i,t,s,c,n);if(!(t&JT)){var u=p&&ug.call(e,"__wrapped__"),h=d&&ug.call(r,"__wrapped__");if(u||h){var m=u?e.value():e,v=h?r.value():r;return n||(n=new ep),c(m,v,t,s,n)}}return f?(n||(n=new ep),ZT(e,r,t,s,c,n)):!1}var tk=QT,ek=tk,cg=Tu;function fg(e,r,t,s,c){return e===r?!0:e==null||r==null||!cg(e)&&!cg(r)?e!==e&&r!==r:ek(e,r,t,s,fg,c)}var nk=fg,rk=nk;function ak(e,r){return rk(e,r)}var ik=ak,dg=function(){if(typeof Map!="undefined")return Map;function e(r,t){var s=-1;return r.some(function(c,n){return c[0]===t?(s=n,!0):!1}),s}return function(){function r(){this.__entries__=[]}return Object.defineProperty(r.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),r.prototype.get=function(t){var s=e(this.__entries__,t),c=this.__entries__[s];return c&&c[1]},r.prototype.set=function(t,s){var c=e(this.__entries__,t);~c?this.__entries__[c][1]=s:this.__entries__.push([t,s])},r.prototype.delete=function(t){var s=this.__entries__,c=e(s,t);~c&&s.splice(c,1)},r.prototype.has=function(t){return!!~e(this.__entries__,t)},r.prototype.clear=function(){this.__entries__.splice(0)},r.prototype.forEach=function(t,s){s===void 0&&(s=null);for(var c=0,n=this.__entries__;c<n.length;c++){var a=n[c];t.call(s,a[1],a[0])}},r}()}(),np=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,Au=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),ok=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Au):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),lk=2;function sk(e,r){var t=!1,s=!1,c=0;function n(){t&&(t=!1,e()),s&&o()}function a(){ok(n)}function o(){var i=Date.now();if(t){if(i-c<lk)return;s=!0}else t=!0,s=!1,setTimeout(a,r);c=i}return o}var uk=20,ck=["top","right","bottom","left","width","height","size","weight"],fk=typeof MutationObserver!="undefined",dk=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=sk(this.refresh.bind(this),uk)}return e.prototype.addObserver=function(r){~this.observers_.indexOf(r)||this.observers_.push(r),this.connected_||this.connect_()},e.prototype.removeObserver=function(r){var t=this.observers_,s=t.indexOf(r);~s&&t.splice(s,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var r=this.updateObservers_();r&&this.refresh()},e.prototype.updateObservers_=function(){var r=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return r.forEach(function(t){return t.broadcastActive()}),r.length>0},e.prototype.connect_=function(){!np||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),fk?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!np||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(r){var t=r.propertyName,s=t===void 0?"":t,c=ck.some(function(n){return!!~s.indexOf(n)});c&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),pg=function(e,r){for(var t=0,s=Object.keys(r);t<s.length;t++){var c=s[t];Object.defineProperty(e,c,{value:r[c],enumerable:!1,writable:!1,configurable:!0})}return e},oo=function(e){var r=e&&e.ownerDocument&&e.ownerDocument.defaultView;return r||Au},hg=Cu(0,0,0,0);function Su(e){return parseFloat(e)||0}function vg(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return r.reduce(function(s,c){var n=e["border-"+c+"-width"];return s+Su(n)},0)}function pk(e){for(var r=["top","right","bottom","left"],t={},s=0,c=r;s<c.length;s++){var n=c[s],a=e["padding-"+n];t[n]=Su(a)}return t}function hk(e){var r=e.getBBox();return Cu(0,0,r.width,r.height)}function vk(e){var r=e.clientWidth,t=e.clientHeight;if(!r&&!t)return hg;var s=oo(e).getComputedStyle(e),c=pk(s),n=c.left+c.right,a=c.top+c.bottom,o=Su(s.width),i=Su(s.height);if(s.boxSizing==="border-box"&&(Math.round(o+n)!==r&&(o-=vg(s,"left","right")+n),Math.round(i+a)!==t&&(i-=vg(s,"top","bottom")+a)),!gk(e)){var l=Math.round(o+n)-r,p=Math.round(i+a)-t;Math.abs(l)!==1&&(o-=l),Math.abs(p)!==1&&(i-=p)}return Cu(c.left,c.top,o,i)}var mk=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof oo(e).SVGGraphicsElement}:function(e){return e instanceof oo(e).SVGElement&&typeof e.getBBox=="function"}}();function gk(e){return e===oo(e).document.documentElement}function yk(e){return np?mk(e)?hk(e):vk(e):hg}function xk(e){var r=e.x,t=e.y,s=e.width,c=e.height,n=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,a=Object.create(n.prototype);return pg(a,{x:r,y:t,width:s,height:c,top:t,right:r+s,bottom:c+t,left:r}),a}function Cu(e,r,t,s){return{x:e,y:r,width:t,height:s}}var bk=function(){function e(r){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Cu(0,0,0,0),this.target=r}return e.prototype.isActive=function(){var r=yk(this.target);return this.contentRect_=r,r.width!==this.broadcastWidth||r.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var r=this.contentRect_;return this.broadcastWidth=r.width,this.broadcastHeight=r.height,r},e}(),_k=function(){function e(r,t){var s=xk(t);pg(this,{target:r,contentRect:s})}return e}(),wk=function(){function e(r,t,s){if(this.activeObservations_=[],this.observations_=new dg,typeof r!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=r,this.controller_=t,this.callbackCtx_=s}return e.prototype.observe=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(r instanceof oo(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(r)||(t.set(r,new bk(r)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(r instanceof oo(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;!t.has(r)||(t.delete(r),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var r=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&r.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(!!this.hasActive()){var r=this.callbackCtx_,t=this.activeObservations_.map(function(s){return new _k(s.target,s.broadcastRect())});this.callback_.call(r,t,r),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),mg=typeof WeakMap!="undefined"?new WeakMap:new dg,gg=function(){function e(r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=dk.getInstance(),s=new wk(r,t,this);mg.set(this,s)}return e}();["observe","unobserve","disconnect"].forEach(function(e){gg.prototype[e]=function(){var r;return(r=mg.get(this))[e].apply(r,arguments)}});var Tk=function(){return typeof Au.ResizeObserver!="undefined"?Au.ResizeObserver:gg}();function kk(e,r){return e===r?!0:!e||!r?!1:"pageX"in r&&"pageY"in r?e.pageX===r.pageX&&e.pageY===r.pageY:"clientX"in r&&"clientY"in r?e.clientX===r.clientX&&e.clientY===r.clientY:!1}function Mk(e,r){e!==document.activeElement&&Js(r,e)&&typeof e.focus=="function"&&e.focus()}function yg(e,r){var t=null,s=null;function c(a){var o=Kn(a,1),i=o[0].target;if(!!document.documentElement.contains(i)){var l=i.getBoundingClientRect(),p=l.width,d=l.height,f=Math.floor(p),u=Math.floor(d);(t!==f||s!==u)&&Promise.resolve().then(function(){r({width:f,height:u})}),t=f,s=u}}var n=new Tk(c);return e&&n.observe(e),function(){n.disconnect()}}var Ak=function(e,r){var t=yn.useRef(!1),s=yn.useRef(null);function c(){window.clearTimeout(s.current)}function n(a){if(!t.current||a===!0){if(e()===!1)return;t.current=!0,c(),s.current=window.setTimeout(function(){t.current=!1},r)}else c(),s.current=window.setTimeout(function(){t.current=!1,n()},r)}return[n,function(){t.current=!1,c()}]};function xg(e){return typeof e!="function"?null:e()}function bg(e){return Kr(e)!=="object"||!e?null:e}var Sk=function(r,t){var s=r.children,c=r.disabled,n=r.target,a=r.align,o=r.onAlign,i=r.monitorWindowResize,l=r.monitorBufferTime,p=l===void 0?0:l,d=yn.useRef({}),f=yn.useRef(),u=yn.Children.only(s),h=yn.useRef({});h.current.disabled=c,h.current.target=n,h.current.align=a,h.current.onAlign=o;var m=Ak(function(){var x=h.current,O=x.disabled,A=x.target,C=x.align,L=x.onAlign;if(!O&&A){var w=f.current,E,I=xg(A),M=bg(A);d.current.element=I,d.current.point=M,d.current.align=C;var V=document,j=V.activeElement;return I&&ob(I)?E=Vd(w,I,C):M&&(E=Pb(w,M,C)),Mk(j,w),L&&E&&L(w,E),!0}return!1},p),v=Kn(m,2),y=v[0],k=v[1],_=yn.useRef({cancel:function(){}}),T=yn.useRef({cancel:function(){}});yn.useEffect(function(){var x=xg(n),O=bg(n);f.current!==T.current.element&&(T.current.cancel(),T.current.element=f.current,T.current.cancel=yg(f.current,y)),(d.current.element!==x||!kk(d.current.point,O)||!ik(d.current.align,a))&&(y(),_.current.element!==x&&(_.current.cancel(),_.current.element=x,_.current.cancel=yg(x,y)))}),yn.useEffect(function(){c?k():y()},[c]);var b=yn.useRef(null);return yn.useEffect(function(){i?b.current||(b.current=Qr(window,"resize",y)):b.current&&(b.current.remove(),b.current=null)},[i]),yn.useEffect(function(){return function(){_.current.cancel(),T.current.cancel(),b.current&&b.current.remove(),k()}},[]),yn.useImperativeHandle(t,function(){return{forceAlign:function(){return y(!0)}}}),yn.isValidElement(u)&&(u=yn.cloneElement(u,{ref:Md(u.ref,f)})),u},_g=yn.forwardRef(Sk);_g.displayName="Align";var wg={exports:{}};(function(e){var r=function(t){var s=Object.prototype,c=s.hasOwnProperty,n,a=typeof Symbol=="function"?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function p(H,B,K){return Object.defineProperty(H,B,{value:K,enumerable:!0,configurable:!0,writable:!0}),H[B]}try{p({},"")}catch(H){p=function(B,K,et){return B[K]=et}}function d(H,B,K,et){var G=B&&B.prototype instanceof k?B:k,Y=Object.create(G.prototype),D=new V(et||[]);return Y._invoke=w(H,K,D),Y}t.wrap=d;function f(H,B,K){try{return{type:"normal",arg:H.call(B,K)}}catch(et){return{type:"throw",arg:et}}}var u="suspendedStart",h="suspendedYield",m="executing",v="completed",y={};function k(){}function _(){}function T(){}var b={};p(b,o,function(){return this});var x=Object.getPrototypeOf,O=x&&x(x(j([])));O&&O!==s&&c.call(O,o)&&(b=O);var A=T.prototype=k.prototype=Object.create(b);_.prototype=T,p(A,"constructor",T),p(T,"constructor",_),_.displayName=p(T,l,"GeneratorFunction");function C(H){["next","throw","return"].forEach(function(B){p(H,B,function(K){return this._invoke(B,K)})})}t.isGeneratorFunction=function(H){var B=typeof H=="function"&&H.constructor;return B?B===_||(B.displayName||B.name)==="GeneratorFunction":!1},t.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,T):(H.__proto__=T,p(H,l,"GeneratorFunction")),H.prototype=Object.create(A),H},t.awrap=function(H){return{__await:H}};function L(H,B){function K(Y,D,U,$){var Q=f(H[Y],H,D);if(Q.type==="throw")$(Q.arg);else{var F=Q.arg,z=F.value;return z&&typeof z=="object"&&c.call(z,"__await")?B.resolve(z.__await).then(function(P){K("next",P,U,$)},function(P){K("throw",P,U,$)}):B.resolve(z).then(function(P){F.value=P,U(F)},function(P){return K("throw",P,U,$)})}}var et;function G(Y,D){function U(){return new B(function($,Q){K(Y,D,$,Q)})}return et=et?et.then(U,U):U()}this._invoke=G}C(L.prototype),p(L.prototype,i,function(){return this}),t.AsyncIterator=L,t.async=function(H,B,K,et,G){G===void 0&&(G=Promise);var Y=new L(d(H,B,K,et),G);return t.isGeneratorFunction(B)?Y:Y.next().then(function(D){return D.done?D.value:Y.next()})};function w(H,B,K){var et=u;return function(Y,D){if(et===m)throw new Error("Generator is already running");if(et===v){if(Y==="throw")throw D;return W()}for(K.method=Y,K.arg=D;;){var U=K.delegate;if(U){var $=E(U,K);if($){if($===y)continue;return $}}if(K.method==="next")K.sent=K._sent=K.arg;else if(K.method==="throw"){if(et===u)throw et=v,K.arg;K.dispatchException(K.arg)}else K.method==="return"&&K.abrupt("return",K.arg);et=m;var Q=f(H,B,K);if(Q.type==="normal"){if(et=K.done?v:h,Q.arg===y)continue;return{value:Q.arg,done:K.done}}else Q.type==="throw"&&(et=v,K.method="throw",K.arg=Q.arg)}}}function E(H,B){var K=H.iterator[B.method];if(K===n){if(B.delegate=null,B.method==="throw"){if(H.iterator.return&&(B.method="return",B.arg=n,E(H,B),B.method==="throw"))return y;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var et=f(K,H.iterator,B.arg);if(et.type==="throw")return B.method="throw",B.arg=et.arg,B.delegate=null,y;var G=et.arg;if(!G)return B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,y;if(G.done)B[H.resultName]=G.value,B.next=H.nextLoc,B.method!=="return"&&(B.method="next",B.arg=n);else return G;return B.delegate=null,y}C(A),p(A,l,"Generator"),p(A,o,function(){return this}),p(A,"toString",function(){return"[object Generator]"});function I(H){var B={tryLoc:H[0]};1 in H&&(B.catchLoc=H[1]),2 in H&&(B.finallyLoc=H[2],B.afterLoc=H[3]),this.tryEntries.push(B)}function M(H){var B=H.completion||{};B.type="normal",delete B.arg,H.completion=B}function V(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(I,this),this.reset(!0)}t.keys=function(H){var B=[];for(var K in H)B.push(K);return B.reverse(),function et(){for(;B.length;){var G=B.pop();if(G in H)return et.value=G,et.done=!1,et}return et.done=!0,et}};function j(H){if(H){var B=H[o];if(B)return B.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length)){var K=-1,et=function G(){for(;++K<H.length;)if(c.call(H,K))return G.value=H[K],G.done=!1,G;return G.value=n,G.done=!0,G};return et.next=et}}return{next:W}}t.values=j;function W(){return{value:n,done:!0}}return V.prototype={constructor:V,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(M),!H)for(var B in this)B.charAt(0)==="t"&&c.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=n)},stop:function(){this.done=!0;var H=this.tryEntries[0],B=H.completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var B=this;function K($,Q){return Y.type="throw",Y.arg=H,B.next=$,Q&&(B.method="next",B.arg=n),!!Q}for(var et=this.tryEntries.length-1;et>=0;--et){var G=this.tryEntries[et],Y=G.completion;if(G.tryLoc==="root")return K("end");if(G.tryLoc<=this.prev){var D=c.call(G,"catchLoc"),U=c.call(G,"finallyLoc");if(D&&U){if(this.prev<G.catchLoc)return K(G.catchLoc,!0);if(this.prev<G.finallyLoc)return K(G.finallyLoc)}else if(D){if(this.prev<G.catchLoc)return K(G.catchLoc,!0)}else if(U){if(this.prev<G.finallyLoc)return K(G.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(H,B){for(var K=this.tryEntries.length-1;K>=0;--K){var et=this.tryEntries[K];if(et.tryLoc<=this.prev&&c.call(et,"finallyLoc")&&this.prev<et.finallyLoc){var G=et;break}}G&&(H==="break"||H==="continue")&&G.tryLoc<=B&&B<=G.finallyLoc&&(G=null);var Y=G?G.completion:{};return Y.type=H,Y.arg=B,G?(this.method="next",this.next=G.finallyLoc,y):this.complete(Y)},complete:function(H,B){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&B&&(this.next=B),y},finish:function(H){for(var B=this.tryEntries.length-1;B>=0;--B){var K=this.tryEntries[B];if(K.finallyLoc===H)return this.complete(K.completion,K.afterLoc),M(K),y}},catch:function(H){for(var B=this.tryEntries.length-1;B>=0;--B){var K=this.tryEntries[B];if(K.tryLoc===H){var et=K.completion;if(et.type==="throw"){var G=et.arg;M(K)}return G}}throw new Error("illegal catch attempt")},delegateYield:function(H,B,K){return this.delegate={iterator:j(H),resultName:B,nextLoc:K},this.method==="next"&&(this.arg=n),y}},t}(e.exports);try{regeneratorRuntime=r}catch(t){typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}})(wg);var Tg=wg.exports;function kg(e,r,t,s,c,n,a){try{var o=e[n](a),i=o.value}catch(l){t(l);return}o.done?r(i):Promise.resolve(i).then(s,c)}function Ck(e){return function(){var r=this,t=arguments;return new Promise(function(s,c){var n=e.apply(r,t);function a(i){kg(n,s,c,a,o,"next",i)}function o(i){kg(n,s,c,a,o,"throw",i)}a(void 0)})}}var Mg=["measure","align",null,"motion"],Ok=function(e,r){var t=Pe.exports.useState(null),s=Kn(t,2),c=s[0],n=s[1],a=Pe.exports.useRef(),o=Pe.exports.useRef(!1);function i(d){o.current||n(d)}function l(){Vr.cancel(a.current)}function p(d){l(),a.current=Vr(function(){i(function(f){switch(c){case"align":return"motion";case"motion":return"stable"}return f}),d==null||d()})}return Pe.exports.useEffect(function(){i("measure")},[e]),Pe.exports.useEffect(function(){switch(c){case"measure":r();break}c&&(a.current=Vr(Ck(Tg.mark(function d(){var f,u;return Tg.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:f=Mg.indexOf(c),u=Mg[f+1],u&&f!==-1&&i(u);case 3:case"end":return m.stop()}},d)}))))},[c]),Pe.exports.useEffect(function(){return function(){o.current=!0,l()}},[]),[c,p]},Lk=function(e){var r=Pe.exports.useState({width:0,height:0}),t=Kn(r,2),s=t[0],c=t[1];function n(o){c({width:o.offsetWidth,height:o.offsetHeight})}var a=Pe.exports.useMemo(function(){var o={};if(e){var i=s.width,l=s.height;e.indexOf("height")!==-1&&l?o.height=l:e.indexOf("minHeight")!==-1&&l&&(o.minHeight=l),e.indexOf("width")!==-1&&i?o.width=i:e.indexOf("minWidth")!==-1&&i&&(o.minWidth=i)}return o},[e,s]);return[a,n]},Ag=Pe.exports.forwardRef(function(e,r){var t=e.visible,s=e.prefixCls,c=e.className,n=e.style,a=e.children,o=e.zIndex,i=e.stretch,l=e.destroyPopupOnHide,p=e.forceRender,d=e.align,f=e.point,u=e.getRootDomNode,h=e.getClassNameFromAlign,m=e.onAlign,v=e.onMouseEnter,y=e.onMouseLeave,k=e.onMouseDown,_=e.onTouchStart,T=Pe.exports.useRef(),b=Pe.exports.useRef(),x=Pe.exports.useState(),O=Kn(x,2),A=O[0],C=O[1],L=Lk(i),w=Kn(L,2),E=w[0],I=w[1];function M(){i&&I(u())}var V=Ok(t,M),j=Kn(V,2),W=j[0],H=j[1],B=Pe.exports.useRef();function K(){return f||u}function et(){var F;(F=T.current)===null||F===void 0||F.forceAlign()}function G(F,z){var P=h(z);A!==P&&C(P),W==="align"&&(A!==P?Promise.resolve().then(function(){et()}):H(function(){var Z;(Z=B.current)===null||Z===void 0||Z.call(B)}),m==null||m(F,z))}var Y=pn({},a1(e));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(F){var z=Y[F];Y[F]=function(P,Z){return H(),z==null?void 0:z(P,Z)}});function D(){return new Promise(function(F){B.current=F})}Pe.exports.useEffect(function(){!Y.motionName&&W==="motion"&&H()},[Y.motionName,W]),Pe.exports.useImperativeHandle(r,function(){return{forceAlign:et,getElement:function(){return b.current}}});var U=pn(pn({},E),{},{zIndex:o,opacity:W==="motion"||W==="stable"||!t?void 0:0,pointerEvents:W==="stable"?void 0:"none"},n),$=!0;(d==null?void 0:d.points)&&(W==="align"||W==="stable")&&($=!1);var Q=a;return Pe.exports.Children.count(a)>1&&(Q=Pe.exports.createElement("div",{className:"".concat(s,"-content")},a)),Pe.exports.createElement(Ed,gr({visible:t,ref:b,leavedClassName:"".concat(s,"-hidden")},Y,{onAppearPrepare:D,onEnterPrepare:D,removeOnLeave:l,forceRender:p}),function(F,z){var P=F.className,Z=F.style,R=Ur(s,c,A,P);return Pe.exports.createElement(_g,{target:K(),key:"popup",ref:T,monitorWindowResize:!0,disabled:$,align:d,onAlign:G},Pe.exports.createElement("div",{ref:z,className:R,onMouseEnter:v,onMouseLeave:y,onMouseDownCapture:k,onTouchStartCapture:_,style:pn(pn({},Z),U)},Q))})});Ag.displayName="PopupInner";var Sg=Pe.exports.forwardRef(function(e,r){var t=e.prefixCls,s=e.visible,c=e.zIndex,n=e.children,a=e.mobile;a=a===void 0?{}:a;var o=a.popupClassName,i=a.popupStyle,l=a.popupMotion,p=l===void 0?{}:l,d=a.popupRender,f=Pe.exports.useRef();Pe.exports.useImperativeHandle(r,function(){return{forceAlign:function(){},getElement:function(){return f.current}}});var u=pn({zIndex:c},i),h=n;return Pe.exports.Children.count(n)>1&&(h=Pe.exports.createElement("div",{className:"".concat(t,"-content")},n)),d&&(h=d(h)),Pe.exports.createElement(Ed,gr({visible:s,ref:f,removeOnLeave:!0},p),function(m,v){var y=m.className,k=m.style,_=Ur(t,o,y);return Pe.exports.createElement("div",{ref:v,className:_,style:pn(pn({},k),u)},h)})});Sg.displayName="MobilePopupInner";var Ek=["visible","mobile"],Cg=Pe.exports.forwardRef(function(e,r){var t=e.visible,s=e.mobile,c=qi(e,Ek),n=Pe.exports.useState(t),a=Kn(n,2),o=a[0],i=a[1],l=Pe.exports.useState(!1),p=Kn(l,2),d=p[0],f=p[1],u=pn(pn({},c),{},{visible:o});Pe.exports.useEffect(function(){i(t),t&&s&&f(W3())},[t,s]);var h=d?Pe.exports.createElement(Sg,gr({},u,{mobile:s,ref:r})):Pe.exports.createElement(Ag,gr({},u,{ref:r}));return Pe.exports.createElement("div",null,Pe.exports.createElement(ib,u),h)});Cg.displayName="Popup";var Og=Pe.exports.createContext(null);function rp(){}function Dk(){return""}function Pk(e){return e?e.ownerDocument:window.document}var Nk=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Rk(e){var r=function(t){ui(c,t);var s=ci(c);function c(n){var a;li(this,c),a=s.call(this,n),a.popupRef=Pe.exports.createRef(),a.triggerRef=Pe.exports.createRef(),a.attachId=void 0,a.clickOutsideHandler=void 0,a.touchOutsideHandler=void 0,a.contextMenuOutsideHandler1=void 0,a.contextMenuOutsideHandler2=void 0,a.mouseDownTimeout=void 0,a.focusTime=void 0,a.preClickTime=void 0,a.preTouchTime=void 0,a.delayTimer=void 0,a.hasPopupMouseDown=void 0,a.onMouseEnter=function(i){var l=a.props.mouseEnterDelay;a.fireEvents("onMouseEnter",i),a.delaySetPopupVisible(!0,l,l?null:i)},a.onMouseMove=function(i){a.fireEvents("onMouseMove",i),a.setPoint(i)},a.onMouseLeave=function(i){a.fireEvents("onMouseLeave",i),a.delaySetPopupVisible(!1,a.props.mouseLeaveDelay)},a.onPopupMouseEnter=function(){a.clearDelayTimer()},a.onPopupMouseLeave=function(i){var l;i.relatedTarget&&!i.relatedTarget.setTimeout&&Js((l=a.popupRef.current)===null||l===void 0?void 0:l.getElement(),i.relatedTarget)||a.delaySetPopupVisible(!1,a.props.mouseLeaveDelay)},a.onFocus=function(i){a.fireEvents("onFocus",i),a.clearDelayTimer(),a.isFocusToShow()&&(a.focusTime=Date.now(),a.delaySetPopupVisible(!0,a.props.focusDelay))},a.onMouseDown=function(i){a.fireEvents("onMouseDown",i),a.preClickTime=Date.now()},a.onTouchStart=function(i){a.fireEvents("onTouchStart",i),a.preTouchTime=Date.now()},a.onBlur=function(i){a.fireEvents("onBlur",i),a.clearDelayTimer(),a.isBlurToHide()&&a.delaySetPopupVisible(!1,a.props.blurDelay)},a.onContextMenu=function(i){i.preventDefault(),a.fireEvents("onContextMenu",i),a.setPopupVisible(!0,i)},a.onContextMenuClose=function(){a.isContextMenuToShow()&&a.close()},a.onClick=function(i){if(a.fireEvents("onClick",i),a.focusTime){var l;if(a.preClickTime&&a.preTouchTime?l=Math.min(a.preClickTime,a.preTouchTime):a.preClickTime?l=a.preClickTime:a.preTouchTime&&(l=a.preTouchTime),Math.abs(l-a.focusTime)<20)return;a.focusTime=0}a.preClickTime=0,a.preTouchTime=0,a.isClickToShow()&&(a.isClickToHide()||a.isBlurToHide())&&i&&i.preventDefault&&i.preventDefault();var p=!a.state.popupVisible;(a.isClickToHide()&&!p||p&&a.isClickToShow())&&a.setPopupVisible(!a.state.popupVisible,i)},a.onPopupMouseDown=function(){if(a.hasPopupMouseDown=!0,clearTimeout(a.mouseDownTimeout),a.mouseDownTimeout=window.setTimeout(function(){a.hasPopupMouseDown=!1},0),a.context){var i;(i=a.context).onPopupMouseDown.apply(i,arguments)}},a.onDocumentClick=function(i){if(!(a.props.mask&&!a.props.maskClosable)){var l=i.target,p=a.getRootDomNode(),d=a.getPopupDomNode();(!Js(p,l)||a.isContextMenuOnly())&&!Js(d,l)&&!a.hasPopupMouseDown&&a.close()}},a.getRootDomNode=function(){var i=a.props.getTriggerDOMNode;if(i)return i(a.triggerRef.current);try{var l=Bm(a.triggerRef.current);if(l)return l}catch(p){}return Wi.findDOMNode(wm(a))},a.getPopupClassNameFromAlign=function(i){var l=[],p=a.props,d=p.popupPlacement,f=p.builtinPlacements,u=p.prefixCls,h=p.alignPoint,m=p.getPopupClassNameFromAlign;return d&&f&&l.push(V3(f,u,i,h)),m&&l.push(m(i)),l.join(" ")},a.getComponent=function(){var i=a.props,l=i.prefixCls,p=i.destroyPopupOnHide,d=i.popupClassName,f=i.onPopupAlign,u=i.popupMotion,h=i.popupAnimation,m=i.popupTransitionName,v=i.popupStyle,y=i.mask,k=i.maskAnimation,_=i.maskTransitionName,T=i.maskMotion,b=i.zIndex,x=i.popup,O=i.stretch,A=i.alignPoint,C=i.mobile,L=i.forceRender,w=a.state,E=w.popupVisible,I=w.point,M=a.getPopupAlign(),V={};return a.isMouseEnterToShow()&&(V.onMouseEnter=a.onPopupMouseEnter),a.isMouseLeaveToHide()&&(V.onMouseLeave=a.onPopupMouseLeave),V.onMouseDown=a.onPopupMouseDown,V.onTouchStart=a.onPopupMouseDown,Pe.exports.createElement(Cg,gr({prefixCls:l,destroyPopupOnHide:p,visible:E,point:A&&I,className:d,align:M,onAlign:f,animation:h,getClassNameFromAlign:a.getPopupClassNameFromAlign},V,{stretch:O,getRootDomNode:a.getRootDomNode,style:v,mask:y,zIndex:b,transitionName:m,maskAnimation:k,maskTransitionName:_,maskMotion:T,ref:a.popupRef,motion:u,mobile:C,forceRender:L}),typeof x=="function"?x():x)},a.attachParent=function(i){Vr.cancel(a.attachId);var l=a.props,p=l.getPopupContainer,d=l.getDocument,f=a.getRootDomNode(),u;p?(f||p.length===0)&&(u=p(f)):u=d(a.getRootDomNode()).body,u?u.appendChild(i):a.attachId=Vr(function(){a.attachParent(i)})},a.getContainer=function(){var i=a.props.getDocument,l=i(a.getRootDomNode()).createElement("div");return l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.width="100%",a.attachParent(l),l},a.setPoint=function(i){var l=a.props.alignPoint;!l||!i||a.setState({point:{pageX:i.pageX,pageY:i.pageY}})},a.handlePortalUpdate=function(){a.state.prevPopupVisible!==a.state.popupVisible&&a.props.afterPopupVisibleChange(a.state.popupVisible)},a.triggerContextValue={onPopupMouseDown:a.onPopupMouseDown};var o;return"popupVisible"in n?o=!!n.popupVisible:o=!!n.defaultPopupVisible,a.state={prevPopupVisible:o,popupVisible:o},Nk.forEach(function(i){a["fire".concat(i)]=function(l){a.fireEvents(i,l)}}),a}return si(c,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var a=this.props,o=this.state;if(o.popupVisible){var i;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(i=a.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Qr(i,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(i=i||a.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Qr(i,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(i=i||a.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Qr(i,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Qr(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Vr.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var a;return((a=this.popupRef.current)===null||a===void 0?void 0:a.getElement())||null}},{key:"getPopupAlign",value:function(){var a=this.props,o=a.popupPlacement,i=a.popupAlign,l=a.builtinPlacements;return o&&l?U3(l,o,i):i}},{key:"setPopupVisible",value:function(a,o){var i=this.props.alignPoint,l=this.state.popupVisible;this.clearDelayTimer(),l!==a&&("popupVisible"in this.props||this.setState({popupVisible:a,prevPopupVisible:l}),this.props.onPopupVisibleChange(a)),i&&o&&a&&this.setPoint(o)}},{key:"delaySetPopupVisible",value:function(a,o,i){var l=this,p=o*1e3;if(this.clearDelayTimer(),p){var d=i?{pageX:i.pageX,pageY:i.pageY}:null;this.delayTimer=window.setTimeout(function(){l.setPopupVisible(a,d),l.clearDelayTimer()},p)}else this.setPopupVisible(a,i)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(a){var o=this.props.children.props,i=this.props;return o[a]&&i[a]?this["fire".concat(a)]:o[a]||i[a]}},{key:"isClickToShow",value:function(){var a=this.props,o=a.action,i=a.showAction;return o.indexOf("click")!==-1||i.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var a=this.props.action;return a==="contextMenu"||a.length===1&&a[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var a=this.props,o=a.action,i=a.showAction;return o.indexOf("contextMenu")!==-1||i.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var a=this.props,o=a.action,i=a.hideAction;return o.indexOf("click")!==-1||i.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var a=this.props,o=a.action,i=a.showAction;return o.indexOf("hover")!==-1||i.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var a=this.props,o=a.action,i=a.hideAction;return o.indexOf("hover")!==-1||i.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var a=this.props,o=a.action,i=a.showAction;return o.indexOf("focus")!==-1||i.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var a=this.props,o=a.action,i=a.hideAction;return o.indexOf("focus")!==-1||i.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var a;(a=this.popupRef.current)===null||a===void 0||a.forceAlign()}}},{key:"fireEvents",value:function(a,o){var i=this.props.children.props[a];i&&i(o);var l=this.props[a];l&&l(o)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var a=this.state.popupVisible,o=this.props,i=o.children,l=o.forceRender,p=o.alignPoint,d=o.className,f=o.autoDestroy,u=Pe.exports.Children.only(i),h={key:"trigger"};this.isContextMenuToShow()?h.onContextMenu=this.onContextMenu:h.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(h.onClick=this.onClick,h.onMouseDown=this.onMouseDown,h.onTouchStart=this.onTouchStart):(h.onClick=this.createTwoChains("onClick"),h.onMouseDown=this.createTwoChains("onMouseDown"),h.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(h.onMouseEnter=this.onMouseEnter,p&&(h.onMouseMove=this.onMouseMove)):h.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?h.onMouseLeave=this.onMouseLeave:h.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(h.onFocus=this.onFocus,h.onBlur=this.onBlur):(h.onFocus=this.createTwoChains("onFocus"),h.onBlur=this.createTwoChains("onBlur"));var m=Ur(u&&u.props&&u.props.className,d);m&&(h.className=m);var v=pn({},h);j3(u)&&(v.ref=Md(this.triggerRef,u.ref));var y=Pe.exports.cloneElement(u,v),k;return(a||this.popupRef.current||l)&&(k=Pe.exports.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!a&&f&&(k=null),Pe.exports.createElement(Og.Provider,{value:this.triggerContextValue},y,k)}}],[{key:"getDerivedStateFromProps",value:function(a,o){var i=a.popupVisible,l={};return i!==void 0&&o.popupVisible!==i&&(l.popupVisible=i,l.prevPopupVisible=o.popupVisible),l}}]),c}(Pe.exports.Component);return r.contextType=Og,r.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Dk,getDocument:Pk,onPopupVisibleChange:rp,afterPopupVisibleChange:rp,onPopupAlign:rp,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},r}var Ik=Rk(H3),Nr={adjustX:1,adjustY:1},Rr=[0,0],Fk={left:{points:["cr","cl"],overflow:Nr,offset:[-4,0],targetOffset:Rr},right:{points:["cl","cr"],overflow:Nr,offset:[4,0],targetOffset:Rr},top:{points:["bc","tc"],overflow:Nr,offset:[0,-4],targetOffset:Rr},bottom:{points:["tc","bc"],overflow:Nr,offset:[0,4],targetOffset:Rr},topLeft:{points:["bl","tl"],overflow:Nr,offset:[0,-4],targetOffset:Rr},leftTop:{points:["tr","tl"],overflow:Nr,offset:[-4,0],targetOffset:Rr},topRight:{points:["br","tr"],overflow:Nr,offset:[0,-4],targetOffset:Rr},rightTop:{points:["tl","tr"],overflow:Nr,offset:[4,0],targetOffset:Rr},bottomRight:{points:["tr","br"],overflow:Nr,offset:[0,4],targetOffset:Rr},rightBottom:{points:["bl","br"],overflow:Nr,offset:[4,0],targetOffset:Rr},bottomLeft:{points:["tl","bl"],overflow:Nr,offset:[0,4],targetOffset:Rr},leftBottom:{points:["br","bl"],overflow:Nr,offset:[-4,0],targetOffset:Rr}},zk=function(r){var t=r.overlay,s=r.prefixCls,c=r.id,n=r.overlayInnerStyle;return Pe.exports.createElement("div",{className:"".concat(s,"-inner"),id:c,role:"tooltip",style:n},typeof t=="function"?t():t)},jk=function(r,t){var s=r.overlayClassName,c=r.trigger,n=c===void 0?["hover"]:c,a=r.mouseEnterDelay,o=a===void 0?0:a,i=r.mouseLeaveDelay,l=i===void 0?.1:i,p=r.overlayStyle,d=r.prefixCls,f=d===void 0?"rc-tooltip":d,u=r.children,h=r.onVisibleChange,m=r.afterVisibleChange,v=r.transitionName,y=r.animation,k=r.motion,_=r.placement,T=_===void 0?"right":_,b=r.align,x=b===void 0?{}:b,O=r.destroyTooltipOnHide,A=O===void 0?!1:O,C=r.defaultVisible,L=r.getTooltipContainer,w=r.overlayInnerStyle,E=qi(r,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),I=Pe.exports.useRef(null);Pe.exports.useImperativeHandle(t,function(){return I.current});var M=pn({},E);"visible"in r&&(M.popupVisible=r.visible);var V=function(){var K=r.arrowContent,et=K===void 0?null:K,G=r.overlay,Y=r.id;return[Pe.exports.createElement("div",{className:"".concat(f,"-arrow"),key:"arrow"},et),Pe.exports.createElement(zk,{key:"content",prefixCls:f,id:Y,overlay:G,overlayInnerStyle:w})]},j=!1,W=!1;if(typeof A=="boolean")j=A;else if(A&&Kr(A)==="object"){var H=A.keepParent;j=H===!0,W=H===!1}return Pe.exports.createElement(Ik,gr({popupClassName:s,prefixCls:f,popup:V,action:n,builtinPlacements:Fk,popupPlacement:T,ref:I,popupAlign:x,getPopupContainer:L,onPopupVisibleChange:h,afterPopupVisibleChange:m,popupTransitionName:v,popupAnimation:y,popupMotion:k,defaultPopupVisible:C,destroyPopupOnHide:j,autoDestroy:W,mouseLeaveDelay:l,popupStyle:p,mouseEnterDelay:o},M),u)},Hk=Pe.exports.forwardRef(jk),Bk=Pe.exports.forwardRef(function(e,r){var t=e.visible,s=e.overlay,c=Pe.exports.useRef(null),n=Md(r,c),a=Pe.exports.useRef(null);function o(){Vr.cancel(a.current)}function i(){a.current=Vr(function(){var l;(l=c.current)===null||l===void 0||l.forcePopupAlign()})}return Pe.exports.useEffect(function(){return t?i():o(),o},[t,s]),Pe.exports.createElement(Hk,gr({ref:n},e))});function Uk(e){var r;return r=function(t){ui(c,t);var s=ci(c);function c(){var n;return li(this,c),n=s.apply(this,arguments),n.state={visibles:{}},n.handleTooltipVisibleChange=function(a,o){n.setState(function(i){return{visibles:pn(pn({},i.visibles),{},_n({},a,o))}})},n.handleWithTooltip=function(a){var o=a.value,i=a.dragging,l=a.index,p=a.disabled,d=qi(a,["value","dragging","index","disabled"]),f=n.props,u=f.tipFormatter,h=f.tipProps,m=f.handleStyle,v=f.getTooltipContainer,y=h.prefixCls,k=y===void 0?"rc-slider-tooltip":y,_=h.overlay,T=_===void 0?u(o):_,b=h.placement,x=b===void 0?"top":b,O=h.visible,A=O===void 0?!1:O,C=qi(h,["prefixCls","overlay","placement","visible"]),L;return Array.isArray(m)?L=m[l]||m[0]:L=m,yn.createElement(Bk,gr({},C,{getTooltipContainer:v,prefixCls:k,overlay:T,placement:x,visible:!p&&(n.state.visibles[l]||i)||A,key:l}),yn.createElement(gd,gr({},d,{style:pn({},L),value:o,onMouseEnter:function(){return n.handleTooltipVisibleChange(l,!0)},onMouseLeave:function(){return n.handleTooltipVisibleChange(l,!1)}})))},n}return si(c,[{key:"render",value:function(){return yn.createElement(e,gr({},this.props,{handle:this.handleWithTooltip}))}}]),c}(yn.Component),r.defaultProps={tipFormatter:function(s){return s},handleStyle:[{}],tipProps:{},getTooltipContainer:function(s){return s.parentNode}},r}var Ou=D3;Ou.Range=P3,Ou.Handle=gd,Ou.createSliderWithTooltip=Uk;var Vk=typeof Element!="undefined",Yk=typeof Map=="function",$k=typeof Set=="function",Gk=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Lu(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var t,s,c;if(Array.isArray(e)){if(t=e.length,t!=r.length)return!1;for(s=t;s--!=0;)if(!Lu(e[s],r[s]))return!1;return!0}var n;if(Yk&&e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(n=e.entries();!(s=n.next()).done;)if(!r.has(s.value[0]))return!1;for(n=e.entries();!(s=n.next()).done;)if(!Lu(s.value[1],r.get(s.value[0])))return!1;return!0}if($k&&e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(n=e.entries();!(s=n.next()).done;)if(!r.has(s.value[0]))return!1;return!0}if(Gk&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(t=e.length,t!=r.length)return!1;for(s=t;s--!=0;)if(e[s]!==r[s])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(c=Object.keys(e),t=c.length,t!==Object.keys(r).length)return!1;for(s=t;s--!=0;)if(!Object.prototype.hasOwnProperty.call(r,c[s]))return!1;if(Vk&&e instanceof Element)return!1;for(s=t;s--!=0;)if(!((c[s]==="_owner"||c[s]==="__v"||c[s]==="__o")&&e.$$typeof)&&!Lu(e[c[s]],r[c[s]]))return!1;return!0}return e!==e&&r!==r}var Wk=function(r,t){try{return Lu(r,t)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}},qk=function(e,r,t,s,c,n,a,o){if(!e){var i;if(r===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[t,s,c,n,a,o],p=0;i=new Error(r.replace(/%s/g,function(){return l[p++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}},Lg=qk,Zk=function(r,t,s,c){var n=s?s.call(c,r,t):void 0;if(n!==void 0)return!!n;if(r===t)return!0;if(typeof r!="object"||!r||typeof t!="object"||!t)return!1;var a=Object.keys(r),o=Object.keys(t);if(a.length!==o.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var p=a[l];if(!i(p))return!1;var d=r[p],f=t[p];if(n=s?s.call(c,d,f,p):void 0,n===!1||n===void 0&&d!==f)return!1}return!0};function Qn(){return(Qn=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}function ap(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,Eg(e,r)}function Eg(e,r){return(Eg=Object.setPrototypeOf||function(t,s){return t.__proto__=s,t})(e,r)}function Dg(e,r){if(e==null)return{};var t,s,c={},n=Object.keys(e);for(s=0;s<n.length;s++)r.indexOf(t=n[s])>=0||(c[t]=e[t]);return c}var mn={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},Xk={rel:["amphtml","canonical","alternate"]},Jk={type:["application/ld+json"]},Kk={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Pg=Object.keys(mn).map(function(e){return mn[e]}),Eu={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Qk=Object.keys(Eu).reduce(function(e,r){return e[Eu[r]]=r,e},{}),lo=function(e,r){for(var t=e.length-1;t>=0;t-=1){var s=e[t];if(Object.prototype.hasOwnProperty.call(s,r))return s[r]}return null},t7=function(e){var r=lo(e,mn.TITLE),t=lo(e,"titleTemplate");if(Array.isArray(r)&&(r=r.join("")),t&&r)return t.replace(/%s/g,function(){return r});var s=lo(e,"defaultTitle");return r||s||void 0},e7=function(e){return lo(e,"onChangeClientState")||function(){}},ip=function(e,r){return r.filter(function(t){return t[e]!==void 0}).map(function(t){return t[e]}).reduce(function(t,s){return Qn({},t,s)},{})},n7=function(e,r){return r.filter(function(t){return t[mn.BASE]!==void 0}).map(function(t){return t[mn.BASE]}).reverse().reduce(function(t,s){if(!t.length)for(var c=Object.keys(s),n=0;n<c.length;n+=1){var a=c[n].toLowerCase();if(e.indexOf(a)!==-1&&s[a])return t.concat(s)}return t},[])},_l=function(e,r,t){var s={};return t.filter(function(c){return!!Array.isArray(c[e])||(c[e]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+e+' should be of type "Array". Instead found type "'+typeof c[e]+'"'),!1)}).map(function(c){return c[e]}).reverse().reduce(function(c,n){var a={};n.filter(function(d){for(var f,u=Object.keys(d),h=0;h<u.length;h+=1){var m=u[h],v=m.toLowerCase();r.indexOf(v)===-1||f==="rel"&&d[f].toLowerCase()==="canonical"||v==="rel"&&d[v].toLowerCase()==="stylesheet"||(f=v),r.indexOf(m)===-1||m!=="innerHTML"&&m!=="cssText"&&m!=="itemprop"||(f=m)}if(!f||!d[f])return!1;var y=d[f].toLowerCase();return s[f]||(s[f]={}),a[f]||(a[f]={}),!s[f][y]&&(a[f][y]=!0,!0)}).reverse().forEach(function(d){return c.push(d)});for(var o=Object.keys(a),i=0;i<o.length;i+=1){var l=o[i],p=Qn({},s[l],a[l]);s[l]=p}return c},[]).reverse()},r7=function(e,r){if(Array.isArray(e)&&e.length){for(var t=0;t<e.length;t+=1)if(e[t][r])return!0}return!1},Ng=function(e){return Array.isArray(e)?e.join(""):e},op=function(e,r){return Array.isArray(e)?e.reduce(function(t,s){return function(c,n){for(var a=Object.keys(c),o=0;o<a.length;o+=1)if(n[a[o]]&&n[a[o]].includes(c[a[o]]))return!0;return!1}(s,r)?t.priority.push(s):t.default.push(s),t},{priority:[],default:[]}):{default:e}},a7=[mn.NOSCRIPT,mn.SCRIPT,mn.STYLE],lp=function(e,r){return r===void 0&&(r=!0),r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Rg=function(e){return Object.keys(e).reduce(function(r,t){var s=e[t]!==void 0?t+'="'+e[t]+'"':""+t;return r?r+" "+s:s},"")},Ig=function(e,r){return r===void 0&&(r={}),Object.keys(e).reduce(function(t,s){return t[Eu[s]||s]=e[s],t},r)},Du=function(e,r){return r.map(function(t,s){var c,n=((c={key:s})["data-rh"]=!0,c);return Object.keys(t).forEach(function(a){var o=Eu[a]||a;o==="innerHTML"||o==="cssText"?n.dangerouslySetInnerHTML={__html:t.innerHTML||t.cssText}:n[o]=t[a]}),yn.createElement(e,n)})},Ir=function(e,r,t){switch(e){case mn.TITLE:return{toComponent:function(){return c=r.titleAttributes,(n={key:s=r.title})["data-rh"]=!0,a=Ig(c,n),[yn.createElement(mn.TITLE,a,s)];var s,c,n,a},toString:function(){return function(s,c,n,a){var o=Rg(n),i=Ng(c);return o?"<"+s+' data-rh="true" '+o+">"+lp(i,a)+"</"+s+">":"<"+s+' data-rh="true">'+lp(i,a)+"</"+s+">"}(e,r.title,r.titleAttributes,t)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return Ig(r)},toString:function(){return Rg(r)}};default:return{toComponent:function(){return Du(e,r)},toString:function(){return function(s,c,n){return c.reduce(function(a,o){var i=Object.keys(o).filter(function(d){return!(d==="innerHTML"||d==="cssText")}).reduce(function(d,f){var u=o[f]===void 0?f:f+'="'+lp(o[f],n)+'"';return d?d+" "+u:u},""),l=o.innerHTML||o.cssText||"",p=a7.indexOf(s)===-1;return a+"<"+s+' data-rh="true" '+i+(p?"/>":">"+l+"</"+s+">")},"")}(e,r,t)}}}},sp=function(e){var r=e.baseTag,t=e.bodyAttributes,s=e.encode,c=e.htmlAttributes,n=e.noscriptTags,a=e.styleTags,o=e.title,i=o===void 0?"":o,l=e.titleAttributes,p=e.linkTags,d=e.metaTags,f=e.scriptTags,u={toComponent:function(){},toString:function(){return""}};if(e.prioritizeSeoTags){var h=function(m){var v=m.linkTags,y=m.scriptTags,k=m.encode,_=op(m.metaTags,Kk),T=op(v,Xk),b=op(y,Jk);return{priorityMethods:{toComponent:function(){return[].concat(Du(mn.META,_.priority),Du(mn.LINK,T.priority),Du(mn.SCRIPT,b.priority))},toString:function(){return Ir(mn.META,_.priority,k)+" "+Ir(mn.LINK,T.priority,k)+" "+Ir(mn.SCRIPT,b.priority,k)}},metaTags:_.default,linkTags:T.default,scriptTags:b.default}}(e);u=h.priorityMethods,p=h.linkTags,d=h.metaTags,f=h.scriptTags}return{priority:u,base:Ir(mn.BASE,r,s),bodyAttributes:Ir("bodyAttributes",t,s),htmlAttributes:Ir("htmlAttributes",c,s),link:Ir(mn.LINK,p,s),meta:Ir(mn.META,d,s),noscript:Ir(mn.NOSCRIPT,n,s),script:Ir(mn.SCRIPT,f,s),style:Ir(mn.STYLE,a,s),title:Ir(mn.TITLE,{title:i,titleAttributes:l},s)}},Fg=yn.createContext({}),i7=Mn.shape({setHelmet:Mn.func,helmetInstances:Mn.shape({get:Mn.func,add:Mn.func,remove:Mn.func})}),o7=typeof document!="undefined",so=function(e){function r(t){var s;return(s=e.call(this,t)||this).instances=[],s.value={setHelmet:function(c){s.props.context.helmet=c},helmetInstances:{get:function(){return s.instances},add:function(c){s.instances.push(c)},remove:function(c){var n=s.instances.indexOf(c);s.instances.splice(n,1)}}},r.canUseDOM||(t.context.helmet=sp({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s}return ap(r,e),r.prototype.render=function(){return yn.createElement(Fg.Provider,{value:this.value},this.props.children)},r}(Pe.exports.Component);so.canUseDOM=o7,so.propTypes={context:Mn.shape({helmet:Mn.shape()}),children:Mn.node.isRequired},so.defaultProps={context:{}},so.displayName="HelmetProvider";var uo=function(e,r){var t,s=document.head||document.querySelector(mn.HEAD),c=s.querySelectorAll(e+"[data-rh]"),n=[].slice.call(c),a=[];return r&&r.length&&r.forEach(function(o){var i=document.createElement(e);for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(l==="innerHTML"?i.innerHTML=o.innerHTML:l==="cssText"?i.styleSheet?i.styleSheet.cssText=o.cssText:i.appendChild(document.createTextNode(o.cssText)):i.setAttribute(l,o[l]===void 0?"":o[l]));i.setAttribute("data-rh","true"),n.some(function(p,d){return t=d,i.isEqualNode(p)})?n.splice(t,1):a.push(i)}),n.forEach(function(o){return o.parentNode.removeChild(o)}),a.forEach(function(o){return s.appendChild(o)}),{oldTags:n,newTags:a}},up=function(e,r){var t=document.getElementsByTagName(e)[0];if(t){for(var s=t.getAttribute("data-rh"),c=s?s.split(","):[],n=[].concat(c),a=Object.keys(r),o=0;o<a.length;o+=1){var i=a[o],l=r[i]||"";t.getAttribute(i)!==l&&t.setAttribute(i,l),c.indexOf(i)===-1&&c.push(i);var p=n.indexOf(i);p!==-1&&n.splice(p,1)}for(var d=n.length-1;d>=0;d-=1)t.removeAttribute(n[d]);c.length===n.length?t.removeAttribute("data-rh"):t.getAttribute("data-rh")!==a.join(",")&&t.setAttribute("data-rh",a.join(","))}},zg=function(e,r){var t=e.baseTag,s=e.htmlAttributes,c=e.linkTags,n=e.metaTags,a=e.noscriptTags,o=e.onChangeClientState,i=e.scriptTags,l=e.styleTags,p=e.title,d=e.titleAttributes;up(mn.BODY,e.bodyAttributes),up(mn.HTML,s),function(m,v){m!==void 0&&document.title!==m&&(document.title=Ng(m)),up(mn.TITLE,v)}(p,d);var f={baseTag:uo(mn.BASE,t),linkTags:uo(mn.LINK,c),metaTags:uo(mn.META,n),noscriptTags:uo(mn.NOSCRIPT,a),scriptTags:uo(mn.SCRIPT,i),styleTags:uo(mn.STYLE,l)},u={},h={};Object.keys(f).forEach(function(m){var v=f[m],y=v.newTags,k=v.oldTags;y.length&&(u[m]=y),k.length&&(h[m]=f[m].oldTags)}),r&&r(),o(e,u,h)},wl=null,cp=function(e){function r(){for(var s,c=arguments.length,n=new Array(c),a=0;a<c;a++)n[a]=arguments[a];return(s=e.call.apply(e,[this].concat(n))||this).rendered=!1,s}ap(r,e);var t=r.prototype;return t.shouldComponentUpdate=function(s){return!Zk(s,this.props)},t.componentDidUpdate=function(){this.emitChange()},t.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},t.emitChange=function(){var s,c,n=this.props.context,a=n.setHelmet,o=null,i=(s=n.helmetInstances.get().map(function(l){var p=Qn({},l.props);return delete p.context,p}),{baseTag:n7(["href"],s),bodyAttributes:ip("bodyAttributes",s),defer:lo(s,"defer"),encode:lo(s,"encodeSpecialCharacters"),htmlAttributes:ip("htmlAttributes",s),linkTags:_l(mn.LINK,["rel","href"],s),metaTags:_l(mn.META,["name","charset","http-equiv","property","itemprop"],s),noscriptTags:_l(mn.NOSCRIPT,["innerHTML"],s),onChangeClientState:e7(s),scriptTags:_l(mn.SCRIPT,["src","innerHTML"],s),styleTags:_l(mn.STYLE,["cssText"],s),title:t7(s),titleAttributes:ip("titleAttributes",s),prioritizeSeoTags:r7(s,"prioritizeSeoTags")});so.canUseDOM?(c=i,wl&&cancelAnimationFrame(wl),c.defer?wl=requestAnimationFrame(function(){zg(c,function(){wl=null})}):(zg(c),wl=null)):sp&&(o=sp(i)),a(o)},t.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},t.render=function(){return this.init(),null},r}(Pe.exports.Component);cp.propTypes={context:i7.isRequired},cp.displayName="HelmetDispatcher";var l7=["children"],s7=["children"],fp=function(e){function r(){return e.apply(this,arguments)||this}ap(r,e);var t=r.prototype;return t.shouldComponentUpdate=function(s){return!Wk(this.props,s)},t.mapNestedChildrenToProps=function(s,c){if(!c)return null;switch(s.type){case mn.SCRIPT:case mn.NOSCRIPT:return{innerHTML:c};case mn.STYLE:return{cssText:c};default:throw new Error("<"+s.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},t.flattenArrayTypeChildren=function(s){var c,n=s.child,a=s.arrayTypeChildren;return Qn({},a,((c={})[n.type]=[].concat(a[n.type]||[],[Qn({},s.newChildProps,this.mapNestedChildrenToProps(n,s.nestedChildren))]),c))},t.mapObjectTypeChildren=function(s){var c,n,a=s.child,o=s.newProps,i=s.newChildProps,l=s.nestedChildren;switch(a.type){case mn.TITLE:return Qn({},o,((c={})[a.type]=l,c.titleAttributes=Qn({},i),c));case mn.BODY:return Qn({},o,{bodyAttributes:Qn({},i)});case mn.HTML:return Qn({},o,{htmlAttributes:Qn({},i)});default:return Qn({},o,((n={})[a.type]=Qn({},i),n))}},t.mapArrayTypeChildrenToProps=function(s,c){var n=Qn({},c);return Object.keys(s).forEach(function(a){var o;n=Qn({},n,((o={})[a]=s[a],o))}),n},t.warnOnInvalidChildren=function(s,c){return Lg(Pg.some(function(n){return s.type===n}),typeof s.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+Pg.join(", ")+" are allowed. Helmet does not support rendering <"+s.type+"> elements. Refer to our API for more information."),Lg(!c||typeof c=="string"||Array.isArray(c)&&!c.some(function(n){return typeof n!="string"}),"Helmet expects a string as a child of <"+s.type+">. Did you forget to wrap your children in braces? ( <"+s.type+">{``}</"+s.type+"> ) Refer to our API for more information."),!0},t.mapChildrenToProps=function(s,c){var n=this,a={};return yn.Children.forEach(s,function(o){if(o&&o.props){var i=o.props,l=i.children,p=Dg(i,l7),d=Object.keys(p).reduce(function(u,h){return u[Qk[h]||h]=p[h],u},{}),f=o.type;switch(typeof f=="symbol"?f=f.toString():n.warnOnInvalidChildren(o,l),f){case mn.FRAGMENT:c=n.mapChildrenToProps(l,c);break;case mn.LINK:case mn.META:case mn.NOSCRIPT:case mn.SCRIPT:case mn.STYLE:a=n.flattenArrayTypeChildren({child:o,arrayTypeChildren:a,newChildProps:d,nestedChildren:l});break;default:c=n.mapObjectTypeChildren({child:o,newProps:c,newChildProps:d,nestedChildren:l})}}}),this.mapArrayTypeChildrenToProps(a,c)},t.render=function(){var s=this.props,c=s.children,n=Qn({},Dg(s,s7));return c&&(n=this.mapChildrenToProps(c,n)),yn.createElement(Fg.Consumer,null,function(a){return yn.createElement(cp,Qn({},n,{context:a}))})},r}(Pe.exports.Component);fp.propTypes={base:Mn.object,bodyAttributes:Mn.object,children:Mn.oneOfType([Mn.arrayOf(Mn.node),Mn.node]),defaultTitle:Mn.string,defer:Mn.bool,encodeSpecialCharacters:Mn.bool,htmlAttributes:Mn.object,link:Mn.arrayOf(Mn.object),meta:Mn.arrayOf(Mn.object),noscript:Mn.arrayOf(Mn.object),onChangeClientState:Mn.func,script:Mn.arrayOf(Mn.object),style:Mn.arrayOf(Mn.object),title:Mn.string,titleAttributes:Mn.object,titleTemplate:Mn.string,prioritizeSeoTags:Mn.bool},fp.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},fp.displayName="Helmet";export{Ou as I,d3 as P,yn as R,f3 as S,c3 as a,u3 as b,g3 as c,Wi as d,so as e,Pe as r};
